; Special Moves
;---------------------------------------------------------------------------
; Clicked
[Statedef 194]

[State 195, 5]
type = SelfState
trigger1 = 1
value = 195

;---------------------------------------------------------------------------
; Click
[Statedef 195]
type = A
movetype = A
physics = N
sprpriority = 10
ctrl = 0

[State 195, Anim]
type = ChangeAnim
trigger1 = Anim != 195
value = 195

[State 195, PalFX]
type = PalFX
trigger1 = Var(20) <= 0 	;Time <= 0
ignorehitpause = 1
time = 1
add = 100,100,100

[State 195, PlaySnd]
type = PlaySnd
trigger1 = Var(20) <= 0 	;Time <= 0
value = 0, 10
channel = 1

[State 195, 2]
type = HitDef
trigger1 = Var(20) <= 0 	;Time <= 0
attr = A, NA
hitflag = M-
sparkno = -1
p1facing = 1
p2facing = 1
sprpriority = 10
p1sprpriority = 10
p2sprpriority = -10

[State 195, State]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget > 0
ignorehitpause = 1
persistent = 0
value = 194

[State 195, Turn]
type = Turn
trigger1 = Vel X = 0
trigger1 = P2Dist X < 0

[State 195, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 195, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 195, 3]
type = VelSet
trigger1 = command = "holdup"
y = const(velocity.walk.back.x)

[State 195, 4]
type = VelSet
trigger1 = command = "holddown"
y = const(velocity.walk.fwd.x)

[State 195, 5]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 195, 5]
type = VelSet
trigger1 = command != "holdup"
trigger1 = command != "holddown"
y = 0

[State 195, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 195, 6]
type = PosSet
trigger1 = Pos Y < -200
y = -200

[State 195, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "hold_s"
ignorehitpause = 1
value = 196

[State 195, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 30
ctrl = 1 

;---------------------------------------------------------------------------
; Hold
[Statedef 196]
type = A
movetype = A
physics = N
sprpriority = 10
ctrl = 0

[State 195, VarSet]
type = VarSet
trigger1 = PrevStateNo = 195
ignorehitpause = 1
persistent = 0
var(20) = 0

[State 195, Anim]
type = ChangeAnim
trigger1 = Anim != 196
value = 196

[State 195, 2]
type = HitDef
trigger1 = MoveContact = 0
attr = A, NA
hitflag = MA-
sparkno = -1
p1facing = 1
p2facing = 1
sprpriority = 10
p1sprpriority = 10
p2sprpriority = -10

[State 195, State]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget > 0
trigger1 = Command = "hold_s"
ignorehitpause = 1
persistent = 0
value = 197

[State 195, 1]
type = TargetBind
trigger1 = MoveHit
trigger1 = NumTarget > 0
trigger1 = Command = "hold_s"
pos = 0, -Target, Const(size.mid.pos.y) - 20
ignorehitpause = 1
time = 2

[State 195, 1]
type = NotHitBy
trigger1 = MoveHit
trigger1 = NumTarget > 0
trigger1 = Command = "hold_s"
ignorehitpause = 1
value = SCA
time = 1

[State 195, Turn]
type = Turn
trigger1 = Vel X = 0
trigger1 = P2Dist X < 0

[State 195, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 195, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 195, 3]
type = VelSet
trigger1 = command = "holdup"
y = const(velocity.walk.back.x)

[State 195, 4]
type = VelSet
trigger1 = command = "holddown"
y = const(velocity.walk.fwd.x)

[State 195, 5]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 195, 5]
type = VelSet
trigger1 = command != "holdup"
trigger1 = command != "holddown"
y = 0

[State 195, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 195, 6]
type = PosSet
trigger1 = Pos Y < -200
y = -200

[State 195, 1]
type = TargetDrop
trigger1 = NumTarget > 0
trigger1 = Command != "hold_s"

[State 195, 5]
type = ChangeState
trigger1 = Command != "hold_s"
value = 30
ctrl = 1 

;---------------------------------------------------------------------------
; Opponent Hold
[Statedef 197]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 195, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 195, Anim]
type = ChangeAnim
trigger1 = 1
value = 5010

[State 195, 6]
type = null ;PosAdd
trigger1 = EnemyNear, MoveType != A
trigger2 = EnemyNear, MoveType = H
persistent = 0
y = 50

[State 195, SelfState]
type = SelfState
trigger1 = EnemyNear, MoveType != A
trigger2 = EnemyNear, MoveType = H
value = 50

;---------------------------------------------------------------------------
; Light Attack
[Statedef 200]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 200, AngleSet]
type = AngleSet
trigger1 = 1
value = -60

[State 200, Anim]
type = ChangeAnim
trigger1 = Anim != 200
value = 200

[State 200, PlaySnd]
type = PlaySnd
trigger1 = Anim = 200
trigger1 = AnimElem = 2
value = 0, 0
channel = 1

[State 200, 2]
type = HitDef
trigger1 = Anim = 200
trigger1 = AnimElem = 3
attr = A, NA
damage = 40, 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 6, 6
sparkno = 0
sparkxy = -20, 0
hitsound = S1,3
guardsound = S2,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
airguard.velocity = -2,-1
ground.cornerpush.veloff = -10
air.type = Low
air.velocity = -2,-2
air.hittime = 10

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 30
ctrl = 1 

;---------------------------------------------------------------------------
; Medium Attack
[Statedef 210]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 210, AngleSet]
type = AngleSet
trigger1 = 1
value = -60

[State 210, Anim]
type = ChangeAnim
trigger1 = Anim != 210
value = 210

[State 210, PlaySnd]
type = PlaySnd
trigger1 = Anim = 210
trigger1 = AnimElem = 2
value = 0, 1
channel = 1

[State 210, 2]
type = HitDef
trigger1 = Anim = 210
trigger1 = AnimElem = 3
attr = A, NA
damage = 60, 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 8
sparkno = 1
sparkxy = -20, 0
hitsound = S1,4
guardsound = S2,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -8
airguard.velocity = -3,-3
ground.cornerpush.veloff = -12
air.type = Low
air.velocity = -4,-6
air.hittime = 15

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 30
ctrl = 1 

;---------------------------------------------------------------------------
; Heavy Attack
[Statedef 220]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 220, AngleSet]
type = AngleSet
trigger1 = 1
value = -60

[State 220, Anim]
type = ChangeAnim
trigger1 = Anim != 220
value = 220

[State 220, PlaySnd]
type = PlaySnd
trigger1 = Anim = 220
trigger1 = AnimElem = 2
value = 0, 2
channel = 1

[State 220, 2]
type = HitDef
trigger1 = Anim = 220
trigger1 = AnimElem = 2
attr = A, NA
damage = 80, 0
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = -20, 0
hitsound = S1,5
guardsound = S2,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -10
airguard.velocity = -3,-1
ground.cornerpush.veloff = -14
air.type = Low
air.velocity = -6,-2
air.hittime = 20

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 30
ctrl = 1 

;---------------------------------------------------------------------------
; Floor Stab
[Statedef 250]
type = A
movetype = A
physics = N
velset = (P2Dist X)/15,-15
ctrl = 0

[State 250, Anim]
type = ChangeAnim
trigger1 = Anim != 250
value = 250

[State 250, Angle]
type = AngleSet
trigger1 = Var(20) <= 0		;Time <= 0
value = 0

[State 250, Angle]
type = AngleAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = Var(20) <= 10	;Time < 10
value = -15

[State 250, 2]
type = VelAdd
triggerall = Vel Y < 0
trigger1 = Var(20) > 0		;Time > 10
trigger1 = Var(20) < 10		;Time < 15
y = 1.5

[State 250, PalFX]
type = PalFX
trigger1 = Var(20) = 14 	;Time = 14
ignorehitpause = 1
time = 1
add = 250,250,250

[State 250, 2]
type = VelSet
trigger1 = Var(20) = 15		;Time = 15
x = 0
y = 15

[State 250, EnvShake]
type = EnvShake
trigger1 = Var(20) = 15 	;Time = 15
time = 2
freq = 50
ampl = -20
phase = 20

[State 250, PlaySnd]
type = PlaySnd
trigger1 = Var(20) = 15 	;Time = 15
value = 0, 2
channel = 1

[State 250, 2]
type = VelAdd
trigger1 = Var(20) >= 15	;Time > 15
y = 2

[State 250, HitDef]
type = HitDef
triggerall = Vel Y > 0
triggerall = MoveContact = 0
triggerall = Var(20) >= 15	;Time > 15
trigger1 = Anim = 250
trigger1 = AnimElem = 3, >= 0
attr = A, SA
damage = 50, 0
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 2
sparkxy = -20, 0
hitsound = S1,21
guardsound = S2,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 0,(10 + Vel Y)
airguard.velocity = 0,(5 + Vel Y) / 2
air.type = Low
air.velocity = 0,(10 + Vel Y)
fall.yvelocity = 0
fall.recover = 0
air.hittime = 20
air.fall = 1
fall = 1

[State 250, 4]
type = ChangeState
trigger1 = Var(20) > 15		;Time > 15
trigger1 = Pos Y >= -20
value = 251

;---------------------------------------------------------------------------
; Floor Stab Land
[Statedef 251]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 250, Anim]
type = ChangeAnim
trigger1 = Anim != 250
value = 250
elem = 3

[State 250, VarSet]
type = VarSet
trigger1 = PrevStateNo = 250
ignorehitpause = 1
persistent = 0
var(20) = 0

[State 250, Turn]
type = Turn
trigger1 = P2Dist X < 0

[State 250, VarSet]
type = VarSet
trigger1 = Var(20) <= 0		;Time <= 0
fvar(0) = 200

[State 250, AngleSet]
type = AngleSet
trigger1 = 1
value = FVar(0)

[State 250, 3]
type = PosSet
trigger1 = Var(20) <= 0 	;Time <= 0
y = -20

[State 250, PlaySnd]
type = PlaySnd
trigger1 = Var(20) <= 0 	;Time <= 0
value = 4, 0
channel = 1

[State 250, GameMakeAnim]
type = GameMakeAnim
trigger1 = Var(20) <= 0 	;Time <= 0
value = 60
pos = 0, 20

[State 250, GameMakeAnim]
type = GameMakeAnim
trigger1 = Var(20) <= 0 	;Time <= 0
value = 61
pos = 0, 20

[State 250, GameMakeAnim]
type = GameMakeAnim
trigger1 = Var(20) <= 0 	;Time <= 0
value = 62
pos = 0, 20

[State 250, EnvShake]
type = EnvShake
trigger1 = Var(20) <= 0 	;Time <= 0
time = 10
freq = 100
ampl = -5
phase = 10

[State 250, 2]
type = HitDef
trigger1 = Var(20) <= 0 	;Time <= 0
attr = A, NT
damage = 100, 0
animtype = Heavy
hitflag = MAFD
guardflag = MA
priority = 3, Hit
pausetime = 0, 10
sparkno = 2
sparkxy = 0, 20
hitsound = S1,21
guardsound = S2,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-6
airguard.velocity = -6,-3
air.velocity = -3,-6
down.velocity = -10,0
air.hittime = 20
air.type = Low
sprpriority = -5
p1sprpriority = -5
p2sprpriority = 5
envshake.time = 20
envshake.freq = 100
envshake.ampl = -5
envshake.phase = 10

;----- Hit Impact -----
[State 800, Hit]
type = PlaySnd
trigger1 = MoveHit
ignorehitpause = 1
persistent = 0
value = 1, 22
channel = 1
;--------------------

;----- Blood -----
[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F10
pos = 10,0

[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F11
pos = 10,0

[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F12
pos = 10,0
;---------------

[State 250, 4]
type = ChangeState
trigger1 = Var(20) > 10		;Time > 10
value = 252

;---------------------------------------------------------------------------
; Stab Finish
[Statedef 252]
type = A
movetype = A
physics = N
velset = -10,-10
ctrl = 0

[State 250, VarSet]
type = VarSet
trigger1 = PrevStateNo = 251
ignorehitpause = 1
persistent = 0
var(20) = 0

[State 250, Turn]
type = Turn
trigger1 = P2Dist X < 0

[State 250, Anim]
type = ChangeAnim
trigger1 = Var(20) <= 0		;Time <= 0
trigger1 = Anim != 0
value = 0

[State 250, PosSet]
type = PosSet
trigger1 = Var(20) <= 0		;Time <= 0
y = -20

[State 250, VarSet]
type = VarSet
trigger1 = Var(20) <= 0		;Time <= 0
fvar(0) = 200

[State 250, VarAdd]
type = VarAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = FVar(0) < 360
fvar(0) = 20

[State 250, AngleSet]
type = AngleSet
trigger1 = 1
value = FVar(0)

[State 250, 1]
type = VelAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = Vel Y < 0
y = 0.75

[State 250, 1]
type = VelMul
trigger1 = Var(20) > 0		;Time > 0
x = 0.9

[State 250, State]
type = ChangeState
trigger1 = Var(20) >= 10	;Time > 0
trigger1 = FVar(0) >= 360
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Stabbing Grab
[Statedef 800]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 800, Anim]
type = ChangeAnim
trigger1 = Var(20) <= 0 	;Time <= 0
trigger1 = Anim != 800
value = 800

[State 800, AngleSet]
type = AngleSet
trigger1 = 1
value = -60

[State 800, PosAdd]
type = PosAdd
triggerall = Var(20) < 10 	;Time < 10
trigger1 = TimeMod = 2,0
x = 10

[State 800, PosAdd]
type = PosAdd
triggerall = Var(20) < 10 	;Time < 10
trigger1 = TimeMod = 1,0
x = -5

[State 800, PalFX]
type = PalFX
trigger1 = Var(20) = 9 		;Time = 9
ignorehitpause = 1
time = 1
add = 250,250,250

[State 800, EnvShake]
type = EnvShake
trigger1 = Anim = 800
trigger1 = AnimElem = 2
time = 2
freq = 50
ampl = -20
phase = 20

[State 800, PlaySnd]
type = PlaySnd
trigger1 = Anim = 800
trigger1 = AnimElem = 2
value = 0, 2
channel = 1

[State 800, VelSet]
type = VelSet
trigger1 = Anim = 800
trigger1 = AnimElem = 2
x = 40

[State 800, 2]
type = HitDef
trigger1 = Anim = 800
trigger1 = AnimElem = 3
attr = A, NT
damage = 80, 0
animtype = Heavy
hitflag = MA-
priority = 3, Hit
pausetime = 20, 20
sparkno = 2
sparkxy = -20, 0
hitsound = S1,21
guardsound = S2,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0
airguard.velocity = 0,0
air.velocity = 0,0
air.hittime = 20
air.type = Low
sprpriority = -5
p1sprpriority = -5
p2sprpriority = 5
envshake.time = 20
envshake.freq = 100
envshake.ampl = -5
envshake.phase = 10
p1facing = 1
p2facing = 1
kill = 0

[State 800, VelSet]
type = VelSet
trigger1 = Anim = 800
trigger1 = AnimElem = 4
x = 0

[State 800, VelSet]
type = VelSet
trigger1 = Anim = 800
trigger1 = AnimElem = 5
x = -20

;----- Hit Impact -----
[State 800, Hit]
type = PlaySnd
trigger1 = MoveHit
ignorehitpause = 1
persistent = 0
value = 1, 22
channel = 1
;--------------------

;----- Blood -----
[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F10
pos = 10,0

[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F11
pos = 10,0

[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F12
pos = 10,0
;---------------

[State 800, State]
type = ChangeState
trigger1 = NumTarget > 0
trigger1 = MoveHit
value = 801

[State 800, State]
type = ChangeState
trigger1 = Anim = 800
trigger1 = AnimTime = 0
value = 30
ctrl = 1 

;---------------------------------------------------------------------------
; Grab Throw
[Statedef 801]
type = A
movetype = A
physics = N
velset = -15,-15
sprpriority = 5
ctrl = 0

[State 800, 800]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 800, VarSet]
type = VarSet
trigger1 = PrevStateNo = 800
ignorehitpause = 1
persistent = 0
var(20) = 0

[State 800, VarSet]
type = VarSet
trigger1 = Var(20) <= 0 	;Time <= 0
fvar(0) = -60

[State 800, AngleSet]
type = AngleSet
trigger1 = 1
value = Fvar(0)

[State 800, VarAdd]
type = VarAdd
trigger1 = Var(20) <= 25 	;Time <= 25
fvar(0) = 10

[State 800, Anim]
type = ChangeAnim
trigger1 = Var(20) <= 0 	;Time <= 0
trigger1 = Anim != 801
value = 801

[State 800, State]
type = TargetState
trigger1 = Var(20) <= 0 	;Time <= 0
trigger1 = NumTarget > 0
ignorehitpause = 1
persistent = 0
value = 805

[State 800, Bind]
type = TargetBind
trigger1 = NumTarget > 0
ignorehitpause = 1
pos = 0,0

[State 800, VelAdd]
type = VelMul
trigger1 = Var(20) > 0 		;Time > 0
x = 0.9

[State 800, VelAdd]
type = VelAdd
trigger1 = Var(20) > 0 		;Time > 0
trigger1 = Vel Y <= 0
y = 1

[State 800, VelAdd]
type = VelAdd
trigger1 = Var(20) > 0 		;Time > 0
trigger1 = Vel Y > 0
y = 2

[State 800, State]
type = ChangeState
trigger1 = Var(20) > 0 		;Time > 0
trigger1 = Pos Y >= -20
trigger1 = Vel Y > 0
value = 802

;---------------------------------------------------------------------------
; Grab Slam
[Statedef 802]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 800, 800]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 800, VarSet]
type = VarSet
trigger1 = PrevStateNo = 801
ignorehitpause = 1
persistent = 0
var(20) = 0

[State 800, VarSet]
type = VarSet
trigger1 = Var(20) <= 0 	;Time <= 0
fvar(0) = 200

[State 800, AngleSet]
type = AngleSet
trigger1 = 1
value = Fvar(0)

[State 800, PosSet]
type = PosSet
trigger1 = Var(20) <= 0 	;Time <= 0
y = -20

[State 800, State]
type = TargetState
trigger1 = Var(20) <= 0 	;Time <= 0
trigger1 = NumTarget > 0
ignorehitpause = 1
persistent = 0
value = 5110

[State 800, 2]
type = HitDef
trigger1 = Var(20) <= 0 	;Time <= 0
attr = A, NT
damage = 80, 0
animtype = Heavy
hitflag = MAFD+
priority = 3, Hit
pausetime = 20, 20
sparkno = 2
sparkxy = 0, 10
hitsound = S1,21
guardsound = S2,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -3,-6
airguard.velocity = -1.5,-3
air.velocity = -3,-6
down.velocity = -3,-6
down.bounce = -5
air.hittime = 20
air.type = Low
p2stateno = 806
sprpriority = -5
p1sprpriority = -5
p2sprpriority = 5
envshake.time = 20
envshake.freq = 100
envshake.ampl = -5
envshake.phase = 10

;----- Hit Impact -----
[State 800, Hit]
type = PlaySnd
trigger1 = MoveHit
ignorehitpause = 1
persistent = 0
value = 1, 22
channel = 1
;--------------------

;----- Blood -----
[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F10
pos = 0,10

[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F11
pos = 0,10

[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F12
pos = 0,10
;---------------

[State 800, State]
type = TargetState
trigger1 = NumTarget > 0
trigger1 = MoveHit
ignorehitpause = 1
persistent = 0
value = 806

[State 800, State]
type = ChangeState
trigger1 = Var(20) > 0		;Time > 0
trigger1 = AnimTime = 0
value = 803

;---------------------------------------------------------------------------
; Grab Slam Finish
[Statedef 803]
type = A
movetype = A
physics = N
velset = -10,-10
ctrl = 0

[State 800, VarSet]
type = VarSet
trigger1 = PrevStateNo = 802
ignorehitpause = 1
persistent = 0
var(20) = 0

[State 800, Anim]
type = ChangeAnim
trigger1 = Var(20) <= 0		;Time <= 0
trigger1 = Anim != 0
value = 0

[State 800, PosSet]
type = PosSet
trigger1 = Var(20) <= 0		;Time <= 0
y = -20

[State 800, VarSet]
type = VarSet
trigger1 = Var(20) <= 0		;Time <= 0
fvar(0) = 200

[State 800, VarAdd]
type = VarAdd
trigger1 = Var(20) <= 15	;Time <= 15
fvar(0) = 10

[State 800, AngleSet]
type = AngleSet
trigger1 = 1
value = FVar(0)

[State 800, VelAdd]
type = VelMul
trigger1 = Var(20) > 0		;Time > 0
x = 0.9

[State 800, 1]
type = VelAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = Vel Y < 0
y = 0.50

[State 800, State]
type = ChangeState
trigger1 = Var(20) > 0		;Time > 0
trigger1 = Vel Y >= 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Grabbed
[Statedef 805]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = -5
ctrl = 0

[State 805, 800]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 805, AngleSet]
type = AngleSet
trigger1 = Time <= 0
value = 0

[State 805, AngleAdd]
type = AngleAdd
trigger1 = Time <= 25
value = -10

[State 805, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Time <= 0
trigger1 = Anim != 805
value = 805

[State 805, AngleDraw]
type = AngleDraw
trigger1 = 1

;---------------------------------------------------------------------------
; LieDown Hit
[Statedef 806]
type = L
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 805, PosSet]
type = PosSet
trigger1 = Time <= 0
trigger2 = HitShakeOver = 0
y = 0

[State 805, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 805, Anim]
type = ChangeAnim
trigger1 = HitShakeOver = 0
value = 5080

[State 805, HitVelSet]
type = HitVelSet
trigger1 = HitShakeOver
x = 1
y = 1

[State 805, PosSet]
type = PosSet
trigger1 = HitShakeOver
y = 30

[State 805, SelfState]
type = SelfState
trigger1 = HitShakeOver
value = 5050

;---------------------------------------------------------------------------
; Drill
[Statedef 1000]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

;----- Facing Direction -----
[State 1000, VarAdd]
type = VarAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = MoveContact
ignorehitpause = 1
v = 0
value = 2

[State 1000, VarSet]
type = VarSet
trigger1 = Var(20) <= 0		;Time <= 0
trigger2 = Var(0) >= 2
ignorehitpause = 1
v = 0
value = -1

[State 1000, Reset]
type = MoveHitReset
trigger1 = MoveContact
ignorehitpause = 1
;------------------------------

[State 1000, VarSet]
type = VarSet
trigger1 = Var(20) <= 0		;Time <= 0
fvar(0) = 0

[State 1000, AngleSet]
type = AngleSet
trigger1 = Var(20) <= 0		;Time <= 0
value = 0

[State 1000, VarAdd]
type = VarAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = Var(20) <= 10	;Time <= 10
fvar(0) = 2

[State 1000, AngleSet]
type = AngleSet
trigger1 = Var(20) > 0		;Time > 0
value = FVar(0)

[State 1000, AngleSet]
type = AngleSet
triggerall = Anim = 1000 || Anim = 1001
trigger1 = AnimElemNo(0) = 2
trigger2 = AnimElemNo(0) = 4
trigger3 = AnimElemNo(0) = 6
trigger4 = AnimElemNo(0) = 8
trigger5 = AnimElemNo(0) = 10
value = -FVar(0)

[State 1000, Anim]
type = ChangeAnim
trigger1 = Var(20) <= 0		;Time <= 0
trigger1 = Anim != 1000
value = 1000

[State 1000, HitDef]
type = HitDef
triggerall = MoveContact = 0
trigger1 = Anim = 1000
trigger1 = AnimElem = 9
attr = A, SA
damage = 50, 10
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = 2
sparkxy = -10, 0
hitsound = S1,5
guardsound = S2,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 0,-10
airguard.velocity = 0,-5
air.type = Low
air.velocity = 0,-10
air.hittime = 20
air.fall = 1
fall = 1

[State 1000, 2]
type = HitDef
triggerall = Anim = 1001
trigger1 = AnimElem = 2
attr = A, SA
damage = 10, 5
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 5, 5
sparkno = 2
sparkxy = -10, -10
hitsound = S1,5
guardsound = S2,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = ifelse (P2Dist X <= 0, -5, 5),Vel Y + 10
airguard.velocity = ifelse (P2Dist X <= 0, -5, 5),Vel Y + 5
air.type = Low
air.velocity = ifelse (P2Dist X <= 0, -5, 5),Vel Y + 10
p2facing = Var(0)
air.hittime = 20
air.fall = 1
fall = 1

[State 1000, VelSet]
type = VelSet
trigger1 = Var(20) = 50		;Time = 50
x = 1
y = -20

[State 1000, VelSet]
type = VelSet
trigger1 = Var(20) >= 50	;Time >= 50
trigger1 = P2Dist X < 0
x = -1

[State 1000, VelSet]
type = VelSet
trigger1 = Var(20) >= 50	;Time >= 50
trigger1 = P2Dist X >= 0
x = 1

[State 1000, 1]
type = VelAdd
trigger1 = Var(20) > 50		;Time > 50
trigger1 = Pos Y < -20
y = 1

[State 1000, Anim]
type = ChangeAnim
trigger1 = Var(20) > 50		;Time > 50
trigger1 = Vel Y > 0
trigger1 = Anim = 1000
value = 1001

[State 1000, Spark]
type = Explod
trigger1 = Anim = 1001
trigger1 = TimeMod = 3,0
trigger1 = Vel Y > 0
scale = 1,1
anim = F61
pos = 0,20
vel = 0,-10
postype = p1
facing = 1
sprpriority = 10

[State 1000, State]
type = ChangeState
trigger1 = Var(20) > 50		;Time > 50
trigger1 = Anim = 1001
trigger1 = Pos Y >= -20
value = 1001

;---------------------------------------------------------------------------
; Drill Ground
[Statedef 1001]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 1000, VarSet]
type = VarSet
trigger1 = PrevStateNo = 1000
ignorehitpause = 1
persistent = 0
var(20) = 0

;----- Facing Direction -----
[State 1001, VarAdd]
type = VarAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = MoveContact
ignorehitpause = 1
v = 0
value = 2

[State 1001, VarSet]
type = VarSet
trigger1 = Var(20) <= 0		;Time <= 0
trigger2 = Var(0) >= 2
ignorehitpause = 1
v = 0
value = -1

[State 1001, Reset]
type = MoveHitReset
trigger1 = MoveContact
ignorehitpause = 1
;------------------------------

[State 1001, AngleSet]
type = AngleSet
trigger1 = Var(20) > 0		;Time > 0
value = FVar(0)

[State 1001, AngleSet]
type = AngleSet
triggerall = Anim = 1001 || Anim = 1002
trigger1 = AnimElemNo(0) = 2
trigger2 = AnimElemNo(0) = 4
trigger3 = AnimElemNo(0) = 6
trigger4 = AnimElemNo(0) = 8
trigger5 = AnimElemNo(0) = 10
value = -FVar(0)

[State 1001, Anim]
type = ChangeAnim
trigger1 = Var(20) <= 0		;Time <= 0
trigger1 = Anim != 1001
value = 1001

[State 1001, Spark]
type = Explod
trigger1 = Anim = 1001
trigger1 = TimeMod = 3,0
scale = 1,1
anim = F61
pos = 0,20
vel = 0,-10
postype = p1
facing = 1
sprpriority = 10

[State 1001, Spark]
type = Explod
trigger1 = Anim = 1001
trigger1 = Pos Y >= -20
trigger1 = TimeMod = 3,0
scale = 1,1
anim = F120
pos = 0,20
vel = 0,0
random = 20,0
postype = p1
facing = 1
vfcaing = -1
sprpriority = 10

[State 1001, 5]
type = VelSet
trigger1 = Anim = 1001
trigger1 = Pos Y >= -20
x = 0
y = 0

[State 1001, PosSet]
type = PosSet
trigger1 = Var(20) <= 0		;Time <= 0
trigger2 = Anim = 1001
trigger2 = Pos Y >= -20
y = -20

[State 1001, HitDef]
type = HitDef
triggerall = P2StateType != L
triggerall = Anim = 1001
trigger1 = AnimElem = 2
attr = A, SA
damage = 10, 1
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 5, 5
sparkno = 2
sparkxy = -10, 0
hitsound = S1,5
guardsound = S2,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = ifelse (P2Dist X <= 0, -5, 5),10
airguard.velocity = ifelse (P2Dist X <= 0, -5, 5),5
air.type = Low
air.velocity = ifelse (P2Dist X <= 0, -5, 5),10
down.velocity = ifelse (P2Dist X <= 0, -5, 5),0
air.hittime = 20
p2facing = Var(0)
air.fall = 1
fall = 1

[State 1001, HitDef]
type = HitDef
triggerall = P2StateType = L
triggerall = Anim = 1001
trigger1 = AnimElem = 2
attr = A, SA
damage = 10, 1
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 5, 5
sparkno = 2
sparkxy = -10, 0
hitsound = S1,10
guardsound = S2,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = ifelse (P2Dist X <= 0, -5, 5),10
airguard.velocity = ifelse (P2Dist X <= 0, -5, 5),5
air.type = Low
air.velocity = ifelse (P2Dist X <= 0, -5, 5),10
down.velocity = ifelse (P2Dist X <= 0, -5, 5),0
air.hittime = 20
p2facing = Var(0)
air.fall = 1
fall = 1

[State 1001, HitDef]
type = HitDef
triggerall = Anim = 1002
trigger1 = AnimElem = 2
attr = A, SA
damage = 50, 10
animtype = DiagUp
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = 3
sparkxy = -10, 0
hitsound = S1,5
guardsound = S2,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = ifelse (P2Dist X <= 0, 10, -10),-5
airguard.velocity = ifelse (P2Dist X <= 0, 5, -5),-2.5
air.type = Low
air.velocity = ifelse (P2Dist X <= 0, 10, -10),-5
down.velocity = ifelse (P2Dist X <= 0, 10, -10),-5
down.bounce = 1
air.hittime = 20
p2facing = Var(0)
air.fall = 1
fall = 1

[State 1001, Anim]
type = ChangeAnim
trigger1 = Var(20) > 50		;Time > 50
trigger1 = Anim = 1001
value = 1002

[State 1001, Turn]
type = Turn
trigger1 = Anim = 1002
trigger1 = P2Dist X < 0

[State 1001, State]
type = ChangeState
trigger1 = Var(20) > 50		;Time > 50
trigger1 = Anim = 1002
trigger1 = AnimTime = 0
value = 1002

;---------------------------------------------------------------------------
; Drill Finish
[Statedef 1002]
type = A
movetype = A
physics = N
velset = 0,-10
ctrl = 0

[State 1002, VarSet]
type = VarSet
trigger1 = PrevStateNo = 1001
ignorehitpause = 1
persistent = 0
var(20) = 0

[State 1002, Turn]
type = Turn
trigger1 = P2Dist X < 0

[State 1002, Anim]
type = ChangeAnim
trigger1 = Var(20) <= 0		;Time <= 0
trigger1 = Anim != 0
value = 0

[State 1002, PosSet]
type = PosSet
trigger1 = Var(20) <= 0		;Time <= 0
y = -20

[State 1002, VarSet]
type = VarSet
trigger1 = Var(20) <= 0		;Time <= 0
fvar(0) = 200

[State 1002, VarAdd]
type = VarAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = FVar(0) > 0
fvar(0) = -20

[State 1002, AngleSet]
type = AngleSet
trigger1 = 1
value = FVar(0)

[State 1002, 1]
type = VelAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = Vel Y < 0
y = 0.75

[State 1002, State]
type = ChangeState
trigger1 = Var(20) > 0		;Time > 0
trigger1 = Vel Y >= 0
trigger1 = FVar(0) <= 0
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Attack Start
[Statedef 2000]
type = A
movetype = A
physics = N
velset = -5,5
ctrl = 0

[State 2000, Anim]
type = ChangeAnim
trigger1 = Var(20) <= 0		;Time <= 0
trigger1 = Anim != 2000
value = 2000

[State 2000, VarSet]
type = VarSet
trigger1 = Var(20) <= 0		;Time <= 0
fvar(0) = 0

[State 2000, VarAdd]
type = VarAdd
trigger1 = FVar(0) > -130
fvar(0) = -10

[State 2000, AngleSet]
type = AngleSet
trigger1 = 1
value = FVar(0)

[State 2000, VelAdd]
type = VelAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = FVar(0) > -130
y = -1

[State 2000, VelAdd]
type = VelMul
trigger1 = Var(20) > 0		;Time > 0
x = 0.99

[State 2000, State]
type = ChangeState
trigger1 = Var(20) > 0		;Time > 0
trigger1 = FVar(0) <= -130
value = 2001

;---------------------------------------------------------------------------
; Attack
[Statedef 2001]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 2000, VarSet]
type = VarSet
trigger1 = PrevStateNo = 2000
ignorehitpause = 1
persistent = 0
var(20) = 0

[State 2000, Anim]
type = ChangeAnim
trigger1 = Var(20) <= 0		;Time <= 0
trigger1 = Anim != 2001
value = 2001

[State 2000, VarSet]
type = VarSet
trigger1 = Var(20) <= 0		;Time <= 0
fvar(0) = -130

[State 2000, AngleSet]
type = AngleSet
trigger1 = 1
value = FVar(0)

[State 2000, PosAdd]
type = PosAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = Var(20) < 10		;Time < 10
trigger1 = TimeMod = 2,0
x = 10
y = 10

[State 2000, PosAdd]
type = PosAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = Var(20) < 10		;Time < 10
trigger1 = TimeMod = 1,0
x = -5
y = -5

[State 2000, PalFX]
type = PalFX
trigger1 = Var(20) = 9		;Time = 9
ignorehitpause = 1
time = 1
add = 250,250,250

[State 2000, EnvShake]
type = EnvShake
trigger1 = Var(20) = 10		;Time = 10
time = 2
freq = 50
ampl = -20
phase = 20

[State 2000, PlaySnd]
type = PlaySnd
trigger1 = Var(20) = 10		;Time = 10
value = 0, 2
channel = 1

[State 2000, VelSet]
type = VelSet
trigger1 = Var(20) = 10		;Time = 10
x = 15
y = 25

[State 2000, VarAdd]
type = VarAdd
trigger1 = Var(20) >= 10	;Time >= 10
trigger1 = FVar(0) < 0
fvar(0) = 20

[State 2000, VarSet]
type = VarSet
trigger1 = Var(20) >= 10	;Time >= 10
trigger1 = FVar(0) >= 0
fvar(0) = 0

[State 2000, VelAdd]
type = VelAdd
trigger1 = Var(20) >= 10	;Time >= 10
trigger1 = Var(20) < 20		;Time < 20
y = -5

[State 2000, VelAdd]
type = VelMul
trigger1 = Var(20) >= 10	;Time >= 10
trigger1 = Var(20) < 20		;Time < 20
x = 0.95

[State 2000, HitDef]
type = HitDef
trigger1 = Var(20) = 15		;Time = 15
attr = A, SA
damage = 50, 10
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = -10, 0
hitsound = S1,5
guardsound = S2,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-15
airguard.velocity = -2,-6
guard.velocity = -10
air.type = Low
fall.animtype = Up
air.velocity = 0,-15
fall.recover = 0
air.hittime = 20
p1facing = 1
p2facing = 1
air.fall = 1
fall = 1
kill = 0

[State 2000, State]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget > 0
ignorehitpause = 1
persistent = 0
value = 2005

[State 2000, VelSet]
type = VelSet
trigger1 = Var(20) = 20		;Time = 20
x = 0
y = 0

[State 2000, State]
type = ChangeState
trigger1 = MoveHit
trigger1 = NumTarget > 0
trigger1 = Anim = 2001
trigger1 = AnimTime = 0
value = 2002

[State 2000, State]
type = ChangeState
trigger1 = Anim = 2001
trigger1 = AnimTime = 0
value = 2003

;---------------------------------------------------------------------------
; Attack Combo
[Statedef 2002]
type = A
movetype = A
physics = N
velset = (P2Dist X)/15,20
ctrl = 0

[State 2000, VarSet]
type = VarSet
trigger1 = PrevStateNo = 2001
ignorehitpause = 1
persistent = 0
var(20) = 0

[State 2000, NotHitBy]
type = NotHitBy
trigger1 = 1
ignorehitpause = 1
value = SCA
time = 1

[State 2000, Anim]
type = ChangeAnim
trigger1 = Var(20) <= 0		;Time <= 0
trigger1 = Anim != 2002
value = 2002

[State 2000, VarSet]
type = VarSet
trigger1 = Var(20) <= 0		;Time <= 0
fvar(0) = 0

[State 2000, AngleSet]
type = AngleSet
trigger1 = 1
value = FVar(0)

[State 2000, VelAdd]
type = VelMul
trigger1 = 1
x = 0.9

[State 2000, VelAdd]
type = VelAdd
trigger1 = Vel Y > 0
y = -1

[State 2000, VelSet]
type = VelSet
trigger1 = Pos Y >= -20
y = 0

[State 2000, VarAdd]
type = VarAdd
trigger1 = Var(20) > 0		;Time > 0
trigger1 = FVar(0) < 20
fvar(0) = 10

[State 2000, PosAdd]
type = PosAdd
trigger1 = Var(20) > 30		;Time > 30
trigger1 = Var(20) < 40		;Time < 40
trigger1 = TimeMod = 2,0
y = 10

[State 2000, PosAdd]
type = PosAdd
trigger1 = Var(20) > 30		;Time > 30
trigger1 = Var(20) < 40		;Time < 40
trigger1 = TimeMod = 1,0
y = -5

[State 2000, PalFX]
type = PalFX
trigger1 = Var(20) = 39		;Time = 39
ignorehitpause = 1
time = 1
add = 250,250,250

[State 2000, EnvShake]
type = EnvShake
trigger1 = Var(20) = 40		;Time = 40
time = 2
freq = 50
ampl = -20
phase = 20

[State 2000, VelSet]
type = VelSet
trigger1 = Var(20) = 40		;Time = 40
y = -30

[State 2000, PlaySnd]
type = PlaySnd
trigger1 = Var(20) = 40		;Time = 40
value = 0, 2
channel = 1

[State 2000, HitDef]
type = HitDef
trigger1 = Var(20) = 40		;Time = 40
attr = A, SA
damage = 50, 10
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 20, 20
sparkno = 2
sparkxy = -10, 0
hitsound = S1,21
guardsound = S2,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-8
airguard.velocity = -2,-4
air.type = Low
sprpriority = -5
p1sprpriority = -5
p2sprpriority = 5
envshake.time = 20
envshake.freq = 100
envshake.ampl = -5
envshake.phase = 10
air.velocity = -4,-8
fall.recover = 0
air.hittime = 20
p1facing = 1
p2facing = 1
air.fall = 1
fall = 1

;----- Hit Impact -----
[State 2000, Hit]
type = PlaySnd
trigger1 = MoveHit
ignorehitpause = 1
persistent = 0
value = 1, 22
channel = 1
;--------------------

;----- Blood -----
[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F10
pos = 0,-20

[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F11
pos = 0,-20

[State 800, Explod]
type = Explod
trigger1 = MoveHit
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
persistent = 0
postype = p1
ownpal = 1
ontop = 1
anim = F12
pos = 0,-20
;---------------

[State 2000, Bind]
type = TargetBind
trigger1 = MoveHit
trigger1 = NumTarget > 0
ignorehitpause = 1
persistent = 0
pos = 0,30

[State 2000, State]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget > 0
ignorehitpause = 1
persistent = 0
value = 2007

[State 2000, VelSet]
type = VelSet
trigger1 = Var(20) >= 50	;Time >= 50
trigger2 = MoveContact
x = 0
y = 0

[State 2000, State]
type = ChangeState
trigger1 = Var(20) >= 60	;Time >= 60
trigger2 = MoveContact
value = 2003

;---------------------------------------------------------------------------
; Attack Finish
[Statedef 2003]
type = A
movetype = A
physics = N
velset = -9,9
sprpriority = 5
ctrl = 0

[State 2000, VarSet]
type = VarSet
trigger1 = PrevStateNo = 2001
trigger2 = PrevStateNo = 2002
ignorehitpause = 1
persistent = 0
var(20) = 0

[State 2000, Anim]
type = ChangeAnim
trigger1 = Var(20) <= 0 	;Time <= 0
trigger1 = Anim != 0
value = 0

[State 2000, VarSet]
type = VarSet
trigger1 = Var(20) <= 0 	;Time <= 0
fvar(0) = 0

[State 2000, AngleSet]
type = AngleSet
trigger1 = 1
value = FVar(0)

[State 2000, VelAdd]
type = VelMul
trigger1 = 1
x = 0.9

[State 2000, VelAdd]
type = VelAdd
trigger1 = Vel Y > 0
y = -1

[State 2000, State]
type = ChangeState
trigger1 = Var(20) >= 10 	;Time >= 10
value = 30
ctrl = 1

;---------------------------------------------------------------------------
; Attack Hit Shake
[Statedef 2005]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 2005, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2005, Anim2]
type = ChangeAnim2
trigger1 = HitShakeOver = 0
value = 2005

[State 2005, HitVelSet]
type = HitVelSet
trigger1 = HitShakeOver
x = 1
y = 1

[State 2005, State]
type = ChangeState
trigger1 = HitShakeOver
value = 2006

;---------------------------------------------------------------------------
; Attack Hit
[Statedef 2006]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 2005, NotHitBy]
type = NotHitBy
trigger1 = Time < 50
value = SCA
time = 1

[State 2005, Anim2]
type = ChangeAnim2
trigger1 = Time <= 0
trigger1 = Anim != 2005
value = 2005

[State 2005, HitVelSet]
type = HitVelSet
trigger1 = Time <= 0
x = 1
y = 1

[State 2005, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.5

[State 2005, Anim2]
type = ChangeAnim2
trigger1 = Time > 0
trigger1 = Vel Y >= 0
trigger1 = Anim = 2005
value = 2006

[State 2005, State]
type = SelfState
trigger1 = Time > 0
trigger1 = Vel Y >= 0
trigger1 = Pos Y >= 0
value = 5110

;---------------------------------------------------------------------------
; Hit Stab Shake
[Statedef 2007]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 5
ctrl = 0

[State 2005, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2005, Anim2]
type = ChangeAnim2
trigger1 = HitShakeOver = 0
value = 2007

[State 2005, HitVelSet]
type = HitVelSet
trigger1 = HitShakeOver
x = 1
y = 1

[State 2005, State]
type = ChangeState
trigger1 = HitShakeOver
value = 2008

;---------------------------------------------------------------------------
; Hit Stabbed
[Statedef 2008]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = -5
ctrl = 0

[State 2005, Anim2]
type = ChangeAnim2
trigger1 = Time <= 0
trigger1 = Anim != 2007
value = 2007

[State 2005, HitVelSet]
type = HitVelSet
trigger1 = Time <= 0
x = 1
y = 1

[State 2005, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.5

[State 2005, State]
type = SelfState
trigger1 = Anim = 2007
trigger1 = AnimTime = 0
value = 5050

[State 2005, State]
type = SelfState
trigger1 = Time > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y > 0
value = 5110

;---------------------------------------------------------------------------
