;=================================================================================
;NAME:    IDCWATISTHISVIDA.
;
;=================================================================================
;---------------------------------------------------------------------------------
[Data]
life = 2000
power = 9000
attack = 500
defence = 500
fall.defence_up = 50
liedown.time = 50
airjuggle = 15
sparkno = 1
guard.sparkno = 11
KO.echo = 1
volume = 0
IntPersistIndex = 59
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 0
ground.front = 16
air.back = 12 
air.front = 12
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -90
mid.pos = -5, -60
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 2.4
walk.back = -2.2
run.fwd  = 5
run.back = -4,-3.5
jump.neu = 0,-9.2
jump.back = -2.55
jump.fwd = 2.5
runjump.back = -2.55,-8.1
runjump.fwd = 4,-8.1
airjump.neu = 0,-8.1
airjump.back = -2.55
airjump.fwd = 2.5

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .44
stand.friction = .88
crouch.friction = .82

;---------------------------------------------------------------------------
; Hair A
[Statedef 30]
type = S
movetype = I
physics = S
anim = 30
ctrl = 1

[State 30, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Hair B
[Statedef 31]
type = C
movetype = I
physics = C
anim = 31
ctrl = 1

[State 31, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = command != "holdfwd"
value = 0

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = MatchOver = 0
value = 181

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = var(21) = 0
value = 182

[State 180, 2]
type = ChangeState
trigger1 = Time = 0
trigger1 = var(21) = 2
value = 183

[State 180, 3]
type = ChangeState
trigger1 = Time = 0
trigger1 = var(21) = 1
value = 184

;---------------------------------------------------------------------------
; Win pose 1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0,9

[State 181, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state 181, 3]
type = AssertSpecial
trigger1 = time < 115
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 2
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,19

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 0,20

[State 182, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182, 4]
type = Explod
trigger1 = Time = 0
anim = 185
sprpriority = 2
postype = p1
pos = 0,0
ownpal = 1

[State 182, 4]
type = Explod
trigger1 = Time = 7
anim = 186
sprpriority = 3
postype = p1
pos = 0,0
ownpal = 1

[State 182, 4]
type = PlaySnd
trigger1 = Time = 50
value = F10,13

[state 182, 6]
type = AssertSpecial
trigger1 = time < 130
flag = roundnotover

[State 182, 7]
type = ChangeState
trigger1 = MatchOver = 1
trigger1 = Time = 114
value = 9000

;---------------------------------------------------------------------------
; Win pose 3
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,24

[State 183, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = F10,14

[State 183, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 183, 3]
type = Helper
trigger1 = AnimElem = 9
helpertype = normal
name = "winpose_cloth"
pos = 20,-110
postype = p1
facing = 1
stateno = 187
keyctrl = 0
ownpal = 1
ID = 187

[state 183, 4]
type = AssertSpecial
trigger1 = time < 180
flag = roundnotover

[State 183, 5]
type = ChangeState
trigger1 = MatchOver = 1
trigger1 = Time = 179
value = 9001

;---------------------------------------------------------------------------
; Win pose 4
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 184, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,21

[State 184, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 0,22

[State 184, 3]
type = PlaySnd
trigger1 = AnimElem = 23
value = 0,23

[State 184, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 3006
pos = 30,-70
postype = p1
ownpal = 1
bindtime = -1
removetime = -2
sprpriority = 4

[State 184, 5]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state 184, 6]
type = AssertSpecial
trigger1 = time < 180
flag = roundnotover

[State 184, 7]
type = ChangeState
trigger1 = MatchOver = 1
trigger1 = Time = 179
value = 9002

;---------------------------------------------------------------------------
; Winpose Cloth Helper State
[Statedef 187]
type = S
ctrl = 0
anim = 187
sprpriority = 8

[State 187, 1]
type = velset
trigger1 = AnimElem = 1
x = Parent, fvar(11)
y = -2

[State 187, 2]
type = velset
trigger1 = AnimElem = 4
x = Parent, fvar(11)
y = -1

[State 187, 3]
type = velset
trigger1 = AnimElem = 6
x = Parent, fvar(11)
y = 0

[State 187, 4]
type = velset
trigger1 = AnimElem = 8
x = Parent, fvar(11)
y = 3

[State 187, 5]
type = velset
trigger1 = AnimElem = 9
x = Parent, fvar(11)
y = 4.5

[State 187, 6]
type = velset
trigger1 = AnimElem = 16
trigger2 = POS Y >= 5
x = 0
y = 0

[State 187, 7]
type = DestroySelf
trigger1 = Time = 175
trigger2 = Parent, fvar(11) = 0

;---------------------------------------------------------------------------
; PREINTRO
[Statedef 190]
type = S
ctrl = 0

;[State 190, 1]
;type = ChangeAnim
;trigger1 = SelfAnimExist(190)
;value = 190

[State 190, 2]
type = ChangeState
trigger1 = Time = 0
trigger1 = P2Name != "Kain R Heilein"
value = 191

[State 190, 3]
type = ChangeState
trigger1 = Time = 0
trigger1 = P2Name = "Kain R Heilein"
value = 192

;---------------------------------------------------------------------------
; INTRO	1
[Statedef 191]
type = S
ctrl = 0
anim = 191

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nobardisplay

[State 191, 2]
type = PlaySnd
trigger1 = AnimElem = 2
trigger1 = P2Name != "Terry Bogard"
value = 0,1

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 13
trigger1 = P2Name != "Terry Bogard"
value = 0,2

[State 191, 4]
type = PlaySnd
trigger1 = AnimElem = 2
trigger1 = P2Name = "Terry Bogard"
value = 0,17

[State 191, 5]
type = PlaySnd
trigger1 = AnimElem = 13
trigger1 = P2Name = "Terry Bogard"
value = 0,18

[State 191, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; INTRO 2
[Statedef 192]
type = S
ctrl = 0
anim = 192

[State 192, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 192, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nobardisplay

[State 192, 3]
type = PlaySnd
trigger1 = AnimElem = 11
value = 0,15

[State 192, 4]
type = PlaySnd
trigger1 = AnimElem = 20
value = 0,16

[State 192, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
[Statedef 196, Taunt GameOver 1]
type = S
ctrl = 0
anim = 196
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 196, 0]
type = PowerAdd
trigger1 = Time = 1
value = 10

[State 196, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 197, Taunt GameOver 2]
type = S
ctrl = 0
anim = 197
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 197, 0]
type = PowerAdd
trigger1 = Time = 1
value = 10

[State 197, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Light Punch
[Statedef 200]
type  = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
value = F0,30

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype = Light
damage = 25,0
hitflag = MA
guardflag = MA
priority = 3, Hit
pausetime = 8,8
sparkno = 0
sparkxy = -10,-76
hitsound = F0,0+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,3
ground.type = High			
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -4
air.hittime = 15
air.velocity = -2,-4

[State 200, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,4

[State 200, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,5

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Light Punch (Close)
[Statedef 201]
type  = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2

[State 201, 1]
type = PlaySnd
trigger1 = Time = 2
value = F0,30

[State 201, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 20,0
animtype = Light
hitflag = MA
guardflag = MA
priority = 3, Hit
pausetime = 8, 8
sparkno = 0
sparkxy = -10,-76
hitsound = F0,0+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,3
ground.type = High			
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -4
air.hittime = 15
air.velocity = -2,-4

[State 201, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,4

[State 201, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,5

[State 201, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Kick
[Statedef 210]
type = S
movetype = A
physics = S
juggle = 1
poweradd = 25
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2

[State 210, 1]
type = PlaySnd
trigger1 = Time = 3
value = F0,31

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype = Light
damage = 35,0
hitflag = M
guardflag = MA
pausetime = 8,8
sparkno = 0
sparkxy = -12,-37
hitsound = F0,3+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,3
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -4
air.hittime = 15
air.velocity = -2,-4

[State 210, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,4

[State 210, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,5

[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Kick (Close)
[Statedef 211]
type = S
movetype = A
physics = S
juggle = 1
poweradd = 25
ctrl = 0
velset = 0,0
anim = 211
sprpriority = 2

[State 211, 1]
type = PlaySnd
trigger1 = Time = 3
value = F0,31

[State 211, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype = Light
damage = 30,0
hitflag = MA
guardflag = MA
pausetime = 8,8
sparkno = 0
sparkxy = -12,-70
hitsound = F0,3+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,3
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -4
air.hittime = 15
air.velocity = -2,-4

[State 211, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,4

[State 211, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,5

[State 211, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Punch
[Statedef 220]
type = S
movetype = A
physics = S
juggle = 4
poweradd = 60
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 2

[State 220, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,30

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype = Medium
damage = 70,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -13,-70
hitsound = F0,6+(RANDOM<500)
guardsound = F5,4
ground.type = Low
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -6
air.hittime = 21
air.velocity = -2,-4

[State 220, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 220, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 220, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Standing Strong Punch (Close)
[Statedef 221]
type = S
movetype = A
physics = S
juggle = 4
poweradd = 60
ctrl = 0
velset = 0,0
anim = 221
sprpriority = 2

[State 221, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,30

[State 221, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype = Medium
damage = 50,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,6+(RANDOM<500)
guardsound = F5,4
ground.type = Low
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -5
air.hittime = 21
air.velocity = -2,-4

[State 221, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 221, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 221, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 221, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Standing Strong Kick
[Statedef 230]
type = S
movetype = A
physics = S
juggle = 4
poweradd = 65
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,31

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype = Medium
damage = 70,0
hitflag = HA
guardflag = HA
pausetime = 12,12
sparkno = 1
sparkxy = -13,-70
hitsound = F0,9+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -6
air.hittime = 21
air.velocity = -2,-4

[State 230, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 230, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 230, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Standing Strong Kick(Close) 1st hit
[Statedef 231]
type = S
movetype = A
physics = S
juggle = 4
poweradd = 65
ctrl = 0
velset = 0,0
anim = 231
sprpriority = 2

[State 231, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,31

[State 231, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype = Medium
damage = 50,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,9+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,4
ground.type = Low
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -5
air.hittime = 21
air.velocity = -2,-4

[State 231, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 231, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 231, 4]
type = ChangeState
trigger1 = MoveContact = 1
trigger1 = Command = "fwd_y"
value = 232

[State 231, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 231, 6]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Standing Strong Kick(Close) 2nd hit
[Statedef 232]
type = S
movetype = A
physics = S
juggle = 4
poweradd = 20
ctrl = 0
velset = 0,0
anim = 232
sprpriority = 2

[State 232, 1]
type = PosAdd
trigger1 = Time >= 0
trigger1 = Time <= 5
x = 10

[State 232, 2]
type = PlaySnd
trigger1 = Time = 4
value = F0,31

[State 232, 2]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
animtype = Medium
damage = 50,0
hitflag = MA
guardflag = HA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,9+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -5
air.hittime = 21
air.velocity = -2,-4

[State 232, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 232, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 232, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 232, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type = C
movetype = A
physics = C
juggle = 5
poweradd = 20
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 3
value = F0,30

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
animtype = Light
damage = 20,0
hitflag = M
guardflag = M
pausetime = 8,8
sparkno = 0
sparkxy = -10,-42
hitsound = F0,0+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,3
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -4
air.hittime = 15
air.velocity = -2,-4

[State 400, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,4

[State 400, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,5

[State 400, 4]
type = CtrlSet
trigger1 = Time = 10
value = 1

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;Crouching light kick
[Statedef 410]
type = C
movetype = A
physics = C
juggle = 5
poweradd = 25
ctrl = 0
anim = 410
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = F0,31

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
animtype = Light
damage = 30,0
hitflag = MD
guardflag = L
pausetime = 8,8
sparkno = 0
sparkxy = -10,-8
hitsound = F0,3+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,3
ground.type = Trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4
air.hittime = 15
air.velocity = -2,-4
down.velocity = -5,0
down.hittime = 15
p2stateno=IfElse(P2StateType=S,5006,5010)

[State 410, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,4

[State 410, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,5

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Punch
[Statedef 420]
type = C
movetype = A
physics = C
juggle = 7
poweradd = 60
ctrl = 0
anim = 420
sprpriority = 2

[State 420, 1]
type = PlaySnd
trigger1 = Time = 3
value = F0,30

[State 420, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
animtype = Up
damage = 50,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,6+(RANDOM<500)
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -5
air.hittime = 21
air.velocity = -2,-4

[State 420, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 420, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 430]
type = C
movetype = A
physics = C
juggle = 7
poweradd = 65
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 3
value = F0,31

[State 430, 3]
type = HitDef
trigger1 = AnimElem = 6
attr = C, NA
animtype = Medium
damage = 50,0
hitflag = MD
guardflag = L
pausetime = 12,12
sparkno = 1
sparkxy = -5,-10
hitsound = F0,9+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,4
ground.type = Trip
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -2,-2.8
guard.velocity = -8
fall = 1
fall.animtype = Medium

[State 430, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 430, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 430, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 600]
type = A
movetype = A
physics= A
juggle = 2
poweradd = 20
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 2
value = F0,30

[State 600, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
animtype = Light
damage = 30,0
hitflag = MA
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = 0
sparkxy = -10,-58
hitsound = F0,0+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,3
ground.type = High
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -4
air.hittime = 15
air.velocity = -2,-4

[State 600, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,4

[State 600, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,5

;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 610]
type = A
movetype = A
physics = A
juggle = 3
poweradd = 25
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 1]
type = PlaySnd
trigger1 = Time = 2
value = F0,31

[State 610, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
animtype = Light
damage = 30,0
hitflag = MA
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = 0
sparkxy = -5,-60
hitsound = F0,3+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,3
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4
air.hittime = 15
air.velocity = -2,-4

[State 610, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,4

[State 610, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,5

;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 620]
type = A
movetype = A
physics = A
juggle = 4
poweradd = 60
ctrl = 0
anim = 620
sprpriority = 2

[State 620, 1]
type = PlaySnd
trigger1 = Time = 3
value = F0,30

[State 620, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = A, NA
animtype = Medium
damage = 50,0
hitflag = MA
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -15,-45
hitsound = F0,6+(RANDOM<500)
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -5
air.hittime = 21
air.velocity = -2,-4

[State 620, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 620, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 630]
type = A
movetype = A
physics = A
juggle = 4
poweradd = 65
ctrl = 0
anim = 630
sprpriority = 2

[State 630, 1]
type = PlaySnd
trigger1 = Time = 3
value = F0,31

[State 630, 2]
type = HitDef
trigger1 = AnimElem = 6
attr = A, NA
animtype = Medium
damage = 50,0
hitflag = MA
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -15,-30
hitsound = F0,9+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 21
ground.velocity = -5
air.hittime = 21
air.velocity = -2,-4

[State 630, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 630, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

;---------------------------------------------------------------------------
;Throw - Attempt (front)
[Statedef 800]
type = S
movetype = A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT
animtype = Hard
hitflag = M-
priority = 1, Miss
sparkno = -1
;sparkxy = -10,-60
hitsound = F0,18
p1sprpriority = 1
p1facing = -1
p2facing = 1
p1stateno = 810
p2stateno = 820
guard.dist = 0
fall = 1
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Light

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Throw - Attempt (back)
[Statedef 801]
type = S
movetype = A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 801, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT
animtype = Hard
hitflag = M-
priority = 1, Miss
sparkno = -1
;sparkxy = -10,-60
hitsound = F0,18
p1sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 810
p2stateno = 820
guard.dist = 0
fall = 1
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Light

[State 801, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Throwing the opponent
[Statedef 810]
type = S
movetype = A
physics = N
anim = 810
poweradd = 60

[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,8

[State 810, 1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 20,0

[State 810, 2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 20,-70

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 20,-70

[State 810, 4]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = 10,-70

[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = 0,-80

[State 810, 6]
type = TargetBind
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 7, < 0
pos = -20,-70

[State 810, 7]
type = TargetBind
trigger1 = AnimElem = 7, >= 0
trigger1 = AnimElem = 7, < 1
pos = -40,-40

[State 810, 8]
type = TargetVelAdd
trigger1 = AnimElem = 9, = 1
x = 1

[State 810, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 9, = 1
value = -70

[State 810, Ground]
type = GameMakeAnim
trigger1 = AnimElem = 8, = 1
trigger1 = floor(ScreenPos Y - Pos Y) = 205
trigger1 = floor(ScreenPos Y - Pos Y) = 206
value = 56
pos = -40, 0

[State 810, Water]
type = GameMakeAnim
trigger1 = AnimElem = 8, = 1
trigger1 = floor(ScreenPos Y - Pos Y) = 204
value = 66
pos = -40, 0

[State 810, Turn]
type = Turn
trigger1 = AnimTime = 0

[State 810, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 810, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
;Thrown by Throw
[Statedef 820]
type = A
movetype = H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 820

[State 820, 3]
type = SelfState
trigger1 = !GetHitVar(isbound)
value = 5100

;---------------------------------------------------------------------------
; Dodge -Foward-
[Statedef 900]
type = S
physics = S
sprpriority = 0
Anim = 900
ctrl = 0

[State 900, Afterimage]
type = AfterImage
trigger1 = Time = 0
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
;timegap = 2
;framegap = 1

[State 900, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,4

[State 900, 2]
type = VelSet
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 5, <0
x = 5

[State 900, 3]
type = VelSet
trigger1 = AnimElem = 5, >=0
trigger1 = AnimElem = 7, <4
x = 2

[State 900, 4]
type = VelSet
trigger1 = AnimElem = 7, >=4
x = 1

[State 900, Turn]
type = Turn
trigger1 = AnimTime = 0
trigger1 = P2Dist X < 0

[State 900, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 900, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Dodge -Foward-
[Statedef 901]
type = S
physics = S
sprpriority = 0
Anim = 901
ctrl = 0

[State 901, Afterimage]
type = AfterImage
trigger1 = Time = 0
time = 30
length = 6
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
;timegap = 2
;framegap = 1

[State 901, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,4

[State 901, 2]
type = VelSet
trigger1 = AnimElem = 1, >=0
trigger1 = AnimElem = 5, <0
x = -5

[State 901, 3]
type = VelSet
trigger1 = AnimElem = 5, >=0
x = -2

[State 901, Turn]
type = Turn
trigger1 = AnimTime = 0
trigger1 = P2Dist X < 0

[State 901, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 901, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Fade Action 1
[Statedef 910]
type = S
physics = S
sprpriority = 0
Anim = 910
ctrl = 0

[State 910, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,10
channel = 1

[State 910, 2]
type = StopSnd
trigger1 = AnimElem = 6
channel = 1

[State 910, 3]
type = CtrlSet
trigger1 = AnimElem = 6
value = 1

[State 910, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 910, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Fade Action 2
[Statedef 911]
type = S
physics = S
sprpriority = 0
Anim = 911
ctrl = 0

[State 911, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,37
channel = 2

[State 911, 2]
type = CtrlSet
trigger1 = AnimElem = 2, > 2
value = 1

[State 911, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 911, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Gather Power
[Statedef 920]
type = S
movetype = I
physics = S
juggle = 0
ctrl = 0
velset = 0,0
anim = 920
sprpriority = 2

[State 920, 1]
type = PowerAdd
trigger1 = 1
value = 5

[State 920, 2]
type = PlaySnd
trigger1 = Time = 0
value = F5,0
loop = 1
channel = 15

[State 920, 3]
type = Explod
trigger1 = NumExplod(91) = 0
anim = F91
pos = 10,0
postype = p1
ownpal = 1
bindtime = -1
removetime = -1
sprpriority = 4
ID = 91

[State 920, 4]
type = PlaySnd
trigger1 = Power = 3000
value = F7,5

[State 920, 5]
type = PalFX
trigger1 = Power = 3000
time = 3
add = 128,128,128

[State 920, c1]
type = ChangeState
trigger1 = Command != "hold_c"
trigger1 = Command = "down"
trigger2 = Power >= 3000
trigger2 = Command = "down"
value = 31

[State 920, c2]
type = ChangeState
trigger1 = Command != "hold_c"
trigger1 = Command != "down"
trigger2 = Power >= 3000
trigger2 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Standing Hyper Attack
[Statedef 930]
type = S
movetype = A
physics = S
juggle = 4
poweradd = 80
ctrl = 0
velset = 0,0
anim = 930
sprpriority = 2

[State 930, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,30

[State 930, 2]
type = VelSet
trigger1 = AnimElem = 1
x = 7

[State 930, 3]
type = VelSet
trigger1 = AnimElem = 10
x = 0

[State 930, 4]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Back
damage = 90,5
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -13,-70
hitsound = F0,12
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-5
guard.velocity = -3
air.velocity = -4,-5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Back

[State 930, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 930, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
;Jumping Hyper Attack
[Statedef 931]
type = A
movetype = A
physics = A
juggle = 4
poweradd = 60
ctrl = 0
anim = 931
sprpriority = 2

[State 931, 1]
type = PlaySnd
trigger1 = Time = 2
value = F0,30

[State 931, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
animtype = Back
damage = 90,5
hitflag = MA
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -15,-45
hitsound = F0,12
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-5
guard.velocity = -3
air.velocity = -4,-5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Back

[State 931, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 931, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

;---------------------------------------------------------------------------
; KOF MODE Power Burst
[Statedef 950]
type = S
movetype = A
physics = S
juggle = 0
ctrl = 0
velset = 0,0
anim = 950
sprpriority = 2

[state 950, BUSRT Decider Set]
type = VarSet
trigger1 = Time = 0
v = 7
value = 1

[State 950, 0]
type = PowerAdd
trigger1 = Time = 0
value = -1000

[State 950, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = F7,3

[State 950, 2]
type = EnvShake
trigger1 = AnimElem = 3
time = 15
freq = 170
ampl = 4

[State 950, 3]
type = EnvColor
trigger1 = AnimElem = 3
value = 0, 0, 0
time = 18
under = 1

[State 950, 4]
type = Explod
trigger1 = NumExplod(78) = 0
trigger1 = AnimElem = 3
anim = F78
pos = -10,0
postype = p1
ownpal = 1
bindtime = -1
removetime = -2
sprpriority = 4
ID = 78

[State 950, 6]
type = HitDef
trigger1 = HitCount <= 1
attr = S, SA
animtype = Back
damage = 0, 0
hitflag = MA
guardflag = MA
pausetime = 16,16
sparkxy = -10,-60
hitsound = F0,15
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-5
guard.velocity = -3
air.velocity = -4,-5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Back

[State 950, c1]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 950, c2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; MOW MODE Power Burst
[Statedef 951]
type = S
movetype = A
physics = S
juggle = 0
ctrl = 0
velset = 0,0
anim = 951
sprpriority = 2

[state 951, BUSRT Decider Set]
type = VarSet
trigger1 = Time = 0
v = 7
value = 2

[State 951, 0]
type = PowerAdd
trigger1 = Time = 0
value = -1000

[State 951, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = F7,5

[State 951, 2]
type = EnvShake
trigger1 = AnimElem = 3
time = 15
freq = 170
ampl = 4

[State 951, 3]
type = Explod
trigger1 = NumExplod(77) = 0
trigger1 = AnimElem = 3
anim = F77
pos = -20,0
postype = p1
ownpal = 1
bindtime = -1
removetime = -2
sprpriority = 4
ID = 77

[State 951, 6]
type = HitDef
trigger1 = HitCount <= 1
attr = S, SA
animtype = Back
damage = 0, 0
hitflag = MA
guardflag = MA
pausetime = 16,16
sparkxy = -10,-60
hitsound = F0,15
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-5
guard.velocity = -3
air.velocity = -4,-5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Back

[State 951, c1]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 951, c2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; 烈风拳(弱)
[Statedef 1000]
type = S
movetype = A
physics = S
juggle = 4
poweradd = 100
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,10

[State 1000, Wind Sound]
type = PlaySnd
trigger1 = AnimElem = 7
value = F10,4

[State 1000, 2]
type = Explod
trigger1 = Time = 0
anim = 1001
pos = 0,0
postype = p1
ownpal = 1
bindtime = -1
removetime = -2
sprpriority = 4
removeongethit = 1
ID = 1001

[State 1000, 3]
type = Helper
trigger1 = AnimElem = 6
helpertype = normal
name = "reppuken_wind"
pos = 10,0
postype = p1
facing = 1
stateno = 1002
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ID = 1002

[State 1000, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1000, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; 烈风拳(弱) - 飞行道具 (start)
[Statedef 1002]
type = S
movetype = A
physics = S
velset = 0,0
anim = 1002
ctrl = 0
sprpriority = 4

[State 1002, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1003

;---------------------------------------------------------------------------
; 烈风拳(弱) - 飞行道具 (loop)
[Statedef 1003]
type = S
movetype = A
physics = S
velset = 0,0
anim = 1003
ctrl = 0
sprpriority = 4

[State 1003, 2]
type = VelSet
trigger1 = 1
x = 7

[State 1003, 2]
type = HitDef
trigger1 = 1
attr = A, SP
priority = 7
animtype = Medium
damage = 70, 5
hitflag = MD
guardflag = M
pausetime = 3,0
sparkno = 1
sparkxy = -25,-10
guard.sparkno = 12
hitsound = F1,7
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
guard.slidetime = 20
guard.hittime  = 20
guard.velocity = -6

[State 1003, 2]
type = Hitby
trigger1 = 1
value = SCA, AP

[State 1003, 3]
type = HitOverride
trigger1 = 1
attr = SCA, AP
stateno = 1004

[State 1003, 4]
type = ChangeState
trigger1 = MoveContact = 1
value = 1004

[State 1003, 5]
type = destroyself
trigger1 = Time = 60

;---------------------------------------------------------------------------
; 烈风拳(弱) - 飞行道具 (end)
[Statedef 1004]
type = S
movetype = A
physics = S
velset = 0,0
anim = 1004
ctrl = 0
sprpriority = 4

[State 1004, slowdown game time]
type = SuperPause
trigger1 = (Time > 0) && (Time < 10)
trigger1 = Gametime%2 = 0
time = 1
anim = -1
darken = 0

[State 1004, 1]
type = destroyself
trigger1 = AnimTime = 0
trigger2 = time = 60

;---------------------------------------------------------------------------
; 烈风拳(强)
[Statedef 1010]
type = S
movetype = A
physics = S
juggle = 4
poweradd = 110
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 2

[State 1010, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,11

[State 1010, Wind Sound]
type = PlaySnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
value = F10,4

[State 1010, 2]
type = Explod
trigger1 = Time = 0
anim = 1011
pos = 0,0
postype = p1
ownpal = 1
bindtime = -1
removetime = -2
sprpriority = 4
removeongethit = 1
ID = 1011

[State 1010, 3]
type = Helper
trigger1 = AnimElem = 6
helpertype = normal
name = "reppuken_doublewind"
pos = 30,0
postype = p1
facing = 1
stateno = 1012
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ID = 1012

[State 1013, 3]
type = Helper
trigger1 = AnimElem = 10
helpertype = normal
name = "reppuken_doublewind2"
pos = 30,0
postype = p1
facing = 1
stateno = 1014
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ID = 1014

[State 1010, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1010, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; 烈风拳(强) - 飞行道具 (start)
[Statedef 1012]
type = S
movetype = A
physics = S
velset = 0,0
anim = 1012
ctrl = 0
sprpriority = 4

[State 1012, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1013

;---------------------------------------------------------------------------
; 烈风拳(强) - 飞行道具 (第一段)
[Statedef 1013]
type = S
movetype = A
physics = S
velset = 0,0
anim = 1013
ctrl = 0
sprpriority = 4

[State 1013, 1]
type = HitDef
trigger1 = 1
attr = A, SP
priority = 7
animtype = Medium
damage = 40, 0
hitflag = MD
guardflag = M
pausetime = 3,0
sparkno = 1
sparkxy = -25,-10
guard.sparkno = 12
hitsound = F1,7
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
guard.slidetime = 20
guard.hittime  = 20
guard.velocity = -6

[State 1003, 2]
type = Hitby
trigger1 = 1
value = SCA, AP

[State 1003, 3]
type = HitOverride
trigger1 = 1
attr = SCA, AP
stateno = 1004

[State 1013, 4]
type = ChangeState
trigger1 = MoveContact = 1
value = 1004

[State 1013, 5]
type = destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; 烈风拳(强) - 飞行道具 (第二段)
[Statedef 1014]
type = S
movetype = A
physics = S
velset = 0,0
anim = 1014
ctrl = 0
sprpriority = 4

[State 1014, 1]
type = VelSet
trigger1 = 1
x = 7

[State 1014, 2]
type = HitDef
trigger1 = 1
attr = S, SP
priority = 7
animtype = Medium
damage = 70, 5
hitflag = MD
guardflag = M
pausetime = 3,0
sparkno = 1
sparkxy = -25,-10
guard.sparkno = 12
hitsound = F1,7
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6
guard.slidetime = 20
guard.hittime  = 20
guard.velocity = -6

[State 1003, 3]
type = Hitby
trigger1 = 1
value = SCA, AP

[State 1003, 4]
type = HitOverride
trigger1 = 1
attr = SCA, AP
stateno = 1004

[State 1014, 5]
type = ChangeState
trigger1 = MoveContact = 1
trigger2 = HitDefAttr(S, ST)
value = 1004

[State 1014, 6]
type = destroyself
trigger1 = Time = 60

;---------------------------------------------------------------------------
; Hard Edge (light)
[Statedef 1020]
type = S
movetype = A
physics = S
juggle = 6
poweradd = 100
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 2

[State 1020, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0,12

[State 1020, 1]
type = PlaySnd
trigger1 = Time = 4
value = F10,2

[State 1020, 5]
type = VelSet
trigger1 = AnimElem = 6
x = 6

[State 1020, Scintilla]
type = Explod
trigger1 = AnimElem = 8
anim = 1021
pos = 0,0
postype = p1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 1020, 6]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
animtype = Back
damage = 85, 20
hitflag = MA
guardflag = MA
pausetime = 16,16
sparkxy = -10,-60
hitsound = F0,15
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-5
guard.velocity = -3
air.velocity = -4,-5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Back

[State 1020, 5]
type = VelSet
trigger1 = AnimElem = 11, >0
x = 0

[State 1020, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1020, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Lazy Run (run)
[Statedef 1030]
type = S
movetype = A
physics = N
juggle = 6
poweradd = 100
velset = 0,0
anim = 1030
ctrl = 0
sprpriority = 2

[State 1030, 1]
type = PlaySnd
trigger1 = Time = 4
value = 0,12

[State 1030, 1]
type = PlaySnd
trigger1 = Time = 0
value = F10,2

[State 1030, DUST]
type = Explod
trigger1 = Time = 0
anim = F53
pos = 0,0
postype = p1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1

[State 1030, 3]
type = VelSet
trigger1 = AnimElem = 1
x = 6

[State 1030, 4]
type = VelSet
trigger1 = AnimElem = 11, >0
x = 0

[State 1030, 5]
type = ChangeState
trigger1 = p2bodydist X < 40
value = 1031
ctrl = 1

[State 1030, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1030, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;----------------------------
; Lazy Run (hit)
[Statedef 1031]
type = A
movetype = A
physics = N
juggle = 6
poweradd = 10
velset = 0,0
anim = 1031
ctrl = 0
sprpriority = 2

[State 1031, Shout]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,14

[State 1031, Wing Sound]
type = PlaySnd
trigger1 = AnimElem = 10
value = F10,3

[State 1031, 1]
type = VelSet
trigger1 = AnimElem = 1
x = 1

[State 1031, 2]
type = VelSet
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 5, < 0
x = 1
y = -5

[State 1031, 3]
type = VelSet
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
x = 1
y = -2.5

[State 1031, 4]
type = VelSet
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 10, < 0
x = 1
y = 1

[State 1031, 5]
type = VelSet
trigger1 = AnimElem = 10, >=0
x = 1
y = 4

[State 1031, 6]
type = VelSet
trigger1 = AnimElem = 14, >= 0
x = 0
y = 0

[State 1031, 7]
type = PosSet
trigger1 = AnimElem = 14
y = 0

[State 1031, Water]
type = PlaySnd
trigger1 = AnimElem = 14
trigger1 = floor(ScreenPos Y - Pos Y) = 204
value = F3,2

[State 1031, Glass]
type = PlaySnd
trigger1 = AnimElem = 14
trigger1 = floor(ScreenPos Y - Pos Y) = 205
value = F3,4

[State 1031, Ground]
type = PlaySnd
trigger1 = AnimElem = 14
trigger1 = floor(ScreenPos Y - Pos Y) = 206
value = F3,0

[State 1031, Spray Anim P1]
type = Explod
trigger1 = AnimElem = 14
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 1
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 1031, Spray Anim P2]
type = Explod
trigger1 = AnimElem = 14
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 2
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2
facing = -1

[State 1031, Wing]
type = Explod
trigger1 = Time = 3
anim = 1034
pos = 15,-30
postype = p1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
ID = 1034

[State 1031, Hit]
type = HitDef
trigger1 = AnimElem = 7
attr = A, SA
animtype = Hard
damage = 100, 25
hitflag = MA
guardflag = HA
pausetime = 20,20
sparkxy = -10,-60
hitsound = F0,15
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -.5,12
guard.velocity = -2
air.velocity = -.5,12
airguard.velocity = -2,0
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 4
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Hard

[State 1031, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1031, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;----------------------------
; Lazy Run (dodge)
[Statedef 1032]
type = S
movetype = I
physics = N
poweradd = 10
velset = 0,0
anim = 1032
ctrl = 0

[State 1032, Shout]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,29

[State 1032, PosSet]
type = PosAdd
trigger1 = AnimElem = 3
x = 80

[State 1032, Turn]
type = Turn
trigger1 = AnimTime = 0

[State 1032, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
value = 1033

;----------------------------
; Lazy Run (End)
[Statedef 1033]
type = S
movetype = I
physics = N
poweradd = 0
velset = 0,0
anim = 1033
ctrl = 0

[State 1033, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1033, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Lazy Run (dodge run)
[Statedef 1034]
type = S
movetype = A
physics = N
juggle = 6
poweradd = 110
velset = 0,0
anim = 1030
ctrl = 0
sprpriority = 2

[State 1034, 1]
type = PlaySnd
trigger1 = Time = 4
value = 0,12

[State 1034, 1]
type = PlaySnd
trigger1 = Time = 0
value = F10,2

[State 1034, DUST]
type = Explod
trigger1 = Time = 0
anim = F53
pos = 0,0
postype = p1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1

[State 1034, 3]
type = VelSet
trigger1 = AnimElem = 1
x = 6

[State 1034, 4]
type = VelSet
trigger1 = AnimElem = 11, >0
x = 0

[State 1034, 6]
type = ChangeState
trigger1 = p2bodydist X < 10
value = 1032
ctrl = 1

[State 1030, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1030, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Hard Edge (Strong-1stHit)
[Statedef 1040]
type = S
movetype = A
physics = N
juggle = 6
poweradd = 110
velset = 0,0
anim = 1040
ctrl = 0
sprpriority = 2

[State 1040, Start Shout]
type = PlaySnd
trigger1 = Time = 2
value = 0,12

[State 1040, Wind Sound]
type = PlaySnd
trigger1 = Time = 12
value = F10,2

[State 1040, Scintilla]
type = Explod
trigger1 = AnimElem = 8
anim = 1021
pos = 0,0
postype = p1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 1040, Wing]
type = Explod
trigger1 = AnimElem = 8
anim = 1042
pos = 0,0
postype = p1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
ID = 1042

[State 1040, 5]
type = VelSet
trigger1 = AnimElem = 7
x = 10

[State 1040, 6]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
animtype = Medium
damage = 60,15
hitflag = MA
guardflag = MA
pausetime = 16,16
sparkxy = -10,-60
hitsound = F0,15
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -.5,0
guard.velocity = -3
air.velocity = -.5,-7
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15

[State 1040, 5]
type = VelSet
trigger1 = AnimElem = 11, >0
x = 0

[State 1040, Combo]
type = ChangeState
trigger1 = MoveContact = 1
value = 1041

[State 1040, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1040, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Hard Edge (Strong-2ndHit)
[Statedef 1041]
type = S
movetype = A
physics = N
juggle = 6
poweradd = 20
velset = 0,0
anim = 1041
ctrl = 0
sprpriority = 2

[State 1041, Hit Shout]
type = PlaySnd
trigger1 = AnimElem = 6
value = 0,13

[State 1041, Wing]
type = Explod
trigger1 = AnimElem = 5
anim = 1043
pos = 0,0
postype = p1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
ID = 1043

[State 1041, 6]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
animtype = Back
damage = 50, 10
hitflag = MA
guardflag = MA
pausetime = 16,16
sparkxy = -10,-60
hitsound = F0,15
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5,-5
guard.velocity = -4
air.velocity = -5,-5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Back

[State 1041, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1041, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Crack Counter 上段 (Start)
[Statedef 1050]
type = S
movetype = I
physics = S
juggle = 4
poweradd = 100
velset = 0,0
anim = 1050
ctrl = 0
sprpriority = 2

[State 1050, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,29

[State 1050, 2]
type = ReversalDef
trigger1 = AnimElem = 4
reversal.attr = SA, AA
pausetime = 10,20
sparkno = 11
hitsound = F0,19
p1stateno = 1051

[State 1050, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1050, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;------------------
; Crack Counter 上段 (Reversal Hit)
[Statedef 1051]
type = S
movetype = A
physics = N
anim = 1051
sprpriority = 1

[State 1051, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 4
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
;timegap = 2
;framegap = 1

[State 1050, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,14

[State 1051, Hit]
type = HitDef
trigger1 = AnimElem = 7
attr = A, SA
animtype = Hard
damage = 90, 15
hitflag = HA
guardflag = HA
pausetime = 20,20
sparkxy = -10,-60
hitsound = F0,13
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -.5,12
guard.velocity = -2
air.velocity = -.5,12
airguard.velocity = -2,0
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Hard

[State 1051, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1051, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Crack Counter 下段 (Start)
[Statedef 1060]
type = S
movetype = A
physics = S
juggle = 4
poweradd = 110
velset = 0,0
anim = 1060
ctrl = 0
sprpriority = 2

[State 1060, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,29

[State 1060, 2]
type = ReversalDef
trigger1 = AnimElem = 4
reversal.attr = C, AA
pausetime = 10,20
sparkno = 11
hitsound = F0,19
p1stateno = 1061

[State 1060, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1060, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;------------------
; Crack Counter 下段 (Reversal Hit)
[Statedef 1061]
type = S
movetype = A
physics = N
anim = 1061
sprpriority = 1

[State 1061, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 4
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
;timegap = 2
;framegap = 1

[State 1061, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,14

[State 1061, Hit]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
animtype = Hard
damage = 100, 20
hitflag = MA
guardflag = L
pausetime = 20,20
sparkxy = -10,-60
hitsound = F0,13
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -.5,12
guard.velocity = -2
air.velocity = -.5,12
airguard.velocity = -2,0
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Hard

[State 1061, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1061, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; RISING TACKLE (light)
[Statedef 1070]
type = A
movetype = A
physics = S
anim = 1070
poweradd = 120
juggle = 1
ctrl = 0

[State 1070, 1]
type = PlaySnd
trigger1 = Time = 0
value = F10,5

[State 1070, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,31

[State 1070, 3]
type = VelSet
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 5, < 0
x = 2

[State 1070, 3]
type = VelSet
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 23, < 0
y = -2.5

[State 1070, 4]
type = VelSet
trigger1 = AnimElem = 26, >= 0
trigger1 = AnimElem = 29, < 0
y = 1.5

[State 1070, 5]
type = VelSet
trigger1 = AnimElem = 29, >= 0
trigger1 = AnimElem = 31, < 0
y = 3.5

[State 1070, 6]
type = VelSet
trigger1 = AnimElem = 31, >= 0
x = 0
y = 0

[State 1070, 7]
type = PosSet
trigger1 = AnimElem = 31
y = 0

[State 1070, Water]
type = PlaySnd
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 204
value = F3,2

[State 1070, Glass]
type = PlaySnd
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 205
value = F3,4

[State 1070, Ground]
type = PlaySnd
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 206
value = F3,0

[State 1070, Spray Anim P1]
type = Explod
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 1
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 1070, Spray Anim P2]
type = Explod
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 2
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2
facing = -1

[State 1070, Dust]
type = Explod
trigger1 = Time = 0
trigger1 = (floor(ScreenPos Y - Pos Y) = 205) || (floor(ScreenPos Y - Pos Y) = 206)
anim = F54
postype = p1
pos = -20, 0
sprpriority = -2
removeongethit = 1
ID = 54

[State 1070, Water]
type = Explod
trigger1 = Time = 0
trigger1 = floor(ScreenPos Y - Pos Y) = 204
anim = F65
postype = p1
pos = -20, 10
sprpriority = -2
removeongethit = 1
ID = 65

[State 1070, 10]
type = HitDef
trigger1 = HitCount = 0
attr = A, SA
animtype = Up
damage = 35,5
priority = 6
hitflag = MAF
guardflag = MAF
pausetime = 16,16
sparkxy = -10,-70
hitsound = F0,9
guardsound = F5,4
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.5,-6.5
guard.velocity = -7
air.velocity = -1.5,-6.5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.animtype = Up
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8

[State 1070, 10]
type = HitDef
trigger1 = HitCount >= 1
trigger1 = HitCount < 3
attr = A, SA
animtype = Up
damage = 35,5
priority = 6
hitflag = MAF
guardflag = MAF
pausetime = 4,4
sparkxy = -10,-70
hitsound = F0,9
guardsound = F5,4
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.5,-6.5
guard.velocity = -7
air.velocity = -1.5,-6.5
fall = 1
fall.animtype = Up
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8

[State 1070, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1070, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; RISING TACKLE (hard)
[Statedef 1071]
type = A
movetype = A
physics = S
juggle = 2
poweradd = 130
velset = 0,0
anim = 1071
ctrl = 0
sprpriority = 2

[State 1071, 1]
type = PlaySnd
trigger1 = Time = 0
value = F10,5

[State 1071, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0,31

[State 1071, 3]
type = VelSet
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 5, < 0
x = 2.5

[State 1071, 3]
type = VelSet
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 24, < 0
y = -4

[State 1071, 4]
type = VelSet
trigger1 = AnimElem = 26, >= 0
trigger1 = AnimElem = 29, < 0
y = 1.5

[State 1071, 5]
type = VelSet
trigger1 = AnimElem = 29, >= 0
trigger1 = AnimElem = 31, < 0
y = 4

[State 1071, 6]
type = VelSet
trigger1 = AnimElem = 31, >= 0
x = 0
y = 0

[State 1071, 7]
type = PosSet
trigger1 = AnimElem = 31
y = 0

[State 1071, Water]
type = PlaySnd
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 204
value = F3,2

[State 1071, Glass]
type = PlaySnd
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 205
value = F3,4

[State 1071, Ground]
type = PlaySnd
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 206
value = F3,0

[State 1071, Spray Anim P1]
type = Explod
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 1
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 1071, Spray Anim P2]
type = Explod
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 2
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2
facing = -1

[State 1071, Dust]
type = Explod
triggerAll = Time = 0
trigger1 = (floor(ScreenPos Y - Pos Y) = 205)
trigger2 = (floor(ScreenPos Y - Pos Y) = 206)
anim = F54
postype = p1
pos = -20, 0
sprpriority = -2
removeongethit = 1
ID = 54

[State 1071, Water]
type = Explod
trigger1 = Time = 0
trigger1 = floor(ScreenPos Y - Pos Y) = 204
anim = F65
postype = p1
pos = -20, 10
sprpriority = -2
removeongethit = 1
ID = 65

[State 1071, 10]
type = HitDef
trigger1 = HitCount = 0
attr = A, SA
animtype = Up
damage = 40,5
priority = 6
hitflag = MAF
guardflag = MAF
pausetime = 16,16
sparkxy = -10,-70
hitsound = F0,9
guardsound = F5,4
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.5,-6.5
guard.velocity = -7
air.velocity = -1.5,-6.5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.animtype = Up
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8

[State 1071, 10]
type = HitDef
trigger1 = HitCount >= 1
trigger1 = HitCount < 4
attr = A, SA
animtype = Up
damage = 30,5
priority = 6
hitflag = MAF
guardflag = MAF
pausetime = 4,4
sparkxy = -10,-70
hitsound = F0,9
guardsound = F5,4
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.5,-6.5
guard.velocity = -7
air.velocity = -1.5,-6.5
fall = 1
fall.animtype = Up
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8

[State 1071, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1071, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Over Head Kick
[Statedef 1080]
type = A
movetype = A
physics = S
juggle = 10
poweradd = 150
velset = 0,0
anim = 1080
ctrl = 0
sprpriority = 2

[State 1080, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 4
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 1080, 1]
type = PlaySnd
trigger1 = Time = 0
value = F2,4

[State 1080, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 0,6

[State 1080, 3]
type = VelSet
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 6, < 0
x = 2
y = -5.5

[State 1080, 6]
type = Gravity
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 16, < 0

[State 1080, 3]
type = VelSet
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 16, < 0
x = 2

[State 1080, 7]
type = VelSet
trigger1 = AnimElem = 16, >= 0
x = 0
y = 0

[State 1080, 6]
type = PosSet
trigger1 = AnimElem = 16
y = 0

[State 1080, Water]
type = PlaySnd
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 204
value = F3,2

[State 1080, Glass]
type = PlaySnd
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 205
value = F3,4

[State 1080, Ground]
type = PlaySnd
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 206
value = F3,0

[State 1080, Spray Anim P1]
type = Explod
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 1
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 1080, Spray Anim P2]
type = Explod
trigger1 = AnimElem = 31
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 2
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2
facing = -1

[State 1080, 8]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 11
attr = A, SA
animtype = Hard
getpower = 0
damage = 80,20
priority = 5
hitflag = HA
guardflag = HA
pausetime = 16,16
sparkxy = -15,-20
hitsound = F0,13
guardsound = F5,4
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -2,12
guard.velocity = -7
air.velocity = -2,12
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Hard

[State 1080, Turn]
type = Turn
trigger1 = AnimTime = 0
trigger1 = P2Dist X < 0

[State 1080, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1080, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
;Thrown by 真空投
[Statedef 1089]
type = A
movetype = H
physics = N
velset = 0,0

[State 1089, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1089

[State 1089, 2]
type = VelSet
trigger1 = !gethitvar(isbound)
trigger1 = AnimElem = 4, > 5
trigger1 = AnimElem = 6, < 0
x = 4
y = -6.5

[State 1089, 2]
type = VelSet
trigger1 = !gethitvar(isbound)
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 8, < 2
x = 4
y = -2

[State 1089, 2]
type = VelSet
trigger1 = !gethitvar(isbound)
trigger1 = AnimElem = 8, >= 2
trigger1 = AnimElem = 10, < 0
x = 4
y = 0

[State 1089, 2]
type = VelSet
trigger1 = !gethitvar(isbound)
trigger1 = AnimElem = 10, >= 0
trigger1 = AnimElem = 12, < 0
x = 4
y = 2

[State 1089, 2]
type = VelSet
trigger1 = !gethitvar(isbound)
trigger1 = AnimElem = 12, >= 0
x = 3
y = 6

[State 1089, 3]
type = SelfState
trigger1 = AnimElem = 15, = 3
value = 5100

;---------------------------------------------------------------------------
;真空投 - Attempt
[Statedef 1090]
type = S
movetype = A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 1090
sprpriority = 2

[State 1090, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0,29

[State 1090, 2]
type = HitDef
Trigger1 = AnimElem = 4
attr = S, ST
hitflag = M-
priority = 1, Miss
sparkno = -1
hitsound = F0,19
p1sprpriority = 1
p2sprpriority = 2
p1facing = 1
p2facing = 1
p1stateno = 1091
p2stateno = 1089
guard.dist = 0
fall = 1
fall.animtype = Diagup
fall.recover = 0

[State 1090, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1090, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
;真空投 - Throwing the opponent
[Statedef 1091]
type = S
movetype = A
physics = N
anim = 1091
poweradd = 150

[State 1091, 1]
type = PlaySnd
trigger1 = Time = 0
value = F2,5

[State 1091, 2]
type = PlaySnd
trigger1 = AnimElem = 15
value = 0,4

[State 1091, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 4
value = -100

[State 1091, bind 1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 50,-30

[State 1091, bind 2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 45,-35

[State 1091, bind 3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 45,-65

[State 1091, bind 4]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = 10,-95

[State 1091, 3]
type = ChangeState
triggerall = AnimElem = 4
trigger1 = command = "hold_ab"
value = 1092

[State 1091, 4]
type = AfterImage
trigger1 = AnimElem = 4
time = 30
length = 10
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 1091, Turn]
type = Turn
trigger1 = AnimElem = 15

[State 1091, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1091, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
;真空投 - cancle
[Statedef 1092]
type = S
movetype = A
physics = N
anim = 1092

[State 1092, Turn]
type = Turn
trigger1 = AnimTime = 0

[State 1092, 1]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command = "hold_ab"
value = 1093

[State 1092, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;罗刹 - start
[Statedef 1093]
type = S
movetype = A
physics = N
anim = 1093

[State 1093, 1]
type = PlaySnd
trigger1 = Time = 0
value = F10,8

[State 1093, 2]
type = Explod
trigger1 = Time = 0
anim = 1096
pos = 0,0
postype = p1
ownpal = 1
bindtime = -1
removetime = -2
sprpriority = 4

[State 1093, 2]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command = "hold_ab"
value = 1094

[State 1093, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1095

;---------------------------------------------------------------------------
;罗刹 - charge
[Statedef 1094]
type = S
movetype = A
physics = N
anim = 1094

[State 1094, 1]
type = PlaySnd
trigger1 = Time = 0
value = 0,32
channel = 3

[State 1094, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = F10,9

[State 1094, 3]
type = Explod
trigger1 = Time = 0
anim = 1097
pos = 0,0
postype = p1
ownpal = 1
bindtime = -1
removetime = -1
sprpriority = 4
ID = 1097

[State 1094, 4]
type = RemoveExplod
trigger1 = Time = 70
trigger2 = command != "hold_ab"
ID = 1097

[State 1094, 5]
type = ChangeState
trigger1 = Time = 70
trigger2 = command != "hold_ab"
value = 1095

;---------------------------------------------------------------------------
;罗刹 - attack
[Statedef 1095]
type = S
movetype = A
physics = N
anim = 1095
poweradd = 10

[State 1095, 1]
type = StopSnd
trigger1 = Time = 0
channel = 3

[State 1095, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,33

[State 1095, 3]
type = PlaySnd
trigger1 = Time = 0
value = F10,10

[State 1095, 4]
type = AfterImage
trigger1 = AnimElem = 1
time = 30
length = 10
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 1095, 5]
type = Explod
trigger1 = AnimElem = 5, = 0
anim = 1099
pos = 0,10
postype = p1
ownpal = 1
bindtime = -1
removetime = -2
sprpriority = 4
ID = 1099

[State 1095, 5]
type = Helper
trigger1 = AnimElem = 5, = 6
helpertype = normal
name = "rosatsu_wave"
pos = -5,0
postype = p1
facing = 1
stateno = 1098
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ID = 1098

[State 1095, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 1095, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; 罗刹 波动
[Statedef 1098]
type = A
movetype = A
physics = S
velset = 0,0
anim = 1098
ctrl = 0
sprpriority = 4

[State 1098, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SP
priority = 7
animtype = Medium
damage = 55, 5
hitflag = MAF
guardflag = MA
pausetime = 3,0
sparkno = 1
sparkxy = -25,-70
guard.sparkno = 12
hitsound = F0,15
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-5
guard.velocity = -3
air.velocity = -4,-5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Back
fall.recover = 0

[State 1098, 5]
type = destroyself
trigger1 = AnimTime = 0

;===========================================================================
;---------------------------------------------------------------------------
; Special Attack 1
[Statedef 2000]
type = S
movetype = A
physics = S
juggle = 4
poweradd = 80
ctrl = 0
velset = 0,0
anim = 2000
sprpriority = 2

[State 2000, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,31

[State 2000, 2]
type = VelSet
trigger1 = AnimElem = 1
x = 7

[State 2000, 3]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 2000, 4]
type = NotHitBy
trigger1 = AnimElem = 6, >=0
trigger1 = AnimElem = 9, <0
value = SCA, NA

[State 2000, 4]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
animtype = Medium
damage = 50,0
hitflag = MA
guardflag = HA
pausetime = 12,12
sparkno = 1
sparkxy = -13,-70
hitsound = F0,9+IfElse(RANDOM<300,0,IfElse(RANDOM<600,1,2))
guardsound = F5,4
ground.type = High
ground.slidetime = 22
ground.hittime = 21
ground.velocity = -6
air.hittime = 21
air.velocity = -2,-4

[State 2000, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 2000, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Special Attack 2
[Statedef 2001]
type = S
movetype = A
physics = S
juggle = 4
poweradd = 80
ctrl = 0
velset = 0,0
anim = 2001
sprpriority = 2

[State 2001, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,30

[State 2001, 2]
type = VelSet
trigger1 = AnimElem = 1
x = 7

[State 2001, 3]
type = VelSet
trigger1 = AnimElem = 10
x = 0

[State 2001, 4]
type = NotHitBy
trigger1 = AnimElem = 4, >=0
trigger1 = AnimElem = 13, <0
value = SCA, NA

[State 2001, 4]
type = HitDef
trigger1 = AnimElem = 10
attr = S, SA
animtype = Medium
damage = 50,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -13,-70
hitsound = F0,6+(RANDOM<500)
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -6
air.hittime = 21
air.velocity = -2,-4

[State 2001, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 2001, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;===========================================================================
;---------------------------------------------------------------------------
; Raging Storm(弱) - start
[Statedef 3000]
type = S
movetype = A
physics = S
juggle = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2
poweradd = -1000

[State 3000, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,34
channel = 4

[State 3000, 1]
type = SuperPause
trigger1 = AnimElem = 2
trigger1 = PrevStateNo != [1000,2000)
time = 32
anim = -1
sound = F7,0

[State 3000, 1]
type = SuperPause
trigger1 = AnimElem = 2
trigger1 = PrevStateNo = [1000,2000)
time = 10
anim = -1
sound = F7,3

[State 3000, 2]
type = EnvColor
trigger1 = Time = 1
trigger1 = PrevStateNo != [1000,2000)
time = 31
value = 0,0,0
under = 1
supermove = 1

[State 3000, 3]
type = Explod
trigger1 = AnimElem = 2
trigger1 = PrevStateNo != [1000,2000)
anim = F70
postype = p1
pos = 3,-98
bindtime = 1
supermove = 1
ownpal = 1
sprpriority = -2

[State 3000, 4]
type = Explod
trigger1 = AnimElem = 2
trigger1 = PrevStateNo != [1000,2000)
anim = F71
postype = p1
pos = 3,-98
bindtime = 1
supermove = 1
ownpal = 1
sprpriority = -1

[State 3000, 5]
type = Explod
trigger1 = AnimElem = 2
trigger1 = PrevStateNo != [1000,2000)
anim = F72
postype = p1
pos = 3,-98
bindtime = 1
supermove = 1
ownpal = 1
ontop = 1

[State 3000, 5]
type = Explod
trigger1 = AnimElem = 2
trigger1 = PrevStateNo = [1000,2000)
anim = F90
postype = p1
pos = 3,-98
bindtime = 1
supermove = 1
ownpal = 1
ontop = 1

[State 3000, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001

;---------------------------------------------------------------------------
; Raging Storm(弱) - attack
[Statedef 3001]
type = S
movetype = A
physics = S
juggle = 4
velset = 0,0
anim = 3001
ctrl = 0

[State 3001, 1]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "raging_storm_super"
pos = -5,5
postype = p1
facing = 1
stateno = 3003
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ID = 3003

[State 3001, 2]
type = EnvShake
trigger1 = Time = 0
ampl = 5
freq = 170
time = 40

[State 3001, 3]
type = ChangeState
trigger1 = Time = 40
value = 3002

;---------------------------------------------------------------------------
; Raging Storm(弱) - end
[Statedef 3002]
type = S
movetype = I
physics = S
juggle = 4
velset = 0,0
anim = 3002
ctrl = 0

[State 3002, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 3002, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Raging Storm(弱) - 飞行道具 (start)
[Statedef 3003]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3003
ctrl = 0
sprpriority = 4
juggle = 16

[State 3003, 0]
type = PlaySnd
trigger1 = Time = 0
value = F10,7
channel = 5

[State 3003, Raging Storm Sound Stop]
type = StopSnd
trigger1 = Parent, MoveType = H
channel = 5

[State 3003, 1]
type = HitDef
trigger1 = 1
attr = A, HP
priority = 7
animtype = Up
damage = 200, 5
hitflag = MAF
guardflag = MAF
pausetime = 16,16
sparkno = 1
sparkxy = -20,-60
guard.sparkno = 12
hitsound = F1,7
guardsound = F5,4
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.5,-7
guard.velocity = -7
air.velocity = -1.5,-7
fall = 1
fall.animtype = Up
fall.recover = 0

[State 3003, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 3004

[State 3003, 3]
type = DestroySelf
trigger1 = Parent, MoveType = H
trigger2 = Parent, StateNo = 820

;---------------------------------------------------------------------------
; Raging Storm(弱) - 飞行道具 (loop)
[Statedef 3004]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3004
ctrl = 0
sprpriority = 4
juggle = 16

[State 3004, 1]
type = HitDef
trigger1 = 1
attr = A, HP
priority = 7
animtype = Up
damage = 200, 5
hitflag = MAF
guardflag = MAF
pausetime = 16,16
sparkno = 1
sparkxy = -20,-60
guard.sparkno = 12
hitsound = F1,7
guardsound = F5,4
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.5,-7
guard.velocity = -7
air.velocity = -1.5,-7
fall = 1
fall.animtype = Up
fall.recover = 0

[State 3004, 2]
type = Hitby
trigger1 = 1
value = SCA, AP

[State 3004, 3]
type = ChangeState
trigger1 = Time = 20
value = 3005

[State 3004, 4]
type = DestroySelf
trigger1 = Parent, MoveType = H
trigger2 = Parent, StateNo = 820

;---------------------------------------------------------------------------
; Raging Storm(弱) - 飞行道具 (end)
[Statedef 3005]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3005
ctrl = 0
sprpriority = 4

[State 3005, 1]
type = destroyself
trigger1 = AnimTime = 0
trigger2 = Parent, MoveType = H
trigger3 = Parent, StateNo = 820

;---------------------------------------------------------------------------
; Shinning Knuckle(弱) - start
[Statedef 3100]
type = S
movetype = A
physics = S
juggle = 4
velset = 0,0
anim = 3100
ctrl = 0
sprpriority = 2
poweradd = -1000

[State 3100, 0]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,37
channel = 6

[State 3100, 1]
type = SuperPause
trigger1 = AnimElem = 3
trigger1 = PrevStateNo != [1000,2999)
time = 32
anim = -1
sound = F7,0

[State 3100, 1]
type = SuperPause
trigger1 = AnimElem = 3
trigger1 = PrevStateNo = [1000,2999)
time = 10
anim = -1
sound = F7,3

[State 3100, 2]
type = EnvColor
trigger1 = Time = 1
trigger1 = PrevStateNo != [1000,2999)
time = 31
value = 0,0,0
under = 1
supermove = 1

[State 3100, 3]
type = Explod
trigger1 = Time = 1
trigger1 = PrevStateNo != [1000,2999)
anim = F70
postype = p1
pos = -10,-64
bindtime = 1
supermove = 1
ownpal = 1
sprpriority = -2

[State 3100, 4]
type = Explod
trigger1 = Time = 1
trigger1 = PrevStateNo != [1000,2999)
anim = F71
postype = p1
pos = -10,-64
bindtime = 1
supermove = 1
ownpal = 1
sprpriority = -1

[State 3100, 5]
type = Explod
trigger1 = Time = 1
trigger1 = PrevStateNo != [1000,2999)
anim = F72
postype = p1
pos = -10,-64
bindtime = 1
supermove = 1
ownpal = 1
ontop = 1

[State 3100, 5]
type = Explod
trigger1 = Time = 1
trigger1 = PrevStateNo = [1000,2999)
anim = F90
postype = p1
pos = -10,-64
bindtime = 1
supermove = 1
ownpal = 1
ontop = 1

[State 3100, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 3101

;---------------------------------------------------------------------------
; Shinning Knuckle(弱) - attack
[Statedef 3101]
type = S
movetype = A
physics = S
juggle = 4
velset = 0,0
anim = 3101
ctrl = 0

[State 3101, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,38
channel = 6

[State 3101, 1]
type = VelSet
trigger1 = AnimElem = 3
x = 20

[State 3101, 1]
type = VelSet
trigger1 = P2BodyDist X <= 30
x = 10

[State 3101, 1]
type = VelSet
trigger1 = MoveHit
x = 5

[State 3100, DUST]
type = Explod
trigger1 = AnimElem = 4
anim = F53
pos = -50,0
postype = p1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1

[State 3100, 2]
type = Explod
trigger1 = AnimElem = 5
anim = 3103
postype = p1
pos = 15,0
bindtime = -1
ownpal = 1
sprpriority = 1
ignoreHitPause = 0
removeongethit = 1

[State 3004, 1]
type = HitDef
trigger1 = HitCount <= 4
attr = S, HA
priority = 7
animtype = Back
damage = 40, 5
hitflag = MAF
guardflag = MAF
pausetime = 9,9
sparkno = 1
sparkxy = -10,-60
hitsound = F0,15
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-5
guard.velocity = -3
air.velocity = -4,-5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Back
fall.recover = 0

[State 3101, 3]
type = VelSet
trigger1 = AnimTime = 0
x = 0

[State 3101, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3102

;---------------------------------------------------------------------------
; Shinning Knuckle(弱) - end
[Statedef 3102]
type = S
movetype = I
physics = S
juggle = 4
velset = 0,0
anim = 3102
ctrl = 0

[State 3102, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 3102, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Raging Storm(强) - start
[Statedef 4000]
type = S
movetype = A
physics = S
juggle = 4
velset = 0,0
anim = 4000
ctrl = 0
sprpriority = 2
poweradd = -2000

[State 4000, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,35
channel = 4

[State 4000, 1]
type = SuperPause
trigger1 = AnimElem = 2
trigger1 = PrevStateNo != [1000,2000)
time = 63
anim = -1
sound = F7,1

[State 4000, 1]
type = SuperPause
trigger1 = AnimElem = 2
trigger1 = PrevStateNo = [1000,2000)
time = 10
anim = -1
sound = F7,3

[State 4000, 2]
type = EnvColor
trigger1 = Time = 1
trigger1 = PrevStateNo != [1000,2000)
time = 63
value = 0,0,0
under = 1
supermove = 1

[State 4000, 3]
type = Explod
trigger1 = Time = 0
anim = 4003
postype = p1
pos = 20,-73
bindtime = 1
supermove = 1
ownpal = 1
ontop = 1
removeongethit = 1
ID = 40031

[State 4000, 3]
type = Explod
trigger1 = Time = 0
anim = 4003
postype = p1
pos = -5,-65
bindtime = 1
supermove = 1
ownpal = 1
ontop = 1
removeongethit = 1
ID = 40032

[State 4000, 3]
type = Explod
trigger1 = Time = 0
trigger1 = PrevStateNo != [1000,2000)
anim = F73
postype = Left
scale = 1.1, 1.1
pos = 152,110
bindtime = 1
supermove = 1
ownpal = 1
sprpriority = -2

[State 4000, 4]
type = Explod
trigger1 = Time = 0
trigger1 = PrevStateNo != [1000,2000)
anim = F74
postype = p1
pos = 10,-80
bindtime = 1
supermove = 1
ownpal = 1
sprpriority = -1

[State 4000, 5]
type = Explod
trigger1 = Time = 0
trigger1 = PrevStateNo != [1000,2000)
anim = F75
postype = p1
pos = 10,-80
bindtime = 1
supermove = 1
ownpal = 1

[State 4000, 5]
type = Explod
trigger1 = AnimElem = 2
trigger1 = PrevStateNo = [1000,2000)
anim = F90
postype = p1
pos = 3,-98
bindtime = 1
supermove = 1
ownpal = 1
ontop = 1

[State 4000, 6]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "hold_x"
value = 4001

[State 4000, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "hold_x"
value = 4002

;---------------------------------------------------------------------------
; Raging Storm(强) - charge
[Statedef 4001]
type = S
movetype = A
physics = S
juggle = 4
velset = 0,0
anim = 4001
ctrl = 0

[State 4001, 1]
type = Explod
trigger1 = Time = 0
anim = 4004
postype = p1
pos = 20,-73
bindtime = 1
removetime = -1
supermove = 1
ownpal = 1
ontop = 1
removeongethit = 1
ID = 40041

[State 4001, 2]
type = Explod
trigger1 = Time = 0
anim = 4004
postype = p1
pos = -5,-65
bindtime = 1
removetime = -1
supermove = 1
ownpal = 1
ontop = 1
removeongethit = 1
ID = 40042

[State 4001, 3]
type = RemoveExplod
trigger1 = Command != "hold_x"
trigger2 = Time = 200
ID = 40041

[State 4001, 4]
type = RemoveExplod
trigger1 = Command != "hold_x"
trigger2 = Time = 200
ID = 40042

[State 4001, 5]
type = ChangeState
trigger1 = Command != "hold_x"
trigger2 = Time = 200
value = 4002

;---------------------------------------------------------------------------
; Raging Storm(强) - end
[Statedef 4002]
type = S
movetype = I
physics = S
juggle = 4
velset = 0,0
anim = 4002
ctrl = 0

[State 4002, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,36
channel = 4

[State 4002, 1]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "raging_storm_potential"
pos = -5,5
postype = p1
facing = 1
stateno = 4003
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ID = 4003

[State 4002, 2]
type = EnvShake
trigger1 = Time = 9
ampl = 5
freq = 170
time = 40

[State 4002, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4002, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Raging Storm(强) - 飞行道具 (start)
[Statedef 4003]
type = S
movetype = A
physics = S
velset = 0,0
anim = 4005
ctrl = 0
sprpriority = 4

[State 4003, 0]
type = PlaySnd
trigger1 = Time = 0
value = F10,7
channel = 5

[State 4003, Raging Storm Sound Stop]
type = StopSnd
trigger1 = Parent, MoveType = H
channel = 5

[State 4003, 1]
type = HitDef
trigger1 = 1
attr = A, HP
priority = 7
animtype = Up
damage = 85, 5
hitflag = MAF
guardflag = MAF
pausetime = 4,4
sparkno = 1
sparkxy = -20,-60
guard.sparkno = 12
hitsound = F1,7
guardsound = F5,4
ground.type = Low
ground.slidetime = 4
ground.hittime  = 4
ground.velocity = -1.5,-7
guard.velocity = -7
air.velocity = -1.5,-7
fall = 1
fall.animtype = Up
fall.recover = 0

[State 4003, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 4004

[State 4003, 3]
type = DestroySelf
trigger1 = Parent, MoveType = H
trigger2 = Parent, StateNo = 820

;---------------------------------------------------------------------------
; Raging Storm(强) - 飞行道具 (loop)
[Statedef 4004]
type = S
movetype = A
physics = S
velset = 0,0
anim = 4006
ctrl = 0
sprpriority = 4

[State 4004, 1]
type = HitDef
trigger1 = Helper(4003), HitCount <= 1
attr = A, HP
priority = 7
animtype = Up
damage = 80, 5
hitflag = MAF
guardflag = MAF
pausetime = 4,4
sparkno = 1
sparkxy = -20,-60
guard.sparkno = 12
hitsound = F1,7
guardsound = F5,4
ground.type = Low
ground.slidetime = 4
ground.hittime  = 4
ground.velocity = -1.5,-7
guard.velocity = -7
air.velocity = -1.5,-7
fall = 1
fall.animtype = Up
fall.recover = 0

[State 4004, 2]
type = Hitby
trigger1 = 1
value = SCA, AP

[State 4004, 3]
type = ChangeState
trigger1 = Time = 40
value = 4005

[State 4004, 4]
type = DestroySelf
trigger1 = Parent, MoveType = H
trigger2 = Parent, StateNo = 820

;---------------------------------------------------------------------------
; Raging Storm(强) - 飞行道具 (end)
[Statedef 4005]
type = S
movetype = A
physics = S
velset = 0,0
anim = 4007
ctrl = 0
sprpriority = 4

[State 4005, 1]
type = destroyself
trigger1 = AnimTime = 0
trigger2 = Parent, MoveType = H
trigger3 = Parent, StateNo = 820

;---------------------------------------------------------------------------
; Shinning Knuckle(强) - start
[Statedef 4100]
type = S
movetype = A
physics = S
juggle = 4
velset = 0,0
anim = 4100
ctrl = 0
sprpriority = 2
poweradd = -2000

[State 4100, 0]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,37
channel = 6

[State 4100, 1]
type = SuperPause
trigger1 = AnimElem = 3
trigger1 = PrevStateNo != [1000,2999]
time = 63
anim = -1
sound = F7,1

[State 4100, 1]
type = SuperPause
trigger1 = AnimElem = 3
trigger1 = PrevStateNo = [1000,2999]
time = 10
anim = -1
sound = F7,3

[State 4100, 2]
type = EnvColor
trigger1 = Time = 1
trigger1 = PrevStateNo != [1000,2999]
time = 63
value = 0,0,0
under = 1
supermove = 1

[State 4100, 3]
type = Explod
trigger1 = Time = 0
trigger1 = PrevStateNo != [1000,2999]
anim = F73
postype = Left
scale = 1.1, 1.1
pos = 152,110
bindtime = 1
supermove = 1
ownpal = 1
sprpriority = -2

[State 4100, 4]
type = Explod
trigger1 = Time = 0
trigger1 = PrevStateNo != [1000,2999]
anim = F74
postype = p1
pos = -10,-64
bindtime = 1
supermove = 1
ownpal = 1
sprpriority = -1

[State 4100, 5]
type = Explod
trigger1 = Time = 0
trigger1 = PrevStateNo != [1000,2999]
anim = F75
postype = p1
pos = -10,-64
bindtime = 1
supermove = 1
ownpal = 1

[State 4100, 5]
type = Explod
trigger1 = AnimElem = 3
trigger1 = PrevStateNo = [1000,2999]
anim = F90
postype = p1
pos = -10,-64
bindtime = 1
supermove = 1
ownpal = 1
ontop = 1

[State 4100, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 4101

;---------------------------------------------------------------------------
; Shinning Knuckle(强) - attack
[Statedef 4101]
type = S
movetype = A
physics = S
velset = 0,0
anim = 4101
ctrl = 0

[State 4101, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,38
channel = 6

[State 4101, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = F10,6
channel = 7

[State 4101, 0]
type = AfterImage
trigger1 = AnimElem = 1
time = 40
length = 10
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 4101, 1]
type = VelSet
trigger1 = AnimElem = 3
x = 20

[State 4101, 1]
type = VelSet
trigger1 = P2BodyDist X <= 30
x = 10

[State 4101, 1]
type = VelSet
trigger1 = MoveHit
x = 5

[State 4101, DUST]
type = Explod
trigger1 = AnimElem = 4
anim = F53
pos = -50,0
postype = p1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1

[State 4101, 2]
type = Explod
trigger1 = AnimElem = 5
anim = 3103
postype = p1
pos = 15,0
bindtime = -1
ownpal = 1
sprpriority = 1
ignoreHitPause = 0
removeongethit = 1

[State 4101, 1]
type = HitDef
trigger1 = HitCount < 1
trigger1 = !MoveGuarded
attr = S, HA
priority = 7
animtype = Medium
damage = 50, 5
hitflag = MAF
guardflag = MAF
pausetime = 40,30
sparkno = 1
sparkxy = -10,-60
hitsound = F0,15
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
ground.velocity = -4,0
guard.velocity = -3
air.velocity = -4,-5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15

[State 4101, 3]
type = VelSet
trigger1 = AnimTime = 0
x = 0

[State 4101, 4]
type = ChangeState
trigger1 = MoveHit
trigger1 = HitShakeOver
value = 4103

[State 4101, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 4102

;---------------------------------------------------------------------------
; Shinning Knuckle(强) - end
[Statedef 4102]
type = S
movetype = I
physics = S
juggle = 4
velset = 0,0
anim = 4102
ctrl = 0

[State 4102, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4102, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Shinning Knuckle(强) - attack 2nd hit
[Statedef 4103]
type = S
movetype = A
physics = S
velset = 0,0
anim = 4103
ctrl = 0

[State 4103, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,39
channel = 6

[State 4103, 1]
type = VelSet
trigger1 = AnimElem = 1
x = 10

[State 4103, 2]
type = Explod
trigger1 = AnimElem = 4
anim = 4105
postype = p1
pos = 0,0
bindtime = -1
ownpal = 1
ontop = 1
ignoreHitPause = 1
removeongethit = 1

[State 4103, 3]
type = HitDef
trigger1 = 1
attr = S, HA
priority = 7
animtype = Medium
damage = 50, 5
hitflag = MAF
guardflag = MAF
pausetime = 20,20
sparkno = 1
sparkxy = -10,-60
hitsound = F0,15
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,0
guard.velocity = -3
air.velocity = -4,-5
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15

[State 4103, 3]
type = VelSet
trigger1 = AnimTime = 0
x = 0

[State 4101, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 4104

;---------------------------------------------------------------------------
; Shinning Knuckle(强) - attack 3nd hit
[Statedef 4104]
type = A
movetype = A
physics = N
juggle = 4
velset = 0,0
anim = 4104
ctrl = 0

[State 4104, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,40
channel = 6

[State 4104, 2]
type = VelSet
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 32, < 0
y = -4

[State 4104, 3]
type = VelSet
trigger1 = AnimElem = 34, >= 0
trigger1 = AnimElem = 37, < 0
y = 1.5

[State 4104, 4]
type = VelSet
trigger1 = AnimElem = 37, >= 0
trigger1 = AnimElem = 39, < 0
y = 5

[State 4104, 5]
type = VelSet
trigger1 = AnimElem = 39, >= 0
y = 0

[State 4104, 6]
type = PosSet
trigger1 = AnimElem = 39
y = 0

[State 4104, Water]
type = PlaySnd
trigger1 = AnimElem = 39
trigger1 = floor(ScreenPos Y - Pos Y) = 204
value = F3,2

[State 4104, Glass]
type = PlaySnd
trigger1 = AnimElem = 39
trigger1 = floor(ScreenPos Y - Pos Y) = 205
value = F3,4

[State 4104, Ground]
type = PlaySnd
trigger1 = AnimElem = 39
trigger1 = floor(ScreenPos Y - Pos Y) = 206
value = F3,0

[State 4104, Spray Anim P1]
type = Explod
trigger1 = AnimElem = 39
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 1
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 4104, Spray Anim P2]
type = Explod
trigger1 = AnimElem = 39
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 2
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2
facing = -1

[State 4104, Dust]
type = Explod
triggerAll = Time = 0
trigger1 = (floor(ScreenPos Y - Pos Y) = 205)
trigger2 = (floor(ScreenPos Y - Pos Y) = 206)
anim = F54
postype = p1
pos = -20, 0
sprpriority = -2
removeongethit = 1
ID = 54

[State 4104, Water]
type = Explod
trigger1 = Time = 0
trigger1 = floor(ScreenPos Y - Pos Y) = 204
anim = F65
postype = p1
pos = -20, 10
sprpriority = -2
removeongethit = 1
ID = 65

[State 4104, 10]
type = HitDef
trigger1 = 1
attr = A, SA
animtype = Up
damage = 40,5
priority = 6
hitflag = MAF
guardflag = MAF
pausetime = 2,2
sparkxy = -10,-70
hitsound = F0,9
guardsound = F5,4
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.5,-6.5
guard.velocity = -7
air.velocity = -1.5,-6.5
fall = 1
fall.animtype = Up
fall.recover = 0

[State 4104, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4104, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Neo Deadly Wave - start
[Statedef 4200]
type = S
movetype = A
physics = S
juggle = 4
velset = 0,0
anim = 4200
ctrl = 0
sprpriority = 2
poweradd = -2000

[State 4200, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,41
channel = 6

[State 4200, 1]
type = SuperPause
trigger1 = AnimElem = 5
trigger1 = PrevStateNo != [1000,2999]
time = 63
anim = -1
sound = F7,1

[State 4200, 1]
type = SuperPause
trigger1 = AnimElem = 5
trigger1 = PrevStateNo = [1000,2999]
time = 10
anim = -1
sound = F7,3

[State 4200, 2]
type = EnvColor
trigger1 = Time = 1
trigger1 = PrevStateNo != [1000,2999]
time = 63
value = 0,0,0
under = 1
supermove = 1

[State 4200, 3]
type = Explod
trigger1 = Time = 0
trigger1 = PrevStateNo != [1000,2999]
anim = F73
postype = Left
scale = 1.1, 1.1
pos = 152,110
bindtime = 1
supermove = 1
ownpal = 1
sprpriority = -2

[State 4200, 4]
type = Explod
trigger1 = Time = 0
trigger1 = PrevStateNo != [1000,2999]
anim = F74
postype = p1
pos = 10,-80
bindtime = 1
supermove = 1
ownpal = 1
sprpriority = -1

[State 4200, 5]
type = Explod
trigger1 = Time = 0
trigger1 = PrevStateNo != [1000,2999]
anim = F75
postype = p1
pos = 10,-80
bindtime = 1
supermove = 1
ownpal = 1

[State 4200, 5]
type = Explod
trigger1 = AnimElem = 5
trigger1 = PrevStateNo = [1000,2999]
anim = F90
postype = p1
pos = 10,-80
bindtime = 1
supermove = 1
ownpal = 1
ontop = 1

[State 4200, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 4201

;---------------------------------------------------------------------------
; Neo Deadly Wave - attack
[Statedef 4201]
type = S
movetype = A
physics = S
velset = 0,0
anim = 4201
ctrl = 0

[State 4201, 0]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 4201, 1]
type = VelSet
trigger1 = AnimElem = 2
x = 18

[State 4201, DUST]
type = Explod
trigger1 = AnimElem = 4
anim = F53
pos = -10,0
postype = p1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1

[State 4201, 1]
type = HitDef
trigger1 = HitCount < 1
trigger1 = !MoveGuarded
attr = S, HA
priority = 7
animtype = Medium
damage = 10, 1
hitflag = M
guardflag = M
pausetime = 14,14
sparkno = 1
sparkxy = -12,-70
hitsound = F0,6+(RANDOM<500)
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -3
air.hittime = 21
air.velocity = -2,-4
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15

[State 4201, 4]
type = ChangeState
trigger1 = HitCount = 1
trigger1 = HitShakeOver
trigger1 = Command = "a"
value = 4203

[State 4201, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 4202

;---------------------------------------------------------------------------
; Neo Deadly Wave - end
[Statedef 4202]
type = S
movetype = I
physics = S
velset = 0,0
anim = 4202
ctrl = 0

[State 4202, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4202, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Neo Deadly Wave - 1st Combo
[Statedef 4203]
type = S
movetype = A
physics = S
ctrl = 0
velset = 2,0
anim = 4203

[State 4203, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 4203, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,30

[State 4203, 2]
type = HitDef
trigger1 = 1
attr = S, NA
animtype = Medium
damage = 25,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,6+(RANDOM<500)
guardsound = F5,4
ground.type = Low
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -2
air.hittime = 21
air.velocity = -2,-4

[State 4203, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 4203, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 4203, 4]
type = ChangeState
trigger1 = HitCount = 1
trigger1 = HitShakeOver
trigger1 = AnimElem >= 8
trigger1 = Command = "a"
value = 4204

[State 4203, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4203, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Neo Deadly Wave - 2nd Combo
[Statedef 4204]
type = S
movetype = A
physics = S
ctrl = 0
velset = 2,0
anim = 4204

[State 4204, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 4204, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,30

[State 4204, 2]
type = HitDef
trigger1 = 1
attr = S, NA
animtype = Up
damage = 25,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,6+(RANDOM<500)
guardsound = F5,4
ground.type = Low
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -2
air.hittime = 21
air.velocity = -2,-4

[State 4204, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 4204, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 4204, 4]
type = ChangeState
trigger1 = HitCount = 1
trigger1 = HitShakeOver
trigger1 = AnimElem >= 7
trigger1 = Command = "b"
value = 4205

[State 4204, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4204, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Neo Deadly Wave - 3rd Combo
[Statedef 4205]
type = S
movetype = A
physics = S
ctrl = 0
velset = 2,0
anim = 4205

[State 4205, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 4205, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,30

[State 4205, 2]
type = HitDef
trigger1 = 1
attr = S, NA
animtype = Medium
damage = 25,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,6+(RANDOM<500)
guardsound = F5,4
ground.type = Low
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -2
air.hittime = 21
air.velocity = -2,-4

[State 4205, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 4205, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 4205, 4]
type = ChangeState
trigger1 = HitCount = 1
trigger1 = HitShakeOver
trigger1 = AnimElem >= 8
trigger1 = Command = "b"
value = 4206

[State 4205, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4204, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Neo Deadly Wave - 4th Combo
[Statedef 4206]
type = S
movetype = A
physics = S
ctrl = 0
velset = 2,0
anim = 4206

[State 4206, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 4206, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,31

[State 4206, 2]
type = HitDef
trigger1 = 1
attr = S, NA
animtype = Medium
damage = 25,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,3+(RANDOM<500)
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -2
air.hittime = 21
air.velocity = -2,-4

[State 4206, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 4206, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 4206, 4]
type = ChangeState
trigger1 = HitCount = 1
trigger1 = HitShakeOver
trigger1 = AnimElem >= 7
trigger1 = Command = "x"
value = 4207

[State 4206, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4206, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Neo Deadly Wave - 5th Combo
[Statedef 4207]
type = S
movetype = A
physics = S
ctrl = 0
velset = 2,0
anim = 4207

[State 4207, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 4207, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,31

[State 4207, 2]
type = HitDef
trigger1 = 1
attr = S, NA
animtype = Medium
damage = 25,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,3+(RANDOM<500)
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -2
air.hittime = 21
air.velocity = -2,-4

[State 4207, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 4207, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 4207, 4]
type = ChangeState
trigger1 = HitCount = 1
trigger1 = HitShakeOver
trigger1 = AnimElem >= 5
trigger1 = Command = "x"
value = 4208

[State 4207, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4207, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Neo Deadly Wave - 6th Combo
[Statedef 4208]
type = S
movetype = A
physics = S
ctrl = 0
velset = 2,0
anim = 4208

[State 4208, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 4208, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,31

[State 4208, 2]
type = HitDef
trigger1 = 1
attr = S, NA
animtype = Medium
damage = 25,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,9+(RANDOM<500)
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -2
air.hittime = 21
air.velocity = -2,-4

[State 4208, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 4208, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 4208, 4]
type = ChangeState
trigger1 = HitCount = 1
trigger1 = HitShakeOver
trigger1 = AnimElem >= 8
trigger1 = Command = "y"
value = 4209

[State 4208, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4208, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Neo Deadly Wave - 7th Combo
[Statedef 4209]
type = S
movetype = A
physics = S
ctrl = 0
velset = 2,0
anim = 4209

[State 4209, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 4209, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,30

[State 4209, 2]
type = HitDef
trigger1 = 1
attr = S, NA
animtype = Up
damage = 25,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,6+(RANDOM<500)
guardsound = F5,4
ground.type = Low
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -2
air.hittime = 21
air.velocity = -2,-4

[State 4209, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 4209, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 4209, 4]
type = ChangeState
trigger1 = HitCount = 1
trigger1 = HitShakeOver
trigger1 = AnimElem >= 7
trigger1 = Command = "y"
value = 4210

[State 4209, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4209, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Neo Deadly Wave - 8th Combo
[Statedef 4210]
type = S
movetype = A
physics = S
ctrl = 0
velset = 2,0
anim = 4210

[State 4210, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 4210, 1]
type = PlaySnd
trigger1 = Time = 4
value = F0,30

[State 4210, 2]
type = HitDef
trigger1 = 1
attr = S, NA
animtype = Up
damage = 25,0
hitflag = MA
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -12,-70
hitsound = F0,6+(RANDOM<500)
guardsound = F5,4
ground.type = Low
ground.slidetime = 20
ground.hittime = 21
ground.velocity = -2
air.hittime = 21
air.velocity = -2,-4

[State 4210, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 4210, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 4210, 4]
type = ChangeState
trigger1 = HitCount = 1
trigger1 = HitShakeOver
trigger1 = AnimElem >= 8
trigger1 = Command = "DB_x"
value = 4211

[State 4210, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4210, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Neo Deadly Wave - final attack
[Statedef 4211]
type = S
movetype = A
physics = S
ctrl = 0
velset = 2,0
anim = 4211

[State 4211, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
framegap = 1

[State 4211, 1]
type = EnvColor
trigger1 = AnimElem = 2
value = 0, 0, 0
time = 46
under = 1

[State 4211, 2]
type = PlaySnd
trigger1 = Time = 0
value = F10,12

[State 4211, 3]
type = Explod
trigger1 = AnimElem = 7
anim = 4213
scale = 1,1
postype = P1
pos = 20,-60
ownpal = 1
bindtime = -1
under = 1

[State 4211, 3]
type = Explod
trigger1 = AnimElem = 7
anim = 4212
scale = 1,1
postype = P1
pos = 20,-60
ownpal = 1
bindtime = -1
under = 1

[State 4211, 3]
type = Explod
trigger1 = AnimElem = 6
anim = 4214
scale = 1,1
postype = P1
pos = 0,0
ownpal = 1
ontop = 1
bindtime = -1

[State 4211, 4]
type = Explod
trigger1 = AnimElem = 14
anim = 4215
scale = 1,1
postype = P1
pos = 0,-1
ownpal = 1
ontop = 1
bindtime = -1

[State 4211, 6]
type = HitDef
trigger1 = 1
attr = S, HA
animtype = Back
damage = 50, 10
hitflag = MAF
guardflag = MAF
pausetime = 0,0
sparkxy = -10,-60
hitsound = -1 ;F0,15
guardsound = F5,4
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-6
guard.velocity = -4
air.velocity = -4,-6
envshake.ampl = 3
envshake.freq = 180
envshake.time = 15
fall = 1
fall.yvelocity = 0
fall.envshake.ampl = 3
fall.envshake.freq = 180
fall.envshake.time = 8
fall.animtype = Back
fall.recover = 0

[State 4211, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM < 250
value = 0,6

[State 4211, 3]
type = PlaySnd
trigger1 = Time = 1
trigger1 = RANDOM > 250
trigger1 = RANDOM < 500
value = 0,7

[State 4211, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4211, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Omega Burst - start
[Statedef 4500]
type = A
movetype = A
physics = S
juggle = 4
velset = 0,0
anim = 4500
ctrl = 0
sprpriority = 2
poweradd = -2000

[State 4500, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,30
channel = 6

[State 4500, OMEGA BG Invert]
type = BGPalFx
trigger1 = Time = 0
time = 49
invertall = 1

[State 4500, 1]
type = SuperPause
trigger1 = AnimElem = 1
trigger1 = PrevStateNo != [1000,2999]
time = 48
anim = -1
darken = 0
sound = F7,4

[State 4500, 1]
type = SuperPause
trigger1 = AnimElem = 1
trigger1 = PrevStateNo = [1000,2999]
time = 10
anim = -1
darken = 0
sound = F7,3

;[State 4500, 2]
;type = Explod
;trigger1 = Time = 0
;trigger1 = PrevStateNo != [1000,2999]
;anim = F9000
;postype = Left
;scale = 1.1, 1.1
;pos = 162,120
;bindtime = 1
;supermove = 1
;ownpal = 1
;sprpriority = -2

[State 4500, 2]
type = Explod
trigger1 = Time = 0
trigger1 = PrevStateNo != [1000,2999]
anim = F9003
postype = p1
pos = 10,-80
bindtime = 1
supermove = 1
ownpal = 1
ontop = 1

[State 4500, 2]
type = Explod
trigger1 = AnimElem = 1
trigger1 = PrevStateNo = [1000,2999]
anim = F90
postype = p1
pos = 10,-80
bindtime = 1
supermove = 1
ownpal = 1
ontop = 1

[State 4500, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 4501

;---------------------------------------------------------------------------
; Omega Burst - attack
[Statedef 4501]
type = A
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 4501

[State 4501, 1]
type = AfterImage
trigger1 = AnimElem = 1
time = 20
length = 8
palcolor = 256
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,250
palpostbright = 0,0,0
paladd = 1,1,1
palmul = 1,1,1
timegap = 2
;framegap = 1

[State 4501, 2]
type = VelSet
trigger1 = Time = 2
x = 15
y = 10

[State 4501, Wing Sound]
type = PlaySnd
trigger1 = Time = 2
value = F10,3

[State 4501, Wing]
type = Explod
trigger1 = Time = 2
anim = 4503
pos = -5,0
postype = p1
ownpal = 1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 1
ID = 4503

[State 4501, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A, ST
hitflag = IfElse(P2StateType=A,AF,M)
priority = 1, Miss
sparkno = -1
hitsound = F0,19
p1sprpriority = 1
p2sprpriority = 2
p1facing = 1
p2facing = 1
p2stateno = IfElse(P2StateType=A,4511,4510)
guard.dist = 0
IfElse(P2StateType=A,fall=1,)
IfElse(P2StateType=A,fall.recover=0,)

[State 4501, 4]
type = TargetBind
trigger1 = P2StateType = A
trigger1 = AnimElem = 3, = 0
pos = 10,0

[State 4501, 5]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4502

;---------------------------------------------------------------------------
; Omega Burst - Land
[Statedef 4502]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0
anim = 4502

[State 4502, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 4502, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 4502, Water]
type = PlaySnd
trigger1 = Time = 0
trigger1 = floor(ScreenPos Y - Pos Y) = 204
value = F3,2

[State 4502, Glass]
type = PlaySnd
trigger1 = Time = 0
trigger1 = floor(ScreenPos Y - Pos Y) = 205
value = F3,4

[State 4502, Ground]
type = PlaySnd
trigger1 = Time = 0
trigger1 = floor(ScreenPos Y - Pos Y) = 206
value = F3,0

[State 4502, Spray Anim P1]
type = Explod
trigger1 = Time = 0
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 1
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2

[State 4502, Spray Anim P2]
type = Explod
trigger1 = Time = 0
trigger1 = floor(ScreenPos Y - Pos Y) = 204
trigger1 = TeamSide = 2
anim = F63
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2
facing = -1

[State 4502, ChangeState]
type = ChangeState
trigger1 = Time = 0
trigger1 = P2StateNo = [4510,4511]
value = 4504

[State 4502, Hair A]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command = "down"
value = 31

[State 4502, Hair B]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Command != "down"
value = 30

;---------------------------------------------------------------------------
; Omega Burst - Attack start 1
[Statedef 4504]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0
anim = 4504
sprpriority = 5

[State 4504, 1]
type = TargetBind
trigger1 = P2StateNo = 4510
trigger1 = AnimElem = 1, >= 0
pos = 40,0

[State 4504, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 15
freq = 170
ampl = 4

[State 4504, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 4505

;---------------------------------------------------------------------------
; Omega Burst - Attack start 2
[Statedef 4505]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0
anim = 4505
sprpriority = 3

[State 4505, 0]
type = PlaySnd
trigger1 = Time = 0
value = 0,32
channel = 6

[State 4505, 1]
type = Explod
trigger1 = AnimElem = 1
anim = 3006
pos = 30,0
postype = p1
ownpal = 1
bindtime = -1
removetime = -2
sprpriority = 4

[State 4505, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 80
freq = 170
ampl = 3

[State 4504, 2]
type = ChangeState
trigger1 = Time = 80
value = 4506

;---------------------------------------------------------------------------
; Omega Burst - Attack start 3
[Statedef 4506]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0,0
anim = 4506
sprpriority = 3

[State 4507, 2]
type = EnvShake
trigger1 = Time = 0
ampl = 5
freq = 170
time = 3

[State 4506, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 4507

;---------------------------------------------------------------------------
; Omega Burst - Attack
[Statedef 4507]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 4505
sprpriority = 3

[State 4507, 0]
type = PlaySnd
trigger1 = Time = 0
value = F10,7
channel = 5

[State 4507, Raging Storm Sound Stop]
type = StopSnd
trigger1 = Parent, MoveType = H
channel = 5

[State 4507, 1]
type = Explod
trigger1 = Time = 0
anim = 4006
postype = P1
pos = 0,5
ownpal = 1
ontop = 1
bindtime = -1
removetime = -1
ID = 4006

[State 4507, 1]
type = HitDef
trigger1 = HitCount <= 3
attr = A, HP
priority = 7
animtype = Up
damage = 80, 5
hitflag = MAFD
guardflag = MAFD
pausetime = 4,4
sparkno = 1
sparkxy = -20,-60
guard.sparkno = 12
hitsound = F1,7
guardsound = F5,4
ground.type = Low
ground.slidetime = 4
ground.hittime  = 4
ground.velocity = -0.5,-7
guard.velocity = -7
air.velocity = -0.5,-7
fall = 1
fall.animtype = Up
fall.recover = 0

[State 4507, 2]
type = EnvShake
trigger1 = Time = 0
ampl = 6
freq = 170
time = 40

[State 4507, 3]
type = RemoveExplod
trigger1 = Time = 40
ID = 4006

[State 4507, 3]
type = ChangeState
trigger1 = Time = 40
value = 4211

;---------------------------------------------------------------------------
; Omega Burst - Hit State
[Statedef 4510]
type = L
movetype = H
physics = S
ctrl = 0
velset = 0,0
anim = 4510

[State 4510, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 4510, 2]
type = SelfState
trigger1 = AnimTime = 0
value = 5120

;---------------------------------------------------------------------------
; Omega Burst - Hit State
[Statedef 4511]
type = A
movetype = H
physics = S
ctrl = 0
velset = -15,10
anim = 4511

[State 4511, 2]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4510

;---------------------------------------------------------------------------
; AI Trigger
[Statedef 9999]
ctrl = 0

[State 9999, 0]
type = Turn
trigger1 = facing != parent, facing

[State 9999, AI]
type = ParentVarSet
triggerall = var(4) != 1
trigger1 = (parent, command = "a")&&(command != "a")
trigger2 = (parent, command = "b")&&(command != "b")
trigger3 = (parent, command = "c")&&(command != "c")
trigger4 = (parent, command = "x")&&(command != "x")
trigger5 = (parent, command = "y")&&(command != "y")
trigger6 = (parent, command = "z")&&(command != "z")
var(5) = 1

[State 9999, User]
type = VarSet 
triggerall = var(4) != 1
trigger1 = parent, command = "a"
trigger2 = parent, command = "b"
trigger3 = parent, command = "c"
trigger4 = parent, command = "x"
trigger5 = parent, command = "y"
trigger6 = parent, command = "z"
var(4) = 1

[State 9999, AI user]
type = ParentVarSet
trigger1 = var(4) = 1
var(6) = 1

[State 9999, Destroy]             
type = DestroySelf 
trigger1 = p2life = 0
trigger2 = (Parent,var(5) = 1)
trigger3 = var(4) = 1

;===========================================================================
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;---------------------------------------------
; Struck SND
;---------------------------------------------
[State -3, Light Struck sound 1]
type = PlaySnd
trigger1 = MoveType = H
trigger1 = !GetHitVar(guarded)
trigger1 = Time = 0
trigger1 = RANDOM < 350
trigger1 = GetHitVar(animtype) = 0
value = 0,42

[State -3, Light Struck sound 2]
type = PlaySnd
trigger1 = MoveType = H
trigger1 = !GetHitVar(guarded)
trigger1 = Time = 0
trigger1 = RANDOM > 350 && RANDOM < 700
trigger1 = GetHitVar(animtype) = 0
value = 0,43

[State -3, Strong Struck sound 1]
type = PlaySnd
trigger1 = MoveType = H
trigger1 = !GetHitVar(guarded)
trigger1 = Time = 0
trigger1 = RANDOM < 350
trigger1 = GetHitVar(animtype) >= 1 
value = 0,44

[State -3, Strong Struck sound 2]
type = PlaySnd
trigger1 = MoveType = H
trigger1 = !GetHitVar(guarded)
trigger1 = Time = 0
trigger1 = RANDOM > 350 && RANDOM < 700
trigger1 = GetHitVar(animtype) >= 1 
value = 0,45

;---------------------------------------------
; Normal Ground SND
;---------------------------------------------
[State -3, Running sound 1]
type = PlaySnd
trigger1 = stateno = 100
trigger1 = AnimElem = 2
trigger1 = floor(ScreenPos Y - Pos Y) = 206
value = F10,0

[State -3, Running sound 2]
type = PlaySnd
trigger1 = stateno = 100
trigger1 = AnimElem = 7
trigger1 = floor(ScreenPos Y - Pos Y) = 206
value = F10,1

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = stateno = 40
trigger1 = Time = 0
trigger1 = floor(ScreenPos Y - Pos Y) = 206
value = F2,2
channel = 26

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
triggerall = floor(ScreenPos Y - Pos Y) = 206
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = F3,0

;---------------------------------------------
; Glass Ground SND
;---------------------------------------------
[State -3, Running sound 1]
type = PlaySnd
trigger1 = stateno = 100
trigger1 = AnimElem = 2
trigger1 = floor(ScreenPos Y - Pos Y) = 205
value = F3,13

[State -3, Running sound 2]
type = PlaySnd
trigger1 = stateno = 100
trigger1 = AnimElem = 7
trigger1 = floor(ScreenPos Y - Pos Y) = 205
value = F3,14

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = stateno = 40
trigger1 = Time = 0
trigger1 = floor(ScreenPos Y - Pos Y) = 205
value = F2,2
channel = 26

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
triggerall = floor(ScreenPos Y - Pos Y) = 205
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = F3,4

;---------------------------------------------
; Water Ground SND
;---------------------------------------------
[State -3, Running sound 1]
type = PlaySnd
trigger1 = stateno = 100
trigger1 = AnimElem = 2
trigger1 = floor(ScreenPos Y - Pos Y) = 204
value = F3,11

[State -3, Running sound 2]
type = PlaySnd
trigger1 = stateno = 100
trigger1 = AnimElem = 7
trigger1 = floor(ScreenPos Y - Pos Y) = 204
value = F3,12

[State -3, Jumping Sound]
type = PlaySnd
trigger1 = stateno = 40
trigger1 = Time = 0
trigger1 = floor(ScreenPos Y - Pos Y) = 204
value = F2,2
channel = 26

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
triggerall = floor(ScreenPos Y - Pos Y) = 204
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = F3,2

;---------------------------------------------
; Water Ground Spray
;---------------------------------------------
[State -3, Water Ground Spray]
type = explod
;trigger1 = NumExplod(62) = 0
trigger1 = StateNo = 100
trigger1 = AnimElem = 2 || AnimElem = 7
trigger1 = floor(ScreenPos Y - Pos Y) = 204
anim = F62
postype = p1
pos = 0,-5
ownpal = 1
ontop = 1
bindtime = 1
removetime = -2
ID = 62

;---------------------------------------------

[State -3, Lose Game TimeOver]
type = PlaySnd
trigger1 = stateno = 170
trigger1 = Time = 1
value = 0,28

[State -3, Draw Game TimeOver]
type = PlaySnd
trigger1 = stateno = 175
trigger1 = Time = 1
value = 0,3

[State -3, Taunt 1]
type = PlaySnd
trigger1 = stateno = 195
trigger1 = Time = 1
value = 0,0
channel = 0

[State -3, Taunt GameOver 1A]
type = PlaySnd
trigger1 = stateno = 196
trigger1 = AnimElem = 3
value = 0,25

[State -3, Taunt GameOver 1B]
type = PlaySnd
trigger1 = stateno = 196
trigger1 = AnimElem = 8
value = 0,26

[State -3, Taunt GameOver 2]
type = PlaySnd
trigger1 = stateno = 197
trigger1 = Time = 1
value = 0,27

;---------------------------------------------
[State -3, LOSE KO STATE DECIDER]
type = varadd
trigger1 = LoseKO = 1
trigger1 = Time = 1
trigger1 = MatchOver = 1
v = 10
value = 1

[State -3, KO 1]
type = playsnd
triggerall = var(10) = 1
triggerall = Time = 1
trigger1 = P2StateNo = [200,211] 
trigger2 = P2StateNo = [400,411] 
trigger3 = P2StateNo = [600,611]
value = 0,46

[State -3, KO 2]
type = playsnd
triggerall = var(10) = 1
triggerall = Time = 1
trigger1 = P2StateNo != [200,211]
trigger1 = P2StateNo != [400,411]
trigger1 = P2StateNo != [600,611]
value = 0,47

;---------------------------------------------
[State -3, Gather Power Sound Stop]
type = StopSnd
trigger1 = Power = 3000
trigger2 = Command != "hold_c"
trigger3 = MoveType = H
channel = 15

[State -3, Raging Storm Shout Stop]
type = StopSnd
trigger1 = MoveType = H
channel = 4

[State -3, Raging Storm Sound Stop]
type = StopSnd
trigger1 = MoveType = H
channel = 5

;---------------------------------------------
[State -3, Gather Power Explod Remove]
type = RemoveExplod
triggerall = NumExplod(91) = 1
trigger1 = Power = 3000
trigger2 = command != "hold_c"
trigger3 = MoveType = H
trigger4 = StateNo = 820
ID = 91

[state -3, Dust Explod Remove]
type = RemoveExplod
triggerall = NumExplod(54) = 1
trigger1 = MoveType = H
trigger2 = StateNo = 820
ID = 54

[state -3, Water Explod Remove]
type = RemoveExplod
triggerall = NumExplod(65) = 1
trigger1 = MoveType = H
trigger2 = StateNo = 820
ID = 65

[State -3, Potential Attack Explod Remove]
type = RemoveExplod
triggerall = NumExplod(922) = 1
trigger1 = MoveType = H
trigger2 = StateNo = 820
ID = 922

[state -3, Smoke Explod Remove]
type = RemoveExplod
triggerall = NumExplod(1001) = 1
trigger1 = MoveType = H
trigger2 = StateNo = 820
trigger3 = StateNo != 1000
ID = 1001

[state -3, Smoke Explod Remove]
type = RemoveExplod
triggerall = NumExplod(1011) = 1
trigger1 = MoveType = H
trigger2 = StateNo = 820
trigger3 = StateNo != 1010
ID = 1011

[state -3, Wing Explod Remove]
type = RemoveExplod
triggerall = NumExplod(1034) = 1
trigger1 = MoveType = H
trigger2 = StateNo = 820
trigger3 = StateNo != 1031
ID = 1034

[state -3, Wing Explod Remove]
type = RemoveExplod
triggerall = NumExplod(1042) = 1
trigger1 = MoveType = H
trigger2 = StateNo = 820
trigger3 = StateNo != 1040
ID = 1042

[state -3, Wing Explod Remove]
type = RemoveExplod
triggerall = NumExplod(1043) = 1
trigger1 = MoveType = H
trigger2 = StateNo = 820
trigger3 = StateNo != 1041
ID = 1043

[State -3, Rageing Storm Explod Remove]
type = RemoveExplod
trigger1 = StateNo != 4000
ID = 40031

[State -3, Rageing Storm Explod Remove]
type = RemoveExplod
trigger1 = StateNo != 4000
ID = 40032

[State -3, Rageing Storm Explod Remove]
type = RemoveExplod
trigger1 = StateNo != 4001
ID = 40041

[State -3, Rageing Storm Explod Remove]
type = RemoveExplod
trigger1 = StateNo != 4001
ID = 40042

;---------------------------------------------
[State -3, Rosatsu throw turn]
type = Turn
trigger1 = PrevStateNo = 1089

;---------------------------------------------
[State -3, crouch light kick hit correction]
type = ChangeState
trigger1 = StateType != A
trigger1 = MoveType = H
trigger1 = !GetHitVar(guarded)
trigger1 = P2StateNo = 410
trigger1 = Time = 0
value = 5182

;---------------------------------------------
[State -3, slowdown game time]
type = SuperPause
triggerall = (P2MoveType = H) && (MoveGuarded = 0) &&(movehit%3 = 1)
trigger1 = (StateNo = 1040) && (Time > 10)
trigger2 = (StateNo = 1041) && (Time < 20)
time = 1
anim = -1
darken = 0

;---------------------------------------------
[state -3, GUARD CANCEL Variable Set]
type = VarSet
triggerall = (command = "DB_x") || (command = "DB_y") || (command = "DB_a") || (command = "DB_b")
trigger1 = (StateNo = 160) || (StateNo = 162)
v = 28
value = 1

;---------------------------------------------
[state -3, MOW MODE]
type = Explod
triggerAll = (RoundState=2)&&(NumExplod(ifelse(TeamSide=1,8201,8202))=0)
trigger1 = var(2) = 2
anim = F82
scale = 0.5, 0.5
postype = Left
pos = ifelse(TeamSide=1,18,302),208
ownpal = 1
ontop = 1
bindtime = -1
removetime = -1
facing = ifelse(TeamSide=1,1,-1)
ID = ifelse(TeamSide=1,8201,8202)

[state -3, MOW MODE Clean]
type = RemoveExplod
triggerAll = NumExplod(ifelse(TeamSide=1,8201,8202)) = 1
trigger1 = RoundState = 4
trigger2 = MatchOver = 1
trigger3 = var(2) != 2
ignorehitpause = 1
ID = ifelse(TeamSide=1,8201,8202)

;---------------------------------------------
[State -3, WINPOSE DECIDER 1]
type = varset
trigger1 = StateNo = [200,2999]
v = 21
value = 0

[State -3, WINPOSE DECIDER 2]
type = varset
triggerAll = MatchOver = 1
trigger1 = StateNo = [3000,3099]
trigger2 = StateNo = [4000,4099]
trigger3 = StateNo = [4200,4299]
v = 21
value = 1

[State -3, WINPOSE DECIDER 3]
type = varset
triggerAll = MatchOver = 1
trigger1 = StateNo = [3100,3199]
trigger2 = StateNo = [4100,4199]
v = 21
value = 2

;---------------------------------------------
[State -3, P2 Distence Decider]
type = VarSet
trigger1 = P2StateNo != 0
trigger1 = P2StateNo != 5101
trigger1 = P2StateNo != 5110
trigger1 = P2StateNo != 5150
fv = 11
value = P2BodyDist X/53 + IfElse(StateType=A,0.7,0)

;---------------------------------------------
[State -3, OMEGA BG Invert]
type = BGPalFx
trigger1 = StateNo = [4500,4509]
time = 1
invertall = 1
ignoreHitPause = 1
supermove = 1

;---------------------------------------------
[State -3, AI TRIGGER] 
type = Helper
trigger1 = NumHelper(9999) = 0
trigger1 = var(5) != 1
trigger1 = var(6) != 1
helpertype = Normal
name = "AI trigger"
pos = 10000,10000
postype = p1
facing = 0
stateno = 9999
keyctrl = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0
ID = 9999
