;MEGA_ X "UNDYNE EPIC FIGHT STYLE "
;============================================================
;███╗   ███╗ ███████╗ ██████╗   █████║      ██║      ██║
;████╗ ████║ ██╔════╝██╔════╝  ██╔══██║       ██║  ██║
;██╔████╔██║ █████╗  ██  ████ ██║██████║       ████║
;██║╚██╔╝██║ ██╔══╝  ██    ██ ██║    ██║      ██║  ██║
;██║ ╚═╝ ██║ ██║████╗╚██████╔ ██║    ██║    ██║      ██║ 
            
;============================================================
[Data]
life =              1000
attack =            100
defence =           100
fall.defence_up =   50
liedown.time =      60
airjuggle =         15
POWER =             5000
sparkno =           2
guard.sparkno =     40
KO.echo =           0
volume =            0  
IntPersistIndex =   60
FloatPersistIndex = 40
;============================================================
;███╗   ███╗ ███████╗ ██████╗   █████║      ██║      ██║
;████╗ ████║ ██╔════╝██╔════╝  ██╔══██║       ██║  ██║
;██╔████╔██║ █████╗  ██  ████ ██║██████║       ████║
;██║╚██╔╝██║ ██╔══╝  ██    ██ ██║    ██║      ██║  ██║
;██║ ╚═╝ ██║ ██║████╗╚██████╔ ██║    ██║    ██║      ██║        
;============================================================
[Size]
xscale =            .85 
yscale =            .85          
ground.back =       15     
ground.front =      16    
air.back =          12        
air.front =         12       
height =            60          
attack.dist =       160    
proj.attack.dist =  90 
proj.doscale =      0     
head.pos =          -5, -90  
mid.pos =           -5, -60    
shadowoffset =      0    
draw.offset =       0,0   
;============================================================
;███╗   ███╗ ███████╗ ██████╗   █████║      ██║      ██║
;████╗ ████║ ██╔════╝██╔════╝  ██╔══██║       ██║  ██║
;██╔████╔██║ █████╗  ██  ████ ██║██████║       ████║
;██║╚██╔╝██║ ██╔══╝  ██    ██ ██║    ██║      ██║  ██║
;██║ ╚═╝ ██║ ██║████╗╚██████╔ ██║    ██║    ██║      ██║  
;============================================================
[Velocity]
walk.fwd  =                       2.4      
walk.back =                      -2.2     
run.fwd  =                        6.4   
run.back =                       -4.5,-3.8 
jump.neu =                        0,-12
jump.back =                      -3  
jump.fwd =                        3      
runjump.back =                   -2.55,-8.1 
runjump.fwd =                     4,-8.1      
airjump.neu =                     0,-8.1      
airjump.back =                   -2.55      
airjump.fwd =                     2.5         
air.gethit.groundrecover =     -.15,-3.5  
air.gethit.airrecover.mul =      .5,.2     
air.gethit.airrecover.add =       0,-4.5    
air.gethit.airrecover.back =     -1       
air.gethit.airrecover.fwd =       0         
air.gethit.airrecover.up =       -2       
air.gethit.airrecover.down =      1.5     
;============================================================
;███╗   ███╗ ███████╗ ██████╗   █████║      ██║      ██║
;████╗ ████║ ██╔════╝██╔════╝  ██╔══██║       ██║  ██║
;██╔████╔██║ █████╗  ██  ████ ██║██████║       ████║
;██║╚██╔╝██║ ██╔══╝  ██    ██ ██║    ██║      ██║  ██║
;██║ ╚═╝ ██║ ██║████╗╚██████╔ ██║    ██║    ██║      ██║  
;============================================================
[Movement]
airjump.num =                                0      
airjump.height =                             35   
yaccel =                                    .7
stand.friction =                            .85  
crouch.friction =                           .82 
stand.friction.threshold =                   2          
crouch.friction.threshold =                 .05       
air.gethit.groundlevel =                     25         
air.gethit.groundrecover.ground.threshold = -20 
air.gethit.groundrecover.groundlevel =       10  
air.gethit.airrecover.threshold =           -1  
air.gethit.airrecover.yaccel =              .35    
air.gethit.trip.groundlevel =                15      
down.bounce.offset =                         0, 20            
down.bounce.yaccel =                        .4               
down.bounce.groundlevel =                    12          
down.friction.threshold =                   .05         
;============================================================
;███╗   ███╗ ███████╗ ██████╗   █████║      ██║      ██║
;████╗ ████║ ██╔════╝██╔════╝  ██╔══██║       ██║  ██║
;██╔████╔██║ █████╗  ██  ████ ██║██████║       ████║
;██║╚██╔╝██║ ██╔══╝  ██    ██ ██║    ██║      ██║  ██║
;██║ ╚═╝ ██║ ██║████╗╚██████╔ ██║    ██║    ██║      ██║  
;============================================================
[Quotes]
; Up to 100 victory quotes can be specified per language (victory0 - victory99)
victory1 = "You must defeat Tu Shou to stand a chance."
victory2 = "You need a lot of training. Come back in ten years."
victory3 = "You look familiar. Did I see you on TV?"
victory4 = "Your moves are too predictable. You want to learn Kung Fu Palm? It's not for novices."
victory5 = "That was a good workout."
victory6 = "I want to challenge more skilled fighters."
victory7 = "What do you mean my girlfriend is in another temple?"

;Alternate language victory quotes (optional).
;0 or more alternate language sections may be added, preceded by the
;ISO 639-1 code followed by a ".", e.g. "[ja.Quotes]".
;See language setting in mugen.cfg.
[ja.Quotes]
victory1 = "カンフー突き手を破らぬ限り、お前に勝ち目はない！"
victory2 = "十年早いんだぞ"
victory3 = "お前は見覚えがあるな。テレビにでも…？"
victory4 = "お前の動きは見破りやすすぎる。　なに、カンフー突き手が覚えたいんだと？　素人には無理だぞ"
victory5 = "ふー。　いい汗だった"
victory6 = "もっと強い相手に挑戦したい"
victory7 = "なんだと！彼女はここにもいないと？"

;---------------------------------------------------------------------------
; Variable usage:
; This is a record of the variables that KFM uses. Keeping a record of your
; variable usage helps you avoid careless mistakes later.
; var(1)  - Used in kfm.cmd for combo condition (updated every tick)
; var(2)  - Used in Kung Fu Throw (state 800) to remember if fwd was being
;           held (remembered from state 800 through state 810).


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, 1]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 40, 1];小ジャンプ
type = VarSet
trigger1 = command != "holdup"
var(4) = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(4) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 4];小ジャンプ
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(4) = 1
x = ifelse(sysvar(1)=0,(0), ifelse(sysvar(1)=1, (6), (-6)))
y = -6

[State 40, 5]
type = null;VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; AirJump Start
[Statedef 45]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 45, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 45, 2]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; バックステップ
[Statedef 105]
type    = S
physics = N
ctrl = 0
anim = 105
sprpriority = 1
;---------------------[効果音]

[State 00]
type = PlaySnd
trigger1 = animelem = 1
value = s105, 0
[State 00]
type = PlaySnd
trigger1 = animelem = 1
value = s5040, 2
channel = 8


;---------------------[速度]
[State 105, 2]
type = CtrlSet
trigger1 = Time = 1
value = 1

[state a]
type = statetypeset
trigger1 = animelem = 1
value = A

[State 105, 1]
type = VelSet
trigger1 = animelem = 1
x = -9
y = -3

[state a]
type = veladd
trigger1 = animelem = 1,>0
y = 0.56

[state a]
type = velmul
trigger1 = animelem = 1,>0
x = 0.96

;---------------------[ステート移行]
[State 01]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------------------------
[Statedef 106]
type    = S
physics = N
ctrl = 0
anim = 106
velset = 0,0

[State 00]
type = PlaySnd
trigger1 = animelem = 1
value = s5040, 1
channel = 8

;---------------------[効果音]
[State 00];
type = PlaySnd
trigger1 = time = 0
value = 41,0

[State explod]
type = Explod
trigger1 = time = 0
anim = 6200
id = 7000
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.5,0.5

;---------------------[速度]
[State 00]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 01]
type = PosSet
trigger1 = Time = 0
y = 0

;---------------------[ステート移行]
[State 03]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 191,]
type = PlaySnd
triggerall = time = 0
;triggerall = Var(4) = 0
triggerall = Var(3) != 0
trigger1 = Alive
value = s3,2
channel = 4

[State 191,]
type = PlaySnd
triggerall = time = 0
triggerall = Var(4) = 0
triggerall = Var(3) = 0
trigger1 = Alive
value = s3,1
channel = 4

[State 191,]
type = PlaySnd
triggerall = time = 0
triggerall = Var(4) = 1
triggerall = Var(3) = 0
trigger1 = Alive
value = s3,0
channel = 4

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
;trigger1 = Var(4) = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 2];小ジャンプ
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = Var(4) = 1
value = 49

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

;--------------------------------------------------------------
[Statedef 55]
type    = A
physics = A
ctrl = 0

[State 55, 1]
type = PlaySnd
triggerall = time = 0
trigger1 = sysvar(1) = [-1,1]
value = s3,0
channel = 4

[State 55, 2]
type = PlaySnd
triggerall = time = 0
trigger1 = sysvar(1) = 2 || sysvar(1) = -2
value = s3,1
channel = 4

[State 55, 3]
type = AfterImage
triggerall = time = 0
trigger1 = sysvar(1) = 2 || sysvar(1) = -2
time = 10
palbright = 30,30,30
PalContrast = 256,256,256
paladd = 0,0,0
palmul = 1,1,1
trans = none
Length = 7
FrameGap = 3

[State 55, 4]
type = VelSet
trigger1 = Time = 0
y = -8

[State 55, 5]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 55, 6]
type = ChangeAnim
trigger1 = Time = 0
value = 49

;---------------------------------------------------------------------------
; Jump Down (empty state for compatibility)
[Statedef 51]
type    = A
physics = A

[State 51, 1]
type = Null
trigger1 = 1

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 52, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 2
value = 1

;---------------------[?G?t?F?N?g]
[State explod];?G?t?F?N?g
type = removeExplod
trigger1 = time = 0
id = 3000

[State explod]
type = Explod
trigger1 = time = 0
anim = 6200
id = 7000
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.5,0.5

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S100,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S100,1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = command != "holdfwd"
value = 0

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0 && matchover = 0
value = 181+random%2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = nobardisplay
flag2 = roundnotover
persistent = 50

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 7
freq = 90
ampl = -8
phase = 90
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S181,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S1000,4

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 8330
ID = 8330
pos = -36,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause =0


[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State -2, REJY2505]
type = AssertSpecial
trigger1 = time = [0,350]
flag = roundnotover
;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 0, Explod]
type = Explod
trigger1 = animelem =1
anim = 192
ID = 192
pos = -30,-9
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.9,0.9
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause =0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S190,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S199,10

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State -2, REJY2505]
type = AssertSpecial
trigger1 = time = [0,380]
flag = roundnotover

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S199,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S190,4
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S190,3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 19
value = S190,2


[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 191
ID = 191
pos = -40,-10
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.9,0.9
sprpriority = -2
ontop = 0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 19
id = 191
ignorehitpause = 0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 1]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = 10                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)

;---------------------[ƒGƒtƒFƒNƒg]
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7201
id = 7201
sprpriority = 20
postype = p1
pos = 230/2,-143/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 230/2,-143/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1           

;---------------------[UŒ‚]
[State 200, 1]
type = HitDef
triggerall = var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 2
attr = S, NA
damage = 25, 0
getpower = 40,12
animtype = Light
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 11, 13
sparkno = s-1
sparkxy = -12, -90
hitsound = s200, 5
guard.sparkno = s-1
guardsound = s300, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.1
air.velocity = -4.2,-6
yaccel = 0.5
air.type = high
air.hittime = 12
ID = 200
nochainID = 9999
air.juggle = 8        ;Time before opponent regains control in air

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 0

[State 352, Snd]
type = playsnd
trigger1 = animelem = 2
trigger1 = random <= 600
value = 900,0
channel = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing strong punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 30
ctrl = 0
velset = 0,0
anim = 210
sprpriority = -1

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 352, Snd]
type = playsnd
trigger1 = animelem = 3
trigger1 = random <= 600
value = 900,1
channel = 1


;---------------------[ƒGƒtƒFƒNƒg]
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 380/2,-120/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7050
sprpriority = 20
postype = p1
pos =  235/2,-158/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1
;---------------------[UŒ‚]
[State 210, 2]
type = HitDef
triggerall = var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 3
attr = S, NA
animtype  = hard
damage    = 60
priority = 5, Hit
getpower = 118,40
guardflag = M
pausetime = 11,12
sparkno = s-1
sparkxy = -12,-90
hitsound   = s200,6
guardsound = s300,0
guard.sparkno = s-1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -10.5
air.velocity = -4.2,-6
yaccel = 0.5
ID = 200
nochainID = 9999

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 11
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[State 352, Snd]
type = playsnd
trigger1 = animelem = 4
trigger1 = random <= 600
value = 900,0
channel = 1

[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 60
priority = 5, Hit
getpower = 118,40
guardflag = M
pausetime = 11,12
sparkno = s-1
sparkxy = -28,-106
hitsound   = s200,5
guardsound = s300,0
guard.sparkno = s-1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -6.5
air.velocity = -4.2,-6
yaccel = 0.5
ID = 200
nochainID = 9999

[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7201
id = 7201
sprpriority = 20
postype = p1
pos = 160/2,-40/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];?K?[?h?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7050
sprpriority = 20
postype = p1
pos =  160/2,-40/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 225]
type    = S
movetype= A
physics = S
juggle  = 5
ctrl = 0
velset = 0,0
anim = 215
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[state snd]
type = PlaySnd
trigger1 = animelem = 4
trigger1 = random <= 600
value = s900,2
channel = 1

;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7203
id = 9000
sprpriority = 20
postype = p1
pos = 210/2,-150/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];?K?[?h?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos =210/2,-150/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 821, 4]
type = posadd
trigger1 = animelem = 2
x = 5

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5040,5049]
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 60
priority = 5, Hit
getpower = 118,40
guardflag = M
pausetime = 11,12
sparkno = s-1
sparkxy = -28,-106
hitsound   = s200,1
guardsound = s300,0
guard.sparkno = s-1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -10.5
air.velocity = -4.2,-6
yaccel = 0.5
ID = 200
nochainID = 9999

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 30
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1

[state snd]
type = PlaySnd
trigger1 = animelem = 4
trigger1 = random <= 600
value = s900,2
channel = 1

;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7203
id = 9000
sprpriority = 20
postype = p1
pos = 160/2,-140/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];?K?[?h?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos =160/2,-140/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 821, 4]
type = posadd
trigger1 = animelem = 2
x = 5

[State 210, 2]
type = HitDef
triggerall = var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 60
priority = 5, Hit
getpower = 118,40
guardflag = M
pausetime = 11,12
sparkno = s-1
sparkxy = -28,-106
hitsound   = s200,3
guardsound = s300,0
guard.sparkno = s-1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -6.5
air.velocity = -4.2,-6
yaccel = 0.5
ID = 200
nochainID = 9999

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 近距離立ち強キック
; CNS レベル: 基本

[Statedef 242]
type     = S
movetype = A
physics  = S
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 242
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = Random <= 500
value = s900,0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 2
value = s0,1
;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7203
id = 9000
sprpriority = 20
postype = p1
pos = 140/2,-120/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];?K?[?h?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos =140/2,-120/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1


[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5040,5049]
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 60
priority = 5, Hit
getpower = 118,40
guardflag = M
pausetime = 11,12
sparkno = s-1
sparkxy = -28,-106
hitsound   = s200,3
guardsound = s300,0
guard.sparkno = s-1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -6.5
air.velocity = -4.2,-6
yaccel = 0.5
ID = 200
nochainID = 9999

[State 240, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 30
ctrl = 0
velset = 0,0
anim = 241
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 0
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 6
value = 0, 1
[state snd]
type = PlaySnd
trigger1 = animelem = 7
trigger1 = random <= 600
value = s900,2
channel = 1

;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 4,>=0
trigger1 = animelem = 5,<0
anim = 7203
id = 9000
sprpriority = 20
postype = p1
pos = 95/2,-195/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 7,>=0
trigger1 = animelem = 8,<0
anim = 7203
id = 9000
sprpriority = 20
postype = p1
pos = 108/2,-120/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];?K?[?h?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 4,>=0
trigger1 = animelem = 5,<0
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 95/2,-195/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1
[State explod];?K?[?h?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 7,>=0
trigger1 = animelem = 8,<0
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 108/2,-120/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 821, 4]
type = posadd
trigger1 = animelem = 5
x = 19

[State 821, 4]
type = posadd
trigger1 = animelem = 2
x = 5
[State 821, 4]
type = posadd
trigger1 = animelem = 3
x = 5
[State 821, 4]
type = posadd
trigger1 = animelem = 4
x = 5
[State 821, 4]
type = posadd
trigger1 = animelem = 6
x = 20
[State 821, 4]
type = posadd
trigger1 = animelem = 7
x = 10
[State 821, 4]
type = posadd
trigger1 = animelem = 8
x = 10

[State 191, 1]
type = playsnd
trigger1 = time = 0
value = S0,53

[State 191, 1]
type = playsnd
trigger1 = random <= 500
trigger1 = time = 0
value = S0,14

[State 210, 2]
type = HitDef
triggerall = var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 4
attr = S, NA
animtype  = hard
damage    = 29
priority = 5, Hit
getpower = 118,40
guardflag = M
pausetime = 11,12
sparkno = s-1
sparkxy = -28,-106
hitsound   = s200,3
guardsound = s300,0
guard.sparkno = s-1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -6.5
air.velocity = -4.2,-6
yaccel = 0.5
ID = 200
nochainID = 9999

[State 200, ヒット定義]
type = HitDef
triggerall = prevstateno != 1620
trigger1 = animelem = 7
attr = S, NA
damage = 30, 0
animtype = Hard
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 11, 13
sparkno = -1
guard.sparkno =-1
sparkxy = -20, -70
hitsound = s200,3
guardsound = s300,0
ground.type = Low
ground.slidetime = 21
ground.hittime  = 22
ground.velocity = -9
air.type = Low
air.velocity = -4.5,-4.5
air.hittime = 12
air.fall = 1
fall.recover = 0

[State 200, ヒット定義]
type = HitDef
triggerall = prevstateno = 1620
trigger1 = animelem = 7
attr = S, SA
damage = 30, 0
animtype = Hard
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 10, 11
sparkno = -1
guard.sparkno = 40
sparkxy = -20, -70
hitsound = s200,3
guardsound = s300,0
ground.type = Low
ground.slidetime = 21
ground.hittime  = 22
ground.velocity = -4.5,12
air.type = Low
air.velocity = -4.5,12
air.hittime = 12
fall = 1
fall.recover = 0
fall.envshake.ampl = 3
fall.envshake.freq = 90
fall.envshake.time = 15


[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 6
x = 12

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;---------------------------------------------------------------------------
; ふっ飛ばし攻撃
[Statedef 290]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= 0
ctrl = 0
velset = 0,0
anim = 290
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 8
y = 0
ignorehitpause = 0

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-148/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7204
id = 7000
sprpriority = 20
postype = p1
pos = 100/2,-130/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4
value = s0, 3

[state snd]
type = PlaySnd
trigger1 = animelem = 4
trigger1 = random <= 600
value = s1000,0
channel = 0


;---------------------[攻撃]
[State 240, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = high
damage    = 80
priority = 6, Hit
getpower = 122,122
guardflag = M
pausetime = 11,12
sparkno = -1
sparkxy = -15,-69
hitsound   = s200,4
guard.sparkno = -1
guardsound = s300,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -4,-6.8
air.velocity = -4,-6.8
guard.velocity = -11
yaccel = 0.45
fall = 1
fall.recover = 0
ID = 9999
nochainID = 9999

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ガードキャンセルふっ飛ばし攻撃
[Statedef 291]
type    = S
movetype= A
physics = S
juggle  = 8
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 291
sprpriority = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 5
y = 0
ignorehitpause = 0

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-148/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7204
id = 7000
sprpriority = 20
postype = p1
pos = 100/2,-130/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4
value = s0, 3

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 4
value = s190,1
channel= 0

[State 700, 2];無敵の状態を作る
type = NotHitBy
triggerall = 1
trigger1 = 1
value = SCA
;---------------------[エフェクト]
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 2

;---------------------[攻撃]
[State 240, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = diagup
damage    = 45
priority = 6, Hit
getpower = 0,0
guardflag = M
pausetime = 11,12
sparkno = -1
sparkxy = -15,-69
hitsound   = s200,4
guard.sparkno = -1
guardsound = s300,0
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -6,-6.5
air.velocity = -6,-6.8
guard.velocity = -11
fall = 1
fall.recover = 0
ID = 9999
nochainID = 9999
kill = 0

;---------------------[ステート移行]
[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light punch

[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 8
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 0
;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7201
id = 7201
sprpriority = 20
postype = p1
pos = 168/2,-85/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];?K?[?h?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7050
sprpriority = 20
postype = p1
pos = 168/2,-85/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 200, 1]
type = HitDef
triggerall = var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 3
attr = C, NA
damage = 25, 0
getpower = 40,12
animtype = Light
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 11, 13
sparkno =-1
sparkxy = -10, -57
hitsound = s200, 5
guard.sparkno = -1
guardsound = s300, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.1
air.velocity = -4.2,-6
yaccel = 0.5
air.type = high
air.hittime = 12
ID = 200
nochainID = 9999
air.juggle = 8

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching strong punch

[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 25
ctrl = 0
anim = 410
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 352, Snd]
type = playsnd
trigger1 = animelem = 4
trigger1 = random <= 600
value = 900,2
channel = 1

;---------------------[ƒGƒtƒFƒNƒg]
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 85/2,-237/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7250
id = 7250
sprpriority = 20
postype = p1
pos = 85/2,-237/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 410, 2]
type = HitDef
trigger1 = !time
attr = C, NA
damage    = 40
priority = 5, Hit
animtype  = hard
hitflag = MAF
guardflag = M
pausetime = 11,12
getpower = 91,91
sparkno = -1
sparkxy = -23,-80
hitsound   = s200,6
guard.sparkno = -1
guardsound = s300,0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -11
air.velocity = -2,-6
fall = 0
fall.recover = 0
ID = 410
nochainID = 9999

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 11
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 =animelem = 3
value = 0, 0
;---------------------[ƒGƒtƒFƒNƒg]
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7200
id = 7200
sprpriority = 20
postype = p1
pos = 180/2,-7/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 130/2,-7/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 200, 1]
type = HitDef
triggerall = var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 3
attr = C, NA
damage = 30, 0
getpower = 45,17
animtype = Light
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 11, 13
sparkno = -1
sparkxy = -10, -8
hitsound = s200, 2
guard.sparkno = -1
guardsound = s300, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.1
air.velocity = -4.2,-6
yaccel = 0.5
air.type = high
air.hittime = 12
ID = 200
nochainID = 9999
air.juggle = 8


[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 35
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2
[State 352, Snd]
type = playsnd
trigger1 = animelem = 2
trigger1 = random <= 600
value = 900,2
channel = 1

;---------------------[ƒGƒtƒFƒNƒg]
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7201
sprpriority = 20
postype = p1
pos = 170/2,-20/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7250
sprpriority = 20
postype = p1
pos = 170/2,-20/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 440, 3]
type = HitDef
triggerall = var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 =time = 0
attr = C, NA
damage = 80
priority = 5, Hit
hitflag = MAF
guardflag = L
pausetime = 11,12
sparkno = -1
getpower = 123,40
sparkxy = -5, -30
hitsound   = s200,6
guardsound = s300, 0
guard.sparkno = -1
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.7,-6
air.velocity = -2,-6
guard.velocity = -11
fall = 1
fall.recover = 0
ID = 9999
nochainID = 9999


[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 5
ctrl = 0
anim = 600
sprpriority = 2
[State 600, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 0

[State 352, Snd]
type = playsnd
trigger1 = animelem = 2
trigger1 = random <= 600
value = 900,0
channel = 1

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7201
id = 7201
sprpriority = 20
postype = p1
pos = 270/2,-70/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5  
  [State explod]
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos =270/2,-70/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1       

;---------------------[UŒ‚]
[State 600, 2]
type = HitDef
triggerall = var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 = animelem = 2
attr = A, NA
damage    = 45
priority = 4, Hit
getpower = 62,23
guardflag = H
pausetime = 11,12
sparkno = s-1
sparkxy = -12,-66
hitsound   = s200,5
guard.sparkno = s-1
guardsound = s300,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.1
air.velocity = -3.6,-5
ID = 600
nochainID = 9999

[State 600, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1
[State 352, Snd]
type = playsnd
trigger1 = animelem = 2
trigger1 = random <= 600
value = 900,2
channel = 1

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7001
sprpriority = 20
postype = p1
pos = 111/2,-40/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos =111/2,-40/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 210, 2]
type = HitDef
triggerall = enemynear,stateno != [5040,5049]
trigger1 = time = 0
attr = C, NA
animtype  = hard
damage    = 70
priority = 5, Hit
getpower = 107,34
guardflag = M
pausetime = 11,12
sparkno = -1
sparkxy = -12,-30
hitsound   = s200,6
guardsound = s300,0
guard.sparkno = -1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -10.5
air.velocity = -4.2,-6
yaccel = 0.5
ID = 200
nochainID = 9999
;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 10
ctrl = 0
anim = 630
sprpriority = 2

[State 352, Snd]
type = playsnd
trigger1 = animelem = 2
trigger1 = random <= 600
value = 900,0
channel = 1

;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7200
id = 7200
sprpriority = 20
postype = p1
pos = 120/2,-180/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];?K?[?h?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7050
sprpriority = 20
postype = p1
pos = 120/2,-180/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1           

[State 630, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 0
;---------------------[?U??]
[State 600, 2]
type = HitDef
triggerall = enemynear,stateno != [5040,5049]
trigger1 = !time
attr = A, NA
damage    = 45
priority = 4, Hit
getpower = 73,23
guardflag = H
pausetime = 11,12
sparkno = s-1
sparkxy = -12,-58
hitsound   = s200,2
guard.sparkno = s-1
guardsound = s300,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.1
air.velocity = -3.6,-5
ID = 600
nochainID = 9999

;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 640
sprpriority = 2

[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7203
id = 9000
sprpriority = 20
postype = p1
pos = 116/2,-80/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];?K?[?h?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 116/2,-80/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 640, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 900, 2
channel = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1

;---------------------[?U??]
[State 600, 2]
type = HitDef
triggerall = var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 = !time
attr = A, NA
animtype  = hard
damage    = 65
priority = 4, Hit
getpower = 107,34
guardflag = H
pausetime = 10,12
sparkno = s-1
sparkxy = -12,-58
hitsound   = s200,3
guard.sparkno = s-1
guardsound = s300,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5.1
air.velocity = -3.6,-5
ID = 600
nochainID = 9999
;---------------------------------------------------------------------------

[Statedef 690]
type    = A
movetype= A
physics = A
juggle  = 8
poweradd= 41
ctrl = 0
anim = 690
sprpriority = 2

;---------------------[効果音]
[State 240, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3
[state snd]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random <= 600
value = s1000,0
channel = 0

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7204
id = 7204
sprpriority = 20
postype = p1
pos = 118/2,-50/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 118/2,-50/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1
;---------------------[攻撃]
[State 240, 2]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
animtype  = hard
damage    = 80
priority = 99, Hit
getpower = 122,122
guardflag = M
pausetime = 12,14
sparkno = -1
sparkxy = -15,-65
hitsound   = s200,4
guard.sparkno = -1
guardsound = s300,0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -6,-6.5
air.velocity = -6,-6.8
yaccel = 0.45
fall = 1
fall.recover = 0
;ID = 9999
nochainID = 9999
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;scape
;---------------------------------------------------------------------------
[Statedef 700]
type     = S
movetype = I
physics  = S
anim     = 700
ctrl     = 0
velset   = 0,0
sprpriority = -2

[State 1000, ???????]
type = VarSet
trigger1 = time = 0
var(31) = 0

[State 1000, ???????]
type = VarSet
trigger1 = time = 0
var(32) = 0

[State 700, VarSet]
type = VarSet
trigger1 = time = 0
var(16) = 0

[State 700, VarSet]
type = VarSet
trigger1 = prevstateno = 150 || prevstateno = 152
trigger2 = (prevstateno = [200,499])
var(16) = 1

[State 700, PowerAdd]
type = PowerAdd
triggerall = var(40) <= 0
trigger1 = var(16) = 1 && AnimElem = 1
value = -1000

[State 700, VarAdd]
type = VarAdd
triggerall = var(40) > 0
trigger1 = var(16) = 1 && AnimElem = 1
var(39) = -1000

[State 700, ??]
type = palfx
trigger1 = var(16) = 1 && AnimElem = 1
time = 5
add = 230,230,230

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = AnimTime = 0
time = 1

[State 3000, ???????????]
type = SuperPause
trigger1 = var(16) = 1 && AnimElem = 1
anim = -1
movetime = 10
time = 10
p2defmul = 1.0
darken = 0

[State 3000, ??????????????]
type = Explod
trigger1 = var(16) = 1 && AnimElem = 1
anim = 10550
pos = 0, -60
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 700, ???]
type = HitBy
triggerall = var(16) = 0
trigger1 = AnimElem = 6, <= 0
value = SC, NT, ST, HT

[State 700, ??]
type = NotHitBy
triggerall = var(16) = 1
trigger1 = 1
value = SCA
[State 0, Explod]
type = Explod
trigger1 = ANIMELEM = 2
anim = 2007
ID = 700
pos = 40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.3,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =

[State 0, Explod]
type = Explod
trigger1 = ANIMELEM = 5
anim = 2017
ID = 700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.4,0.4
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =

[State 200, ?????]
type = PlaySnd
trigger1 = AnimElem = 2
value = s700,0
channel = 1

[State 2100, 移動量]
type = VelSet
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(7) < 0
x = 5

[State 2110, 移動量]
type = VelSet
triggerall = var(6) = 1
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(7) <= 0
x = 6.6

[state vel]
type = Velset
trigger1 = animelem = 7
x = 0

[State 2100, ?????????]
type = PlayerPush
trigger1 = AnimElemTime(1) > 0
value = 0

[State 2100, ??]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;back scape
;---------------------------------------------------------------------------
[Statedef 710]
type     = S
movetype = I
physics  = S
anim     = 710
ctrl     = 0
velset   = 0,0
sprpriority = -2

[State 1000, ???????]
type = VarSet
trigger1 = time = 0
var(31) = 0

[State 1000, ???????]
type = VarSet
trigger1 = time = 0
var(32) = 0

[State 700, VarSet]
type = VarSet
trigger1 = time = 0
var(16) = 0

[State 700, VarSet]
type = VarSet
trigger1 = prevstateno = 150 || prevstateno = 152
trigger2 = (prevstateno = [200,499])
var(16) = 1

[State 700, PowerAdd]
type = PowerAdd
triggerall = var(40) <= 0
trigger1 = var(16) = 1 && AnimElem = 1
value = -1000

[State 700, VarAdd]
type = VarAdd
triggerall = var(40) > 0
trigger1 = var(16) = 1 && AnimElem = 1
var(39) = -1000

[State 700, ??]
type = palfx
trigger1 = var(16) = 1 && AnimElem = 1
time = 5
add = 230,230,230

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = AnimTime = 0
time = 1

[State 3000, ???????????]
type = SuperPause
trigger1 = var(16) = 1 && AnimElem = 1
anim = -1
movetime = 10
time = 10
p2defmul = 1.0
darken = 0

[State 3000, ??????????????]
type = Explod
trigger1 = var(16) = 1 && AnimElem = 1
anim = 10550
pos = 0, -60
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 700, ???]
type = HitBy
triggerall = var(16) = 0
trigger1 = AnimElem = 6, <= 0
value = SC, NT, ST, HT

[State 700, ??]
type = NotHitBy
triggerall = var(16) = 1
trigger1 = 1
value = SCA

[State 200, ?????]
type = PlaySnd
trigger1 = AnimElem = 2
value = s700,0
channel = 1


[State 2100, 移動量]
type = VelSet
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(7) < 0
x = -6

[State 2110, 移動量]
type = VelSet
triggerall = var(6) = 1
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(7) <= 0
x = -6.6

[state vel]
type = Velset
trigger1 = animelem = 7
x = 0

[State 2110, ???????????]
type = PlayerPush
trigger1 = AnimElemTime(1) > 0
value = 0

[State 0, Explod]
type = Explod
trigger1 = ANIMELEM = 2
anim = 2017
ID = 700
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.3,0.3
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =


[State 0, Explod]
type = Explod
trigger1 = ANIMELEM = 5
anim = 2007
ID = 700
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale =  0.4,0.4
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
;ignorehitpause =

[State 2110, ??]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
CTRL = 1
;---------------------------------------------------------------------------
[Statedef 702]
type = S
movetype = I
physics = N
poweradd= 0
ctrl = 0
anim = 702
velset = 0,0
sprpriority = 1

;---------------------[??]
[State 700, 2];????????
type = NotHitBy
trigger1 = 1
value = SCA

[state a]
type = playerpush
trigger1 = 1
value = 0

[State 5210]
type = PalFX
trigger1 = Time%4 = 1
time = 2
add = 80,80,80

[State 5210]
type = PalFX
trigger1 = AnimTime = 0
time = 1
add = 0,0,0
mul = 256,256,256

;---------------------[???]
[State 600, 1];??
type = PlaySnd
trigger1 = Time = 1
value = 702, 0
channel = 1
[State 600, 1];??
type = PlaySnd
trigger1 = Time = 1
value = 702, 1

;---------------------[??]
[state a]
type = posset
trigger1 = time = 0
y = 0

[State 600, 1]
type = velset
trigger1 = Time = 0
x = -9

[State 600, 1]
type = velset
trigger1 = animelem = 7
x = 0

[State 600, 1]
type = velmul
trigger1 = 1
x = 0.9


;---------------------[??????]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Throw - Attempt
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2


[State 800, 1]
type = HitDef
Trigger1 = Time = 0
Trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, NT
hitflag = M-
priority = 1, Miss 
sparkno = -1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 810
p2stateno = 820
fall = 1
nochainID = 600,9999        ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Throw - Throwing the opponent
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1000,0

[State 0, Explod]
type = Explod
trigger1 = TIME = 1
anim = 8380
ID = 810
pos = 98,-65
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
ownpal = 1
ignorehitpause =0

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 1

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 1
pos = 100, -5
[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 2
pos = 80, -65
[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 3
pos = 50, -100

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 4
pos = 80, -65
[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 5
pos = 90, -10
[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 6
pos = 80, -1
[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -78

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 6
value = 821

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 17
freq = 90
ampl = -6
phase = 90
ignorehitpause =0 
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S0,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S200,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S1000,4

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 8340
ID = 8340
pos = 90,0
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause =0
[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 7204
ID = 8340
pos = 90,0
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause =0


[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Thrown

[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

;---------------------------------------------------------------------------

[Statedef 821]
type    = A
movetype= H
physics = N
velset = -2.8,-7
poweradd = 40

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 821

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground


;---------------------------------------------------------------------------
;Throw - Attempt
[Statedef 830]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
Trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr = S, NT
hitflag = M-
priority = 1, Miss 
sparkno = -1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 831
p2stateno = 832
fall = 1
nochainID = 600,9999        ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Throw - Throwing the opponent
[Statedef 831]
type    = S
movetype= A
physics = N
anim = 830
poweradd = 0

[State 0, Explod]
type = Explod
trigger1 = TIME = 1
anim = 8380
ID = 810
pos = 98,-65
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
ownpal = 1
ignorehitpause =0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S0,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S1000,1


[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 1
pos = 100, -5
[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 2
pos = 90, -5
[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 3
pos = 80, -65
[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 4
pos = 50, -100

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 5
pos = -20, -100
[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 6
pos = -80, -95
[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 7
pos = -90, -10
[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 8
pos = -80, -1

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 8
value = 822
[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S200,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S1000,4
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 8
time = 17
freq = 90
ampl = -6
phase = 90
ignorehitpause =0 
[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 8
value = -78

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 8340
ID = 8340
pos = -90,0
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause =0
[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 7204
ID = 8340
pos = -90,0
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause =0

[State 0, Turn]
type = Turn
trigger1 = animtime = 0
ignorehitpause = 1


[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 822]
type    = A
movetype= H
physics = N
velset = 3,-6
poweradd = 40

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 822

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;---------------------------------------------------------------------------
;Thrown
[Statedef 832]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 831
;---------------------------------------------------------------------------
;trhe
[Statedef 1000]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 55
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3
[State 200, 2]
type = PlaySnd
trigger1 = animelem = 4
value = 1000, 3

[State 352, Snd]
type = playsnd
trigger1 = animelem = 4
trigger1 = random <= 600
value = 1000,0
channel = 1


[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 10

[State 1000, 3]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
x = 10

[State 233, 0]
type = Helper
trigger1 = animelem = 4
triggerall = NumHelper(1001) = 0
helpertype = normal
name = "Rod"
id = 1001
facing = 1
pos = 12,-4
postype = p1
stateno = 1001
keyctrl = 0

[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 9000
sprpriority = 20
postype = p1
pos = 130/2,-55/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 9000
sprpriority = 20
postype = p1
pos = 130/2,-55/2
bindtime = 1
supermove = 999
pausemove = 999
facing = -1
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 30, 16
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 6, 6
sparkno = -1
guard.sparkno = -1
sparkxy = -10, -20
hitsound = S200, 6
guardsound = S300, 1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
airguard.velocity = -4,-1
air.type = Low
down.velocity = 0,0
air.velocity = -4,-2
air.hittime = 18
envshake.time = 10
envshake.freq = 80
envshake.ampl = 4

[State 1000, 6]
type = PosAdd
trigger1 = AnimElem = 9
x = -5


[State 1600, VarSet]
type = VarSet
trigger1 = time = 0
var(16) = 0

[State 1600, VarSet]
type = VarSet
triggerall = AnimElemtime(3) > 0 && AnimElemtime(10) < 0
trigger1 = !var(59)
trigger1 = command = "QCF_x" || command = "QCF_x"
var(16) = 1

[State 1600, VarSet]
type = VarSet
triggerall = AnimElemtime(3) > 0 && AnimElemtime(15) < 0
trigger1 = !var(59)
trigger1 = command = "63214A" || command = "63214C"
var(16) = 2

[State 1600, ƒXƒe[ƒg•ÏX]
type = ChangeState
trigger1 = AnimElemtime(7) >= 3 && AnimElemtime(10) < 0
trigger1 = var(16) = 1
value = 1610

[State 1000, ƒXƒe[ƒg•ÏX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1610]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 30
velset   = 0,0
anim     = 1610
ctrl     = 0
sprpriority = 3


[State 1000, ]
type = VarSet
trigger1 = time = 0
var(16) = 0

[State 233, 0]
type = Helper
trigger1 = animelem = 4
triggerall = NumHelper(1002) = 0
helpertype = normal
name = "Rod"
id = 1002
facing = 1
pos = 15,-6
postype = p1
stateno = 1002
keyctrl = 0


[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 9000
sprpriority = 20
postype = p1
pos = 150/2,-170/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 9000
sprpriority = 20
postype = p1
pos = 130/2,-130/2
bindtime = 1
supermove = 999
pausemove = 999
facing = -1
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 210, 2]
type = HitDef
triggerall = var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 = !time
attr = S, SA
animtype  = heavy
damage    = 30,16
priority = 5, Hit
getpower = 118,40
guardflag = MA
hitflag = MAF
pausetime = 8,9
sparkno = s-1
guard.sparkno = -1
sparkxy = -28, -106
hitsound   = s200,6
guardsound = s300,1
guard.sparkno = s-1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4,-6
air.velocity = -4,-5
yaccel = 0.5
fall = 1
fall.recover = 0
ID = 200
nochainID = 9999
envshake.time = 10
envshake.freq = 80
envshake.ampl = 4


[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3
[State 200, 2]
type = PlaySnd
trigger1 = animelem = 4
value = 1000, 3

[State 352, Snd]
type = playsnd
trigger1 = animelem = 4
trigger1 = random <= 600
value = 1000,1
channel = 1

[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 1
x = 10

[State 1000, 3]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 11

[State 1600, VarSet]
type = VarSet
triggerall = AnimElemtime(4) > 0 && AnimElemtime(6) < 0
trigger1 = !var(59)
trigger1 = command = "QCF_x" || command = "QCF_x"
var(16) = 1

[State 1600, VarSet]
type = VarSet
triggerall = AnimElemtime(3) > 0 && AnimElemtime(15) < 0
trigger1 = !var(59)
trigger1 = command = "63214A" || command = "63214C"
var(16) = 2

[State 1600, ƒXƒe[ƒg•ÏX]
type = ChangeState
trigger1 = AnimElemtime(4) >= 3 && AnimElemtime(7) < 0
trigger1 = var(16) = 1
value = 1615

[State 1000, ƒXƒe[ƒg•ÏX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1615]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 30
velset   = 0,0
anim     = 1611
ctrl     = 0
sprpriority = 3

[State 1000, ]
type = VarSet
trigger1 = time = 0
var(16) = 0

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 1616
;---------------------------------------------------------------------------
[Statedef 1616]
type     = A
movetype = A
physics  = N
juggle   = 2
poweradd = 30
velset   = 0,0
anim     = 1612
ctrl     = 0
sprpriority = 3

[State 1000, ]
type = VarSet
trigger1 = time = 0
var(16) = 0

[State 233, 0]
type = Helper
trigger1 = animelem = 3
triggerall = NumHelper(1003) = 0
helpertype = normal
name = "Rod"
id = 1003
facing = 1
pos = 60,30
postype = p1
stateno = 1003
keyctrl = 0
size.yscale = 0.8
size.xscale = 0.8

[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 9000
sprpriority = 20
postype = p1
pos = 200/2,-20/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 9000
sprpriority = 20
postype = p1
pos =  200/2,-20/2
bindtime = 1
supermove = 999
pausemove = 999
facing = -1
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 1000, ƒqƒbƒg’è‹`]
type = HitDef
trigger1 = !time
attr = A, SA
damage = 29,16
animtype = up
guardflag = M
hitflag = HAF
priority = 3, Hit
pausetime = 10,11
sparkno = -1
guard.sparkno = -1
sparkxy = -25, -75
hitsound   = s200,7
guardsound = s300,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -5,15
guard.velocity = -11
air.velocity = -5,15
airguard.velocity = -5,-5
air.type = High
air.hittime = 12
fall = 1
fall.recover = 0
fall.envshake.ampl = 5
fall.envshake.freq = 90
fall.envshake.time = 15

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3
[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 1000, 3

[State 352, Snd]
type = playsnd
trigger1 = animelem = 3
trigger1 = random <= 600
value = 900,2
channel = 1

;-----------Velocities definitions start------

[State 1105, y]
type = velset
trigger1 = !time
x = 6

[State 1105, y]
type = velset
trigger1 = !time
y = -5.6

[State 1105, y]
type = veladd
trigger1 = 1
y = .45

;---------------------[ƒXƒe[ƒgˆÚs]
[State 200, 7]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 3159
;---------------------------------------------------------------------------
[Statedef 3159]
type     = S
movetype = I
physics  = N
juggle   = 0
poweradd = 0
velset   = 0,0
anim     = 1451
ctrl     = 0
sprpriority = 2

[State explod]
type = Explod
trigger1 = time = 0
anim = 6200
id = 7000
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.5,0.5

[State 1000, ‰¹‚ð–Â‚ç‚·]
type = PlaySnd
trigger1 = time = 0
value = s40,0

[State 1000, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 1000, Ž²ˆÊ’uˆÚ“®]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 1000, ƒXƒe[ƒg•ÏX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 0,0
anim = 1001
ctrl = 0
sprpriority = 2

[State 10000, 0]
type = SprPriority
trigger1 = 1
value = 10

[State 10000, AfterImage]
type = AfterImage
trigger1 = Time <= 0
palcontrast = 0,50,40
palbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = Add
framegap = 1
length = 5
time = 1

[State 10000, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause =0
;---------------------------------------------------------------------------
;trhe2
[Statedef 1140]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 55
velset = 0,0
anim     = 1610
ctrl     = 0
sprpriority = 3


[State 1000, ]
type = VarSet
trigger1 = time = 0
var(17) = 0

[State 233, 0]
type = Helper
trigger1 = animelem = 4
triggerall = NumHelper(1002) = 0
helpertype = normal
name = "Rod"
id = 1002
facing = 1
pos = 15,-6
postype = p1
stateno = 1002
keyctrl = 0


[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 9000
sprpriority = 20
postype = p1
pos = 150/2,-170/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 9000
sprpriority = 20
postype = p1
pos = 130/2,-130/2
bindtime = 1
supermove = 999
pausemove = 999
facing = -1
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 210, 2]
type = HitDef
triggerall = var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 = !time
attr = S, SA
animtype  = heavy
damage    = 30,17
priority = 5, Hit
getpower = 118,40
guardflag = MA
hitflag = MAF
pausetime = 11,12
sparkno = s-1
guard.sparkno = -1
sparkxy = -28, -106
hitsound   = s200,6
guardsound = s300,1
guard.sparkno = s-1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -5,-6
air.velocity = -3,-7
yaccel = 0.5
fall = 1
fall.recover = 0
ID = 200
nochainID = 9999
envshake.time = 10
envshake.freq = 80
envshake.ampl = 4


[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3
[State 200, 2]
type = PlaySnd
trigger1 = animelem = 4
value = 1000, 3

[State 352, Snd]
type = playsnd
trigger1 = animelem = 4
trigger1 = random <= 600
value = 1000,1
channel = 1

[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 1
x = 15

[State 1000, 3]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 20

[State 1600, VarSet]
type = VarSet
triggerall = AnimElemtime(4) > 0 && AnimElemtime(6) < 0
trigger1 = !var(59)
trigger1 = command = "QC_y" || command = "QC_y"
var(17) = 1

[State 1600, VarSet]
type = VarSet
triggerall = AnimElemtime(3) > 0 && AnimElemtime(15) < 0
trigger1 = !var(59)
trigger1 = command = "63214A" || command = "63214C"
var(17) = 2

[State 1600, ƒXƒe[ƒg•ÏX]
type = ChangeState
trigger1 = AnimElemtime(4) >= 3 && AnimElemtime(7) < 0
trigger1 = var(17) = 1
value = 1141

[State 1000, ƒXƒe[ƒg•ÏX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1141]
type     = S
movetype = A
physics  = S
juggle   = 2
poweradd = 30
velset   = 0,0
anim     = 1141
ctrl     = 0
sprpriority = 3


[State 1000, ]
type = VarSet
trigger1 = time = 0
var(17) = 0

[State 233, 0]
type = Helper
trigger1 = animelem = 4
triggerall = NumHelper(1005) = 0
helpertype = normal
name = "Rod"
id = 1005
facing = 1
pos = -10,-6
postype = p1
stateno = 1005
keyctrl = 0
size.xscale = 0.8
size.yscale = 0.6


[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 9000
sprpriority = 20
postype = p1
pos = 150/2,-170/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 9000
sprpriority = 20
postype = p1
pos = 130/2,-130/2
bindtime = 1
supermove = 999
pausemove = 999
facing = -1
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = heavy
priority = 6,Hit
damage =40,10
pausetime = 8,9
guard.pausetime = 5,6
sparkno = -1
guard.sparkno = -1
sparkxy = 16,-56
hitsound = S200, 6
guardsound = S300, 1
ground.type = High
ground.slidetime = 28
guard.slidetime = 28
ground.hittime = 28
guard.hittime = 28
air.hittime = 28
yaccel =  1-(0.6*FVar(10))
ground.velocity = -1,16
air.velocity = -1,16
fall = 1
fall.recover = 1
p2stateno = 980
getpower = 0,0
givepower = 0,0
envshake.time = 9
envshake.freq = 200
envshake.ampl = 9



[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3
[State 200, 2]
type = PlaySnd
trigger1 = animelem = 4
value = 1000, 3

[State 352, Snd]
type = playsnd
trigger1 = animelem = 4
trigger1 = random <= 600
value = 1000,1
channel = 1

[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 1
x = 2

[State 1000, 3]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 2

[State 1600, VarSet]
type = VarSet
triggerall = AnimElemtime(6) > 0 && AnimElemtime(8) < 0
trigger1 = !var(59)
trigger1 = command = "QC_y" || command = "QC_y"
var(17) = 1

[State 1600, VarSet]
type = VarSet
triggerall = AnimElemtime(3) > 0 && AnimElemtime(15) < 0
trigger1 = !var(59)
trigger1 = command = "63214A" || command = "63214C"
var(17) = 2

[State 1600, ƒXƒe[ƒg•ÏX]
type = ChangeState
trigger1 = AnimElemtime(6) >= 3 && AnimElemtime(8) < 0
trigger1 = var(17) = 1
value = 1142

[State 1000, ƒXƒe[ƒg•ÏX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;trhe
[Statedef 1500]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= -1000
velset = 0,0
anim = 1500
ctrl = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = TIME = 0
anim = 67898
ID = 1020
pos = -10,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6500,5

[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 0
time = 1
add = 0,76,224
color = 124
ignorehitpause = 1

[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 1
time = 1
add = 0,46,164
color = 256
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3
[State 200, 2]
type = PlaySnd
trigger1 = animelem = 4
value = 1000, 3

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 10
value = 0, 3
[State 200, 2]
type = PlaySnd
trigger1 = animelem = 11
value = 1000, 3
[State 200, 2]
type = PlaySnd
trigger1 = animelem = 15
value = 0, 3
[State 200, 2]
type = PlaySnd
trigger1 = animelem = 16
value = 1000, 3

[State 352, Snd]
type = playsnd
trigger1 = animelem = 4
value = 1000,0
channel = 1


[State 1000, 3]
type = PosAdd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 11
trigger3 = AnimElem = 12
x = 15
[State 1000, 3]
type = PosAdd
trigger1 = AnimElem = 14
trigger2 = AnimElem = 15
x = 15


[State 352, Snd]
type = playsnd
trigger1 = animelem = 11
value = 1000,1
channel = 1
[State 352, Snd]
type = playsnd
trigger1 = animelem = 16
value = 1000,2
channel = 1

[State 233, 0]
type = Helper
trigger1 = animelem = 4
triggerall = NumHelper(1005) = 0
helpertype = normal
name = "Rod"
id = 1005
facing = 1
pos = -10,-6
postype = p1
stateno = 1005
keyctrl = 0
size.xscale = 0.8
size.yscale = 0.6
[State 233, 0]
type = Helper
trigger1 = animelem = 11
triggerall = NumHelper(1002) = 0
helpertype = normal
name = "Rod"
id = 1002
facing = 1
pos = 15,-6
postype = p1
stateno = 1002
keyctrl = 0
[State 233, 0]
type = Helper
trigger1 = animelem = 16
triggerall = NumHelper(1001) = 0
helpertype = normal
name = "Rod"
id = 1001
facing = 1
pos = 12,-4
postype = p1
stateno = 1001
keyctrl = 0


[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 5,>=0
trigger1 = animelem = 6,<0
anim = 7202
id = 9000
sprpriority = 20
postype = p1
pos = 150/2,-100/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 11,>=0
trigger1 = animelem = 12,<0
anim = 7202
id = 9000
sprpriority = 20
postype = p1
pos = 150/2,-240/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 16,>=0
anim = 7202
id = 9000
sprpriority = 20
postype = p1
pos = 150/2,-60/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 5,>=0
trigger1 = animelem = 6,<0
anim = 7051
id = 9000
sprpriority = 20
postype = p1
pos = 150/2,-100/2
bindtime = 1
supermove = 999
pausemove = 999
facing = -1
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 11,>=0
trigger1 = animelem = 12,<0
anim = 7051
id = 9000
sprpriority = 20
postype = p1
pos = 150/2,-240/2
bindtime = 1
supermove = 999
pausemove = 999
facing = -1
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 16,>=0
anim = 7051
id = 9000
sprpriority = 20
postype = p1
pos = 150/2,-70/2
bindtime = 1
supermove = 999
pausemove = 999
facing = -1
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 210, 2]
type = HitDef
trigger1 = animelem = 11
attr = S, NA
damage = 34, 17
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 6, 6
sparkno = -1
guard.sparkno = -1
sparkxy = -10, -20
hitsound = S200, 6
guardsound = S300, 1
ground.type = high
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
airguard.velocity = -3,-4
air.type = high
down.velocity = 0,0
air.velocity = -3,-4
air.hittime = 18
envshake.time = 10
envshake.freq = 80
envshake.ampl = 4
[State 210, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 34, 17
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 6, 6
sparkno = -1
guard.sparkno = -1
sparkxy = -10, -20
hitsound = S200, 6
guardsound = S300, 1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
airguard.velocity = -3,-1
air.type = Low
down.velocity = 0,0
air.velocity = -3,-2
air.hittime = 18
envshake.time = 10
envshake.freq = 80
envshake.ampl = 4
[State 210, 2]
type = HitDef
trigger1 = animelem = 17
attr = S, NA
damage = 34, 17
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 6, 8
sparkno = -1
guard.sparkno = -1
sparkxy = -10, -20
hitsound = S200, 6
guardsound = S300, 1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
airguard.velocity = -3,3
air.type = Low
down.velocity = 0,0
air.velocity = -3,3
air.hittime = 18
envshake.time = 10
envshake.freq = 80
envshake.ampl = 4

[State 1000, 6]
type = PosAdd
trigger1 = AnimElem = 9
x = -5

[State 1000, ƒXƒe[ƒg•ÏX]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Spike (Hit Shake)
[Statedef 980]
type    = A
movetype= H ;Get hit
physics = N
velset = 0,0

[State 940, 0]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0
z = 0

[State 940, 3]
type = ChangeAnim
Trigger1 = Time >= 0
value = 5030

[State 940, 4]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 981

; Spike (Fall)
[Statedef 981]
type    = A
movetype= H ;Get hit
physics = N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5060)
value = 5060

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5061)
value = 5061

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 943, 5]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = GetHitVar(yvel) < 4
value = 5110
ctrl = 0

[State 941, 5]
type = ChangeState
trigger1 = Pos Y >= 0
value = 982
;------------------------------Spike (Hit Floor)
[Statedef 982]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 0

[State 942, 0]
type = PlaySnd
Trigger1 = Time = 0
value = F5, 4

[State 942, 2]
type = ChangeAnim
Trigger1 = Time = 0
value = 5100

[State 942, 4]
type = EnvShake
Trigger1 = Time = 0
time = 8
ampl = -12
freq = 90
phase = 90

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F(60 + (sysvar(1) > Const720p(20)) + (sysvar(1) > Const720p(56)))
pos = 0, 0
sprpriority = ifelse (sysvar(1) <= Const720p(56), -10, 10)

[State 943, 5]
type = SelfState
trigger1 = !Alive
trigger1 = Time = 4
value = 5110
ctrl = 0

[State 942, 6]
type = ChangeState
trigger1 = Alive
trigger1 = Time = 4
value = 983

; Spike (Into Air)
[Statedef 983]
type    = A
movetype= H
physics = N

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = Vel X*1.5
y = Vel Y*-0.6

[State 943, 0]
type = ChangeAnim
Trigger1 = Time = 0
value = 5160

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = 0.4

[State 943, 5]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5110
ctrl = 0
;---------------------------------------------------------------------------
[Statedef 1142]
type    = S
movetype= A
physics = S
poweradd= 55
velset = 10,0
anim = 1100
ctrl = 0

[State 1000, ]
type = VarSet
trigger1 = time = 0
var(16) = 0

[State 233, 0]
type = Helper
trigger1 = animelem = 3
triggerall = NumHelper(1501) = 0
helpertype = normal
name = "Rod"
id = 1501
facing = 1
pos = 17,5
postype = p1
stateno = 1501
keyctrl = 0

[State 1100, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =4
value = 1000,8
channel = 0

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =3
value = 190,2

[State 1001,st ]
type = ChangeState
trigger1 = animtime = 0
value = 1143
;-----------------------------------------------------------------------------------------------------------------------

[Statedef 1143]
type = A
movetype = A
physics = N
velset = 2,-7.8
anim = 1101
ctrl = 0

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 3,2

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 1000,7
[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 0,4

[State 233, 0]
type = Helper
trigger1 = animelem = 1
triggerall = NumHelper(1502) = 0
helpertype = normal
name = "Rod"
id = 1502
facing = 1
pos = 45,-6
postype = p1
stateno = 1502
keyctrl = 0
size.yscale = 0.6
size.xscale = 0.6

[State 200, ƒqƒbƒg’è‹`]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 3
attr = S, SA
damage = 30,8
animtype = hard
guardflag = M
priority = 10, Hit
pausetime = 1,1
sparkno = -1
guard.sparkno = -1
sparkxy = -25,-70
hitsound = s200,7
guardsound = s300,1
ground.type = LOW
air.type = low
ground.slidetime = 35
ground.hittime  = 15
ground.velocity = -2,-13
guard.velocity = -6
air.velocity = -2,-10
air.type = High
air.hittime  = 120
fall = 1
fall.recover = 0
yaccel = .65
envshake.time = 5
envshake.ampl = 5
ID = 200
nochainID = 9999
envshake.time = 9
envshake.freq = 200
envshake.ampl = 9
;---------------------[ƒGƒtƒFƒNƒg]
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 1,>=0
trigger1 = animelem = 2,<0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-160/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 3,>=0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 1,>=0
trigger1 = animelem = 2,<0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-160/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 3,>=0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 1050,vm ]
type = VelMul
trigger1 = time >= 0
x = .9

[State 1051,g ]
type = Gravity
trigger1 = time >= 5

[State 1001,st ]
type = ChangeState
trigger1 = pos Y >= 0 && time > 5
value = 1102

;---------------------------------------------------------------------------
[Statedef 1150]
type    = S
movetype= A
physics = S
poweradd= -1000
velset = 10,0
anim = 1100
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = TIME = 0
anim = 67898
ID = 1020
pos = -10,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6500,5

[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 0
time = 1
add = 0,76,224
color = 124
ignorehitpause = 1

[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 1
time = 1
add = 0,46,164
color = 256
ignorehitpause = 1

[State 233, 0]
type = Helper
trigger1 = animelem = 3
triggerall = NumHelper(1501) = 0
helpertype = normal
name = "Rod"
id = 1501
facing = 1
pos = 17,5
postype = p1
stateno = 1501
keyctrl = 0

[State 1100, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =4
value = 1000,8
channel = 0

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =3
value = 190,2

[State 1001,st ]
type = ChangeState
trigger1 = animtime = 0
value = 1151
;-----------------------------------------------------------------------------------------------------------------------

[Statedef 1151]
type = A
movetype = A
physics = N
velset = 12,-8
anim = 1120
ctrl = 0

[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 0
time = 1
add = 0,76,224
color = 124
ignorehitpause = 1

[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 1
time = 1
add = 0,46,164
color = 256
ignorehitpause = 1

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 3,2

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 1000,7
[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 0,4

[State 233, 0]
type = Helper
trigger1 = animelem = 1
triggerall = NumHelper(1502) = 0
helpertype = normal
name = "Rod"
id = 1502
facing = 1
pos = 45,-6
postype = p1
stateno = 1502
keyctrl = 0
size.yscale = 0.6
size.xscale = 0.6

[State 200, ƒqƒbƒg’è‹`]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
attr = S, SA
damage = 20,6
animtype = hard
guardflag = M
priority = 10, Hit
pausetime = 1,1
sparkno = -1
guard.sparkno = -1
sparkxy = -25,-70
hitsound = s200,7
guardsound = s300,1
ground.type = LOW
air.type = low
ground.slidetime = 35
ground.hittime  = 15
ground.velocity = -2,-9
guard.velocity = -6
air.velocity = -2,-8
air.type = High
air.hittime  = 120
fall = 1
fall.recover = 0
yaccel = .65
envshake.time = 5
envshake.ampl = 5
ID = 200
nochainID = 9999
envshake.time = 9
envshake.freq = 200
envshake.ampl = 9

;---------------------[攻撃]
[State 240, 2]
type = HitDef
trigger1 = animelem = 9
attr = S, NA
animtype  = high
damage    = 28,6
priority = 6, Hit
getpower = 0,122
guardflag = M
pausetime = 3,3
sparkno = -1
sparkxy = -15,-69
hitsound   = s200,4
guard.sparkno = -1
guardsound = s300,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -6,4
air.velocity = -6,4
guard.velocity = -11
yaccel = 0.45
fall = 1
fall.recover = 0
ID = 9999
nochainID = 9999
envshake.time = 9
envshake.freq = 200
envshake.ampl = 9

;---------------------[ƒGƒtƒFƒNƒg]
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 1,>=0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-160/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 2,>=0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 3,>=0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
[State ex[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 4,>=0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 5,>=0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[state explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 1,>=0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-160/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1
[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 2,>=0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1
[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 3,>=0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1
[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 4,>=0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1
[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 5,>=0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 9,>=0
anim = 7204
id = 7004
sprpriority = 20
postype = p1
pos = 190/2,-80/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 9,>=0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos =  190/2,-80/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 1050,vm ]
type = VelMul
trigger1 = time >= 0
x = .9

[state a]
type = veladd
trigger1 = animelem = 4,>0
y = 0.4

[State 1001,st ]
type = ChangeState
trigger1 = pos Y >= 0 && time > 5
value = 1123
;---------------------------------------------------------------------------
[Statedef 1002]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 1002
ctrl = 0
sprpriority = 2

[State 10000, 0]
type = SprPriority
trigger1 = 1
value = 10

[State 10000, AfterImage]
type = AfterImage
trigger1 = Time <= 0
palcontrast = 0,50,40
palbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = Add
framegap = 1
length = 5
time = 1

[State 10000, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause =0
;---------------------------------------------------------------------------
[Statedef 1992]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 1992
ctrl = 0
sprpriority = 2

[State 10000, 0]
type = SprPriority
trigger1 = 1
value = 10

[State 10000, AfterImage]
type = AfterImage
trigger1 = Time <= 0
palcontrast = 0,50,40
palbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = Add
framegap = 1
length = 5
time = 1

[State 10000, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause =0
;---------------------------------------------------------------------------
[Statedef 1888]
type    = S
movetype= A
physics = S
velset = 5,0
anim = 1002
ctrl = 0
sprpriority = 2

[State 10000, AfterImage]
type = AfterImage
trigger1 = Time <= 0
palcontrast = 0,50,40
palbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = Add
framegap = 1
length = 5
time = 1

[State 10000, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, PalFX]
type = PalFX
trigger1 = time = 1
time = 5
add = 0,100,50
mul = 20,251,24
sinadd = 85,110,55,10
invertall = 0
color = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause =0
;-----------------------
[Statedef 1003]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 0,0
anim = 1003
ctrl = 0
sprpriority = 2

[State 10000, 0]
type = SprPriority
trigger1 = 1
value = 10

[State 10000, AfterImage]
type = AfterImage
trigger1 = Time <= 0
palcontrast = 0,50,40
palbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = Add
framegap = 1
length = 5
time = 1

[State 10000, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause =0

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
[Statedef 1005]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 0,0
anim = 1005
ctrl = 0
sprpriority = 2

[State 10000, 0]
type = SprPriority
trigger1 = 1
value = 10

[State 10000, AfterImage]
type = AfterImage
trigger1 = Time <= 0
palcontrast = 0,50,40
palbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = Add
framegap = 1
length = 5
time = 1

[State 10000, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause =0

;---------------------------------------------------------------------------
; Strong Kung Fu Palm
; CNS difficulty: medium
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 2

[State 1010, 1]
type = PlaySnd
trigger1 = Time = 9
value = 0, 3

[State 1010, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 20

[State 1010, 3]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 13
x = 10

[State 1010, 4]
type = PosAdd
trigger1 = AnimElem = 5
x = 5

[State 1010, 5]
type = VelSet
trigger1 = AnimElem = 5
x = 4

[State 1010, 6] ;Opponent near
type = HitDef
trigger1 = AnimElem = 5
trigger1 = p2bodydist X < 40
attr = S, SA
animtype  = Hard
damage    = 90, 4
priority  = 5
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1

[State 1010, 7] ;Opponent not near
type = HitDef
trigger1 = AnimElem = 5
trigger1 = p2bodydist X >= 40
attr = S, SA
animtype  = Hard
damage    = 85, 4
priority  = 4
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -7
air.velocity = -4,-2.5

[State 1010, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Fast Kung Fu Palm

[Statedef 1020]
type    = S
movetype= A
physics = N
juggle  = 6
poweradd= -330
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 2

[State 1020, Friction]
type = VelMul
trigger1 = 1
x = .85 * ifelse (AnimElemTime(6) < 0, 1, .8)

[State 1020, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1020, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1020, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 3

[State 1020, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 20

[State 1020, 3]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 12
x = 10

[State 1020, 4]
type = PosAdd
trigger1 = AnimElem = 4
x = 5

[State 1020, 5]
type = VelSet
trigger1 = AnimElem = 4
x = 13

[State 1020, 6]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype  = Hard
damage    = 95, 5
getpower  = 0
priority  = 4
guardflag = MA
pausetime = 8,7
sparkxy = -10,-60
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 1025    ;Make p2 go to state 1025 on hit
p2facing = 1        ;Force to face p1

[State 1020, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------
; Hit by Fast Kung Fu Palm - shaking from the hit
; (a custom gethit state)
; See State 1020 for details
[Statedef 1025]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 1025

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;------------------
; Hit by Fast Kung Fu Palm - flying through the air
; (a custom gethit state)
[Statedef 1026]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1027

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
; Hit by Fast Kung Fu Palm - hit wall
; (a custom gethit state)
[Statedef 1027]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028

;------------------
; Hit by Fast Kung Fu Palm - bounce off wall
; (a custom gethit state)
[Statedef 1028]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
; Kung Fu Knee
; CNS difficulty: medium
; Description: Like the Kung Fu Palm, this is a special attack. This attack
;     begins on the ground, launches KFM into the air, then ends when KFM
;     lands on the ground. To achieve this, we use three states. The first
;     has KFM starting on the ground (note that type = S in the Statedef).
;     The ChangeState controller brings KFM into the second state (state
;     1051) when his ground animation ends. The second state controls KFM's
;     movement into the air and back towards the ground. The last state
;     (state 1052) stops KFM from moving when he touches the ground, and
;     brings him back to his stand state (state 0) when the animation is
;     over. More details are given in comments before each of the following
;     states.
[Statedef 1050]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 0,0
anim = 1050
ctrl = 0
sprpriority = 2

[State 1050, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 1050, 2]
type = null;PosAdd
trigger1 = AnimElem = 2
x = 15

[State 1050, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 20

[State 1050, 4]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
damage    = 80, 4
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-70
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -3.5,-7
guard.velocity = -7
air.velocity = -3.5,-7
fall = 1

[State 1050, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1051

;------------------
; Light Kung Fu Knee - jump
; Description: This state uses a velset parameter in the Statedef to make
;     KFM move upwards. A value of 2,-6 means 2 pixels/tick forwards, and
;     6 pixels/tick upwards. Since this is an aerial state, the type is set
;     to A in the Statedef.
;     Notice that physics = N (N for None) here. This means we are not using
;     the built-in aerial physics model (physics = A), so we have complete
;     control over what KFM does in this state. Since we do not have
;     physics = A to take care of gravity for us, we need to put in our own
;     controller for that. Controller 1051,1 does the work of pulling KFM
;     down towards the ground. Controller 1051,2 checks if KFM has reached
;     the ground, and changes to state 1052 if so.
;     In this state's Statedef, we will use the hitdefpersist parameter to
;     retain the HitDef information from the last state. If we did not have
;     hitdefpersist, the HitDef will be turned off between state changes.
[Statedef 1051]
type    = A
movetype= A
physics = N
velset = 2,-6
anim = 1051
hitdefpersist = 1 ;Keep the HitDef from previous state active

[State 1051, 1] ;Gravity
type = VelAdd
trigger1 = 1
y = .45

[State 1051, 2]
type = ChangeState
trigger1 = Command = "a" || Command = "b"
trigger1 = Vel y < -1
value = 1055

[State 1051, 3] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1052

;------------------
; Light Kung Fu Knee - land
; Description: This is KFM's landing state. There is a velset in the
;     Statedef to stop KFM from moving. Since KFM's y-position can be any
;     number greater than -10 upon entering this state (see the ChangeState
;     controller in State 1051), we need to reset it to 0, the ground
;     level. That is what controller 1052,1 is for.
[Statedef 1052]
type    = S
movetype= I
physics = S
anim = 1052
sprpriority = 1
velset = 0,0

[State 1052, 1] ;Reset y-position to ground level
type = PosSet
trigger1 = Time = 0
y = 0

[State 1052, 2] ;Play a sound for landing
type = PlaySnd
trigger1 = Time = 0
value = 40, 0

[State 1052, 3] ;Give KFM back control early
type = CtrlSet
trigger1 = AnimElem = 3, -1
value = 1

[State 1052, 4] ;Move KFM back a little
type = PosAdd
trigger1 = AnimElem = 4
x = -15

[State 1052, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------
; Kung Fu Knee - kick
[Statedef 1055]
type    = A
movetype= A
physics = N
anim = 1055

[State 1055, 1]
type = PlaySnd
trigger1 = Time = 0
value = 100,0
channel = 0

[State 1055, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 1055, 3]
type = PosAdd
trigger1 = Time = 0
x = 10
y = -10

[State 1055, 4] ;Gravity
type = VelAdd
trigger1 = 1
y = .45

[State 1055, 5]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Med
damage    = 35 + (prevstateno = 1061)*5, 2
priority  = 4
guardflag = MA
pausetime = 12,12
sparkxy = 0,-90
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -6
guard.velocity = -8
guard.ctrltime = 12
air.velocity = -4,-5
airguard.velocity = -4,-4.5
air.fall = 1

[State 1055, 6] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -5
value = 1056

;------------------
; Kung Fu Knee - land from kick
[Statedef 1056]
type    = S
movetype= I
physics = S
anim = 1056
sprpriority = 1
velset = 0,0

[State 1056, 1] ;Reset y-position to ground level
type = PosSet
trigger1 = Time = 0
y = 0

[State 1056, 2] ;Play a sound for landing
type = PlaySnd
trigger1 = Time = 0
value = 40, 0

[State 1056, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Strong Kung Fu Knee
[Statedef 1060]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
velset = 0,0
anim = 1060
ctrl = 0
sprpriority = 2

[State 1060, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 1060, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 6

[State 1060, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 21

[State 1060, 4]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
damage    = 90, 4
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-70
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -3.5,-7.5
guard.velocity = -7
air.velocity = -3.5,-7.5
fall = 1

[State 1060, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1061

;------------------
; Strong Kung Fu Knee - jump
[Statedef 1061]
type    = A
movetype= A
physics = N
velset = 2.5,-7.5
anim = 1061
hitdefpersist = 1 ;Keep the HitDef from previous state active

[State 1061, 1]
type = VelAdd
trigger1 = 1
y = .45

[State 1061, 2]
type = ChangeState
trigger1 = Command = "a" || Command = "b"
trigger1 = Vel y < -1
value = 1055

[State 1061, 3]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1052

;---------------------------------------------------------------------------
; Fast Kung Fu Knee
; Description: This version of the Kung Fu Knee hits up to 3 times (including
;     the kick).
[Statedef 1070]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= -330
velset = 0,0
anim = 1070
ctrl = 0
sprpriority = 2

[State 1070, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1070, Afterimage]
type = AfterImageTime
trigger1 = 1
time = 2

[State 1070, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1070, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 1070, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 6

[State 1070, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 21

[State 1070, 4]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Medium
getpower  = 0
damage    = 35, 3
priority  = 5
hitflag   = MA
guardflag = MA
pausetime = 8,7
sparkxy = -10,-70
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -2,-6
guard.velocity = -7
air.velocity = -2,-6
fall = 1
fall.animtype = Med
fall.recovertime = 30

[State 1070, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1071

;------------------
; Fast Kung Fu Knee - jump
[Statedef 1071]
type    = A
movetype= A
physics = N
velset = 2.5,-9
anim = 1071

[State 1071, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 18
add = 32,16,0
sinadd = 64,32,5,3

[State 1071, Afterimage]
type = AfterImageTime
trigger1 = Vel Y < 0
time = 2

[State 1071, 1]
type = VelAdd
trigger1 = 1
y = .5

[State 1071, 2]
type = VelAdd
trigger1 = Vel Y >= -1
y = .2

[State 1071, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
getpower  = 0
damage    = 68, 4
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-70
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 20
ground.velocity = -3,-9.5
guard.velocity = -7
air.velocity = -3,-9.5
fall = 1
fall.recovertime = 30

[State 1071, 4]
type = ChangeState
trigger1 = Command = "a" || Command = "b"
trigger1 = Vel y < -1
trigger1 = Time > 0
value = 1075

[State 1071, 5]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1052

;------------------
; Fast Kung Fu Knee - kick
[Statedef 1075]
type    = A
movetype= A
physics = N
anim = 1055

[State 1075, Afterimage]
type = AfterImageTime
trigger1 = 1
time = 2

[State 1075, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1075, 1]
type = PlaySnd
trigger1 = Time = 0
value = 100,0
channel = 0

[State 1075, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0, 1

[State 1075, 3]
type = PosAdd
trigger1 = Time = 0
x = 10
y = -10

[State 1075, 4] ;Gravity
type = VelAdd
trigger1 = 1
y = .45

[State 1075, 5]
type = VelAdd
trigger1 = Vel Y >= -1
y = .2

[State 1075, 6]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Med
damage    = 42, 2
getpower  = 0
priority  = 4
guardflag = MA
pausetime = 12,12
sparkxy = 0,-90
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -6
guard.velocity = -6
air.velocity = -4,-6
airguard.velocity = -4,-4.5
air.fall = 1

[State 1075, 7] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -5
value = 1056


;---------------------------------------------------------------------------
; Light Upper
;-----------------------
[Statedef 1501]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 1103
ctrl = 0
sprpriority = 2

[State 10000, 0]
type = SprPriority
trigger1 = 1
value = 10

[State 10000, AfterImage]
type = AfterImage
trigger1 = Time <= 0
palcontrast = 0,50,40
palbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = Add
framegap = 1
length = 5
time = 1

[State 10000, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause =0
;........................................................................................
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[State 233, 0]
type = Helper
trigger1 = animelem = 3
triggerall = NumHelper(1501) = 0
helpertype = normal
name = "Rod"
id = 1501
facing = 1
pos = 17,5
postype = p1
stateno = 1501
keyctrl = 0


[State 1100, Width]
type = Width
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(13) < 0
value = 5,0

[State 1100, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =4
value = 1000,8
channel = 0

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =3
value = 190,2

[State 1001,st ]
type = ChangeState
trigger1 = animtime = 0
value = 1101
;-----------------------------------------------------------------------------------------------------------------------
[Statedef 1502]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 2,-3
anim = 1104
ctrl = 0
sprpriority = 2

[State 10000, 0]
type = SprPriority
trigger1 = 1
value = 10

[State 10000, AfterImage]
type = AfterImage
trigger1 = Time <= 0
palcontrast = 0,50,40
palbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = Add
framegap = 1
length = 5
time = 1

[State 10000, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause =0
;-----------------------------------------------------------------------------------------------------------------------
[Statedef 1505]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 11,-4
anim = 1105
ctrl = 0
sprpriority = 2

[State 10000, 0]
type = SprPriority
trigger1 = 1
value = 10

[State 10000, AfterImage]
type = AfterImage
trigger1 = Time <= 0
palcontrast = 0,50,40
palbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = Add
framegap = 1
length = 5
time = 1

[State 10000, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause =0
;-----------------------------------------------------------------------------------------------------------------------
[Statedef 1503]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 2,-3
anim = 1105
ctrl = 0
sprpriority = 2

[State 10000, 0]
type = SprPriority
trigger1 = 1
value = 10

[State 10000, AfterImage]
type = AfterImage
trigger1 = Time <= 0
palcontrast = 0,50,40
palbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1
trans = Add
framegap = 1
length = 5
time = 1

[State 10000, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause =0
;........................................................................................

[Statedef 1101]
type = A
movetype = A
physics = N
velset = 2,-7.8
anim = 1101
ctrl = 0
juggle = 15

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 3,2

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 1000,7
[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 0,4


[State 233, 0]
type = Helper
trigger1 = animelem = 1
triggerall = NumHelper(1502) = 0
helpertype = normal
name = "Rod"
id = 1502
facing = 1
pos = 45,-6
postype = p1
stateno = 1502
keyctrl = 0
size.yscale = 0.6
size.xscale = 0.6

[State 200, ƒqƒbƒg’è‹`]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 3
attr = A, SA
damage = 39,8
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 1,1
sparkno = -1
guard.sparkno = -1
sparkxy = -25,-70
hitsound = s200,6
guardsound = s300,1
ground.type = low
air.type = low
ground.slidetime = 35
ground.hittime  = 15
ground.velocity = -2,-13
guard.velocity = -6
air.velocity = -2,-13
air.type = High
air.hittime = 12
fall.recovertime = 30
air.recover = 0
fall = 1
yaccel = .65
envshake.time = 5
envshake.ampl = 5

;---------------------[ƒGƒtƒFƒNƒg]
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 1,>=0
trigger1 = animelem = 2,<0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-160/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 3,>=0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 1,>=0
trigger1 = animelem = 2,<0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-160/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 3,>=0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 1050,vm ]
type = VelMul
trigger1 = time >= 0
x = .9


[State 1051,g ]
type = Gravity
trigger1 = time >= 5

[State 1001,st ]
type = ChangeState
trigger1 = pos Y >= 0 && time > 5
value = 1102

[Statedef 1102]
type = S
movetype = I
physics = S
velset = 0,0
anim =1102
ctrl = 0

[State 1050,sn ]
type = PlaySnd
trigger1 = time = 0
value = 40,0

[State explod]
type = Explod
trigger1 = time = 0
anim = 6200
id = 7000
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.5,0.5

[State 1052,g ]
type = Posset
trigger1 = time = 0
y = 0

[State 1002,st ]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
[Statedef 1123]
type = S
movetype = I
physics = S
velset = 0,0
anim =1123
ctrl = 0

[State 1050,sn ]
type = PlaySnd
trigger1 = time = 0
value = 40,0

[State explod]
type = Explod
trigger1 = time = 0
anim = 6200
id = 7000
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.5,0.5

[State 1052,g ]
type = Posset
trigger1 = time = 0
y = 0

[State 1002,st ]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;........................................................................................
[Statedef 1110]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[State 233, 0]
type = Helper
trigger1 = animelem = 3
triggerall = NumHelper(1501) = 0
helpertype = normal
name = "Rod"
id = 1501
facing = 1
pos = 15,5
postype = p1
stateno = 1501
keyctrl = 0


[State 1100, Width]
type = Width
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(13) < 0
value = 5,0

[State 1100, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =4
value = 1000,8
channel = 0

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =3
value = 190,2

[State 1001,st ]
type = ChangeState
trigger1 = animtime = 0
value = 1111
;........................................................................................

[Statedef 1111]
type = A
movetype = A
physics = N
velset = 13,-8
anim = 1110
ctrl = 0
juggle = 15

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 3,2

[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 1000,7
[State 1050,sn ]
type = PlaySnd
trigger1 = animelem =1
value = 0,4


[State 233, 0]
type = Helper
trigger1 = animelem = 1
triggerall = NumHelper(1505) = 0
helpertype = normal
name = "Rod"
id = 1505
facing = 1
pos =8,-6
postype = p1
stateno = 1505
keyctrl = 0

size.xscale = 0.6
size.yscale = 0.6

[State 200, ƒqƒbƒg’è‹`]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
attr = A, SA
damage = 39,6
animtype = hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2,2
sparkno = -1
guard.sparkno = -1
sparkxy = -25,-70
hitsound = s200,6
guardsound = s300,1
ground.type = low
air.type = low
ground.slidetime = 35
ground.hittime  = 15
ground.velocity = -4,-9
guard.velocity = -10
air.velocity = -4,-9
air.type = High
air.hittime = 12
fall.recovertime = -1
fall = 1
yaccel = .60
envshake.time = 5
envshake.ampl = 5
fall.recover = -1


;---------------------[ƒGƒtƒFƒNƒg]
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 1,>=0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-120/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

;---------------------[ƒGƒtƒFƒNƒg]
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 2,>=0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-160/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
trigger1 = animelem = 3,>=0
anim = 7202
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 1,>=0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-160/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 2,>=0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-120/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
trigger1 = animelem = 3,>=0
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 190/2,-225/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 1050,vm ]
type = VelMul
trigger1 = time >= 0
x = .9


[State 1051,g ]
type = Gravity
trigger1 = time >= 5

[State 1001,st ]
type = ChangeState
trigger1 = pos Y >= 0 && time > 5
value = 1102
;-----------------------------------------------------------------------------------------------------------------------
; Fast Kung Fu Upper
[Statedef 1120]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= -330
velset = 0,0
anim = 1120
ctrl = 0
sprpriority = 2

[State 1120, Width]
type = Width
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(14) < 0
value = 5,0

[State 1120, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1120, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1120, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1120, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2

[State 1120, 2]
type = HitDef
trigger1 = Time = 0
trigger2 = AnimElem = 4
attr = S, SA
animtype  = Med
damage    = 30, 4
getpower  = 0
priority  = 5
guardflag = MA
pausetime = 6,10
sparkxy = 0, ifelse(Time = 0, -48, -55)
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 23
ground.velocity = -3
guard.velocity = -6
air.velocity = -2,-2
airguard.velocity = -4,-4.5
p2facing = 1
forcestand = 1

[State 1120, 3]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype  = Up
damage    = 68, 4
getpower  = 0
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = 0,-110
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 23
ground.velocity = -1.2,-11
guard.velocity = -6
air.velocity = -1.2,-9
airguard.velocity = -4,-4.5
p2facing = 1
fall = 1
fall.recovertime = 60
yaccel = .4

[State 1120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Light Kung Fu Blow
; CNS difficulty: easy
; Notes: This uses the EnvShake controller to shake the screen. It makes the
;        move look stronger.
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2

[State 1200, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 3

[State 1200, Width 1]
type = Width
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
value = 10,0

[State 1200, Width 2]
type = Width
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(9) < 0
value = 20,0

[State 1200, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 6
time = 4     ;Time to shake screen
ampl = 2     ;Amount to shake
freq = 180   ;A frequency of 180 shakes the screen rapidly

[State 1200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 100, 6
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = 0,-65
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -10
ground.cornerpush.veloff = -12 ;To push far away when p2 is in corner
guard.velocity = -7
air.velocity = -3.5,-4.5
airguard.velocity = -3.5,-4.5

[State 1200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Strong Kung Fu Blow
; CNS difficulty: easy
[Statedef 1210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
velset = 0,0
anim = 1210
ctrl = 0
sprpriority = 2

[State 1210, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 3

[State 1210, Width 1]
type = Width
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
value = 10,0

[State 1210, Width 2]
type = Width
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(9) < 0
value = 20,0

[State 1210, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 6
time = 8
ampl = 2
freq = 170   ;A frequency of less than 180 causes a dampening effect

[State 1210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 125, 9
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = 0,-65
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 22
ground.velocity = -10
ground.cornerpush.veloff = -15 ;To push far away when p2 is in corner
guard.velocity = -8
air.velocity = -4,-4.5
airguard.velocity = -4,-4.5

[State 1210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Fast Kung Fu Blow
; CNS difficulty: easy
[Statedef 1220]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= -330
velset = 0,0
anim = 1220
ctrl = 0
sprpriority = 2

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1220, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 3

[State 1220, Width 1]
type = Width
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
value = 10,0

[State 1220, Width 2]
type = Width
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(9) < 0
value = 20,0

[State 1220, Shake Screen]
type = EnvShake
trigger1 = AnimElem = 6
time = 8
ampl = 3
freq = 170

[State 1220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 125, 9
getpower  = 0
priority  = 5
guardflag = MA
pausetime = 15,15
sparkxy = 0,-65
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 32
ground.velocity = -15
ground.cornerpush.veloff = -20 ;To push far away when p2 is in corner
guard.velocity = -9
air.velocity = -5,-5
airguard.velocity = -5,-5
air.fall = 1
fall.animtype = Hard           ;Show "hard" animtype when hit for a fall
yaccel = .4                    ;Fall faster

[State 1220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;lance
[Statedef 1300]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1300
ctrl = 0
sprpriority = 1

[State 1300, Width]
type = Width
trigger1 = AnimElemTime(3) < 0
value = 15,0

[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1
[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 1000, 1
channel = 0
[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 1000, 4


[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 8330 
ID = 8330
pos = 26,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = -1
ontop = 0
ownpal = 0
removeongethit = 0
ignorehitpause =0

[state a];
type = Helper
trigger1 = time = 13
id = 1301
name = "yamibarai"
sprpriority = 5
pos = 38,0
postype = p1
stateno = 1301
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
[state a];
type = Helper
trigger1 = time = 20
id = 1301
name = "yamibarai"
sprpriority = 5
pos = 78,0
postype = p1
stateno = 1301
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
[state a];
type = Helper
trigger1 = time = 27
id = 1301
name = "yamibarai"
sprpriority = 5
pos = 125,0
postype = p1
stateno = 1301
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 8
freq = 90
ampl = -7
phase = 90
ignorehitpause = 1

[State 1300, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;lance
[Statedef 1301]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 1301
ctrl = 0
sprpriority = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 1306
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1303
ID = 8330
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.3,0.3
sprpriority = 4
ontop = 0
ownpal = 0
removeongethit = 0
ignorehitpause =0

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1302
ID = 8330
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 0
removeongethit = 0
ignorehitpause =0
;---------------------[UŒ‚]
[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 30,17
priority = 5, Hit
getpower = 115,50
guardflag = M
pausetime = 4,4
sparkno = -1
sparkxy = -10,-90
hitsound   = s200,6
guardsound = s300,1
guard.sparkno = -1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -9
air.velocity = -4.2,-6
yaccel = 0.5
ID = 200
nochainID = 9999
;---------------------[ƒGƒtƒFƒNƒg]
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 115/2,-140/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7000
sprpriority = 20
postype = p1
pos = 127/2,-140/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1   

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 2
freq = 90
ampl = -7
phase = 90
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,5

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
;-------------------------------------------------------------------------------
; Ki Blast - Start
[Statedef 1306]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 1306
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 1305
ID = 8330
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 4
ontop = 0
ownpal = 0
removeongethit = 0
ignorehitpause =0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;doriloco
[Statedef 8081]
type =A
movetype= A
physics = N
anim = 1304
sprpriority = 10
[state a]
type = velset
trigger1 = animelem = 1
x = -1-random%4
y = -6-random%4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = veladd
trigger1 = animelem = 1,>0
y = 0.5

[State 200, Idle]
type= statetypeset
trigger1= 1
movetype= I

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time =30
;---------------------------------------------------------------------------
;doriloco
[Statedef 8082]
type =A
movetype= A
physics = N
anim = 1304
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = velset
trigger1 = animelem = 1
x = 1-random%4
y = -6-random%4

[state ,a]
type = veladd
trigger1 = animelem = 1,>0
y = 0.5

[State 200, Idle]
type= statetypeset
trigger1= 1
movetype= I

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time =30
;---------------------------------------------------------------------------
;lance
[Statedef 1310]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1310
ctrl = 0
sprpriority = 1

[State 1300, Width]
type = Width
trigger1 = AnimElemTime(3) < 0
value = 15,0

[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1
[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 1000, 1
channel = 0
[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 1000, 4


[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 8330 
ID = 8330
pos = 26,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = -1
ontop = 0
ownpal = 0
removeongethit = 0
ignorehitpause =0

[state a];
type = Helper
trigger1 = time = 13
id = 1301
name = "yamibarai"
sprpriority = 5
pos = 90,0
postype = p1
stateno = 1301
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
[state a];
type = Helper
trigger1 = time = 20
id = 1301
name = "yamibarai"
sprpriority = 5
pos = 143,0
postype = p1
stateno = 1301
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
[state a];
type = Helper
trigger1 = time = 27
id = 1301
name = "yamibarai"
sprpriority = 5
pos = 195,0
postype = p1
stateno = 1301
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 8
freq = 90
ampl = -7
phase = 90
ignorehitpause = 1

[State 1300, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;lance
[Statedef 1350]
type    = S
movetype= A
physics = S
velset = 0,0
poweradd = -1000
anim = 1350
ctrl = 0
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = TIME = 0
anim = 67898
ID = 1020
pos = -10,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6500,5

[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 0
time = 1
add = 0,76,224
color = 124
ignorehitpause = 1

[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 1
time = 1
add = 0,46,164
color = 256
ignorehitpause = 1

[State 1300, Width]
type = Width
trigger1 = AnimElemTime(3) < 0
value = 15,0

[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 1
[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 1000, 1
channel = 0
[State 1300, 1]
type = PlaySnd
trigger1 = animelem = 5
value = 1000, 4


[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 8330 
ID = 8330
pos = 26,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause =0

[state a];
type = Helper
trigger1 = time = 8
id = 1301
name = "yamibarai"
sprpriority = 5
pos = 40,0
postype = p1
stateno = 1301
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
[state a];
type = Helper
trigger1 = time = 15
id = 1301
name = "yamibarai"
sprpriority = 5
pos = 80,0
postype = p1
stateno = 1301
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
[state a];
type = Helper
trigger1 = time = 22
id = 1301
name = "yamibarai"
sprpriority = 5
pos = 130,0
postype = p1
stateno = 1301
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 8
freq = 90
ampl = -7
phase = 90
ignorehitpause = 1

[State 1300, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Kung Fu Blocking Air (land)
[Statedef 1351]
type    = S
physics = S
ctrl = 0
anim = 47

[State 1351, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1351, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1351, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 1351, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1351, 5] ;Go to high block
type = ChangeState
trigger1 = command = "blocking"
trigger1 = command != "holddown"
value = 1300

[State 1351, 6] ;Go to low block
type = ChangeState
trigger1 = command = "blocking"
value = 1320

;---------------------------------------------------------------------------
;rock suplex
[Statedef 1400]
type    = S
movetype= A
physics = N
poweradd= 50
velset = 0,0
anim = 1400
ctrl = 0
sprpriority = 2
[State explod]
type = Explod
trigger1 = animelem = 1
anim = 1414
id = 1414
sprpriority = -3
postype = p1
pos = -40,3
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1
;-------[State 0, PlaySnd]
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 2
id = 1414
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1400,1


[State explod]
type = Explod
trigger1 = animelem = 2
anim = 1410
id = 1420
sprpriority = -3
postype = p1
pos = -40,10
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

[State 1400, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1401
ctrl = 0
;---------------------------------------------------------------------------
;rock suplex
[Statedef 1450]
type    = S
movetype= A
physics = N
poweradd= -1000
velset = 0,0
anim = 1450
ctrl = 0
sprpriority = 2

[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 0
time = 1
add = 0,76,224
color = 124
ignorehitpause = 1

[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 1
time = 1
add = 0,46,164
color = 256
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6500,5

[State 0, Explod]
type = Explod
trigger1 = TIME = 0
anim = 67898
ID = 1020
pos = -10,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State explod]
type = Explod
trigger1 = animelem = 1
anim = 1414
id = 1414
sprpriority = -3
postype = p1
pos = -40,3
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1
;-------[State 0, PlaySnd]
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 2
id = 1414
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1400,1


[State explod]
type = Explod
trigger1 = animelem = 2
anim = 1410
id = 1420
sprpriority = -3
postype = p1
pos = -40,10
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

[State 1400, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1461
ctrl = 0

;---------------------------------------------------------------------------
;rock suplex
[Statedef 1430]
type    = S
movetype= A
physics = N
poweradd= 50
velset = 0,0
anim = 1400
ctrl = 0
sprpriority = 2
[State explod]
type = Explod
trigger1 = animelem = 1
anim = 1414
id = 1414
sprpriority = -3
postype = p1
pos = -40,3
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1
;-------[State 0, PlaySnd]
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 2
id = 1414
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1400,1


[State explod]
type = Explod
trigger1 = animelem = 2
anim = 1410
id = 1420
sprpriority = -3
postype = p1
pos = -40,10
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

[State 1400, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1431
ctrl = 0
;---------------------------------------------------------------------------
;Одору Дайчи・投げ
[Statedef 1431]
type    = S
movetype= A
physics = N
anim = 1431
velset = 0,0
sprpriority = 4
poweradd = 46

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1400,2

;-------[State 0, PlaySnd]
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 1420
ignorehitpause = 1

[State explod]
type = Explod
trigger1 = animelem = 1
anim = 1410
id = 1410
sprpriority = -3
postype = p1
pos = -40,-9
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 3
id = 1410
ignorehitpause = 1
;---------------------[2]
[State explod];大地噴出
type = Explod
trigger1 = animelem = 3
anim = 1411
id = 1411
sprpriority = -3
postype = p1
pos = -20,-35
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 1411
ignorehitpause = 1
;---------------------[2]
[State explod];大地噴出
type = Explod
trigger1 = animelem = 4
anim = 1412
id = 1412
sprpriority = -3
postype = p1
pos = 30,-9
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

;---------------------[サウンド]
[State 810, Grab Sound];掴み
type = PlaySnd
trigger1 = animelem = 2
value = 420, 1

[State 810, Grab Sound];ジャンプ
type = PlaySnd
trigger1 = animelem = 4
value = 40, 1

[State 1000, ƒqƒbƒg’è‹`]
type = HitDef
trigger1 = ANIMELEM = 4
attr = A, SA
damage    = 40,16
getpower  = 50,50
givepower = 50,50
animtype  = Hard
air.animtype = back
guardflag = H
hitflag   = MAF
priority  = 4, Hit
pausetime = 11,13
guard.pausetime = 11,11
sparkno = -1
guard.sparkno = -1
sparkxy = -15, -70
hitsound = s200,4
guardsound = s300,1
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -6
air.type = High
air.hittime = 12
air.velocity = -4.5,-6.5
airguard.velocity = -4,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall.recover = 0
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7204
id = 7204
sprpriority = 20
postype = p1
pos = 180/2,-70/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 180/2,-70/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 1
x = 1

[state a]
type = statetypeset
trigger1 = animelem = 2
value = A

[state a];23F
type = velset
trigger1 = animelem = 2
x = 4.5
y = -12.6

[state a]
type = veladd
trigger1 = animelem = 2,>0
y = 0.7

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 1402
;---------------------------------------------------------------------------
;Одору Дайчи・投げ
[Statedef 1461]
type    = S
movetype= A
physics = N
anim = 1401
velset = 0,0
sprpriority = 4


[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 0
time = 1
add = 0,76,224
color = 124
ignorehitpause = 1

[State a];“_–Å
type = palfx
trigger1 = gametime % 3 = 1
time = 1
add = 0,46,164
color = 256
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1400,2

;-------[State 0, PlaySnd]
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 1420
ignorehitpause = 1

[State explod]
type = Explod
trigger1 = animelem = 1
anim = 1410
id = 1410
sprpriority = -3
postype = p1
pos = -40,-9
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 3
id = 1410
ignorehitpause = 1
;---------------------[2]
[State explod];大地噴出
type = Explod
trigger1 = animelem = 3
anim = 1411
id = 1411
sprpriority = -3
postype = p1
pos = -20,-35
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 1411
ignorehitpause = 1
;---------------------[2]
[State explod];大地噴出
type = Explod
trigger1 = animelem = 4
anim = 1412
id = 1412
sprpriority = -3
postype = p1
pos = 30,-9
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

;---------------------[サウンド]
[State 810, Grab Sound];掴み
type = PlaySnd
trigger1 = animelem = 2
value = 420, 1

[State 810, Grab Sound];ジャンプ
type = PlaySnd
trigger1 = animelem = 4
value = 40, 1

[State 1000, ƒqƒbƒg’è‹`]
type = HitDef
trigger1 = ANIMELEM = 4
attr = A, SA
damage    = 40,16
getpower  = 50,50
givepower = 50,50
animtype  = Hard
air.animtype = back
guardflag = H
hitflag   = MAF
priority  = 4, Hit
pausetime = 11,13
guard.pausetime = 11,11
sparkno = -1
guard.sparkno = -1
sparkxy = -15, -70
hitsound = s200,4
guardsound = s300,1
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -6
air.type = High
air.hittime = 12
air.velocity = -4.5,-6.5
airguard.velocity = -4,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall.recover = 0
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7204
id = 7204
sprpriority = 20
postype = p1
pos = 180/2,-70/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 180/2,-70/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 1
x = 1

[state a]
type = statetypeset
trigger1 = animelem = 2
value = A

[state a];23F
type = velset
trigger1 = animelem = 2
x = 2
y = -18

[state a]
type = veladd
trigger1 = animelem = 2,>0
y = 0.99

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 1402
;----------------------------------------------------------------------------

;Одору Дайчи・投げ
[Statedef 1401]
type    = S
movetype= A
physics = N
anim = 1401
velset = 0,0
sprpriority = 4
poweradd = 46

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1400,2

;-------[State 0, PlaySnd]
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 1
id = 1420
ignorehitpause = 1

[State explod]
type = Explod
trigger1 = animelem = 1
anim = 1410
id = 1410
sprpriority = -3
postype = p1
pos = -40,-9
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 3
id = 1410
ignorehitpause = 1
;---------------------[2]
[State explod];大地噴出
type = Explod
trigger1 = animelem = 3
anim = 1411
id = 1411
sprpriority = -3
postype = p1
pos = -20,-35
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 1411
ignorehitpause = 1
;---------------------[2]
[State explod];大地噴出
type = Explod
trigger1 = animelem = 4
anim = 1412
id = 1412
sprpriority = -3
postype = p1
pos = 30,-9
bindtime = -1
supermove = 0
ignorehitpause = 0
under = 0
removeongethit = 1

;---------------------[サウンド]
[State 810, Grab Sound];掴み
type = PlaySnd
trigger1 = animelem = 2
value = 420, 1

[State 810, Grab Sound];ジャンプ
type = PlaySnd
trigger1 = animelem = 4
value = 40, 1

[State 1000, ƒqƒbƒg’è‹`]
type = HitDef
trigger1 = ANIMELEM = 4
attr = A, SA
damage    = 40,16
getpower  = 50,50
givepower = 50,50
animtype  = Hard
air.animtype = back
guardflag = H
hitflag   = MAF
priority  = 4, Hit
pausetime = 11,13
guard.pausetime = 11,11
sparkno = -1
guard.sparkno = -1
sparkxy = -15, -70
hitsound = s200,4
guardsound = s300,1
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -6
air.type = High
air.hittime = 12
air.velocity = -4.5,-6.5
airguard.velocity = -4,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall.recover = 0
[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7204
id = 7204
sprpriority = 20
postype = p1
pos = 180/2,-70/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 180/2,-70/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 1
x = 1

[state a]
type = statetypeset
trigger1 = animelem = 2
value = A

[state a];23F
type = velset
trigger1 = animelem = 2
x = 2
y = -10

[state a]
type = veladd
trigger1 = animelem = 2,>0
y = 0.7

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 1402
;----------------------------------------------------------------------------
;(HELPER)’e
[Statedef 19966]
type = A
ctrl = 0
anim = 1555
velset = 0,0
movetype = A
physics = N
sprpriority = 5

;---------------------[?e??’l]
[state varadd];HD?Q?[?W?E?q?b?g
type = parentvaradd
trigger1 = movehit = 1
var(20) = 36
ignorehitpause = 1
persistent = 0

[state varadd];HD?Q?[?W?E?K?[?h
type = parentvaradd
trigger1 = moveguarded = 1
var(20) = 9
ignorehitpause = 1
persistent = 0

[state varadd];?X?^?“’l
type = parentvaradd
trigger1 = movehit = 1
var(30) = 4
ignorehitpause = 1
persistent = 0

[state varadd];GC?Q?[?W
type = parentvaradd
trigger1 = moveguarded = 1
var(25) = 50
ignorehitpause = 1
persistent = 0


[State 3005, flames]
type = explod
trigger1= 6
anim = 1556
ID = 1556
sprpriority = 6
postype = p1
pos = 10,-5
random = 40, 20
vel = -5,-4
scale = 0.4, 0.3
ownpal = 1
ignorehitpause = 0
TRANS = ADDALPHA
ALPHA = 256,256
;---------------------[“–gŠÖŒW]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = TIME = [0,200]
flag = NOSHADOW
ignorehitpause = 1
persistent = 1

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

;---------------------[?U??]
[State 600, 2]
type = HitDef
triggerall = root,var(7) = 0
triggerall = enemynear,stateno != [5040,5049]
trigger1 = time = 0
attr = A, NA
animtype  = hard
hitflag = MAFD
damage    = 40,16
priority = 4, Hit
getpower = 60,60
guardflag = M
pausetime = 0,12
sparkno = s-1
sparkxy = 0,0
hitsound   = s200,4
guard.sparkno = -1
guardsound = s300,1
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6,-4
air.velocity = -4,-5
ID = 200
nochainID = 9999
air.fall = 1
FALL = 1
fall.recover = 0
down.hittime = 20

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7204
id = 7204
sprpriority = 20
postype = p1
pos = 80/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 80/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
;---------------------[?g‘??k?¬]
[state a]
type = null;angledraw
trigger1 = 1
scale = 0.55 - var(1)*0.01,0.55 - var(1)*0.01
;---------------------[]
[State 0, DestroySelf]
type = DESTROYSELF
trigger1 = TIME = 10
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;---------------------------------------------------------------------------
; Одору Дайчи・着地
[Statedef 1402]
type    = S
movetype= A
physics = N
juggle  = 7
poweradd= 0
velset = 0,0
anim = 1402
sprpriority = 1
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 1412
ignorehitpause = 1

[state a];
type = Helper
trigger1 = animelem = 1
id = 19966
name = "bullet fire"
sprpriority = 5
pos =  44,-5
postype = p1
stateno = 19966
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,2
channel = 1



[state a];
type = Helper
trigger1 = animelem = 1
id = 8082
name = "roca"
sprpriority = 5
pos = 100,15
postype = p1
stateno = 8082
helpertype = NORMAL
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
[state a];
type = Helper
trigger1 = animelem = 1
id = 8081
name = "roca"
sprpriority = 5
pos = 90,15
postype = p1
stateno = 8081
helpertype = NORMAL
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7
[state a];
type = Helper
trigger1 = animelem = 1
id = 8082
name = "roca"
sprpriority = 5
pos = 80,15
postype = p1
stateno = 8082
helpertype = NORMAL
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
[state a];
type = Helper
trigger1 = animelem = 1
id = 8081
name = "roca"
sprpriority = 5
pos = 80,15
postype = p1
stateno = 8081
helpertype = NORMAL
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.6
size.yscale = 0.6
[state a];
type = Helper
trigger1 = animelem = 1
id = 8082
name = "roca"
sprpriority = 5
pos = 80,15
postype = p1
stateno = 8082
helpertype = NORMAL
pausemovetime = 0
keyctrl = 0
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7


;---------------------[サウンド]
[State 810, Grab Sound];叩きつけ１
type = PlaySnd
trigger1 = animelem = 1
value = 1400, 0
[State 810, Grab Sound];叩きつけ１
type = PlaySnd
trigger1 = animelem = 1
value = 1000, 4

[State 810, Grab Sound];叩きつけ２
type = PlaySnd
trigger1 = animelem = 1
value = 1800, 4

;---------------------[エフェクト]
[State 1020, 4]
type = EnvShake
trigger1 = animelem = 1
time = 12
ampl = -6
freq = 95
phase = 95

[state a]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
x = 18
[state a]
type = posadd
trigger1 = animelem = 7
x = 25

[State a]
type = EnvColor
trigger1 = animelem = 1
time = 2
value = 255,255,255
under = 2

[State explod];大地噴出
type = Explod
trigger1 = animelem = 1
anim = 8040
id = 3000
sprpriority = -1
postype = p1
pos = 70,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0
scale = 0.6,0.6
[State explod];土煙
type = Explod
trigger1 = animelem = 1
anim = 1511
id = 3000
sprpriority = 15
postype = p1
pos = 32,0
bindtime = 1
supermove = 0
ignorehitpause = 0
under = 0

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0
;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Strong Kung Fu Zankou
; CNS difficulty: easy
[Statedef 1410]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1410
ctrl = 0
sprpriority = 2

[State 1410, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 3

[State 1410, Friction]
type = VelMul
trigger1 = 1
x = 0.65

[State 1410, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 100, 6
priority  = 4
guardflag = MA
pausetime = 12,12
sparkxy = 0,-65
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -9
ground.cornerpush.veloff = -15 ;To push far away when p2 is in corner
guard.velocity = -9
air.velocity = -2,-5
airguard.velocity = -3.5,-4.5
air.fall = 1

[State 1410, 3]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 10

[State 1410, 4]
type = VelSet
trigger1 = AnimElem = 3
x = 8

[State 1410, 5]
type = PosAdd
trigger1 = AnimElem = 9
x = 10

[State 1410, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Far Kung Fu Zankou
; CNS difficulty: easy
[Statedef 1420]
type    = S
movetype= A
physics = N
juggle  = 6
poweradd= -330
velset = 0,0
anim = 1420
ctrl = 0
sprpriority = 2

[State 1420, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1420, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1420, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1420, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 3

[State 1420, Friction]
type = VelMul
trigger1 = 1
x = 0.7

[State 1420, 2]
type = HitDef
trigger1 = AnimElemTime(4) = -2
attr = S, SA
animtype  = Hard
damage    = 25, 2
getpower  = 0
priority  = 4
guardflag = MA
pausetime = 9,9
sparkxy = -15,-45
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 22
ground.hittime  = 24
ground.velocity = -7
ground.cornerpush.veloff = -8 ;To push far away when p2 is in corner
guard.velocity = -9
air.velocity = -5,-4
airguard.velocity = -3.5,-4.5

[State 1420, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype  = Hard
damage    = 100, 8
getpower  = 0
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = 0,-65
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 22
ground.hittime  = 24
ground.velocity = -5,-4
ground.cornerpush.veloff = -15 ;To push far away when p2 is in corner
guard.velocity = -9
air.velocity = -5,-4
airguard.velocity = -3.5,-4.5
fall = 1

[State 1420, 3]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 10

[State 1420, 4]
type = VelSet
trigger1 = AnimElemTime(3) = [1,2]
x = 20

[State 1420, 5]
type = PosAdd
trigger1 = AnimElem = 10
x = 10

[State 1420, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Triple Kung Fu Palm (hyper)

[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
poweradd = -1000
anim = 3000
ctrl = 0
sprpriority = 2

[State 3000, Width]
type = Width
trigger1 = AnimElem = 2, >= 0
value = 15,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S7000,0
channel = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
anim = 100
sound = S3000,0
pos = 0,-70
movetime = 30
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 1

[state helper]
type = Helper
trigger1 = time = 0
id = 6005
name = "bg"
pos = 0,0
postype = p1
stateno = 6005
helpertype = normal
supermovetime = 999999
ownpal = 1

[State explod]
type = explod
trigger1 = !time
anim = 7000
id = 3000
sprpriority = 1
postype = p1
pos =-10,-85
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
scale = 0.5,0.5

[State 3000, Super B]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3000, Super C]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 60
time = 2

[State 3000, Super D]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 11

[State 3000, Super E]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(14) < 0
value2 = C, NA
time = 1

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 12
trigger3 = AnimElem = 20
value = 0, 3

[State 0, Ki Blast]
type = Helper
trigger1 = time = 33
helpertype = normal
name = "cloudBlast"
ID = 658
stateno = 658
pos = -80,-80
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Ki Blast - Start
[Statedef 658]
type = S
physics = S
movetype = A
juggle  = 2
ctrl = 0
velset = 1,0
anim = 3099
sprpriority = 3
[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x = .6
y = 0
ignorehitpause = 0



[State 0, Ki Blast]
type = Helper
trigger1 = time = 1
trigger2 = time = 8
trigger3 = time = 15
trigger4 = time = 22
trigger5 = time = 29
trigger6 = time = 36
trigger7 = time = 43
helpertype = normal
name = "Ki Blast"
ID = 659
stateno = 659
pos = 0,-160
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1

;-------------------------------------------------------------------------------
; Ki Blast - Start
[Statedef 660]
type = S
physics = S
movetype = A
juggle  = 2
ctrl = 0
velset = 1,0
anim = 3099
sprpriority = 3
[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x = .3
y = 0
ignorehitpause = 0



[State 0, Ki Blast]
type = Helper
trigger1 = time = 1
trigger2 = time = 8
helpertype = normal
name = "Ki Blast"
ID = 661
stateno = 661
pos = 0,-160
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89

[State 0, Ki Blast]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "Ki Blast"
ID = 662
stateno = 662
pos = 0,-160
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1


;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; Ki Blast - Start
[Statedef 659]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 3001
sprpriority = 3


[State 3005, flames]
type = explod
trigger1= 6
anim = 1556
ID = 1556
sprpriority = 6
postype = p1
pos = 10,-4
random = 40, 20
vel = -5,0
scale = 0.2, 0.2
ownpal = 1
ignorehitpause = 0
TRANS = ADDALPHA
ALPHA = 256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movecontact
value = S1100,3
channel = 5
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = S1100,4
channel = 5
ignorehitpause = 0


[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 3008
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 16-random%1
y = 20-random%1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1


;---------------------[UŒ‚]
[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 19,6
priority = 4, Hit
getpower = 0,40
guardflag = M
pausetime = 0,3
sparkno = s-1
sparkxy = -12,-90
hitsound = s200,6
guardsound = s300,1
guard.sparkno = s-1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -6.5
air.velocity = -4.2,-6
yaccel = 0.5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
airguard.cornerpush.veloff = -12
guard.velocity = -6
ground.cornerpush.veloff = -4
fall = 1
fall.recover = -1
fall.recovertime = 999


[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7210
id = 7210
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 200, End]
type = Changestate
trigger1 = pos y >= 0
trigger2 = time = 500
value = 646
;-------------------------------------------------------------------------------
; Ki Blast - Start
[Statedef 3008]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 3008
sprpriority = 3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1

;-------------------------------------------------------------------------------
; Ki Blast - Start
[Statedef 661]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 3001
sprpriority = 3


[State 3005, flames]
type = explod
trigger1= 6
anim = 1556
ID = 1556
sprpriority = 6
postype = p1
pos = 10,-4
random = 40, 20
vel = -5,0
scale = 0.2, 0.2
ownpal = 1
ignorehitpause = 0
TRANS = ADDALPHA
ALPHA = 256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movecontact
value = S1100,3
channel = 5
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = S1100,4
channel = 5
ignorehitpause = 0


[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 646
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 16-random%1
y = 20-random%1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 115/2,-99/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1


;---------------------[UŒ‚]
[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 24,6
priority = 4, Hit
getpower = 0,40
guardflag = M
pausetime = 0,3
sparkno = s-1
sparkxy = -12,-90
hitsound = s200,6
guardsound = s300,1
guard.sparkno = s-1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4
air.velocity = -2,-4
yaccel = 0.3
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
airguard.cornerpush.veloff = -12
guard.velocity = -6
ground.cornerpush.veloff = -4
fall = 1
fall.recover = -1
fall.recovertime = 999


[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7210
id = 7210
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 200, End]
type = Changestate
trigger1 = pos y >= 0
trigger2 = time = 500
value = 646

;-------------------------------------------------------------------------------
; Ki Blast - Start
[Statedef 662]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 3001
sprpriority = 3


[State 3005, flames]
type = explod
trigger1= 6
anim = 1556
ID = 1556
sprpriority = 6
postype = p1
pos = 10,-4
random = 40, 20
vel = -5,0
scale = 0.2, 0.2
ownpal = 1
ignorehitpause = 0
TRANS = ADDALPHA
ALPHA = 256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movecontact
value = S1100,3
channel = 5
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = S1100,4
channel = 5
ignorehitpause = 0


[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 646
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 16-random%1
y = 20-random%1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 115/2,-99/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

;---------------------[エフェクト]
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 2

;---------------------[UŒ‚]
[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = diagup
damage    = 24,6
priority = 4, Hit
getpower = 0,40
guardflag = M
pausetime = 0,3
sparkno = s-1
sparkxy = -12,-90
hitsound = s200,8
guardsound = s300,1
guard.sparkno = s-1
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2
air.velocity = -1,-9
yaccel = 0.3
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
airguard.cornerpush.veloff = -12
guard.velocity = -6
ground.cornerpush.veloff = -4
fall = 1
fall.recover = -1
fall.recovertime = 999


[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7210
id = 7210
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 200, End]
type = changestate
trigger1 = pos y >= 0
trigger2 = time = 500
value = 646

;-------------------------------------------------------------------------------
; Ki Blast -  Fin
[Statedef 646]
type    = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,4
channel = 5
ignorehitpause = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 8330
ID = 8330
pos = 20,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3002
ID = 3002
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 1303
ID = 1303
pos = 20,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.3,0.3
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; lance1324
[Statedef 665]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 3003
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 646
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 25
y = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 115/2,-99/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

;---------------------[UŒ‚]
[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 24,6
priority = 4, Hit
getpower = 0,40
guardflag = M
pausetime = 0,5
sparkno = s-1
sparkxy = -12,-90
hitsound = s200,6
guardsound = s300,1
guard.sparkno = s-1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4
air.velocity = -1,-2.7
yaccel = 0.5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
airguard.cornerpush.veloff = -12
guard.velocity = -6
ground.cornerpush.veloff = -4
fall = 1
fall.recover = -1
fall.recovertime = 999
envshake.time = 12
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2


[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7210
id = 7210
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 200, End]
type = destroyself
trigger1 = time = 100

;-------------------------------------------------------------------------------
; lance1324
[Statedef 666]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 3003
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1.5
[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 646
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 25
y = -1.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 115/2,-99/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

;---------------------[UŒ‚]
[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 24,6
priority = 4, Hit
getpower = 0,40
guardflag = M
pausetime = 0,5
sparkno = s-1
sparkxy = -12,-90
hitsound = s200,6
guardsound = s300,1
guard.sparkno = s-1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4
air.velocity = -1,-2.7
yaccel = 0.5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
airguard.cornerpush.veloff = -12
guard.velocity = -6
ground.cornerpush.veloff = -4
fall = 1
fall.recover = -1
fall.recovertime = 999
envshake.time = 12
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2


[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7210
id = 7210
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 200, End]
type = destroyself
trigger1 = time = 100

;-------------------------------------------------------------------------------
; lance1324
[Statedef 667]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 3003
sprpriority = 3


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 646
ignorehitpause = 1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 2
value = 255,255,255
under = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 25
y = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒK[ƒhƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7050
id = 7000
sprpriority = 20
postype = p1
pos = 115/2,-99/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5
facing = -1

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

;---------------------[UŒ‚]
[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 24,6
priority = 4, Hit
getpower = 0,40
guardflag = M
pausetime = 0,5
sparkno = s-1
sparkxy = -12,-90
hitsound = s200,6
guardsound = s300,1
guard.sparkno = s-1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -4
air.velocity = -1,-2.7
yaccel = 0.5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
airguard.cornerpush.veloff = -12
guard.velocity = -6
ground.cornerpush.veloff = -4
fall = 1
fall.recover = -1
fall.recovertime = 999
envshake.time = 12
envshake.freq = 90
envshake.ampl = -3
envshake.phase = -2


[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7210
id = 7210
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 200, End]
type = destroyself
trigger1 = time = 100
;-------------------------------------------------------------------------------
; lance1324
[Statedef 678]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 3001
sprpriority = 3


[State 3005, flames]
type = explod
trigger1= 6
anim = 1556
ID = 1556
sprpriority = 6
postype = p1
pos = 10,-4
random = 40, 20
vel = -5,0
scale = 0.2, 0.2
ownpal = 1
ignorehitpause = 0
TRANS = ADDALPHA
ALPHA = 256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movecontact
value = S1100,3
channel = 5
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = S1100,4
channel = 5
ignorehitpause = 0


[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 646
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 16-random%6
y = 20-random%1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1


;---------------------[UŒ‚]
[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 2,6
priority = 4, Hit
getpower = 0,40
guardflag = M
pausetime = 0,3
sparkno = s-1
sparkxy = -12,-90
hitsound = s200,6
guardsound = s300,1
guard.sparkno = s-1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -0.5
air.velocity = -0,-0.5
yaccel = 0.5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
airguard.cornerpush.veloff = -12
guard.velocity = -6
ground.cornerpush.veloff = -4
fall = 1
fall.recover = -1
fall.recovertime = 999


[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7210
id = 7210
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 200, End]
type = Changestate
trigger1 = pos y >= 0
trigger2 = time = 500
value = 646
;---------------------------------------------------------------------------
;lance1324
[Statedef 679]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 3005
sprpriority = 3


[State 3005, flames]
type = explod
trigger1= 6
anim = 1556
ID = 1556
sprpriority = 6
postype = p1
pos = 10,-4
random = 40, 20
vel = -5,0
scale = 0.2, 0.2
ownpal = 1
ignorehitpause = 0
TRANS = ADDALPHA
ALPHA = 256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movecontact
value = S1100,3
channel = 5
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = S1100,4
channel = 5
ignorehitpause = 0


[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 646
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 16-random%6
y = -20-random%1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1


;---------------------[UŒ‚]
[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 2,6
priority = 4, Hit
getpower = 0,40
guardflag = M
pausetime = 0,3
sparkno = s-1
sparkxy = -12,-90
hitsound = s200,6
guardsound = s300,1
guard.sparkno = s-1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -0.5
air.velocity = -0,-0.5
yaccel = 0.5
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
airguard.cornerpush.veloff = -12
guard.velocity = -6
ground.cornerpush.veloff = -4
fall = 1
fall.recover = -1
fall.recovertime = 999


[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7210
id = 7210
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 200, End]
type = destroyself
trigger1 = time = 500
;---------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; lance1324
[Statedef 680]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 3005
sprpriority = 3

[State 3005, flames]
type = explod
trigger1= 6
anim = 1556
ID = 1556
sprpriority = 6
postype = p1
pos = 10,-4
random = 40, 20
vel = -5,0
scale = 0.2, 0.2
ownpal = 1
ignorehitpause = 0
TRANS = ADDALPHA
ALPHA = 256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movecontact
value = S1100,3
channel = 5
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded
value = S1100,4
channel = 5
ignorehitpause = 0


[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 646
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 16-random%6
y = -20-random%1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 7
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1


;---------------------[UŒ‚]
[State 210, 2]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = hard
damage    = 2,6
priority = 4, Hit
getpower = 0,40
guardflag = M
pausetime = 0,3
sparkno = s-1
sparkxy = -12,-90
hitsound = s200,6
guardsound = s300,1
guard.sparkno = s-1
ground.type = low
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -0.5,-12
air.velocity = -0.5,-12
yaccel = 0.3
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12
airguard.cornerpush.veloff = -12
guard.velocity = -6
ground.cornerpush.veloff = -4
fall = 1
fall.recover = -1
fall.recovertime = 999
Palfx.time = 100
palfx.add = 0,256,0
palfx.mul = 0,170,0
palfx.sinadd = 0,20,0,6
palfx.invertall = -1
palfx.color = 0

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7210
id = 7210
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 30/2,-10/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 200, End]
type = destroyself
trigger1 = time = 500
;---------------------------------------------------------------------------
;BlazeSlash hyper)
[Statedef 3040]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
poweradd = -2000
anim = 3040
ctrl = 0
sprpriority = 2

[State 1000, 3]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
x = 17

[State 233, 0]
type = Helper
trigger1 = animelem = 4
triggerall = NumHelper(1992) = 0
helpertype = normal
name = "Rsa"
id = 1992
facing = 1
pos = 15,-6
postype = p1
stateno = 1992
keyctrl = 0

[State explod]
type = explod
trigger1 = animelem = 3
anim = 8040
id = 3000
sprpriority =-4
postype = p1
pos =10,0
bindtime = -1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
scale = 0.6,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1000,4

[State explod]
type = explod
trigger1 = !time
anim = 7001
id = 3000
sprpriority = 1
postype = p1
pos =-10,-85
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
scale = 0.5,0.5

[State 3000, Width]
type = Width
trigger1 = AnimElem = 2, >= 0
value = 15,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = 200,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 7000,1
channel = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
anim = 101
sound = S3000,1
pos = 0,-70
movetime = 30
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 1

[state helper]
type = Helper
trigger1 = time = 0
id = 6005
name = "bg"
pos = 0,0
postype = p1
stateno = 6007
helpertype = normal
supermovetime = 999999
ownpal = 1

[State 3000, Super D]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 11

[State 3000, Super E]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(14) < 0
value2 = C, NA
time = 1

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 12
trigger3 = AnimElem = 20
value = 0, 3

[State 3500, ƒqƒbƒg’è‹`]
type = HitDef
id = 3500
trigger1 = Time = 0
attr             = S, HA
animtype         = Up
damage           = 40,18
getpower         = 30,10
hitflag          = MA
guardflag        = MA
priority         = 5
guard.pausetime = 16,40
pausetime        = 0,5
sparkno          = -1
sparkxy          = -10,-48
guard.sparkno    = -1
hitsound         = s150,2
guardsound       = s300,1
ground.type      = Low
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = 2.4,-8
guard.velocity   = -17
air.velocity     = -2.4,0
airguard.velocity= -6,-4.5
p2stateno = 3510
palfx.time = 380
palfx.add = 0,134,50
palfx.mul = 20,241,24
palfx.sinadd = 85,10,55,10
palfx.invertall = 0
palfx.color = 0
kill = 0

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 20/2,-60/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 7051
sprpriority = 20
postype = p1
pos = 130/2,-130/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
facing = -1
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 3500]
type = ChangeState
trigger1 = (Time > 30)&&(MoveHit)
value = 3041

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = S7000,5

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;MAX
[Statedef 6088]
type = S
ctrl = 0
anim = 6005
velset = 0,0
movetype = I
physics = N
sprpriority = 0

;---------------------[???”]
[state varset]
type = varset
trigger1 = time = 0
var(1) = 256

[state varadd]
type = null;varadd
trigger1 = time > 60
var(1) = -8

;---------------------[‰‰?o]
[state bgpalfx]
type = bgpalfx
trigger1 = 1
time = 1
add = -var(1),-var(1),-var(1)
invertall = 0
color = 256 - var(1)

[State assertspecial]
type = assertspecial
trigger1 = var(1) = 256
flag = NoBG
flag2 = NoFG

;---------------------[????]
[state destroyself]
type = destroyself
trigger1 = time = 380
;---------------------------------------------------------------------------
;BlazeSlash 2
[Statedef 3041]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3041
ctrl = 0
sprpriority = 2

[state helper]
type = Helper
trigger1 = time = 1
id = 6088
name = "bg"
pos = 0,0
postype = p1
stateno = 6088
helpertype = normal
supermovetime = 999999
ownpal = 1

[State explod]
type = explod
trigger1 = time = 60
anim = 3141
id = 3141
sprpriority =-4
postype = p1
pos =123,-165
bindtime = -1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
scale = 0.6,0.6

[State 0, PosSet]
type = PosSet
trigger1 = time = 1
x = 0
y = 0

[State 0, PosSet]
type = PosSet
triggerall = facing = 1
trigger1 = time = 1
x = -120
y = 0

[State 0, PosSet]
type = PosSet
triggerall = facing = -1
trigger1 = time = 1
x = 120
y = 0

[State 0, Ki Blast]
type = Helper
trigger1 = time = 60
trigger2 = time = 70
trigger3 = time = 150
trigger4 = time = 170
trigger5 = time = 220
trigger6 = time = 225
trigger7 = time = 230
trigger8 = time = 253
helpertype = normal
name = "Ki slash right"
ID = 2800
stateno = 2800
pos = -180,-145
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89
[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = time = 60
trigger2 = time = 70
trigger3 = time = 150
trigger4 = time = 170
trigger5 = time = 220
trigger6 = time = 225
trigger7 = time = 230
trigger8 = time = 253
value = 3612
ignorehitpause = 0


[State 0, Ki Blast]
type = Helper
trigger1 = time = 80
trigger2 = time = 110
trigger3 = time = 180
trigger4 = time = 235
trigger5 = time = 240
trigger6 = time = 245
trigger7 = time = 253
helpertype = normal
name = "Ki slash up"
ID = 2801
stateno = 2801
pos = 130,60
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89
[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = time = 80
trigger2 = time = 110
trigger3 = time = 180
trigger4 = time = 235
trigger5 = time = 240
trigger6 = time = 245
trigger7 = time = 253
value = 3615
ignorehitpause = 0

[State 0, Ki Blast]
type = Helper
trigger1 = time = 90
trigger2 = time = 100
trigger3 = time = 130
trigger4 = time = 190
trigger5 = time = 195
trigger6 = time = 200
trigger7 = time = 253
helpertype = normal
name = "Ki slash left"
ID = 2802
stateno = 2802
pos = 250,-145
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89
[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = time = 90
trigger2 = time = 100
trigger3 = time = 130
trigger4 = time = 190
trigger5 = time = 195
trigger6 = time = 200
trigger7 = time = 253
value = 3614
ignorehitpause = 0

[State 0, Ki Blast]
type = Helper
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 205
trigger5 = time = 210
trigger6 = time = 215
trigger7 = time = 253
helpertype = normal
name = "Ki slash down"
ID = 2803
stateno = 2803
pos = 130,-250
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89
[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = time = 120
trigger2 = time = 140
trigger3 = time = 160
trigger4 = time = 205
trigger5 = time = 210
trigger6 = time = 215
trigger7 = time = 253
value = 3613
ignorehitpause = 0

[State 0, Ki Blast]
type = Helper
trigger1 = time = 260
helpertype = normal
name = "Spiral"
ID = 2810
stateno = 2810
pos = 130,-250
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89

[State 0, Ki Blast]
type = Helper
trigger1 = time = 260
helpertype = normal
name = "Spiral2"
ID = 2811
stateno = 2811
pos = 130,-20
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89

[State 0, Ki Blast]
type = Helper
trigger1 = time = 260
helpertype = normal
name = "Spiral3"
ID = 2812
stateno = 2812
pos = 10,-150
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89

[State 0, Ki Blast]
type = Helper
trigger1 = time = 260
helpertype = normal
name = "Spiral4"
ID = 2813
stateno = 2813
pos = 250,-150
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89
;------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 63
trigger2 = time = 73
trigger3 = time = 153
trigger4 = time = 173
trigger5 = time = 223
trigger6 = time = 227
trigger7 = time = 233 
anim = 7202
ID = 1
pos = 130,-180
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.6,0.6
sprpriority = 40
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause =0

[State 0, Explod]
type = Explod
trigger1 = time = 83
trigger2 = time = 113
trigger3 = time = 183
trigger4 = time = 237
trigger5 = time = 243
trigger6 = time = 247
anim = 7202
ID = 1
pos = 130,-180
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.6,0.6
sprpriority = 40
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause =0


[State 0, Explod]
type = Explod
trigger1 = time = 123
trigger2 = time = 143
trigger3 = time = 163
trigger4 = time = 207
trigger5 = time = 213
trigger6 = time = 217
anim = 7202
ID = 1
pos = 130,-180
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.6,0.6
sprpriority = 40
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause =0

[State 0, Explod]
type = Explod
trigger1 = time = 93
trigger2 = time = 103
trigger3 = time = 133
trigger4 = time = 193
trigger5 = time = 197
trigger6 = time = 203
anim = 7202
ID = 1
pos = 130,-180
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.6,0.6
sprpriority = 40
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause =0
;----------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 63
trigger2 = time = 73
trigger3 = time = 153
trigger4 = time = 173
trigger5 = time = 223
trigger6 = time = 227
trigger7 = time = 233
trigger8 = time = 256
trigger9 = time = 93
trigger10 = time = 103
trigger11 = time = 133
trigger12 = time = 193
trigger13 = time = 197
trigger14 = time = 203
trigger15 = time = 256
trigger16 = time = 123
trigger17 = time = 143
trigger18 = time = 163
trigger19 = time = 207
trigger20 = time = 213
trigger21 = time = 217
trigger22 = time = 256 
trigger23 = time = 83
trigger24 = time = 113
trigger25 = time = 183
trigger26= time = 237
trigger27 = time = 243
trigger28 = time = 247
value = 150,0+(random%3)
channel = 5
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 63
trigger2 = time = 73
trigger3 = time = 153
trigger4 = time = 173
trigger5 = time = 223
trigger6 = time = 227
trigger7 = time = 233
trigger8 = time = 256
trigger9 = time = 93
trigger10 = time = 103
trigger11 = time = 133
trigger12 = time = 193
trigger13 = time = 197
trigger14 = time = 203
trigger15 = time = 256
trigger16 = time = 123
trigger17 = time = 143
trigger18 = time = 163
trigger19 = time = 207
trigger20 = time = 213
trigger21 = time = 217
trigger22 = time = 256 
trigger23 = time = 83
trigger24 = time = 113
trigger25 = time = 183
trigger26= time = 237
trigger27 = time = 243
trigger28 = time = 247
time = 6
freq = 60
ampl = -7
phase = 90
ignorehitpause = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = time = 63
trigger2 = time = 73
trigger3 = time = 153
trigger4 = time = 173
trigger5 = time = 223
trigger6 = time = 227
trigger7 = time = 233
trigger8 = time = 256
trigger9 = time = 93
trigger10 = time = 103
trigger11 = time = 133
trigger12 = time = 193
trigger13 = time = 197
trigger14 = time = 203
trigger15 = time = 256
trigger16 = time = 123
trigger17 = time = 143
trigger18 = time = 163
trigger19 = time = 207
trigger20 = time = 213
trigger21 = time = 217
trigger22 = time = 256 
trigger23 = time = 83
trigger24 = time = 113
trigger25 = time = 183
trigger26= time = 237
trigger27 = time = 243
trigger28 = time = 247
value = 1
ignorehitpause = 0

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 63
trigger2 = time = 73
trigger3 = time = 153
trigger4 = time = 173
trigger5 = time = 223
trigger6 = time = 227
trigger7 = time = 233
trigger8 = time = 256
trigger9 = time = 93
trigger10 = time = 103
trigger11 = time = 133
trigger12 = time = 193
trigger13 = time = 197
trigger14 = time = 203
trigger15 = time = 256
trigger16 = time = 123
trigger17 = time = 143
trigger18 = time = 163
trigger19 = time = 207
trigger20 = time = 213
trigger21 = time = 217
trigger22 = time = 256 
trigger23 = time = 83
trigger24 = time = 113
trigger25 = time = 183
trigger26= time = 237
trigger27 = time = 243
trigger28 = time = 247
value = -5
kill = 0
absolute = 0
ignorehitpause = 0

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = time = 256
value = 3520
ignorehitpause = 0

[State 3502]
type = ScreenBound
trigger1 = Time = 0
value = 1

[state 3503]
type = VarSet
trigger1 = Time = 0
v = 21
value = ceil(Target(3041),Pos Y)

[State 3000, 7]
type = ChangeState
trigger1 = Time = 270
value = 3042
ctrl = 0
;---------------------------------------------------------------------------
;BlazeSlash 3
[Statedef 3042]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3042
ctrl = 0
sprpriority = 2


[State 0, Ki Blast]
type = Helper
trigger1 = time = 69
helpertype = normal
name = "blood"
ID = 3049
stateno =  3049
pos = 130,-150
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89


[State 0, Explod]
type = Explod
trigger1 = time = 69
anim = 7202
ID = 1
pos = 130,-180
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 40
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause =0
[State 0, Explod]
type = Explod
trigger1 = time = 69
anim = 7202
ID = 1
pos = 130,-180
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 40
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause =0


[state helper]
type = Helper
trigger1 = time = 90
id = 6005
name = "bg"
pos = 0,0
postype = p1
stateno = 6007
helpertype = normal
supermovetime = 999999
ownpal = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = time = 69
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 69
value = S155,0 
ignorehitpause = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 69
time = 30
freq = 90
ampl = -4
phase = 90
ignorehitpause = 0

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = time = 69
value = 3521
ignorehitpause = 0

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 69
value = -55
kill = 1
absolute = 0
ignorehitpause = 0

[State 3000, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Blood hyper
[Statedef 3049]
type =A
movetype= A
physics = N
anim = 1


[State 8051, Small]
type = explod
trigger1 = 1
anim = 6500
ID = 6500
postype = p1
pos = 0,-40
vel = -11 + (random / 125.0), -0.5 -(random / 400.0)
accel = 0, 0.8
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 5
scale = 0.3, 0.3
ownpal = 1

[State 8051, Small]
type = explod
trigger1 = 1
anim = 6500
ID = 6500
postype = p1
pos = 0,-40
vel = -1 + (random / 125.0), -2 -(random / 400.0)
accel = 0, 0.8
facing = ifelse(random < 6, -1, 1)
vfacing = ifelse(random < 6, -1, 1)
sprpriority = 5
scale = 0.3, 0.3
ownpal = 1

[state a]
type = velset
trigger1 = animelem = 1
x = 0
y = -6

[state a]
type = veladd
trigger1 = animelem = 1,>0
y = 0.4

[State 1001,st ]
type = destroyself
trigger1 = pos Y >= 0 && time > 5
;--------------------------------------------------------------------------

[Statedef 3510]
type    = A
movetype= H
physics = N
juggle  = 0
velset = -0.3,-15
ctrl = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
triggerall = facing = 1
trigger1 = time = 1
x = 0
y = 0

[State 0, PosSet]
type = PosSet
triggerall = facing = -1
trigger1 = time = 1
x = 0
y = 0

[State 3502]
type = ScreenBound
trigger1 = Time = 0
value = 1

[State 3510]
type = ChangeAnim2
trigger1 = Time = 0
value = 3510

[State 3510]
type = ChangeState
trigger1 = Pos Y < -150
value = 3511
;---------------------------------------------------------------------------
[Statedef 3511]
type    = A
movetype= H
physics = N
juggle  = 0
velset = -0.1,-0.2
ctrl = 0
sprpriority = 2

[State 3511]
type = Null
trigger1 = 1

[State 3510]
type = ChangeState
trigger1 = time = 50
value = 3512
;---------------------------------------------------------------------------
[Statedef 3512]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2

[State 3511]
type = Null
trigger1 = 1
;--------------------------------------------------------------------------
[Statedef 3520]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2


[State 3510]
type = ChangeAnim2
trigger1 = Time = 0
value = 3520
;--------------------------------------------------------------------------
[Statedef 3611]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2


[State 3510]
type = ChangeAnim2
trigger1 = Time = 0
value = 3611
;--------------------------------------------------------------------------

[Statedef 3612]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2


[State 3510]
type = ChangeAnim2
trigger1 = Time = 0
value = 3612
;--------------------------------------------------------------------------
[Statedef 3613]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2


[State 3510]
type = ChangeAnim2
trigger1 = Time = 0
value = 3613
;--------------------------------------------------------------------------
[Statedef 3614]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2


[State 3510]
type = ChangeAnim2
trigger1 = Time = 0
value = 3614
;--------------------------------------------------------------------------
[Statedef 3615]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
sprpriority = 2


[State 3510]
type = ChangeAnim2
trigger1 = Time = 0
value = 3615
;-------------------------------------------------------------------------
[Statedef 3521]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,-5
ctrl = 0
sprpriority = 2


[State 3510]
type = ChangeAnim2
trigger1 = Time = 0
value = 3521

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = 0.3

[State 943, 5]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5110
ctrl = 0

;-------------------------------------------------------------------------------
;LANCEhyper type 1
[Statedef 2800]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2800
sprpriority = 3


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 40
y = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = destroyself
trigger1 = time = 100
;-------------------------------------------------------------------------------
;LANCEhyper type 2
[Statedef 2801]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2801
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -40

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = destroyself
trigger1 = time = 100
;-------------------------------------------------------------------------------
;LANCEhyper type 3
[Statedef 2802]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2802
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -40
y = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = destroyself
trigger1 = time = 100
;-------------------------------------------------------------------------------
;LANCEhyper type 4
[Statedef 2803]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2803
sprpriority = 3


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 40

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = destroyself
trigger1 = time = 100
;-------------------------------------------------------------------------------
;LANCEhyper type 4
[Statedef 2890]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2821
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 40
y = -30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = destroyself
trigger1 = time = 100

;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;LANCEhyper type 4
[Statedef 2893]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2823
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 40
y = 30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = destroyself
trigger1 = time = 100
;-------------------------------------------------------------------------------
;LANCEhyper type 4
[Statedef 2890]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2821
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 40
y = -30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = destroyself
trigger1 = time = 100
;-------------------------------------------------------------------------------
;LANCEhyper type 4
[Statedef 2891]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2811
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -40
y = -30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = destroyself
trigger1 = time = 100

;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;LANCEhyper type 4
[Statedef 2892]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2825
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1000,6
channel = 4
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -40
y = 30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 7202
sprpriority = 20
postype = p1
pos = 15/2,-30/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = destroyself
trigger1 = time = 100

;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;Spiral1
[Statedef 2810]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2810
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -1.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = changestate
trigger1 = time = 70
value = 2803
;-------------------------------------------------------------------------------
;Spiral2
[Statedef 2811]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2810
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 1.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = changestate
trigger1 = time = 70
value = 2801
;-------------------------------------------------------------------------------
;Spiral3
[Statedef 2812]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2810
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -1.5
y = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = changestate
trigger1 = time = 70
value = 2800
;-------------------------------------------------------------------------------
;Spiral3
[Statedef 2813]
type = S
physics = N
movetype = A
juggle  = 2
ctrl = 0
anim = 2810
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 1.5
y = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 700, ??]
type = AfterImage
triggerall = var(16) = 0
trigger1 = AnimElem = 1
time = 15
length = 7
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 700, ??]
type = AfterImage
trigger1 = var(16) = 1 && AnimElem = 1
time = 999
length = 3
framegap = 3
palcolor = 0
trans = add1
palbright = 16,0,48
palcontrast = 200,184,240
paladd = 0,0,0
palmul = 1,1,1

[State 200, End]
type = changestate
trigger1 = time = 70
value = 2802
;---------------------------------------------------------------------------------------------
[Statedef 1222]
type = S
physics = A
movetype = H
ctrl = 0
velset = 0,0
sprpriority = 0

[State 2022, 0]
type = Changeanim2
trigger1 = time = 0
value = 2022

[State 2022, 0]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 5100

;--------------------------------------------------------------------------------------------
[Statedef 2520]
type = A
movetype = H
physics = N
velset = 0,0
poweradd = 40

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 7
;ignorehitpause =
;persistent =

[State 2520, 4] ;Hit ground
type = SelfState
trigger1 = alive != 1
value = 5110 ;Hit ground

[State 2520, 4] ;Hit ground
type = SelfState
trigger1 = animtime = 0
value = 5120 ;Hit ground

[Statedef 1229]
type = S
physics = N
movetype = H
ctrl = 0
velset = 0,0
sprpriority = 3

[State 2020, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 2020
;--------------------------------------------------------------------------------
[Statedef 1221]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2021, 0]
type = ChangeAnim2
trigger1 = time = 0
value = 2021

;-----------------------------------------------------------------------------
[StateDef 8159]
type = A
velSet = 0,0
anim = 1

[State 8051, Small]
type = explod
trigger1 = !time
anim = 6500
ID = 6500
postype = p1
pos = 5,-40
vel = -11 + (random / 125.0), -0.5 -(random / 400.0)
accel = 0, 0.8
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 5
scale = 0.3, 0.3
ownpal = 1

[State 8051, Small]
type = explod
trigger1 = !time
anim = 6500
ID = 6500
postype = p1
pos = 5,-40
vel = -1 + (random / 125.0), -2 -(random / 400.0)
accel = 0, 0.8
facing = ifelse(random < 6, -1, 1)
vfacing = ifelse(random < 6, -1, 1)
sprpriority = 5
scale = 0.3, 0.3
ownpal = 1

[State 8051, End]
type = destroyself
trigger1 = 1
;-------------------------------
;Undying
[StateDef 4000]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4000
poweradd = -5000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S7000,14
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 12
value = S181,1

[State explod]
type = explod
trigger1 = time = 1
anim = 70001
sprpriority = -9999
postype = p1
pos = -20/2,-178/2
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
;scale = 0.5,0.5


[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 4129
ID = 4129
pos = 60,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.2,0.2
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 4129
ID = 4129
pos = 60,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.6
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =

[State explod]
type = explod
trigger1 = time = 4
anim = 70000
sprpriority = 9999
postype = p1
pos = -20/2,-178/2
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
;scale = 0.5,0.5

[State 0, VelSet]
type = VelSet
trigger1 = time = [40,48]
x = 11
y = 0
ignorehitpause =0


[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 30
movetime = 30
anim = -1
sound = s3000,2
pos = -40,-76
move =
darken = 0
p2defmul = 0
unhittable = 0


[state helper]
type = Helper
trigger1 = time = 0
id = 6099
name = "bg"
pos = 0,0
postype = p1
stateno = 6099
helpertype = normal
supermovetime = 999999
ownpal = 1
[state helper]
type = Helper
trigger1 = time = 73
id = 6005
name = "bg"
pos = 0,0
postype = p1
stateno = 6007
helpertype = normal
supermovetime = 999999
ownpal = 1

[State 200, 7]
type = ChangeState
trigger1 = animelem = 12,>0
trigger1 = animelem = 18,<0
trigger1 = p2bodydist x <= 60
value = 4001

[State 3100, end]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;-------------------------------
;Undying
[StateDef 4001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4001
sprpriority = 2

[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = movehit = 1
anim = 7202
id = 9000
sprpriority = 20
postype = p1
pos = 150/2,-170/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.7,0.7

;---------------------[?G?t?F?N?g]
[State explod];?q?b?g?G?t?F?N?g
type = Explod
trigger1 = moveguarded = 1
anim = 7051
id = 9000
sprpriority = 20
postype = p1
pos = 130/2,-130/2
bindtime = 1
supermove = 999
pausemove = 999
facing = -1
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 233, 0]
type = Helper
trigger1 = animelem = 1
triggerall = NumHelper(1002) = 0
helpertype = normal
name = "Rod"
id = 1002
facing = 1
pos = 15,-6
postype = p1
stateno = 1002
keyctrl = 0

[state helper]
type = Helper
trigger1 = time =1
id = 6005
name = "bg"
pos = 0,0
postype = p1
stateno = 6007
helpertype = normal
supermovetime = 999999
ownpal = 1


[State 3100, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, HT
damage = 50,5
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 5
sparkno = -1
guard.sparkno = -1
sparkxy = -10, -66
hitsound = s155, 0
guardsound = s300, 1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
p2stateno = 4020
envshake.time = 20
envshake.ampl = 4
kill = 0
getpower = 0

[State 3100, end]
type = ChangeState
trigger1 = movehit = 1
value = 4002
ctrl = 0

[State 3100, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;-------------------------
;Undying Throw
[Statedef 4002]
type = S
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 4002

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 4126
ID = 4126
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 20
ontop = 0
ownpal = 1
removeongethit = 0
;ignorehitpause =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S181,1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S1400,2
ignorehitpause = 0

[state helper]
type = Helper
trigger1 = time =47
id = 6005
name = "bg"
pos = 0,0
postype = p1
stateno = 6007
helpertype = normal
supermovetime = 999999
ownpal = 1

[state helper]
type = Helper
trigger1 = time = 1
id = 6099
name = "bg"
pos = 0,0
postype = p1
stateno = 6099
helpertype = normal
supermovetime = 999999
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
;ignorehitpause = 1
 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S9,1
volume = 255
channel = -1
;lowpriority = -1
freqmul = 1.0
loop = 0
pan = 0
;abspan =
;ignorehitpause =
;persistent =


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 0.3
y = -30
;ignorehitpause =
;persistent =


[State 3101, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, HT
hitflag = MAF
priority = 1, Miss
sparkno = -1
sprpriority = 1
p2facing = 1
p1stateno = 4003
p2stateno = 4025
fall = 1
fall.recover = 0

[State 0, PalFX]
type = PalFX
trigger1 = animelem = 51
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,10
invertall = 0
color = 256
ignorehitpause = 1
persistent = 1 

[State 3101, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------
[Statedef 4003]
type = S
movetype= A
physics = N
anim = 4003
poweradd = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7000,13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S7000,8
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S7000,10
channel = 1

[State 0, Explod]
type = Explod
trigger1 = time = 35
anim = 4128
ID = 4128
pos = 40,-164
postype = p1
facing = 1
vfacing = 1
bindtime =1 
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 20
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1


[State 0, Explod]
type = Explod
trigger1 =!time 
anim = 4120
ID = 4120
pos = 40,-164
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 400
pausemovetime = 0
scale = 0.9,1
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
;ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -0.5


[State 0, PosSet]
type = PosSet
trigger1 = time = 0 && facing = 1
x = -40
y = 68
;ignorehitpause =
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = time = 0 && facing = -1
x = 40
y = 68
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobg
flag2 = noshadow
;ignorehitpause = 0
;persistent = 1

[State 3111, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 150, -15

[State 3111, Hurt]
type = TargetLifeAdd
trigger1 = animelem = 51
value = -50
kill = 0
absolute = 1

[State 3111, State End]
type = ChangeState
trigger1 = Time = 200
value = 4004
ctrl = 0
;----------------------------------------------------------------------
[Statedef 4004]
type = S
movetype= A
physics = N
anim = 4004
poweradd = 0

;----------------------------------------------------------------------------------------------------------

;diagonales
[State 0, Ki Blast]
type = Helper
trigger1 = time = 10
trigger2 = time = 55
trigger3 = time = 90
trigger4 = time = 135
helpertype = normal
name = "slash diagonal"
ID = 2890
stateno = 2890
pos = -150,90
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89



[State 0, Ki Blast]
type = Helper
trigger1 = time = 15
trigger2 = time = 65
trigger3 = time = 100
trigger4 = time = 145
helpertype = normal
name = "Ki slash diagonal"
ID = 2891
stateno = 2891
pos = 250,90
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89



[State 0, Ki Blast]
type = Helper
trigger1 = time = 20
trigger2 = time = 75
trigger3 = time = 110
trigger4 = time = 155
helpertype = normal
name = "Ki slash diagonal"
ID = 2892
stateno = 2892
pos = 250,-197
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89



[State 0, Ki Blast]
type = Helper
trigger1 = time = 25
trigger2 = time = 85
trigger3 = time = 120
helpertype = normal
name = "slash diagonal"
ID = 2893
stateno = 2893
pos = -150,-197
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89

;---------------------------------------------------------------------------------------------------
;verticales y horizontales

[State 0, Ki Blast]
type = Helper
trigger1 = time = 30
trigger2 = time = 50
trigger3 = time = 95
trigger4 = time = 130
helpertype = normal
name = "Ki slash right"
ID = 2800
stateno = 2800
pos = -180,-50
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89


[State 0, Ki Blast]
type = Helper
trigger1 = time = 35
trigger2 = time = 60
trigger3 = time = 105
trigger4 = time = 140
helpertype = normal
name = "Ki slash up"
ID = 2801
stateno = 2801
pos = 45,60
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89


[State 0, Ki Blast]
type = Helper
trigger1 = time = 40
trigger2 = time = 70
trigger3 = time = 115
trigger4 = time = 150
helpertype = normal
name = "Ki slash left"
ID = 2802
stateno = 2802
pos = 250,-50
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89


[State 0, Ki Blast]
type = Helper
trigger1 = time = 45
trigger2 = time = 80
trigger3 = time = 125
helpertype = normal
name = "Ki slash down"
ID = 2803
stateno = 2803
pos = 45,-250
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.89
size.yscale = 0.89

[State 0, Explod]
type = Explod
trigger1 = time = 10
trigger2 = time = 15
trigger3 = time = 20
trigger4 = time = 25
trigger5 = time = 30
trigger6 = time = 35
trigger7 = time = 40
trigger8 = time = 45
trigger9 = time = 50
trigger10 = time = 55
trigger11 = time = 60
trigger12 = time = 65
trigger13 = time = 70
trigger14 = time = 75
trigger15 = time = 80
trigger16 = time = 85
trigger17 = time = 90
trigger18 = time = 95
trigger19 = time = 100
trigger20 = time = 105
trigger21 = time = 110
trigger22 = time = 115
trigger23 = time = 120
trigger24 = time = 125
trigger25 = time = 130
trigger26 = time = 135
trigger27 = time = 140
trigger28 = time = 145
trigger29 = time = 150
trigger30 = time = 155
anim = 2547
ID = 2547
pos = 35,-80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.7,0.7
sprpriority = 20
ontop = 0
ownpal = 0
removeongethit = 0
ignorehitpause =1
[State 0, Explod]
type = Explod
trigger1 = time = 10
trigger2 = time = 15
trigger3 = time = 20
trigger4 = time = 25
trigger5 = time = 30
trigger6 = time = 35
trigger7 = time = 40
trigger8 = time = 45
trigger9 = time = 50
trigger10 = time = 55
trigger11 = time = 60
trigger12 = time = 65
trigger13 = time = 70
trigger14 = time = 75
trigger15 = time = 80
trigger16 = time = 85
trigger17 = time = 90
trigger18 = time = 95
trigger19 = time = 100
trigger20 = time = 105
trigger21 = time = 110
trigger22 = time = 115
trigger23 = time = 120
trigger24 = time = 125
trigger25 = time = 130
trigger26 = time = 135
trigger27 = time = 140
trigger28 = time = 145
trigger29 = time = 150
trigger30 = time = 155
anim = 7201
ID =7201
pos = 45,-80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.6,0.6
sprpriority = 20
ontop = 0
ownpal = 0
removeongethit = 0
ignorehitpause =1
[State 0, Explod]
type = Explod
trigger1 = time = 10
trigger2 = time = 15
trigger3 = time = 20
trigger4 = time = 25
trigger5 = time = 30
trigger6 = time = 35
trigger7 = time = 40
trigger8 = time = 45
trigger9 = time = 50
trigger10 = time = 55
trigger11 = time = 60
trigger12 = time = 65
trigger13 = time = 70
trigger14 = time = 75
trigger15 = time = 80
trigger16 = time = 85
trigger17 = time = 90
trigger18 = time = 95
trigger19 = time = 100
trigger20 = time = 105
trigger21 = time = 110
trigger22 = time = 115
trigger23 = time = 120
trigger24 = time = 125
trigger25 = time = 130
trigger26 = time = 135
trigger27 = time = 140
trigger28 = time = 145
trigger29 = time = 150
trigger30 = time = 155
anim = 7201
ID =7201
pos = 45,-80
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.6,0.6
sprpriority = 20
ontop = 0
ownpal = 0
removeongethit = 0
ignorehitpause =1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10
trigger2 = time = 15
trigger3 = time = 20
trigger4 = time = 25
trigger5 = time = 30
trigger6 = time = 35
trigger7 = time = 40
trigger8 = time = 45
trigger9 = time = 50
trigger10 = time = 55
trigger11 = time = 60
trigger12 = time = 65
trigger13 = time = 70
trigger14 = time = 75
trigger15 = time = 80
trigger16 = time = 85
trigger17 = time = 90
trigger18 = time = 95
trigger19 = time = 100
trigger20 = time = 105
trigger21 = time = 110
trigger22 = time = 115
trigger23 = time = 120
trigger24 = time = 125
trigger25 = time = 130
trigger26 = time = 135
trigger27 = time = 140
trigger28 = time = 145
trigger29 = time = 150
trigger30 = time = 155
time = 6
freq = 90
ampl = -2
phase = 90
ignorehitpause = 1


[State 0, HitAdd]
type = HitAdd
trigger1 = time = 10
trigger2 = time = 15
trigger3 = time = 20
trigger4 = time = 25
trigger5 = time = 30
trigger6 = time = 35
trigger7 = time = 40
trigger8 = time = 45
trigger9 = time = 50
trigger10 = time = 55
trigger11 = time = 60
trigger12 = time = 65
trigger13 = time = 70
trigger14 = time = 75
trigger15 = time = 80
trigger16 = time = 85
trigger17 = time = 90
trigger18 = time = 95
trigger19 = time = 100
trigger20 = time = 105
trigger21 = time = 110
trigger22 = time = 115
trigger23 = time = 120
trigger24 = time = 125
trigger25 = time = 130
trigger26 = time = 135
trigger27 = time = 140
trigger28 = time = 145
trigger29 = time = 150
trigger30 = time = 155
value = 1
ignorehitpause = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
trigger2 = time = 15
trigger3 = time = 20
trigger4 = time = 25
trigger5 = time = 30
trigger6 = time = 35
trigger7 = time = 40
trigger8 = time = 45
trigger9 = time = 50
trigger10 = time = 55
trigger11 = time = 60
trigger12 = time = 65
trigger13 = time = 70
trigger14 = time = 75
trigger15 = time = 80
trigger16 = time = 85
trigger17 = time = 90
trigger18 = time = 95
trigger19 = time = 100
trigger20 = time = 105
trigger21 = time = 110
trigger22 = time = 115
trigger23 = time = 120
trigger24 = time = 125
trigger25 = time = 130
trigger26 = time = 135
trigger27 = time = 140
trigger28 = time = 145
trigger29 = time = 150
trigger30 = time = 155
value = s3025,0
channel = 5
ignorehitpause = 0


[State 0, LifeAdd]
type = targetLifeAdd
trigger1 = time = 10
trigger2 = time = 15
trigger3 = time = 20
trigger4 = time = 25
trigger5 = time = 30
trigger6 = time = 35
trigger7 = time = 40
trigger8 = time = 45
trigger9 = time = 50
trigger10 = time = 55
trigger11 = time = 60
trigger12 = time = 65
trigger13 = time = 70
trigger14 = time = 75
trigger15 = time = 80
trigger16 = time = 85
trigger17 = time = 90
trigger18 = time = 95
trigger19 = time = 100
trigger20 = time = 105
trigger21 = time = 110
trigger22 = time = 115
trigger23 = time = 120
trigger24 = time = 125
trigger25 = time = 130
trigger26 = time = 135
trigger27 = time = 140
trigger28 = time = 145
trigger29 = time = 150
trigger30 = time = 155
value = -5
kill = 0
ignorehitpause = 0


[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -0.1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S7000,11
channel = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobg
flag2 = noshadow
flag3 = nobardisplay
;ignorehitpause = 0
;persistent = 1


[State 3111, State End]
type = ChangeState
trigger1 = Time = 250
value = 4005
ctrl = 0
;----------------------------------------------------------------------
[Statedef 4005]
type = S
movetype= A
physics = N
anim = 4005
poweradd = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = S7000,12
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S7000,9
channel = 6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 4120
ignorehitpause = 0

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = animelem = 1
value =4026
ignorehitpause = 0


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobg
flag2 = noshadow
flag3 = nobardisplay
;ignorehitpause = 0
;persistent = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 1
time = 1
id = -1
pos = 60,-75
ignorehitpause = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3
time = 1
id = -1
pos = 5,-60
ignorehitpause = 0
[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4
time = 1
id = -1
pos = 5,-30
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 34
x = 0
y = 0.8

[State 0, Explod]
type = Explod
trigger1 =time = 34
anim = 4121
ID = 4121
pos = 40,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 400
pausemovetime = 0
scale = 0.9,1
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 3111, State End]
type = ChangeState
trigger1 = Time = 150
value = 4006
ctrl = 0
;----------------------------------------------------------------------
[Statedef 4006]
type = S
movetype= A
physics = N
anim = 4006
poweradd = 0
velset = 0,-1

[State 0, StopSnd]
type = StopSnd
trigger1 = !time
channel = 8
ignorehitpause = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = !time
channel = 6
ignorehitpause = 0

[State 851, 速度加算]
type = VelAdd
trigger1 = 1
y = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobg
flag2 = nomusic
flag3 = nobardisplay

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 4121
ignorehitpause =0 

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 1
time = 1
pos = 60,-75
ignorehitpause = 0

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = animelem = 1
value = 4080
ignorehitpause = 0

[State 0, PosAdd]
type = PosSet
trigger1 = time = 1
x = 0
y = -700

[State 1000, ƒXƒe[ƒg•ÏX]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 4007
;----------------------------------------------------------------------
[Statedef 4007]
type = S
movetype= A
physics = N
anim = 4007
poweradd = 0
velset = 0,0
sprpriority = -1
[State 0, HitAdd]
type = HitAdd
trigger1 = time = 1
value = 1
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 2545
ID = 2545
pos = -70,0
postype = p1  ;p2,front,back,left,right
scale = 0.6,0.6
bindtime = 1
sprpriority = 39
ownpal = 1
remappal = 2545,1
trans = sub
alpha = -255,-255
[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 2545
ID = 2545
pos = -70,0
postype = p1  ;p2,front,back,left,right
scale = 0.6,0.6
bindtime = 1
sprpriority = 40
ownpal = 1
[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >=1
ID = 2545
scale = (time-840)*0.5,(time-840)*0.5
[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 2546
ID = 2546
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 2,2
sprpriority = 40
ontop = 0
ownpal = 0
removeongethit = 0
;ignorehitpause =

[State 0, Explod]
type = Explod
trigger1 = time = 60
anim = 4122
ID = 4122
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale =  0.6,0.6
sprpriority = 0
ontop = 0
ownpal = 0
removeongethit = 0
;ignorehitpause =
[State 0, Explod]
type = Explod
trigger1 = time = 60
anim = 4123
ID = 4123
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale =  0.6,0.6
sprpriority = -1
ontop = 0
ownpal = 0
removeongethit = 0
;ignorehitpause =
[State 0, Explod]
type = Explod
trigger1 = time = 60
anim = 4124
ID = 4124
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale =  0.6,0.6
sprpriority = 10
ontop = 0
ownpal = 0
removeongethit = 0
;ignorehitpause =
[State 0, Explod]
type = Explod
trigger1 = time = 60
anim = 4125
ID = 4125
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.6,0.6
sprpriority = 9
ontop = 0
ownpal = 0
removeongethit = 0
;ignorehitpause =
[State 0, Explod]
type = Explod
trigger1 = time = 170
anim = 2548
ID = 2548
pos = 10,-90
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.6,0.6
sprpriority = 9
ontop = 0
ownpal = 0
removeongethit = 0
ignorehitpause =0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 170
value = S190,3


[State 0, Explod]
type = Explod
trigger1 = time = 60
anim = 4127
ID = 4127
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.6,0.6
sprpriority = 0
ontop = 0
ownpal = 0
removeongethit = 0
;ignorehitpause =

[State 0, EnvShake]
type = EnvShake
trigger1 = !TIME
time = 170
freq = 99
ampl = -15
phase = 99
Ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !TIME
value = S7000,6
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !TIME
value = S7000,7
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !TIME
value = S7000,6
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !TIME
value = S7000,7

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = !TIME
value = -150
kill = 1
ignorehitpause = 1


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobg
flag2 = nomusic
flag3 = nobardisplay

[State 0, PosAdd]
type = PosSet
trigger1 = 1
x = 0
y = 0

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = animelem = 1
value = 4081
ignorehitpause = 0

[State 3111, State End]
type = ChangeState
trigger1 = animtime  = 0
value = 4008
ctrl = 0
;-------------------------------------------------------------------------------
;im dead inside moveguarded
[Statedef 4008]
type     = S
movetype = A
physics  = S
juggle   = 0
velset   = -5,-1
anim     = 4008
ctrl     = 0
sprpriority = 2


[state a]
type = statetypeset
trigger1 = animelem = 1
value = A

[state a]
type = velset
trigger1 = time = [1,100]
x = -7

[state a]
type = velset
trigger1 = animelem = 1
x = 0
y = -6

[state a]
type = velset
trigger1 = animelem = 1
x = 0
y = -6

[state a]
type = veladd
trigger1 = animelem = 1,>0
y = 0.6

[State 3050, 1]
type = PlaySnd
trigger1 = !time
value = 3, 2
;---------------------[ƒXƒe[ƒgˆÚs]
[State 200, 7]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 1123

;-----------------------------------
[StateDef 4081]
type = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 0, PosAdd]
type = PosSet
trigger1 = time = 1
x = 0
y = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 4081

[State 2520, 4] ;Hit ground
type = SelfState
trigger1 = alive != 1
value = 5110 ;Hit ground

[State 2520, 4] ;Hit ground
type = SelfState
trigger1 = animtime = 0
value = 5120 ;Hit ground


;--------------------------------------------------------------------------------------
[StateDef 4080]
type = A
movetype= H
physics = N
velset = 0,-1
ctrl = 0

[State 851, 速度加算]
type = VelAdd
trigger1 = 1
y = 1

[State 0, PosAdd]
type = PosSet
trigger1 = time = 1
x = 0
y = -700

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 4080
;-------------------------
;P2 Undying Get hit 1
[StateDef 4026]
type = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 34
x = 0
y = 0.8

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 4026
;elem = 1
;ignorehitpause =
;persistent =

;-------------------------
;P2 Undying Get hit 1
[StateDef 4020]
type = A
movetype= H
physics = N
velset = -0.5,-15
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
;ignorehitpause =
;persistent =

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 4020
;elem = 1
;ignorehitpause =
;persistent =

[State 3110, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------
;P2 Undying hits
[Statedef 4025]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = noshadow
flag3 = nobardisplay

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -0.1
;ignorehitpause =
;persistent =


[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 0
y = -20
;ignorehitpause =
;persistent =


[State 3121, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 4025

;----------------------------------------------------------------------
;------------------------------------------------------------------
[Statedef 8000]
type    = S
physics = S
movetype= I
velset = 0,0
anim = 8000
ctrl = 0

[State 1000, Power]
type = PowerAdd
trigger1 = time >=6
trigger1 = command = "holdy" && command = "holda"
value = 4 + (time/20)

[State 3001, Super]
type = Helper
trigger1 = !NumHelper(8002)
trigger1 = animelemTime(7)=0
id = 8002
name = "Charge"
pos = 0,0
postype = P1
stateno = 809080
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale = 0.4
size.yscale=0.4


[State 700,8]
type = ChangeState
trigger1 = command != "holdy"
trigger2 = command != "holda"
value = 40500

[State 700, 4]
type = ChangeState
triggerall = time >= 13
trigger1 = command != "holdy"
trigger2 = command != "holda"
trigger3 = !var(52) && power = powermax || var(52) && var(11)
trigger4 = roundstate>2
value = 40500

;---------------------------------------------------------------------------
[Statedef 40500]
type = S
movetype = I
physics = S
ctrl = 0
anim = 8001
velset = 0,0
sprpriority = 2

[State 820, Voice]
type = Playsnd
trigger1 = Time = 0
value = 8000,447
channel = 13

[State 4110, Explod]
type = Explod
trigger1 = !Time
anim = 8004
id = 40500
pos = 0,0
scale = 0.4,0.4
postype = P1
sprpriority = 4
bindtime = 1
ownpal = 1
removetime = 12
facing = 1
persistent = 0

[State 4110, Explod]
type = Explod
trigger1 = !Time
anim = 8003
id = 40500
pos = 0,0
scale = 0.4,0.4
postype = P1
sprpriority = 5
bindtime = -1
ownpal = 1
removetime = 14
facing = 1
persistent = 0

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 809080]
type = S
movetype = I
physics = S
ctrl = 0
anim =8003
velset = 0,0
sprpriority = 2

[State 4110, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State -2,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State -2, 1]
type = Trans
trigger1 = 1
trans = add

[State 820, Voice]
type = Playsnd
trigger1 = Time = 0
value = 8000,446
channel = 13

[State 4110, Explod]
type = Explod
trigger1 = Time = 0 && !NumExplod(4020)
anim = 8002
id = 8002
pos = 0,0
scale = 0.4,0.4
postype = P1
sprpriority = 5
bindtime = -1
ownpal = 1
removetime = -1
facing = 1
persistent = 0

[State 820, Voice]
type = Stopsnd
trigger1 = Root,StateNo != 8000
channel = 13

[State 4110, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 8000
id = 8002

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = Root,StateNo != 8000
;--------------------------------------------------------
; ScrewHelper
[Statedef 7100]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 3041
sprpriority = 3

[State 3305, Vel]
type = velset
trigger1 = time = 1
x = 1
ignorehitpause = 0
[State 0, VelAdd]
type = VelAdd
trigger1 = time%3=0
x = .4
y = 0
ignorehitpause = 0


[State 3305, Vel]
type = velmul
trigger1 = vel y > 0 && pos y > -10


[State 7100, 1]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 7100, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1

[State 7100, HitDef1]
type = HitDef
trigger1 = time%5=0
attr = S,SP
hitflag = MAF
guardflag = MA
getpower = 0,0
givepower = 0,0
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 7,Hit
damage =  10,5
pausetime = 0,5
guard.pausetime = 0,5
sparkno = S203
guard.sparkno = S208
sparkxy = -34,-70
hitsound = -1
guardsound = S300,1
ground.type = Low
air.type = low
ground.slidetime = 38
guard.slidetime = 22
ground.hittime = 40
guard.hittime = 22
air.hittime = 50
ground.velocity = -6,-18
guard.velocity = -6
air.velocity = -5.8,-6.8
airguard.velocity = -3.4,-4.8
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
air.fall.recover = 0
envshake.time = 20
envshake.freq = 100
envshake.ampl = -4
fall.envshake.time = 40
fall.envshake.freq = 150
fall.envshake.ampl = -4


[State explod];ƒqƒbƒgƒGƒtƒFƒNƒg
type = Explod
trigger1 = time%5=0
triggerall = movehit
anim = 7204
id = 7000
sprpriority = 20
postype = p1
pos = 188/2,-148/2
bindtime = 1
supermove = 999
pausemove = 999
ignorehitpause = 1
persistent = 0
under = 0
ontop = 1
ownpal = 1
scale = 0.5,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit= 1
value = S200,9
channel = 8

[State 7100, HitDef2]
type = HitDef
triggerall = hitcount>=1
trigger1 = hitcount <=12
trigger1 = time%4=0
attr = S,SP
hitflag = MAF
guardflag = MA
getpower = 0,0
givepower = 0,0
animtype = hard
air.animtype = hard
fall.animtype = Back
priority = 7,Hit
damage = ceil(20*(parent,fvar(2))),6
pausetime = 2,8
guard.pausetime = 6,6
sparkno = S203
guard.sparkno = S208
sparkxy = -24,-140
hitsound = S7000,2
guardsound = S6,1
ground.type = Low
air.type = low
ground.slidetime = 38
guard.slidetime = 22
ground.hittime = 40
guard.hittime = 22
air.hittime = 50
ground.velocity = -8,-7
guard.velocity = -6
air.velocity = -8,-12.4
airguard.velocity = -3.4,-4.8
sprpriority = 3
fall = 1
air.fall = 1
fall.recover = 0
air.fall.recover = 0
envshake.time = 20
envshake.freq = 100
envshake.ampl = -4
fall.envshake.time = 40
fall.envshake.freq = 150
fall.envshake.ampl = -4

[State 7100, DestroySelf]
type = DestroySelf
trigger1 = animtime = 100
ignorehitpause = 1


;===============================================================================
;---------------------------------------------------------------------------
; Smash Kung Fu Upper (hyper)
; CNS difficulty: medium
; Description: This is very similar to KFM's Strong and Light Kung Fu Uppers.
;     There is just one HitDef, for a screen-shaking hit. The envshake
;     parameters are used to make this effect. You can find out more about
;     each parameter in the CNS documentation.
;     The fall.recover parameter is set at 0, meaning that p2 cannot recover
;     from the fall by entering his recovery command (for KFM, that is x+y).
;     This gives the attacking KFM a chance to follow up with another attack,
;     such as the Fast Kung Fu Palm.
;     Note that there is a ChangeState controller used to make KFM change to
;     a success state if he hits. The success state has KFM hold his arm
;     up longer for a dramatic effect.
[Statedef 3050]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3050
ctrl = 0
sprpriority = 2

[State 3050, Width]
type = Width
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(16) < 0
value = 5,0

[State 3050, Super A]
type = SuperPause
trigger1 = AnimElem = 2
pos = -5, -55
anim = 100
sound = 20, 0
poweradd = -1000

[State 3050, Super B]
type = AfterImage
trigger1 = AnimElem = 2
time = 2

[State 3050, Super C]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 0
time = 2

[State 3050, Super D]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 6

[State 3050, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2

[State 3050, 2]
type = HitDef
trigger1 = Time = 0
attr = S, HA
animtype  = Up               ;Make p2 use "Up" type animation on hit
damage    = 155, 12
getpower  = 0
priority  = 5
guardflag = MA
pausetime = 30,30
sparkno = 3
sparkxy = 0,-110
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 26
ground.hittime  = 28
ground.velocity = -1.3,-25
guard.velocity = -11
air.velocity = -1.3,-25
airguard.velocity = -4.5,-5
envshake.time = 25           ;Parameters for shaking the screen on hit
envshake.ampl = 7
envshake.freq = 176
p2facing = 1                 ;Force p2 to face p1 on hit
fall = 1
fall.recover = 0             ;Prevent p2 from recovering
fall.damage = 70             ;p2 will take 70 damage on hitting the ground
fall.envshake.ampl = 6       ;Parameters for shaking the screen on fall
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 50,-100            ;Keep p2 a minimum of 50 pixels away from p1, and no higher than 100 pixels up
maxdist = 100,-10            ;Keep p2 a maximum of 100 pixels away from p1, and no lower than 10 pixels below
yaccel = .8                  ;Accelerate p2 downwards rapidly

;This controller below makes Kung Fu man change to a success state if he
;successfully hits the Smash Kung Fu Upper.
[State 3050, 4]
type = ChangeState
trigger1 = MoveHit
value = 3051

[State 3050, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------
; Smash Kung Fu Upper (success)
; Description: This is the state that KFM changes to if he successfully hits
;     with Smash Kung Fu Upper. KFM holds his arm high for a short while
;     longer, then changes back to his idle stand state.
[Statedef 3051]
type    = S
movetype= A
physics = S
anim = 3051

[State 3051, 1]
type = AfterImageTime
trigger1 = AnimTime < -2
time = 2

[State 3051, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
;-----------------------------------------------------------------------------
; POWER BAR
;-----------------------------------------------------------------------------
;(HELPER)ƒQ[ƒW
[Statedef 10100]
type = A
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = N
sprpriority = 10

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

;---------------------[]
[state -2,a];ƒQ[ƒW˜ga
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10101) = 0
anim = 10101
id = 10101
postype = back
bindtime = -1
pos = 36,230
sprpriority = 98
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW˜ga
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10101) = 0
anim = 10101
id = 10101
postype = back
bindtime = -1
pos = 36,230
sprpriority = 98
removetime = -1
ownpal = 1
facing = 1
ontop = 1

[state -2,a];ƒQ[ƒW˜gb
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10102) = 0
anim = 10102
id = 10102
postype = back
bindtime = -1
pos = 36,230
sprpriority = 98
removetime = -1
ownpal = 1
ontop = 1
trans = addalpha
alpha = 250,130

[state -2,a];ƒQ[ƒW˜gb
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10102) = 0
anim = 10102
id = 10102
postype = back
bindtime = -1
pos = 36,230
sprpriority = 98
removetime = -1
ownpal = 1
facing = 1
ontop = 1
trans = addalpha
alpha = 250,130

;---------------------[ƒQ[ƒW—Ê]
[state -2,a];ƒQ[ƒW—Ê
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10120) = 0
anim = 10120
id = 10120
postype = left
bindtime = -1
pos = 36,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW—Ê
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10121) = 0
anim = 10121
id = 10121
postype = left
bindtime = -1
pos = 36,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW—Ê
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10122) = 0
anim = 10122
id = 10122
postype = left
bindtime = -1
pos = 36,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW—Ê
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10123) = 0
anim = 10123
id = 10123
postype = left
bindtime = -1
pos = 36,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW—Ê
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10124) = 0
anim = 10124
id = 10124
postype = left
bindtime = -1
pos = 36,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW—Ê
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10120) = 0
anim = 10120
id = 10120
postype = right
bindtime = -1
pos = -36,230
sprpriority = 97
removetime = -1
ownpal = 1
facing = -1
ontop = 1

[state -2,a];ƒQ[ƒW—Ê
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10121) = 0
anim = 10121
id = 10121
postype = right
bindtime = -1
pos = -36,230
sprpriority = 97
removetime = -1
ownpal = 1
facing = -1
ontop = 1

[state -2,a];ƒQ[ƒW—Ê
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10122) = 0
anim = 10122
id = 10122
postype = right
bindtime = -1
pos = -36,230
sprpriority = 97
removetime = -1
ownpal = 1
facing = -1
ontop = 1

[state -2,a];ƒQ[ƒW—Ê
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10123) = 0
anim = 10123
id = 10123
postype = right
bindtime = -1
pos = -36,230
sprpriority = 97
removetime = -1
ownpal = 1
facing = -1
ontop = 1

[state -2,a];ƒQ[ƒW—Ê
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10124) = 0
anim = 10124
id = 10124
postype = right
bindtime = -1
pos = -36,230
sprpriority = 97
removetime = -1
ownpal = 1
facing = -1
ontop = 1

;ƒQ[ƒWLV1
[State 3802]
type = ModifyExplod
trigger1 = NumExplod(10120)
ID = 10120;      power***`***‚ÌŠÔ‚ÍXsize‚ð•Ï“®A***ˆÈã‚ÅXsize=.52A‚»‚êˆÈŠO‚ÍXsize=0‚ÅÁ‚·B
scale = ifelse((root,Power<1000),(root,Power)/1000.0,0),1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

;ƒQ[ƒWLV2
[State 3802]
type = ModifyExplod
trigger1 = NumExplod(10121)
ID = 10121;      power***`***‚ÌŠÔ‚ÍXsize‚ð•Ï“®A***ˆÈã‚ÅXsize=.52A‚»‚êˆÈŠO‚ÍXsize=0‚ÅÁ‚·B
scale = ifelse((root,Power=[1000,1999]),(root,Power-1000)/1000.0,0),1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

;ƒQ[ƒWLV3
[State 3802]
type = ModifyExplod
trigger1 = NumExplod(10122)
ID = 10122;      power***`***‚ÌŠÔ‚ÍXsize‚ð•Ï“®A***ˆÈã‚ÅXsize=.52A‚»‚êˆÈŠO‚ÍXsize=0‚ÅÁ‚·B
scale = ifelse((root,Power=[2000,2999]),(root,Power-2000)/1000.0,0),1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

;ƒQ[ƒWLV4
[State 3802]
type = ModifyExplod
trigger1 = NumExplod(10123)
ID = 10123;      power***`***‚ÌŠÔ‚ÍXsize‚ð•Ï“®A***ˆÈã‚ÅXsize=.52A‚»‚êˆÈŠO‚ÍXsize=0‚ÅÁ‚·B
scale = ifelse((root,Power=[3000,3999]),(root,Power-3000)/1000.0,0),1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

;ƒQ[ƒWLV5
[State 3802]
type = ModifyExplod
trigger1 = NumExplod(10124)
ID = 10124;      power***`***‚ÌŠÔ‚ÍXsize‚ð•Ï“®A***ˆÈã‚ÅXsize=.52A‚»‚êˆÈŠO‚ÍXsize=0‚ÅÁ‚·B
scale = ifelse((root,Power=[4000,4999]),(root,Power-4000)/1000.0,0),1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999


[state -2,a];MAX
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = power >= 5000
trigger1 = numexplod(10125) = 0
anim = 10125
id = 10125
postype = left
bindtime = -1
pos = 36,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];MAX
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = power >= 5000
trigger1 = numexplod(10125) = 0
anim = 10126
id = 10125
postype = right
bindtime = -1
pos = -36,230
sprpriority = 97
removetime = -1
ownpal = 1
facing = -1
ontop = 1

[state a]
type = removeexplod
trigger1 = power < 5000
id = 10125


[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10110) = 0
anim = 10110
id = 10110
postype = back
bindtime = -1
pos = 17,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10111) = 0
anim = 10111
id = 10111
postype = back
bindtime = -1
pos = 17,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10112) = 0
anim = 10112
id = 10112
postype = back
bindtime = -1
pos = 17,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10113) = 0
anim = 10113
id = 10113
postype = back
bindtime = -1
pos = 17,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10114) = 0
anim = 10114
id = 10114
postype = back
bindtime = -1
pos = 17,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = 1
trigger1 = numexplod(10115) = 0
anim = 10115
id = 10115
postype = back
bindtime = -1
pos = 17,230
sprpriority = 97
removetime = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10110) = 0
anim = 10110
id = 10110
postype = back
bindtime = -1
pos = 16,230
sprpriority = 97
removetime = -1
facing = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10111) = 0
anim = 10111
id = 10111
postype = back
bindtime = -1
pos = 16,230
sprpriority = 97
removetime = -1
facing = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10112) = 0
anim = 10112
id = 10112
postype = back
bindtime = -1
pos = 16,230
sprpriority = 97
removetime = -1
facing = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10113) = 0
anim = 10113
id = 10113
postype = back
bindtime = -1
pos = 16,230
sprpriority = 97
removetime = -1
facing = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10114) = 0
anim = 10114
id = 10114
postype = back
bindtime = -1
pos = 16,230
sprpriority = 97
removetime = -1
facing = -1
ownpal = 1
ontop = 1

[state -2,a];ƒQ[ƒW”
type = Explod
triggerall = root,var(36) = 0
trigger1 = Facing = -1
trigger1 = numexplod(10115) = 0
anim = 10115
id = 10115
postype = back
bindtime = -1
pos = 16,230
sprpriority = 97
removetime = -1
facing = -1
ownpal = 1
ontop = 1

;ƒQ[ƒWLV1
[State 3802]
type = ModifyExplod
trigger1 = NumExplod(10110)
ID = 10110
scale = ifelse((root,Power<1000),1,0),1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

;ƒQ[ƒWLV2
[State 3802]
type = ModifyExplod
trigger1 = NumExplod(10111)
ID = 10111
scale = ifelse((root,Power=[1000,1999]),1,0),1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

;ƒQ[ƒWLV3
[State 3802]
type = ModifyExplod
trigger1 = NumExplod(10112)
ID = 10112
scale = ifelse((root,Power=[2000,2999]),1,0),1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

;ƒQ[ƒWLV4
[State 3802]
type = ModifyExplod
trigger1 = NumExplod(10113)
ID = 10113
scale = ifelse((root,Power=[3000,3999]),1,0),1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

;ƒQ[ƒWLV5
[State 3802]
type = ModifyExplod
trigger1 = NumExplod(10114)
ID = 10114
scale = ifelse((root,Power=[4000,4999]),1,0),1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

;ƒQ[ƒWLV5
[State 3802]
type = ModifyExplod
trigger1 = NumExplod(10115)
ID = 10115
scale = ifelse((root,Power>=5000),1,0),1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[State 10100, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(36) = 1

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Downed get-hit (hit ground from fall)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, EnvShake];		ƒ’Ç‰Á„ƒ_ƒEƒ“Žž‚ÉU“®‚·‚éB
type = EnvShake
Trigger1 = GetHitVar(fall.envshake.time) = 0
trigger1 = Time = 0
Trigger1 = Vel Y > 1
time = ifelse(Vel Y > 19,ifelse(Vel Y > 23,11,9),8)
freq = 30
ampl = ifelse(Vel Y > 19,ifelse(Vel Y > 23,-7,-5),-4)
phase = 0

[State 5100, Land FX F]
type = Explod
trigger1 = Time = 0
trigger1 = Vel Y >= 5
anim = ifelse(Vel Y >= 15,8350, ifelse(Vel Y >= 10, 8040, 8330))
pos = 0, 0
scale = 0.5,0.5
sprpriority = -9
ownpal = 1

[State 5100, Land FX B]
type = Explod
trigger1 = Time = 0
trigger1 = Vel Y >= 5
anim = ifelse(Vel Y >= 15,8355, ifelse(Vel Y >= 10, 8345, 8335))
pos = 0, 0
scale = 0.5,0.5
sprpriority = 9
ownpal = 1

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 0
value = 2, ifelse(Vel Y <= 5,7,8)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;Downed get-hit (lying down)

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101 ;Downed get-hit (bounce off ground)

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; Downed get-hit (lying down)
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = 8350 + ifelse(Vel Y > 20,5,0)
postype = P1
pos = 0, 0
sprpriority = -1
ownpal = 1
scale = 0.5,0.5

[State 5100, Land FX F]
type = Explod
trigger1 = Time = 0
trigger1 = Vel Y >= 5
anim = ifelse(Vel Y >= 15,8350, ifelse(Vel Y >= 10, 8040, 8330))
pos = 0, 0
scale = 0.5,0.5
sprpriority = -9
ownpal = 1

[State 5100, Land FX B]
type = Explod
trigger1 = Time = 0
trigger1 = Vel Y >= 5
anim = ifelse(Vel Y >= 15,8355, ifelse(Vel Y >= 10, 8345, 8335))
pos = 0, 0
scale = 0.5,0.5
sprpriority = 9
ownpal = 1

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 0
value = 2, ifelse(Vel Y <= 5,7,8)

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 5110, 15]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 16]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine
;---------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)’´?K?E
[Statedef 6005]
type = S
ctrl = 0
anim = 6005
velset = 0,0
movetype = I
physics = N
sprpriority = 0

;---------------------[???”]
[state varset]
type = varset
trigger1 = time = 0
var(1) = 0

[state varadd]
type = varadd
trigger1 = time < 8
var(1) = 32

[state varadd]
type = varadd
trigger1 = time > 40
var(1) = -8

;---------------------[‰‰?o]
[state bgpalfx]
type = bgpalfx
trigger1 = 1
time = 1
add = 0,0,0
invertall = 0
color = 256 - var(1)

;---------------------[????]
[state destroyself]
type = destroyself
trigger1 = time = 71

;----------------------------------------------------------------------------
;----------------------------------------------------------------------------
;(HELPER)NEO MAX’´?K?E
[Statedef 6007]
type = S
ctrl = 0
anim = 6005
velset = 0,0
movetype = I
physics = N
sprpriority = 0

;---------------------[???”]
[state varset]
type = varset
trigger1 = time = 0
var(1) = 256

[state varadd]
type = null;varadd
trigger1 = time > 40
var(1) = -8

;---------------------[‰‰?o]
[state bgpalfx]
type = bgpalfx
trigger1 = 1
time = 1
add = -var(1),-var(1),-var(1)
invertall = 0
color = 256 - var(1)

[State assertspecial]
type = assertspecial
trigger1 = var(1) = 256
flag = NoBG
flag2 = NoFG

;---------------------[????]
[state changestate]
type = changestate
trigger1 = root,stateno != [9000,2599]
trigger2 = root,movetype = H
trigger3 = root,stateno = 2501
trigger4 = root,stateno = 2503
value = 6008

;----------------------------------------------------------------------------
;(HELPER)NEO MAX’´?K?E
[Statedef 6008]
type = S
ctrl = 0
anim = 6005
velset = 0,0
movetype = I
physics = N
sprpriority = 0

;---------------------[???”]
[state varset]
type = varset
trigger1 = time = 0
var(1) = 256

[state varadd]
type = varadd
trigger1 = 1
var(1) = -8

;---------------------[‰‰?o]
[state bgpalfx]
type = bgpalfx
trigger1 = 1
time = 1
add = -var(1),-var(1),-var(1)
invertall = 0
color = 256 - var(1)

;---------------------[????]
[state destroyself]
type = destroyself
trigger1 = var(1) <= 0
;----------------------------------------------------------------------------
;(HELPER)NEO MAX’´?K?E
[Statedef 6099]
type = S
ctrl = 0
anim = 6005
velset = 0,0
movetype = I
physics = N
sprpriority = 0

;---------------------[???”]
[state varset]
type = varset
trigger1 = time = 0
var(1) = 256

[state varadd]
type = null;varadd
trigger1 = time > 60
var(1) = -8

;---------------------[‰‰?o]
[state bgpalfx]
type = bgpalfx
trigger1 = 1
time = 1
add = -var(1),-var(1),-var(1)
invertall = 0
color = 256 - var(1)

[State assertspecial]
type = assertspecial
trigger1 = var(1) = 256
flag = NoBG
flag2 = NoFG

;---------------------[????]
[state destroyself]
type = destroyself
trigger1 = time = 73
;------------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;‰????t?‰?b?V?…?w???p?[
[Statedef 12222]
type    = A
movetype= I
physics = N
anim = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time 
value = S6500,1
ignorehitpause = 1 

[State 12000, BGPalFX]
type = BGPalFX
trigger1 = Time = [1,5]
trigger2 = Time = [11,15]
trigger3 = Time = [21,25]
trigger4 = Time = [31,35]
trigger5 = Time = [41,45]
trigger6 = Time = [51,55]
time = 1
add = 0,0,0
mul = 158,158,158
invertall = 0
ignorehitpause = 1

[State 12000, BGPalFX]
type = BGPalFX
trigger1 = Time = [6,10]
trigger2 = Time = [16,20]
trigger3 = Time = [26,30]
trigger4 = Time = [36,40]
trigger5 = Time = [46,50]
trigger6 = Time = [56,60]
time = 1
add = 0,0,02
mul = 170,0,20
invertall = 0
ignorehitpause = 1

[State 12000, DestroySelf]
type = DestroySelf
trigger1 = RoundState != [2,4]
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; ????KO
[Statedef 5400]
type    = S
movetype= H
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 5400
poweradd = 0
sprpriority = -1

[State 0, AllPalFX]
type = AllPalFX
trigger1 = Time = 0
time = 2
add = 32,64,64
[State 0, AllPalFX]
type = AllPalFX
trigger1 = Time = 2
time = 2
add = 16,32,48
[State 0, AllPalFX]
type = AllPalFX
trigger1 = Time = 4
time = 2
add = 8,16,32
[State 0, PalFX]
type = PalFX
trigger1 = Time = 0
time = 4
add = 128,256,256
[State 0, PalFX]
type = PalFX
trigger1 = Time = 4
time = 4
add = 64,128,192
[State 0, PalFX]
type = PalFX
trigger1 = Time = 8
time = 4
add = 32,64,128


[State 0, Explod]
type = Explod
trigger1 = !time
anim = 6299
ID = 5400
pos = 17,-75
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

;---------------------[??“?]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state posadd]
type = posadd
trigger1 = animelem = 9
x = 7

[state posadd]
type = posadd
trigger1 = animelem = 10
x = 2

[state posadd]
type = posadd
trigger1 = animelem = 11
x = 1

[state posadd]
type = posadd
trigger1 = animelem = 12
x = 2

[state posadd]
type = posadd
trigger1 = animelem = 13
x = 3

[state posadd]
type = posadd
trigger1 = animelem = 14
x = 6

[state posadd]
type = posadd
trigger1 = animelem = 15
x = 4

[state posadd]
type = posadd
trigger1 = animelem = 16
x = 11

;---------------------[??‰?‰?]
[State 00];
type = PlaySnd
trigger1 = !time
value = 12,12
ignorehitpause = 1

;---------------------[??‰?‰?]
[State 00];
type = PlaySnd
trigger1 = animelem = 3
value = 11,1

;---------------------[?X?e?[?g???s]
[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 5150

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno

[State 5900, turn]
type = ChangeState
trigger1 = TeamMode = Turns
trigger1 = roundno > 1
trigger1 = RoundsExisted > 0
value = 199

[State 5900, turn]
type = ChangeState
trigger1 = TeamMode = Turns
trigger1 = roundno > 1
trigger1 = RoundsExisted = 0
value = 187

[State 5900];変数設定
Type=varset
triggerall=!ishelper || ishelper(0) || ishelper(1) || ishelper(2) || ishelper(3) || ishelper(4) || ishelper(5) || ishelper(6)
Trigger1=numenemy=1
var(8)=enemynear,ID

[State 5900];変数設定
Type=varset
triggerall=!ishelper || ishelper(0) || ishelper(1) || ishelper(2) || ishelper(3) || ishelper(4) || ishelper(5) || ishelper(6)
Trigger1=numenemy=2
var(8)=ifelse(EnemyNear(0),alive,enemynear(0),ID,enemynear(1),ID)

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190

;---------------------------------------------------------------------------
;------------------------------------------------------------------------------------------
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\


;------------------------------------------------------------------------------------------------------------------------------
[Statedef -2]

[State -2, ñ????t?ñ?b?V?c?w???p?[]
type = Helper
triggerall = WinKO > 0
triggerall = P2Life = 0
trigger1 = NumHelper(12222) = 0
ID = 12222
name = "Win Flash"
postype = P1
pos = 0,0
facing = -1
sprpriority = -1
stateno = 12222
helpertype = Normal
keyctrl = 0
ignorehitpause = 1
ownpal = 1
pausemovetime = 2147483647
supermovetime = 2147483647

[state -2, ???]
type = Helper
trigger1 = numhelper(10100) = 0
id = 10100
name = "g"
sprpriority = 1
pos = 0,0
postype = p1
stateno = 10100
helpertype = normal
pausemovetime = 99999999
supermovetime = 99999999
keyctrl = 0 
ownpal = 1

[State a]
type = AssertSpecial
trigger1 = RoundState != 2
flag = nobardisplay

;ラウンド開始時音楽消去
[State -2, AssertSpecial]
type = AssertSpecial
triggerall = roundno = 1
trigger1 = roundstate < 2
flag = NoMusic

;ƒ_ƒ[ƒWƒ{ƒCƒX
[state a]
type = PlaySnd
triggerall = alive = 1
triggerall = stateno = 5000 ||  stateno = 5010 || stateno = 5020
triggerall = time = 0
trigger1 = GetHitVar(animtype) = 0
value = 5000,0+(random%5)
persistent = 0
channel = 1
[state a]
type = PlaySnd
triggerall = alive = 1
triggerall = stateno = 5000 ||  stateno = 5010 || stateno = 5020
triggerall = time = 0
trigger1 = GetHitVar(animtype) = 1
value = 5001,0+(random%5)
persistent = 0
channel = 1

[state a]
type = PlaySnd
triggerall = alive = 1
triggerall = stateno = 5000 ||  stateno = 5010 || stateno = 5020
triggerall = time = 0
trigger1 = GetHitVar(animtype) = 2
trigger2 = GetHitVar(animtype) = 3
trigger3 = GetHitVar(animtype) = 4
value = 5002,0+(random%5)
persistent = 0
channel = 1
;----------------------------------------------------------------------------------------------------------------------------------------------

[Statedef -3]

[state a]
type = changestate
triggerall = loseko
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 130
trigger4 = prevstateno = 131
value = 5400

[State a]
type = AssertSpecial
trigger1 = prevstateno = 150
trigger2 = prevstateno = 151
trigger3 = prevstateno = 130
trigger4 = prevstateno = 131
trigger5 = stateno = 5400
flag = nokosnd
;flag2 = nokoslow

[State -3, ƒRƒ}ƒ“ƒh‚ð“ü‚ê‚½‚çVar‚ðON] 
type = VarSet
trigger1 = command = "jump"
trigger1 = ctrl
trigger1 = statetype = S
trigger2 = prevstateno = 100
trigger2 = command = "holdfwd"
v = 3
value = 1

[State -3, sysvar‚ðˆøŒp‚®]
type = VarSet
trigger1 = Var(3) = 1
trigger1 = stateno = 40 ;ƒWƒƒƒ“ƒv‚·‚é‘O‚ÌƒXƒe[ƒg
trigger1 = AnimTime = 0 ;ƒWƒƒƒ“ƒv•ûŒü‚ðŒˆ‚ß‚ésysvar‚ªƒŠƒZƒbƒg‚³‚ê‚é¡‘O
var(3) = ifelse(sysvar(1)=0, 2, ifelse(sysvar(1)=1, 3, 4))

[State -3, var‚ðOFF‚É‚·‚éƒXƒe[ƒg]
type = VarSet
triggerall = Time = 2
trigger1 = stateno = 50
trigger2 = stateno != [40,59]
v = 3
value = 0

[State -3, ‘O‚Éƒ{ƒ^ƒ“‚ð‰Ÿ‚µ‚Ä‚½‚ç‘O‚É‚à‰Á‘¬]
type = VelAdd
trigger1 = var(3) = 3
trigger1 = stateno = 50
y = -0.6
x = 2.5

[State -3, Œã‚ë‚È‚çŒã‚ë‚É‰Á‘¬]
type = VelAdd
trigger1 = var(3) = 4
trigger1 = stateno = 50
y = -0.2
x = -2.5

[State -3, ‚’¼ƒWƒƒƒ“ƒv‚Éveladd‚ðŽg‚Á‚Äã‚É‰Á‘¬]
type = VelAdd
trigger1 = var(3) = 2
trigger1 = stateno = 50
y = -1.9

[State -3, ¬Œ÷‚µ‚½‚Æ‚«‚ÌŽc‘œ]
type = AfterImage
trigger1 = var(3) >= 1
trigger1 = stateno = 50
time = 25
trans = add1
length = 4
timeGap = 3
frameGap = 1
palBright = 0, 0, 0
palContrast = 128, 128, 128
palAdd = 0, 0, 0
palMul = 1, 1, 1


;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[State Camondos de AI]
type = VarSet
triggerall = !var(51)
triggerall = RoundState = [1,2]
trigger1 = command = "cpu"
trigger2 = command = "cpu2"
trigger3 = command = "cpu3"
trigger4 = command = "cpu4"
trigger5 = command = "cpu5"
trigger6 = command = "cpu6"
trigger7 = command = "cpu7"
trigger8 = command = "cpu8"
trigger9 = command = "cpu9"
trigger10 = command = "cpu10"
trigger11 = command = "cpu11"
trigger12 = command = "cpu12"
trigger13 = command = "cpu13"
trigger14 = command = "cpu14"
trigger15 = command = "cpu15"
trigger16 = command = "cpu16"
trigger17 = command = "cpu17"
trigger18 = command = "cpu18"
trigger19 = command = "cpu19"
trigger20 = command = "cpu20"
trigger21 = command = "cpu21"
trigger22 = command = "cpu22"
trigger23 = command = "cpu23"
trigger24 = command = "cpu24"
trigger25 = command = "cpu25"
trigger26 = command = "cpu26"
trigger27 = command = "cpu27"
trigger28 = command = "cpu28"
trigger29 = command = "cpu29"
trigger30 = command = "cpu30"
trigger31 = command = "cpu31"
trigger32 = command = "cpu32"
trigger33 = command = "cpu33"
trigger33 = command = "cpu34"
trigger34 = ishometeam && (teamside>1||matchno>1)
v = 51
value = 1
var(51) = 10

;-----------------------------------------------------------------------------------------------------
;&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
;COMBO R.O.P

[State -1, Power Charge]
type = ChangeState
value = 8000
triggerall = var(51) = 1
triggerall = var(57) >= 1
triggerall = var(9) = 1
triggerall = RoundState = 2 && enemynear(var(58)),life > 0 && Helper(40000),fvar(1) = 0
triggerall = Random <= var(57) * 125
triggerall = statetype != A
triggerall = fvar(9) < 1000 && var(40) = 0
triggerall = !inguarddist
triggerall = !enemy,numproj
triggerall = enemynear(var(58)),stateno != [5710,5715]
triggerall = ctrl || (stateno = [20,22]) || (stateno = [100,101]) || (stateno = [120,149]) || var(2) >= 1
trigger1 = P2bodydist X >= 140
trigger1 = Random <= 100
trigger2 = teammode = single || teammode = turns
trigger2 = P2bodydist X >= 80
trigger2 = enemynear(var(58)),StateType = L
trigger2 = Random <= 999


[State -3,立ちガード]
Type = ChangeState
Value = 120
TriggerAll=var(51) != 0
TriggerAll=StateNo!=[120,155]
TriggerAll=Ctrl||StateNo = 100
TriggerAll=inguarddist
Trigger1 = Random<=var(51)*60||var(51)>9
Trigger2 = P2BodyDist X>90||playerID(var(8)),Time>50
Trigger2 = Random<=var(51)*150



[State AI]
type = ChangeState
value = 242
triggerall = var(51) != 0
triggerall = random <= 888
triggerall = p2stateno != [5050,5112]
triggerall = ctrl && statetype != A
triggerall = p2life > 0
triggerall = p2statetype != A
triggerall = p2statetype != C
triggerall = p2statetype != L
trigger1 = p2bodydist x  < 30
trigger1 = ctrl

[State AI]
type = ChangeState
value = 225
triggerall = var(51) != 0
trigger1 = (p2bodydist x = [1,60]) && random <= 999
triggerall = ctrl && statetype != A
triggerall = p2life > 0
triggerall = p2statetype != A
triggerall = p2statetype != C
triggerall = p2statetype != L
trigger1 = p2bodydist x  < 30
trigger1 = ctrl

[State AI]
type = ChangeState
value = 241
triggerall = var(51) != 0
triggerall = p2statetype = S
trigger1 = (p2bodydist x = [1,61]) && random <= 999
trigger1 = stateno = 242 && movecontact



[State AI]
type = ChangeState
value = 1000
triggerall = var(51) != 0
triggerall = p2statetype = S
trigger1 = (p2bodydist x = [1,60]) && random <= 999
trigger1 = stateno = 241 && movecontact
[State AI]
type = ChangeState
value = 1610
triggerall = var(51) != 0
triggerall = p2statetype = S
trigger1 = (p2bodydist x = [1,70]) && random <= 999
trigger1 = stateno = 1000 && movecontact

[State AI]
type = ChangeState
value = 1616
triggerall = var(51) != 0
triggerall = p2statetype = A
trigger1 = (p2bodydist x = [1,72]) && random <= 888
trigger1 = stateno = 1610 && movecontact

[State AI]
type = ChangeState
value = 3000
triggerall = power >= 1000
triggerall = var(51) != 0
triggerall = p2statetype = S
trigger1 = (p2bodydist x = [1,39]) && random <= 999
trigger1 = stateno = 1610 && MOVECONTACT


;-----------------------------------------------------------------------------------------------------
;&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
;COMBO N.T
[State -3,投げ]
Type = ChangeState
value = 800
TriggerAll=var(51) != 0
TriggerAll=RoundState = 2
TriggerAll=StateType != A
TriggerAll=EnemyNear,StateType != L
TriggerAll=EnemyNear,MoveType != H
TriggerAll=P2BodyDist X=[0,10]
TriggerAll=EnemyNear,StateType!=A
TriggerAll=Ctrl||StateNo = 100
Trigger1 = Random <= var(51)*80
Trigger2 = (EnemyNear,StateNo=[120,159])

[State -3,喰らいにダッシュ（空中）]
type = ChangeState
triggerall = var(51) != 0
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = EnemyNear,StateType != L
triggerall = EnemyNear,StateType = A
Triggerall = !inguarddist
Triggerall = Random <= var(51)*100
triggerall = P2bodydist X = [50,320]
triggerall = P2bodydist Y = [-400,-40]
TriggerAll=EnemyNear,BackEdgeBodyDist <= 5
triggerall = Ctrl
trigger1 = EnemyNear,MoveType = H
trigger1 = (EnemyNear,StateNo != [120,159])
trigger2 = (EnemyNear,StateNo = [120,159])
value = 100
[State -3,喰らいにダッシュ（地上）]
type = ChangeState
triggerall = var(51) != 0
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = EnemyNear,StateType != L
triggerall = EnemyNear,StateType != A
Triggerall = !inguarddist
Triggerall = Random <= var(51)*100
triggerall = P2bodydist X = [40,320]
triggerall = Ctrl
trigger1 = EnemyNear,MoveType = H
trigger1 = (EnemyNear,StateNo != [120,159])
trigger2 = (EnemyNear,StateNo = [120,159])
value = 100
[State -3,ダッシュ]
Type = ChangeState
value = 100
TriggerAll=RoundState = 2
triggerall = var(51) != 0
TriggerAll = StateType != A
TriggerAll = Random <= var(51)*100
TriggerAll = Ctrl
TriggerAll = P2BodyDist X = [160,320]
Trigger1 = EnemyNear,StateType = L
[State -3,加勢ダッシュ]
type = ChangeState
triggerall = var(51) != 0
triggerall = RoundState = 2
triggerall = StateType != A
triggerall = EnemyNear,StateType != L
Triggerall = Random <= var(51)*100
triggerall = P2bodydist X = [40,320]
TriggerAll=TeamMode = simul
triggerall = Ctrl
triggerall = EnemyNear,MoveType = H
trigger1 = Facing = -1
trigger1 = EnemyNear,Facing = -1
trigger2 = Facing = 1
trigger2 = EnemyNear,Facing = 1
trigger3 = partner,ALIVE
value = 100



[State -3,バックステップ]
Type = ChangeState
value = 105
TriggerAll=RoundState = 2
TriggerAll = var(51) != 0
TriggerAll = StateType != A
TriggerAll = Random <= var(51)*100
TriggerAll = Ctrl||StateNo = 100
TriggerAll = P2BodyDist X = [0,49]
TriggerAll = BackEdgeBodyDist >= 25
Trigger1 = EnemyNear,StateType = L

;-----------------------------------------------------------------------------------------------------
;&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
;---------------------------------------------------------------------------
;This controller plays a sound everytime KFM lands from a jump, or
;from his back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 40, 0
;-------------- Turn team taunt if won before
[Statedef 199]
type = S
movetype = I
physics = N
anim = 0
velset = 0,0
ctrl = 0

[State 187,]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 5900, ] ;Intro
type = ChangeState
trigger1 = time = 45
value = 1977

;--------------Turn team jump intro (inspired fom Sander's coding)
[Statedef 187]
type = S
movetype = I
physics = N
anim = 999
velset = 0,0
ctrl = 0

[State 187,]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 5900, ] ;Intro
type = ChangeState
trigger1 = animtime = 0
value = 188

[Statedef 188]
type = A
movetype = I
physics = N
anim = 950
velset = 4.8,-1
ctrl = 0

[State 189,]
type = screenbound
trigger1 = 1
value = 0

[State 189,]
type = posadd
trigger1 = time = 0
y = -70
x = -100

[State 189,]
type = veladd
trigger1 = 1
y = .4

[State 189,]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 189,]
type = ChangeState
trigger1 = pos y >= 0 && vel y > 0
value = 189

[Statedef 189]
type = S
movetype = I
physics = N
anim = 47
velset = 0,0
ctrl = 0

[State 197, 1]
type = posset
trigger1 = time = 0
y = 0

[State explod]
type = Explod
trigger1 = time = 0
anim = 6200
id = 6200
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.5,0.5

[State 197, 2]
type = PlaySnd
trigger1 = Time = 0
value = 40,0

[State 197, AS]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 197, 3]
type = ChangeState
trigger1 = animtime = 0
value = 196

;-----------------------------------------
[Statedef 189]
type = S
movetype = I
physics = N
anim = 47
velset = 0,0
ctrl = 0

[State 197, 1]
type = posset
trigger1 = time = 0
y = 0

[State explod]
type = Explod
trigger1 = time = 0
anim = 6200
id = 6200
sprpriority = 20
postype = p1
pos = 0,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 0.5,0.5

[State 197, 2]
type = PlaySnd
trigger1 = Time = 0
value = 40,0

[State 197, AS]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 197, 3]
type = ChangeState
trigger1 = animtime = 0
value = 196
;------------------------------------
[Statedef 196]
type = S
ctrl = 0
anim = 195
velset = 0,0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;------------------------------------
[Statedef 1977]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1000,55

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0