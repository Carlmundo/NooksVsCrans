;------------------------------------------------------------------------------------
;------------------------------------------------------------------------------------
;ASH By TonyADV, The Pizzaman, Mr.Chainsaw & Vegetto
;------------------------------------------------------------------------------------
;------------------------------------------------------------------------------------
;----------------------------------
;----------------------------------
;Constant File By TONYADV
;----------------------------------
;----------------------------------
[Data]
life = 1000
attack = 110
defence = 100
fall.defence_up = 55
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 1
volume = -80
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1           
yscale = 1           
ground.back = 15     
ground.front = 16    
air.back = 12        
air.front = 12       
height = 60	     
attack.dist = 160    
proj.attack.dist = 90 
proj.doscale = 0       
head.pos = -5, -90   
mid.pos = -5, -60    
shadowoffset = 0     
draw.offset = 0,0    

[Velocity]
walk.fwd  = 2.5      
walk.back = -2    
run.fwd  = 6, 0    
run.back = -4.5,-3.8 
jump.neu = 0,-9    
jump.back = -2.55    
jump.fwd = 2.7       
runjump.back = -2.55,-8.1 
runjump.fwd = 4,-8.1      
airjump.neu = 0,-9      
airjump.back = -2.7      
airjump.fwd = 2.5         

[Movement]
airjump.num = 1      
airjump.height = 35  
yaccel = .44         
stand.friction = .85  
crouch.friction = .82 


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, Assert]
type     = AssertSpecial
trigger1 = Time = [0,170]
flag     = roundnotover

[State 170, Voce]
type = PlaySnd
triggerall = var(36) = 0
trigger1 = time = 0
value = 14,0

[State 170, Voce]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = time = 0
value = 140,0

[State 170]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Win state decider
[Statedef 180]
type = S

[State 180]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 0,99

[State 180]
type = ChangeState
triggerall = Var(7) = 0
trigger1 = Var(2) = [0,19] 
value = 181

[State 180]
type = ChangeState
triggerall = Var(7) = 0
trigger1 = Var(2) = [20,39] 
value = 182

[State 180]
type = ChangeState
triggerall = Var(7) = 0
trigger1 = Var(2) = [40,59] 
value = 183

[State 180]
type = ChangeState
triggerall = Var(7) = 0
trigger1 = Var(2) = [60,79] 
value = 184

[State 180]
type = ChangeState
triggerall = Var(7) = 0
trigger1 = Var(2) = [80,99] 
value = 187

;-----------------------------------------
;-----------------------------------------
;Win pose 1 - girls
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 181]
type = PlaySnd
trigger1 = Animelem = 2
value = 2, 2

[State 181]
type = PlaySnd
trigger1 = AnimElem = 10
value = 0,1

[State 181, Voce]
type = PlaySnd
trigger1 = AnimElem = 1
value = 15,1

[State 181, Voce]
type = PlaySnd
triggerall = var(36) = 0
trigger1 = AnimElem = 9
value = 15,0

[State 181, Voce]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = AnimElem = 9
value = 150,0

[State 181, Assert]
type     = AssertSpecial
trigger1 = Time = [0,300]
flag     = roundnotover

[State 181, GIRL]
type = Explod
trigger1 = AnimElem = 1
pos = 0,0
anim = 181
sprpriority = 5
ownpal = 1
supermove = 1

[State 181]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;-----------------------------------------
;-----------------------------------------
;Win pose 2 occhiolino
[Statedef 182]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 182]
type = PlaySnd
trigger1 = AnimElem = 6
value = 0,1

[State 182, Voce]
type = PlaySnd
trigger1 = AnimElem = 7
value = 15,2

[State 182, Assert]
type     = AssertSpecial
trigger1 = Time = [0,200]
flag     = roundnotover

[State 182]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;-----------------------------------------
;-----------------------------------------
;Win pose 3 - fucile
[Statedef 183]
type = S
ctrl = 0
anim = 185
velset = 0,0

[State 183]
type = PlaySnd
trigger1 = AnimElem = 11
value = 0,0

[State 183, Voce]
type = PlaySnd
triggerall = var(36) = 0
trigger1 = AnimElem = 13
value = 15,3

[State 183, Voce]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = AnimElem = 13
value = 150,3

[State 183, Assert]
type     = AssertSpecial
trigger1 = Time = [0,325]
flag     = roundnotover

[State 183]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;-----------------------------------------
;-----------------------------------------
;Win pose 4 - mano e cazzo
[Statedef 184]
type = S
ctrl = 0
anim = 186
velset = 0,0

[State 184, Voce]
type = PlaySnd
triggerall = var(36) = 0
trigger1 = time = 98
value = 16,2

[State 184, Voce]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = time = 98
value = 160,0

[State 184, Assert]
type     = AssertSpecial
trigger1 = Time = [0,200]
flag     = roundnotover

[State 184, Helper]
type = Helper
trigger1 = time = 0
stateno = 185
id = 185
sprpriority = 5
pos = -320,0
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 184]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[Statedef 185]
type = S
movetype = I
physics = S
anim = 183
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 4 

[State 185, NoHit ]
type = NotHitBy
trigger1 = Time = 0
time = 20000
value = SCA

[State 185]
type = Velset
trigger1 = time >= 1
trigger1 = time <= 97
x = 3

[State 185]
type = Velset
trigger1 = time = 98
x = 0

[State 185, sang]
type = Explod
trigger1 = time = 98
pos = 9,-4
anim = 422
sprpriority = 2
ownpal = 1
supermove = 1
removetime = -1
scale = .5, .5

[State 185]
type = DestroySelf
trigger1 = time = 20000

;--------------------------------
;--------------------------------
;win - strega 
[Statedef 187]
type = S
ctrl = 0
anim = 620
velset = 0,0

[State 187]
type = PlaySnd
triggerall = var(36) = 0
trigger1 = time = 40
value = 26,0

[State 187]
type = PlaySnd
triggerall = var(36) = 0
trigger1 = time = 180
value = 26,1

[State 187]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = time = 40
value = 260,0

[State 187]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = time = 180
value = 260,1

[State 187]
type = PlaySnd
trigger1 = AnimElem = 24
value = 26,2

[State 187, Darken]
type = BGPalfx
trigger1 = time = 30
ignorehitpause = 1
time = 500
mul = 90,90,90
add = 5,5,5
invertall = 0

[State 187]
type = PlaySnd
trigger1 = time = 20
value = 4,0

[State 187, flash]
type = EnvColor
trigger1 = time = 20
value = 255,255,255
under = 0
time = 5

[State 187, magic]
type = Explod
trigger1 = time = 20
pos = 158,-60
anim = 433
sprpriority = 5
ownpal = 1
supermove = 1
removetime = 25
scale = .8, .8

[State 187, puttana]
type = Explod
trigger1 = time = 30
pos = 150,0
anim = 621
sprpriority = 4
ownpal = 1
supermove = 1

[State 187, sangue]
type = Explod
trigger1 = AnimElem = 28
pos = 160,-70
anim = 470
sprpriority = 5
ownpal = 1
supermove = 1
removetime = 180

[State 187, POLVERE]
type = Explod
trigger1 = AnimElem = 27
pos = 100,-80
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1
removetime = 180

[State 187, POLVERE]
type = Explod
trigger1 = AnimElem = 28
pos = 90,-85
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1
removetime = 180

[State 187, POLVERE]
type = Explod
trigger1 = AnimElem = 29
pos = 80,-90
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1
removetime = 180

[State 187, lampi]
type = BGPalfx
trigger1 = AnimElem = 27
ignorehitpause = 1
time = 200
sinadd = 90,90,90,8
add = 5,5,5
invertall = 0

[State 187, lampi]
type = BGPalfx
trigger1 = time = 500
ignorehitpause = 1
time = 100
sinadd = 90,90,90,8
add = 5,5,5
invertall = 0

[State 187, envshake]
type = EnvShake
trigger1 = AnimElem = 27
time = 180

[State 187, Assert]
type     = AssertSpecial
trigger1 = Time = [0,710]
flag     = roundnotover

[State 187]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;intro state decider
[Statedef 191]
type = S
ctrl = 0
velset = 0,0

[State 191]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 0,99

[State 191]
type = ChangeState
trigger1 = Var(2) = [0,33]
value = 192

[State 191]
type = ChangeState
trigger1 = Var(2) = [34,66]
value = 193

[State 191]
type = ChangeState
trigger1 = Var(2) = [67,99]
value = 194

;--------------------------------
;--------------------------------
;Intro - Motosega
[Statedef 192]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 192]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = Intro

[State 192] 
type = AssertSpecial
trigger1 = time = [0,400]
flag = nobardisplay

[State 192]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2,0

[State 192]
type = PlaySnd
trigger1 = AnimElem = 10
value = 2,1

[State 192]
type = PlaySnd
trigger1 = AnimElem = 15
value = 2,3

[State 192, Brilla]
type = PalFX
trigger1 = AnimElem = 8
time = 5
add = 50,0,0
sinadd = 150,150,150,3

[State 192, motosega]
type = Explod
trigger1 = time = 223
pos = 0,-50
anim = 191
sprpriority = 2
ownpal = 1
supermove = 1

[State 192, Flash]
type = Explod
trigger1 = AnimElem = 8
pos = 16,-180
anim = 414
sprpriority = -2
ownpal = 1
supermove = 1

[State 192, polvere]
type = Explod
trigger2 = AnimElem = 3
trigger1 = AnimElem = 14
pos = -10,0
anim = 405
sprpriority = 5
ownpal = 1
supermove = 1

[State 192, polvere]
type = Explod
trigger1 = AnimElem = 15
pos = -28,0
anim = 405
sprpriority = 5
ownpal = 1
supermove = 1

[State 192, polvere]
type = Explod
trigger1 = AnimElem = 15
pos = 20,0
anim = 405
sprpriority = 5
ownpal = 1
supermove = 1

[State 192, telecamera]
type = Helper
trigger1 = AnimElem = 5
postype = Left
pos = 160, -150
stateno = 195
supermovetime = -1
helpertype = player
keyctrl = 0
ownpal = 1

[State 192, Voce]
type = PlaySnd
triggerall = var(36) = 0
trigger1 = time = 2
value = 12,0

[State 192, Voce]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = time = 100
value = 170,0

[State 192, Voce]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = AnimElem = 8
value = 4,1

;--------------------------------
;telecamera
[Statedef 195]
type = S
movetype = A
physics = S
anim = 700
juggle = 0
velset = 0
ctrl = 0

[State 195, NoHit]
type = NotHitBy
trigger1 = time = 0
time = 500
value = SCA

[State 195]
type = DestroySelf
trigger1 = Time = 50

;--------------------------------
;--------------------------------
;Intro2 - auto
[Statedef 193]
type = S
ctrl = 0
anim = 701
velset = 0,0

[State 193]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = Intro

[State 193]
type = PlaySnd
trigger1 = AnimElem = 101
value = 8,0

[State 193]
type = PlaySnd
trigger1 = AnimElem = 102
value = 2,3

[State 193]
type = PlaySnd
trigger1 = AnimElem = 105
value = 10,1

[State 193, auto]
type = Explod
trigger1 = AnimElem = 103
pos = 0,0
anim = 703
sprpriority = 5
ownpal = 1
supermove = 1

[State 193, Darken]
type = BGPalfx
trigger1 = time = 0
trigger2 = time = 25
trigger3 = time = 50
trigger4 = time = 55
trigger5 = time = 75
trigger6 = time = 100
ignorehitpause = 1
time = 30
mul = 90,90,90
add = 5,5,5
invertall = 0

[State 193]
type = PlaySnd
trigger1 = time = 50
value = 5,0

[State 193]
type = PlaySnd
trigger1 = time = 120
value = 4,2

[State 193, portale]
type = Explod
trigger1 = time = 120
pos = -80,-50
anim = 442
sprpriority = 5
ownpal = 1
supermove = 1

[State 193, portale]
type = Explod
trigger1 = time = 120
pos = -70,-50
anim = 442
sprpriority = 5
ownpal = 1
supermove = 1
scale = 1.5, 1.5

[State 193, portale]
type = Explod
trigger1 = time = 125
pos = -50,-50
anim = 442
sprpriority = 5
ownpal = 1
supermove = 1
scale = 2, 2

[State 193, flash]
type = EnvColor
trigger1 = time = 125
value = 255,255,255
under = 0
time = 5

[State 193, lampi]
type = BGPalfx
trigger1 = time = 125
ignorehitpause = 1
time = 30
sinadd = 90,90,90,8
add = 5,5,5
invertall = 0

[State 193, envshake]
type = EnvShake
trigger1 = time = 125
time = 20

[State 193, Polvere]
type = Explod
trigger1 = time = 200
pos = 20,8
anim = 401
sprpriority = 6
ownpal = 1
supermove = 1
scale = .8, .8

;--------------------------------
;--------------------------------
;Intro3 - portale
[Statedef 194]
type = S
ctrl = 0
anim = 705
velset = 0,0

[State 194] 
type = AssertSpecial
trigger1 = time = [0,250]
flag = nobardisplay

[State 194]
type = AssertSpecial
trigger1 = Time = [0,250]
flag = Intro

[State 194]
type = PlaySnd
trigger1 = time = 10
value = 4,0

[State 194, portale]
type = Explod
trigger1 = time = 10
pos = 10,-160
anim = 443
sprpriority = 5
ownpal = 1
supermove = 1

[State 194, flash]
type = EnvColor
trigger1 = time = 10
value = 255,255,255
under = 0
time = 5

[State 194, lampi]
type = BGPalfx
trigger1 = time = 10
ignorehitpause = 1
time = 30
sinadd = 90,90,90,8
add = 5,5,5
invertall = 0

[State 194, envshake]
type = EnvShake
trigger1 = time = 10
trigger2 = AnimElem = 18
time = 20

[State 194, envshake]
type = EnvShake
trigger1 = AnimElem = 18
time = 30

[State 194, polvere]
type = Explod
trigger1 = AnimElem = 18
pos = 0,0
anim = 400
sprpriority = -2
ownpal = 1
supermove = 1
scale = .8, .8

[State 194]
type = PlaySnd
trigger1 = AnimElem = 18
value = 7,1

[State 194]
type = PlaySnd
trigger1 = AnimElem = 18
value = 11,0

[State 194]
type = PlaySnd
triggerall = var(36) = 0
trigger1 = AnimElem = 23
value = 14,0

[State 194]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = AnimElem = 23
value = 140,0

[State 194, fulmine]
type = Explod
trigger1 = time = 20
pos = 0,0
anim = 444
sprpriority = -2
ownpal = 1
supermove = 1

;--------------------------------
;--------------------------------
;Intro2vecchio - auto
[Statedef 1931]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 1931]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = Intro

[State 1931, Voce]
type = PlaySnd
trigger1 = time = 10
value = 12,1

[State 1931]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3,1

[State 1931, auto]
type = Explod
trigger1 = time = 0
pos = 150,0
anim = 193
sprpriority = -6
ownpal = 1
supermove = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;provocazione state decider
[Statedef 199]
type = S
ctrl = 0
velset = 0,0

[State 199]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 0,99

[State 199]
type = ChangeState
trigger1 = Var(2) = [0,99]
value = 198

;provocazione 1
[Statedef 198]
type = S
ctrl = 0
anim = 199
velset = 0,0
movetype = I
physics = S
sprpriority = 2
poweradd = 200

[State 198]
type = PlaySnd
trigger1 = Animelem = 1
value = 0,0

;-----------------------------
[State 198, VarSnd]
type = VarRandom
trigger1 = Time = 0
v = 6
range = 1,2

[State 198, VarSnd]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = Var(6) = 1
value = 13,0

[State 198, VarSnd]
type = PlaySnd
triggerall = var(36) = 0
trigger1 = AnimElem = 2
trigger1 = Var(6) = 2
value = 13,1

[State 198, VarSnd]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = AnimElem = 2
trigger1 = Var(6) = 2
value = 130,1
;-----------------------------

[State 198]
type = ChangeState
trigger1 = AnimTime= 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;ricarica
;Charge Parte 1
[Statedef 900]
type = S
movetype = I
physics = S
anim = 900
velset = 0
ctrl = 0

[State 900]
type = ChangeState
trigger1 = AnimTime= 0
value = 901

;Charge parte 2 (caricamento)
[Statedef 901]
type = S
movetype = I
physics = S
anim = 901

[State 901]
type = PlaySnd
trigger1 = Animelem = 1
value = 2, 1

[State 901, POLVERE]
type = Explod
trigger1 = AnimElem = 1
pos = 0,-1
anim = 400
ID = 400
sprpriority = -2
supermove = 1
removeongethit = 1
scale = .8,.8

[State 99, Brilla]
type = PalFX
trigger1 = AnimElem = 1
time = 10
add = 50,0,0
sinadd = 150,150,150,3

[State 901]
type = PowerAdd
trigger1 = Time= [0,10]
value = 10

[State 901]
type = ChangeState
trigger1 = command != "charge"
trigger2 = command != "charge 1"
value = 902

[State 901]
type = ChangeState
trigger1 = Power >= 3000
value = 902

[State 901]
type = ChangeState
trigger1 = AnimTime= 0
value = 901

; Charge (Fine)
[Statedef 902]
type = S
movetype = I
physics = S
anim = 902

[State 902, removeEX]
type = RemoveExplod
triggerall = NumExplod(350) = 1
trigger1 = time = 1
ID = 350

[State 902, removeEX]
type = RemoveExplod
triggerall = NumExplod(401) = 1
trigger1 = time = 1
ID = 401

[State 902, removeEX]
type = RemoveExplod
triggerall = NumExplod(402) = 1
trigger1 = time = 1
ID = 402

[State 902]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2,2

[State 902]
type = ChangeState
trigger1 = AnimTime= 0
value =0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Pugno leggero
[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
velset = 0,0                     
ctrl = 0                        
anim = 200                       
poweradd = 50                  
sprpriority = 2                 

[State 200]
type = PlaySnd
trigger1 = Time = 5
value = 0, 0

[State 200]
type = HitDef
trigger1 = time = 0
attr = S, NA                     
damage = 35                   
animtype = Light                 
guardflag = MA                   
hitflag = MAF                    
priority = 3, Hit                
pausetime = 2,9
sparkno = s410                     
sparkxy = 0, -80              
hitsound   = S1,0
guardsound = S6,0              
ground.type = High               
ground.slidetime = 5             
ground.hittime  = 12             
ground.velocity = -3             
air.velocity = -3,-2
airguard.velocity = -1.9,-.8     
air.type = High                  
air.hittime = 12                 
envshake.time =  10 
envshake.freq = 10     
envshake.ampl = 5  
envshake.phase = 5

[State 200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;pugno forte
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 201
sprpriority = -1

[State 210]
type = PlaySnd
trigger1 = Time = 10
value = 0, 1

[State 210, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 421
ID = 421
pos = 10, -70
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 210]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 50
guardflag = MA
pausetime = 2,9
sparkno = s413
sparkxy = -10,-70
hitsound   = S1,3
guardsound = S4,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -5,-2
envshake.time =  15 
envshake.freq = 15     
envshake.ampl = 5  
envshake.phase = 5

[State 210]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Calcio leggero
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 202
sprpriority = 2

[State 220]
type = PlaySnd
trigger1 = Time = 5
value = 0,0

[State 220]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 35
guardflag = MA
pausetime = 0,8
sparkno = s410
sparkxy = 0,-72
hitsound   = S1,1
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-2
envshake.time =  5 
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5

[State 220]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;calcio forte
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 50
ctrl = 0
velset = 0,0
anim = 203
sprpriority = 2

[State 230]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 230]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 50
guardflag = MA
pausetime = 2,9
sparkno = s411
sparkxy = 0,-62
hitsound   = S1,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2
envshake.time =  10 
envshake.freq = 10     
envshake.ampl = 5  
envshake.phase = 5

[State 230]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;pugno leggero abbasato
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 50
ctrl = 0
anim = 210
sprpriority = 2

[State 400]
type = PlaySnd
trigger1 = Time = 5
value = 0,0

[State 400]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 35
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = s410
sparkxy = 0,-45
hitsound   = S1,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -3
air.velocity = -3,-1
envshake.time =  5 
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5

[State 400]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;pugno forte abbasato
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 211
sprpriority = 2

[State 410]
type = PlaySnd
trigger1 = Time = 5
value = 0,1

[State 410, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 421
ID = 421
pos = 10, -53
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 410]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 50
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = s413
sparkxy = -10,-45
hitsound   = S1,3
guardsound = S4,1
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
envshake.time =  10 
envshake.freq = 10     
envshake.ampl = 5  
envshake.phase = 5

[State 410]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;calcio leggero abbasato
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 50
ctrl = 0
anim = 212
sprpriority = 2

[State 420]
type = PlaySnd
trigger1 = Time = 5
value = 0, 0

[State 420]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 35
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = s410
sparkxy = 10,-2
hitsound   = S1,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 420]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;calcio forte abbasato
[Statedef 430]
type    = C
movetype= A
physics = C
velset = 0,0
juggle  = 7
poweradd= 50
ctrl = 0
anim = 213
sprpriority = 2

[State 440]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 440]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 50
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = s411
sparkxy = -10,-55
hitsound   = S1,3
guardsound = S6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2,-1
air.velocity = -2,-1
guard.velocity = -5
envshake.time =  10 
envshake.freq = 10     
envshake.ampl = 5  
envshake.phase = 5
Fall = 1

[State 440]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Pugno leggero in salto
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 50
ctrl = 0
anim = 220
sprpriority = 2

[State 600]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 600]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 35
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = s410
sparkxy = -10,-90
hitsound   = S1,0
guardsound = S6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -3
air.velocity = -1,-3
envshake.time =  5
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;pugno forte in salto 
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 50
ctrl = 0
anim = 221
sprpriority = 2

[State 610]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 610, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 422
ID = 422
pos = 0, -70
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 610]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 50
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s413
sparkxy = 0,-20
hitsound   = S1,3
guardsound = S4,1
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -4
air.velocity = -1,-3
envshake.time =  5
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;calcio leggero in salto 
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 50
ctrl = 0
anim = 222
sprpriority = 2

[State 620]
type = PlaySnd
trigger1 = Time = 5
value = 0, 0

[State 620]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 35
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = s410
sparkxy = 5,-60
hitsound   = S1,1
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -3
air.velocity = -1,-3
envshake.time =  5
envshake.freq = 5     
envshake.ampl = 5  
envshake.phase = 5

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;calcio forte in salto
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 50
ctrl = 0
anim = 223
sprpriority = 2

[State 630]
type = PlaySnd
trigger1 = Time = 5
value = 0, 1

[State 630]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 50
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s411
sparkxy = -15,-65
hitsound   = S1,3
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -4
air.velocity = -1,-3
envshake.time =  15
envshake.freq = 15   
envshake.ampl = 5  
envshake.phase = 5


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;pugno fortissimo
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 300
sprpriority = -1

[State 240, afterimage]
type = AfterImage
trigger1 = time = 0
time = 20
palfx = 0,0,190
trans = Add1

[State 240]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 0

[State 240]
type = PlaySnd
trigger1 = AnimElem = 1
value = 10, 0

[State 240]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1

[State 240]
type = PlaySnd
trigger1 = time = 20
value = 10, 1

[State 901, POLVERE]
type = Explod
trigger1 = AnimElem = 2
pos = 0,-2
anim = 400
ID = 400
sprpriority = -2
supermove = 1
removeongethit = 1
scale = .8,.8

[State 99, Brilla]
type = PalFX
trigger1 = AnimElem = 1
time = 30
add = 50,0,0
sinadd = 150,150,150,3

[State 240, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 471
ID = 471
pos = 0, -60
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 240]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Medium
damage    = 50
guardflag = MA
pausetime = 12,12
sparkno = s413
sparkxy = 0,-60
hitsound   = S1,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10,-4
air.velocity = -10,-4
envshake.time =  25 
envshake.freq = 25    
envshake.ampl = 5  
envshake.phase = 5
p2stateno = 1025

[State 210]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Motoseghina:D
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
ctrl = 0
velset = 0,0
anim = 708
sprpriority = -1

[State 1010]
type = PlaySnd
trigger1 = Time = 0
value = 10, 1

[State 1010]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0

[State 1010]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 1

[State 1010, Brilla]
type = PalFX
trigger1 = AnimElem = 5
time = 10
add = 50,0,0
sinadd = 150,150,150,3

[State 1010, Velset]
type = VelSet
trigger1 = AnimElem = 1
x = 5

[State 1010, POLVERE]
type = Explod
trigger1 = AnimElem = 2
pos = 0,1
anim = 403
sprpriority = 2
supermove = 1
ownpal = 1
scale = .6, .6

[State 1010, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 422
ID = 422
pos = 10, -70
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 1010]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Medium
damage    = 75
guardflag = MA
pausetime = 2,9
sparkno = s413
sparkxy = -10,-70
hitsound   = S1,3
guardsound = S4,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1
envshake.time =  25 
envshake.freq = 15     
envshake.ampl = 5  
envshake.phase = 5
Fall = 1
Palfx.time          = 10
Palfx.add           = -122,-30,82
Palfx.mul           = 255,0,0
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[State 1010]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Uppercut
[Statedef 1030]
type = S
movetype = A
physics = S
anim = 707
juggle = 5
velset = 0,0
ctrl = 0
poweradd= 100

[State 1030]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2,0

[State 1030]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10,1

[State 1030]
type = PlaySnd
trigger1 = AnimElem = 4
value = 2,1

[State 1030, POLVERE]
type = Explod
trigger1 = time = 0
pos = 10,5
anim = 403
sprpriority = 5
supermove = 1
removeongethit = 1
ownpal = 1
scale = .8, .8

[State 3011, afterimage]
type = AfterImage
trigger1 = time = 0
time = 55
PalBright = 10,10,10
PalContrast = 128,50,50
trans = Add1

[State 1030]
type = VelSet
trigger1 = AnimElem = 3
y = -4
x = 3

[State 1030]
type = VelAdd
trigger1 = AnimElem = 4
y = 0.45

[State 1030, Brilla]
type = PalFX
trigger1 = AnimElem = 3
time = 25
add = 50,0,0
sinadd = 100,100,100,3

[State 1030]
type = HitDef
trigger1 = time = 0
priority = 4
attr = S, SA
damage = 75
getpower = 20
givepower = 10
animtype = hard
guardflag = MA
sparkno = s413
sparkxy = 0,-60
hitsound =   S7,0
guardsound = S7,1
pausetime = 12,12
ground.hittime = 19
ground.type = high
ground.slidetime = 9
ground.velocity = -1,-12
air.velocity = -1,-12
fall = 1
envshake.time =  35 
envshake.freq = 10     
envshake.ampl = 5  
envshake.phase = 5
Palfx.time          = 5
Palfx.add           = -122,-30,82
Palfx.mul           = 255,0,0
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[State 1030, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 422
ID = 422
pos = 0, -60
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 1030, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 470
ID = 470
pos = 0, -60
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 1030]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;FUCILE
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
ctrl = 0
velset = 0,0
anim = 302
sprpriority = -1

[State 1000]
type = PlaySnd
trigger1 = time = 2
value = 0,0

[State 1000, POLVERE]
type = Explod
trigger1 = AnimElem = 17
pos = 100,-80
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1

[State 1000, POLVERE]
type = Explod
trigger1 = AnimElem = 18
pos = 90,-85
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1

[State 1000, POLVERE]
type = Explod
trigger1 = AnimElem = 19
pos = 80,-90
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 10
value = 8,0

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 17
value = 8,1

[State 1000, Fireball]
type = Projectile
trigger1 = AnimElem = 17
projanim = 700
projhitanim = 405
offset = 0, -75
sparkno = s471
sparkxy = 40,0
velocity = 30
attr = S, SP
damage    = 45
animtype = Heavy
guardflag = MA
pausetime = 0,9
hitsound   = S1,2
guardsound = S6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
air.animtype = Back
ground.velocity = -5
air.velocity = -5,-4
air.juggle = 3
envshake.time =  10 
envshake.freq = 10     
envshake.ampl = 5  
envshake.phase = 5

[State 1000]
type = ChangeState
trigger1 = animTime = 0
value = 1001
ctrl = 1

[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 303
sprpriority = -1

[State 1001]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,1

[State 1001]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Fireball state decider
[Statedef 2000]
type = S
ctrl = 0
velset = 0,0

[State 2000]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 0,99

[State 2000]
type = ChangeState
trigger1 = Var(2) = [0,33]
value = 2001

[State 2000]
type = ChangeState
trigger1 = Var(2) = [34,66]
value = 2002

[State 2000]
type = ChangeState
trigger1 = Var(2) = [67,99]
value = 2003

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Fireball 1 - ghost
[Statedef 2001]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
ctrl = 0
velset = 0,0
anim = 301
sprpriority = -1

[State 2001]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0

[State 2001, POLVERE]
type = Explod
trigger1 = AnimElem = 9
pos = -1,-1
anim = 400
ID = 400
sprpriority = -2
supermove = 1
removeongethit = 1
scale = .8,.8

[State 2001]
type = PlaySnd
trigger1 = AnimElem = 8
value = 4,0

[State 2001, Brilla]
type = PalFX
trigger1 = AnimElem = 8
time = 15
add = 0,0,50
sinadd = 150,150,150,3

[State 2001, Portale]
type = Explod
trigger1 = AnimElem = 8
anim = 442
ID = 442
pos = 40, -82
postype = p1
sprpriority = 4
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 2001, Helper]
type = Helper
trigger1 = AnimElem = 9
id = 2010
stateno = 2010
sprpriority = 5
pos = 120,-75
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 2001]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 2010]
type    = A
movetype= A
physics = N
juggle  = 6
anim = 460
ctrl = 0
sprpriority = 0

[State 2010, afterimage]
type = AfterImage
trigger1 = time = 1
time = 150
palfx = 0,0,190
trans = Add

[State 2010]
type = VelSet
trigger1 = AnimElem >= 8
x = 5

[State 2010]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage    = 25
getpower  = 1
givepower = 10
guardflag = MA
priority = 3
pausetime = 7,8
sparkno = s411
sparkxy = 0,0
hitsound   = s5,2
guardsound = s6,2
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5
air.velocity = -5,-4
Palfx.time          = 10
Palfx.add           = -122,-30,82
Palfx.mul           = 256,256,256
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[State 2010, Hit]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA,AA,AT,AP,NT,ST,HT,NA,SA,HA,NP,SP,HP
stateno = 2011

[State 2010, removeEX]
type = DestroySelf
trigger1 = movehit = 1
trigger2 = time = 100

[Statedef 2011]
type    = A
movetype= A
physics = N
juggle  = 6
anim = 461
ctrl = 0
sprpriority = 0

[State 2011, NoHit]
type = NotHitBy
trigger1 = Time = 0
time = 100
value = SCA

[State 2011]
type = PlaySnd
trigger1 = time = 0
value = 5,2

[State 2011]
type = VelSet
trigger1 = time > 1
x = -4
y = 2

[State 2011]
type = VelSet
trigger1 = time = 1
x = 0

[State 2011, removeEX]
type = DestroySelf
trigger1 = animTime = 0

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Fireball 2 - skull
[Statedef 2002]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
ctrl = 0
velset = 0,0
anim = 301
sprpriority = -1

[State 2002]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0

[State 2002, POLVERE]
type = Explod
trigger1 = AnimElem = 9
pos = -1,-1
anim = 400
ID = 400
sprpriority = -2
supermove = 1
removeongethit = 1
scale = .8,.8

[State 2002]
type = PlaySnd
trigger1 = AnimElem = 8
value = 4,0

[State 2002, Brilla]
type = PalFX
trigger1 = AnimElem = 8
time = 15
add = 0,0,50
sinadd = 150,150,150,3

[State 2002, Portale]
type = Explod
trigger1 = AnimElem = 8
anim = 442
ID = 442
pos = 40, -82
postype = p1
sprpriority = 4
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 2002, Helper]
type = Helper
trigger1 = AnimElem = 9
id = 2020
stateno = 2020
sprpriority = 5
pos = 45,-80
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 2002]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 2020]
type    = A
movetype= A
physics = N
juggle  = 6
anim = 464
ctrl = 0
sprpriority = 0

[State 2020, afterimage]
type = AfterImage
trigger1 = time = 1
time = 150
palfx = 0,0,190
trans = Add

[State 2020]
type = VelSet
trigger1 = AnimElem >= 4
x = 6

[State 2020]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage    = 25
getpower  = 1
givepower = 10
guardflag = MA
priority = 3
pausetime = 7,8
sparkno = s465
sparkxy = 0,0
hitsound   = s5,2
guardsound = s6,2
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5
air.velocity = -5,-4
Palfx.time          = 10
Palfx.add           = -122,-30,82
Palfx.mul           = 256,256,256
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[State 2020, Hit]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA,AA,AT,AP,NT,ST,HT,NA,SA,HA,NP,SP,HP
stateno = 2021

[State 2020, removeEX]
type = DestroySelf
trigger1 = movehit = 1
trigger2 = time = 100

[Statedef 2021]
type    = A
movetype= A
physics = N
juggle  = 6
anim = 466
ctrl = 0
sprpriority = 0

[State 2021, NoHit]
type = NotHitBy
trigger1 = Time = 0
time = 100
value = SCA

[State 2021]
type = PlaySnd
trigger1 = time = 0
value = 5,2

[State 2021]
type = VelSet
trigger1 = time = 0
x = 0

[State 2021, removeEX]
type = DestroySelf
trigger1 = animTime = 0

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Fireball 3 - skeleton
[Statedef 2003]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
ctrl = 0
velset = 0,0
anim = 301
sprpriority = -1

[State 2003]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0

[State 2003, POLVERE]
type = Explod
trigger1 = AnimElem = 9
pos = -1,-1
anim = 400
ID = 400
sprpriority = -2
supermove = 1
removeongethit = 1
scale = .8,.8

[State 2003]
type = PlaySnd
trigger1 = AnimElem = 8
value = 4,0

[State 2003, Brilla]
type = PalFX
trigger1 = AnimElem = 8
time = 15
add = 0,0,50
sinadd = 150,150,150,3

[State 2003, Portale]
type = Explod
trigger1 = AnimElem = 8
anim = 442
ID = 442
pos = 40, -82
postype = p1
sprpriority = 4
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 2003, Helper]
type = Helper
trigger1 = AnimElem = 9
id = 2030
stateno = 2030
sprpriority = 5
pos = 55, 0
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 2003]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 2030]
type    = A
movetype= A
physics = N
juggle  = 6
anim = 463
ctrl = 0
sprpriority = 0

[State 2030, afterimage]
type = AfterImage
trigger1 = time = 1
time = 150
palfx = 0,0,190
trans = Add

[State 2030]
type = VelSet
trigger1 = AnimElem >= 3
x = 4

[State 2030]
type = HitDef
trigger1 = time = 0
attr = S, SA
damage    = 25
getpower  = 1
givepower = 10
guardflag = MA
priority = 3
pausetime = 7,8
sparkno = s411
sparkxy = 0,-70
hitsound   = s5,2
guardsound = s6,2
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -6
air.velocity = -6,-4
Palfx.time          = 10
Palfx.add           = -122,-30,82
Palfx.mul           = 256,256,256
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[State 2030, Hit]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA,AA,AT,AP,NT,ST,HT,NA,SA,HA,NP,SP,HP
stateno = 2031

[State 2030, removeEX]
type = DestroySelf
trigger1 = movehit = 1
trigger2 = time = 100

[Statedef 2031]
type    = A
movetype= A
physics = N
juggle  = 6
anim = 463
ctrl = 0
sprpriority = 0

[State 2031, NoHit]
type = NotHitBy
trigger1 = Time = 0
time = 100
value = SCA

[State 2031]
type = PlaySnd
trigger1 = time = 0
value = 5,2

[State 2031]
type = VelSet
trigger1 = time = 0
x = 0

[State 2031]
type = VelSet
trigger1 = time >= 1
x = -10
Y = -1

[State 2031, removeEX]
type = DestroySelf
trigger1 = animTime = 0

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Mano
[Statedef 1040]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
ctrl = 0
velset = 0,0
anim = 301
sprpriority = -1

[State 1040]
type = PlaySnd
trigger1 = AnimElem = 8
value = 4,0

[State 1040, Brilla]
type = PalFX
trigger1 = AnimElem = 8
time = 15
add = 0,0,50
sinadd = 150,150,150,3

[State 1040, Portale]
type = Explod
trigger1 = AnimElem = 8
anim = 442
ID = 442
pos = 40, -82
postype = p1
sprpriority = 4
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 1040]
type = PlaySnd
trigger1 = AnimElem = 9
value = 2,1

[State 1040, POLVERE]
type = Explod
trigger1 = AnimElem = 9
pos = -1,-1
anim = 400
ID = 400
sprpriority = -2
supermove = 1
removeongethit = 1
scale = .8,.8

[State 1040, Helper]
type = Helper
trigger1 = AnimElem = 9
id = 1041
stateno = 1041
helpertype = normal
sprpriority = 5
postype = p1
pos = 90,-75
keyctrl = 0          
ownpal = 1
ignorehitpause = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 1040]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

[Statedef 1041]
type    = A
movetype= A
physics = N
juggle  = 6
anim = 580
ctrl = 0
sprpriority = 0

[State 1041, afterimage]
type = AfterImage
trigger1 = time = 1
time = 150
palfx = 0,0,190
trans = Add

[State 1041]
type = VelSet
trigger1 = time  >= 0
x = 0

[State 1041, NoHit]
type = NotHitBy
trigger1 = Time = 0
time = 100
value = SCA

[State 1041, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 422
ID = 422
pos = 0, -70
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 1041] 
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Up               
damage    = 50
getpower  = 0
priority  = 5
guardflag = MA
pausetime = 20,30
sparkno = s413
sparkxy = 0,-70
hitsound   = S7,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -1.3,-20
air.velocity = -1.3,-20
guard.velocity = -11
airguard.velocity = -4.5,-5
envshake.time = 25           
envshake.ampl = 7
envshake.freq = 176
p2facing = 1                 
fall = 1
fall.recover = 0             
fall.damage = 10             
fall.envshake.ampl = 6       
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 50,-100            
maxdist = 100,-10           
yaccel = .8 
Palfx.time          = 10
Palfx.add           = -122,-30,82
Palfx.mul           = 0,0,40
Palfx.sinadd        = -200,-200,-200,3
Palfx.invertall     = 1

[State 1041, removeEX]
type = DestroySelf
trigger1 = animTime = 0

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;MOTOSEGA
[Statedef 3010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 310
sprpriority = -1

[State 3010, Darken]
type = BGPalfx
trigger1 = time = 0
ignorehitpause = 0
time = 50
mul = 150,50,50
add = 5,5,5
invertall = 0

[State 3010]
type = PlaySnd
trigger1 = time = 0
value = 18, 1

[State 3010]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 1

[State 3010]
type = SuperPause
trigger1 = AnimElem = 2
time = 40
movetime = 40
anim = s430
pos = -20,-120
darken = 0

[State 3010, Brilla]
type = PalFX
trigger1 = AnimElem = 2
time = 20
add = 50,0,0
sinadd = 200,200,200,3

[State 3010, POLVERE]
type = Explod
trigger1 = AnimElem = 2
pos = 0,-2
anim = 400
ID = 400
sprpriority = -2
supermove = 1
removeongethit = 1
scale = .8,.8

[State 3010]
type = ChangeState
trigger1 = AnimTime = 0
value = 3011
ctrl = 1

;corsa
[Statedef 3011]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
velset = 0,0                     
ctrl = 0                        
anim = 100                       
poweradd = 0                  
sprpriority = 1 

[State 3011, afterimage]
type = AfterImage
trigger1 = time = 0
time = 50
PalBright = 10,10,10
PalContrast = 128,50,50
trans = Add1

[State 3011, POLVERE]
type = Explod
trigger1 = AnimElem = 2
pos = 10,2
anim = 401
sprpriority = 5
supermove = 1
removeongethit = 1

[State 3011]
type = PlaySnd
trigger1 = Animelem = 3
value = 3, 0

[State 3011]
type = PlaySnd
trigger1 = Animelem = 6
value = 3, 1

[State 3011]
type = VelSet
trigger1 = 1
x = 9

[State 3011]
type = ChangeState
trigger1 = P2Dist X <= 80
value = 3012
ctrl = 1

[State 3011, Velset]
type = VelSet
trigger1 = time = 69
x = 0

[State 3012, Darken]
type = BGPalfx
trigger1 = time = 0
ignorehitpause = 0
time = 70
mul = 150,50,50
add = 5,5,5
invertall = 0

[State 3011]
type = ChangeState
trigger1 = time = 70
value = 0
ctrl = 1

[Statedef 3012]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
ctrl = 0
velset = 0,0
anim = 311
sprpriority = -1

[State 3012, Darken]
type = BGPalfx
trigger1 = time = 0
ignorehitpause = 0
time = 180
mul = 50,50,150
add = 5,5,5
invertall = 0

[State 3012, sfondo]
type = Explod
trigger1 = time = 0
pos = -320,0
anim = 451
ID = 451
postype = right
sprpriority = -9
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 175

[State 3012, POLVERE]
type = Explod
trigger1 = time = 0
pos = 10,2
anim = 401
sprpriority = 5
supermove = 1
removeongethit = 1

[State 3012]
type = VelSet
trigger1 = time = 0
x = 0

[State 3012]
type = PlaySnd
triggerall = var(36) = 0
trigger1 = AnimElem = 1
value = 18,0

[State 3012]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = AnimElem = 1
value = 180,0

[State 3012, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 412
ID = 412
pos = 0, -65
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 3012]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 10
trigger10 = AnimElem = 11
trigger11 = AnimElem = 12
trigger12 = AnimElem = 13
trigger13 = AnimElem = 14
attr = S, HA
animtype  = Medium
damage    = 12
guardflag = MA
pausetime = 10,10
sparkno = s420
sparkxy = 0,-60
hitsound   = S7,0
guardsound = S7,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0, 0
air.velocity = 0, 1
envshake.time =  15 
envshake.freq = 15    
envshake.ampl = 5  
envshake.phase = 5
Palfx.time          = 5
Palfx.add           = -122,-30,82
Palfx.mul           = 255,0,0
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[State 3012, SANGUE]
type = Explod
triggerAll = movehit = 1
trigger1 = AnimElem = 17
anim = 422
ID = 422
pos = 0, -60
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 3012, SANGUE]
type = Explod
triggerAll = movehit = 1
trigger1 = AnimElem = 17
anim = 470
ID = 470
pos = 0, -60
postype = p2
sprpriority = 6
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 3012, Brilla]
type = PalFX
trigger1 = AnimElem = 17
time = 5
add = 50,0,0
sinadd = 200,200,200,3

[State 3012]
type = HitDef
trigger1 = AnimElem = 17
attr = S, HA
animtype  = Medium
damage    = 100
guardflag = MA
pausetime = 10
sparkno = s413
sparkxy = 0,-60
hitsound   = S7,0
guardsound = S7,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10
air.velocity = -10
envshake.time =  40 
envshake.freq = 15    
envshake.ampl = 5  
envshake.phase = 5
Fall = 1
Palfx.time          = 20
Palfx.add           = -122,-30,82
Palfx.mul           = 255,0,0
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[state 3012, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 3012]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;SUPER FUCILE
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 302
sprpriority = -1

[State 3000, Darken]
type = BGPalfx
trigger1 = AnimElem = 12
trigger2 = AnimElem = 17
ignorehitpause = 1
time = 50
mul = 90,90,90
add = 5,5,5
invertall = 0

[State 3000, Spause]
type = Superpause
trigger1 = AnimElem = 12
anim = s431
pos = 0,-90
Time = 24
movetime = 0
darken = 0

[State 3000, sfondo]
type = Explod
trigger1 = AnimElem = 17
pos = -320,0
anim = 450
ID = 450
postype = right
sprpriority = -9
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 100

[State 3000]
type = PlaySnd
trigger1 = AnimElem = 12
value = 4,1

[State 3000, voce]
type = PlaySnd
trigger1 = AnimElem = 12
value = 10,1

[State 3000]
type = PlaySnd
trigger1 = time = 5
value = 0,0

[State 3000, POLVERE]
type = Explod
trigger1 = AnimElem = 17
pos = 100,-80
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1

[State 3000, POLVERE]
type = Explod
trigger1 = AnimElem = 18
pos = 90,-85
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1

[State 3000, POLVERE]
type = Explod
trigger1 = AnimElem = 19
pos = 80,-90
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1

[State 3000]
type = PlaySnd
trigger1 = AnimElem = 10
value = 8,0

[State 3000]
type = PlaySnd
trigger1 = AnimElem = 17
value = 8,1

[State 3000, Fireball]
type = Projectile
trigger1 = AnimElem = 17
projanim = 700
projhitanim = 405
offset = 0, -75
sparkno = s471
sparkxy = 40,0
velocity = 30
attr = S, HP
damage    = 50
animtype = Heavy
guardflag = MA
pausetime = 0,9
hitsound   = S1,2
guardsound = S6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
air.animtype = Back
ground.velocity = -5
air.velocity = -5,-4
air.juggle = 3
envshake.time =  10 
envshake.freq = 10     
envshake.ampl = 5  
envshake.phase = 5

[state 3000, fatality]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 3000]
type = ChangeState
trigger1 = Time = 115
value = 3001
ctrl = 1

[Statedef 3001]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
ctrl = 0
velset = 0,0
anim = 3021
sprpriority = -1

[State 3001, voce]
type = PlaySnd
trigger1 = AnimElem = 4
value = 12,1

[State 3001, POLVERE]
type = Explod
trigger1 = AnimElem = 2
pos = 100,-80
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1

[State 3001, POLVERE]
type = Explod
trigger1 = AnimElem = 3
pos = 90,-85
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1

[State 3001, POLVERE]
type = Explod
trigger1 = AnimElem = 4
pos = 80,-90
anim = 405
sprpriority = 4
supermove = 1
removeongethit = 1

[State 3001]
type = PlaySnd
trigger1 = AnimElem = 2
value = 8,2

[State 3001, Fireball]
type = Projectile
trigger1 = AnimElem = 2
projanim = 700
projhitanim = 414
offset = 0, -75
sparkno = s471
sparkxy = 40,0
velocity = 30
attr = S, HP
damage    = 50
animtype = Heavy
guardflag = MA
pausetime = 0,9
hitsound   = S1,3
guardsound = S6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
air.animtype = Back
ground.velocity = -10,-5
air.velocity = -10,-4
air.juggle = 3
envshake.time =  10 
envshake.freq = 10     
envshake.ampl = 5  
envshake.phase = 5
p2stateno = 1025

[state 3001, fatality]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 3001]
type = ChangeState
trigger1 = animTime = 0
value = 1001
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;MANO E FIERR
[Statedef 3020]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 320
sprpriority = -1

[State 3020]
type = VelSet
trigger1 = Animelem = 11
trigger2 = Animelem = 12
trigger3 = Animelem = 13
trigger4 = Animelem = 14
trigger5 = Animelem = 15
trigger6 = Animelem = 18
trigger7 = Animelem = 19
trigger8 = Animelem = 20
trigger9 = Animelem = 21
x = 2

[State 3020]
type = VelSet
trigger1 = Animelem = 16
trigger2 = Animelem = 22
x = 0

[State 3020]
type = PlaySnd
trigger1 = AnimElem = 3
value = 8, 0

[State 3020]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10, 0

[State 3020]
type = PlaySnd
trigger1 = AnimElem = 11
value = 2, 0

[State 3020]
type = PlaySnd
trigger1 = AnimElem = 17
value = 4, 1

[State 3020]
type = PlaySnd
trigger1 = AnimElem = 17
value = 12, 1

[State 3020]
type = PlaySnd
trigger1 = AnimElem = 21
value = 2, 3

[State 3020, afterimage]
type = AfterImage
trigger1 = AnimElem = 3
time = 100
PalBright = 10,10,10
PalContrast = 128,50,50
trans = Add1

[State 3020, lampi]
type = BGPalfx
trigger1 = AnimElem = 3
ignorehitpause = 1
time = 25
sinadd = 90,90,90,8
add = 5,5,5
invertall = 0

[State 3020, Darken]
type = BGPalfx
trigger1 = AnimElem = 16
ignorehitpause = 1
time = 50
mul = 90,90,150
add = 5,5,5
invertall = 0

[State 3020]
type = SuperPause
trigger1 = AnimElem = 3
time = 150
movetime = 80
anim = s430
pos = -6,-110
darken = 0

[State 3020, NoHit]
type = NotHitBy
trigger1 = AnimElem = 3
time = 100
value = SCA

[State 3020]
type = SuperPause
trigger1 = AnimElem = 16
time = 40
movetime = 24
anim = -1
pos = -10,-190
darken = 0

[State 3020, telecamera]
type = Helper
trigger1 = AnimElem = 12
postype = Left
pos = 160, -130
stateno = 3023
supermovetime = -1
helpertype = player
keyctrl = 0
ownpal = 1

[State 3020, ma e fierr]
type = Explod
trigger1 = AnimElem = 16
anim = 324
ID = 324
pos = -15,-190
postype = p1
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 3020, Brilla]
type = PalFX
trigger1 = AnimElem = 17
time = 10
add = 50,0,0
sinadd = 150,150,150,3

[State 3020, Motosega]
type = Explod
trigger1 = AnimElem = 10
pos = 0,0
anim = 323
ID = 323
sprpriority = -2
supermove = 1
removeongethit = 1
ownpal = 1
removetime = 800

[State 3020, POLVERE]
type = Explod
trigger1 = AnimElem = 11
pos = 0,-2
anim = 403
ID = 403
sprpriority = 5
supermove = 1
removeongethit = 1
scale = .8,.8
ownpal = 1

[State 3020]
type = ChangeState
trigger1 = AnimTime = 0
value = 3021
ctrl = 1

[Statedef 3021]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 321
sprpriority = -1

[State 3021]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2, 1

[State 3021]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 0

[State 3021, lampi]
type = BGPalfx
trigger1 = AnimElem = 7
ignorehitpause = 1
time = 80
sinadd = 90,90,90,8
add = 5,5,5
invertall = 0

[State 3021, afterimage]
type = AfterImage
trigger1 = AnimElem = 7
time = 55
PalBright = 10,10,10
PalContrast = 128,50,50
trans = Add1

[State 3021, POLVERE]
type = Explod
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
pos = 10,2
anim = 401
sprpriority = 5
supermove = 1
removeongethit = 1
ownpal = 1

[State 3021]
type = VelSet
trigger1 = Animelem = 1
x = 15

[State 3021]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
animtype  = Medium
damage    = 10
guardflag = MA
pausetime = 8,8
sparkno = s410
sparkxy = -10,-65
hitsound   = S1,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0, 0
air.velocity = 0, 1
envshake.time =  15 
envshake.freq = 15    
envshake.ampl = 5  
envshake.phase = 5

[State 3021]
type = HitDef
trigger1 = AnimElem = 9
attr = S, HA
animtype  = Medium
damage    = 10
guardflag = MA
pausetime = 8,8
sparkno = s471
sparkxy = 0,-55
hitsound   = S1,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0, 0
air.velocity = 0, 1
envshake.time =  15 
envshake.freq = 15    
envshake.ampl = 5  
envshake.phase = 5

[State 3021]
type = HitDef
trigger1 = AnimElem = 7
attr = S, HA
animtype  = Medium
damage    = 5
guardflag = MA
pausetime = 8,8
sparkno = s410
sparkxy = -20,-75
hitsound   = S1,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1, 0
air.velocity = -1, 1
envshake.time =  15 
envshake.freq = 15    
envshake.ampl = 5  
envshake.phase = 5

[State 3021]
type = HitDef
trigger1 = AnimElem = 11
attr = S, HA
animtype  = Medium
damage    = 5
guardflag = MA
pausetime = 8,8
sparkno = s410
sparkxy = -15,-55
hitsound   = S1,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0, 0
air.velocity = 0, 1
envshake.time =  15 
envshake.freq = 15    
envshake.ampl = 5  
envshake.phase = 5

[state 3021, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 3021]
type = ChangeState
triggerALL = AnimElem = 6
trigger1 = movehit = 0
value = 0
ctrl = 1

[State 3021]
type = ChangeState
trigger1 = time = 110
value = 3022
ctrl = 1

[Statedef 3022]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 322
sprpriority = -1

[State 3022]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 0

[State 3022]
type = PlaySnd
trigger1 = AnimElem = 6
value = 10, 1

[State 3022, POLVERE]
type = Explod
trigger1 = AnimElem = 2
pos = 10,2
anim = 401
sprpriority = 5
supermove = 1
removeongethit = 1

[State 3022]
type = VelSet
trigger1 = AnimElem = 3
x = 5

[State 3022]
type = VelSet
trigger1 = AnimElem = 5
x = 25

[State 3022, Spause]
type = Superpause
trigger1 = AnimElem = 1
anim = s431
pos = -5,-70
Time = 24
movetime = 0
darken = 0

[State 3022, Darken]
type = BGPalfx
trigger1 = AnimElem = 1
ignorehitpause = 1
time = 50
mul = 90,90,150
add = 5,5,5
invertall = 0

[State 3022, Brilla]
type = PalFX
trigger1 = AnimElem = 1
time = 40
add = 50,0,0
sinadd = 200,200,200,3

[State 3022, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 470
ID = 470
pos = 0, 0
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 3022]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype  = Medium
damage    = 50
guardflag = MA
pausetime = 10
sparkno = s411
sparkxy = 0,-60
hitsound   = S1,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 1 ,-8
air.velocity = 1, -8
envshake.time =  40 
envshake.freq = 15    
envshake.ampl = 5  
envshake.phase = 5
p2stateno = 7002

[state 3022, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 3022]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
;telecamera
[Statedef 3023]
type = S
movetype = A
physics = S
anim = 700
juggle = 0
velset = 0
ctrl = 0

[State 3023, NoHit]
type = NotHitBy
trigger1 = time = 0
time = 500
value = SCA

[State 3023]
type = DestroySelf
trigger1 = Time = 20

;--------------------------------
;--------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;TRita cazzi
[Statedef 3030]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -2000
ctrl = 0
velset = 0,0
anim = 350
sprpriority = -1

[State 3030]
type = VelSet
trigger1 = Animelem = 5
trigger2 = Animelem = 6
trigger3 = Animelem = 7
trigger4 = Animelem = 8
trigger5 = Animelem = 9
trigger6 = Animelem = 10
trigger7 = Animelem = 11
x = -8

[State 3030]
type = VelSet
trigger1 = Animelem = 12
x = 0

[State 3030]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2, 0

[State 3030]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10, 0

[State 3030, NoHit]
type = NotHitBy
trigger1 = AnimElem = 3
time = 50
value = SCA

[State 3030, POLVERE]
type = Explod
trigger1 = AnimElem = 3
pos = 0,-2
anim = 403
ID = 403
sprpriority = 5
supermove = 1
removeongethit = 1
scale = .8,.8
ownpal = 1

[State 3030]
type = SuperPause
trigger1 = AnimElem = 3
time = 27
movetime = 27
anim = -1
pos = 0,0
darken = 0

[State 3030, sfondo]
type = Explod
trigger1 = AnimElem = 3
pos = -320,0
anim = 453
ID = 453
postype = right
sprpriority = -9
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 80

[State 3030, auto]
type = Explod
trigger1 = AnimElem = 12
anim = 352
ID = 352
pos = 0,0
postype = p1
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 3030]
type = ChangeState
trigger1 = AnimTime = 0
value = 3031
ctrl = 1

[Statedef 3031]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 351
sprpriority = -1

[State 3031]
type = SuperPause
trigger1 = AnimElem = 1
time = 24
movetime = 0
anim = s431
pos = -4,-50
darken = 0

[State 3031]
type = PlaySnd
trigger1 = AnimElem = 1
value = 10, 1

[State 3031]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 1

[State 3031]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 0

[State 3031, removeEX]
type = RemoveExplod
triggerall = NumExplod(453) = 1
trigger1 = AnimElem = 2
ID = 453

[State 3031, sfondo]
type = Explod
trigger1 = AnimElem = 2
pos = -320,0
anim = 451
ID = 451
postype = right
sprpriority = -9
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 250

[State 3031, afterimage]
type = AfterImage
trigger1 = time = 0
time = 160
PalBright = 10,10,10
PalContrast = 128,50,50
trans = Add1

[State 3031, flash]
type = EnvColor
trigger1 = time = 0
value = 255,255,255
under = 0
time = 5

[State 3031]
type = VelSet
trigger1 = time > 5
x = 3

[State 3031, POLVERE]
type = Explod
trigger1 = AnimElem = 3
pos = 150,2
anim = 404
sprpriority = 5
supermove = 1
removeongethit = 1
ownpal = 1

[State 3031, POLVERE]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
pos = 10,2
anim = 401
sprpriority = 5
supermove = 1
removeongethit = 1
ownpal = 1

[State 3031, POLVERE]
type = Explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
pos = -150,2
anim = 401
sprpriority = 5
supermove = 1
removeongethit = 1
ownpal = 1

[State 3031]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
attr = S, HA
animtype  = Medium
damage    = 14
guardflag = MA
pausetime = 2,5
sparkno = s413
sparkxy = -10,-65
hitsound   = S1,2
guardsound = S7,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5, 0
air.velocity = -5, 1
envshake.time =  20 
envshake.freq = 20    
envshake.ampl = 5  
envshake.phase = 5

[State 3031]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
attr = S, HA
animtype  = Medium
damage    = 12
guardflag = MA
pausetime = 2,5
sparkno = s471
sparkxy = -10,-65
hitsound   = S1,0
guardsound = S7,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5, 0
air.velocity = -5, 1
envshake.time =  20 
envshake.freq = 20    
envshake.ampl = 5  
envshake.phase = 5
Palfx.time          = 5
Palfx.add           = -122,-30,82
Palfx.mul           = 255,0,0
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[state 3031, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 3031, NoHit]
type = NotHitBy
trigger1 = AnimElem = 1
time = 150
value = SCA

[State 3031]
type = ChangeState
trigger1 = time = 150
value = 3032
ctrl = 1

[Statedef 3032]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
ctrl = 0
velset = 0,0
anim = 351
sprpriority = -1

[State 3032]
type = VelSet
trigger1 = time > 0
x = 1

[State 3032, flash]
type = EnvColor
trigger1 = time = 25
value = 255,255,255
under = 0
time = 12

[State 3032, NoHit]
type = NotHitBy
trigger1 = AnimElem = 1
time = 30
value = SCA

[State 3032, POLVERE]
type = Explod
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
pos = 10,2
anim = 401
sprpriority = 5
supermove = 1
removeongethit = 1
ownpal = 1

[State 3032, POLVERE]
type = Explod
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
pos = -150,2
anim = 401
sprpriority = 5
supermove = 1
removeongethit = 1
ownpal = 1

[State 3032, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 470
ID = 470
pos = 0, -70
postype = p2
sprpriority = 5
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 3032] 
type = HitDef
trigger1 = Time = 0
attr = S, HA
animtype  = Up               
damage    = 120
getpower  = 0
priority  = 5
guardflag = MA
pausetime = 20,30
sparkno = s414
sparkxy = 0,-70
hitsound   = S7,0
guardsound = S7,1
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -4,-20
air.velocity = -4,-20
guard.velocity = -11
airguard.velocity = -4.5,-5
envshake.time = 25           
envshake.ampl = 7
envshake.freq = 176
p2facing = 1                 
fall = 1
fall.recover = 0             
fall.damage = 10             
fall.envshake.ampl = 6       
fall.envshake.freq = 178
fall.envshake.time = 15
mindist = 50,-100            
maxdist = 100,-10           
yaccel = .8 
Palfx.time          = 40
Palfx.add           = -122,-30,82
Palfx.mul           = 255,0,0
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[state 3032, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 3032, removeEX]
type = RemoveExplod
triggerall = NumExplod(451) = 1
trigger1 = time = 29
ID = 451

[State 3032]
type = PlaySnd
trigger1 = AnimElem = 4
value = 12, 1

[State 3032]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;MINI ASH
[Statedef 3050]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -2000
ctrl = 0
velset = 0,0
anim = 3050
sprpriority = -1

[State 3050]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0

[State 3050]
type = PlaySnd
trigger1 = AnimElem = 9
value = 4,0

[State 3050]
type = PlaySnd
trigger1 = AnimElem = 9
value = 15,2

[State 3050]
type = PlaySnd
trigger1 = AnimElem = 15
value = 16,2

[State 3050, Darken]
type = BGPalfx
trigger1 = AnimElem = 9
ignorehitpause = 1
time = 180
mul = 90,90,120
add = 5,5,5
invertall = 0

[State 3050]
type = SuperPause
trigger1 = AnimElem = 9
time = 25
movetime = 0
anim = s434
pos = 40,-82
darken = 0

[State 3050, Brilla]
type = PalFX
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
trigger3 = AnimElem = 11
trigger4 = AnimElem = 12
trigger5 = AnimElem = 13
trigger6 = AnimElem = 14
time = 8
add = 0,0,50
sinadd = 150,150,150,3

[State 3050, POLVERE]
type = Explod
trigger1 = AnimElem = 9
pos = -1,-1
anim = 400
ID = 400
sprpriority = -2
supermove = 1
removeongethit = 1
scale = .8,.8
removetime = 175

[State 3050, NoHit]
type = NotHitBy
trigger1 = AnimElem = 10
time = 130
value = SCA

[State 3050, Portale]
type = Explod
trigger1 = AnimElem = 10
anim = 442
ID = 442
pos = 40, -82
postype = p1
sprpriority = 4
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 130

[State 3050, Portale]
type = Explod
trigger1 = AnimElem = 10
anim = 442
ID = 442
pos = 52, -86
postype = p1
sprpriority = 4
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 130
scale = 1.5, 1.5

[State 3050, Helper]
type = Helper
trigger1 = AnimElem = 10
id = 3051
stateno = 3051
sprpriority = 5
pos = 52,-80
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 3050, Helper]
type = Helper
trigger1 = AnimElem = 11
id = 3051
stateno = 3051
sprpriority = 5
pos = 45,-70
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 3050, Helper]
type = Helper
trigger1 = AnimElem = 12
id = 3051
stateno = 3051
sprpriority = 5
pos = 38,-60
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 3050, Helper]
type = Helper
trigger1 = AnimElem = 13
id = 3051
stateno = 3051
sprpriority = 5
pos = 49,-75
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 3050, Helper]
type = Helper
trigger1 = AnimElem = 14
id = 3051
stateno = 3051
sprpriority = 5
pos = 42,-65
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 3050]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;Necronomicon
[Statedef 4000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -3000
ctrl = 0
velset = 0,0
anim = 335
sprpriority = -1

[State 4000]
type = PlaySnd
trigger1 = time = 0
value = 0,0

[State 4000]
type = PlaySnd
triggerall = var(36) = 0
trigger1 = time = 0
value = 16,1

[State 4000]
type = PlaySnd
triggerall = var(36) = 1
trigger1 = time = 0
value = 160,1

[State 4000]
type = SuperPause
trigger1 = AnimElem = 1
time = 190
movetime = 190
anim = -1
pos = 0,0
darken = 0

[State 4000, Darken]
type = BGPalfx
trigger1 = AnimElem = 1
ignorehitpause = 1
time = 200
mul = 90,90,120
add = 5,5,5
invertall = 0

[State 4000, NoHit]
type = NotHitBy
trigger1 = Time = 0
time = 190
value = SCA

[State 4000]
type = ChangeState
trigger1 = animTime = 0
value = 4001
ctrl = 1

[Statedef 4001]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 330
sprpriority = -1

[State 4001, Darken]
type = BGPalfx
trigger1 = AnimElem = 1
ignorehitpause = 1
time = 2000
mul = 90,90,120
add = 5,5,5
invertall = 0

[State 4001]
type = SuperPause
trigger1 = AnimElem = 1
time = 155
movetime = 155
anim = -1
pos = 40,-82
darken = 0

[State 4001]
type = PlaySnd
trigger1 = AnimElem = 5
value = 4,2

[State 4001]
type = PlaySnd
trigger1 = AnimElem = 5
value = 5,0

[State 4001, spause]
type = Explod
trigger1 = AnimElem = 5
anim = 433
ID = 433
pos = 38, -119
postype = p1
sprpriority = 2
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 20
scale = .5, .5

[State 4001, flash]
type = EnvColor
trigger1 = AnimElem = 5
value = 255,255,255
under = 0
time = 5

[State 4001, Libro]
type = Explod
trigger1 = AnimElem = 5
anim = 332
ID = 332
pos = 38, -68
postype = p1
sprpriority = 5
ignorehitpause = 1
ownpal = 0
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 2000

[State 4001]
type = PlaySnd
trigger1 = time = 140
value = 4,0

[State 4001]
type = PlaySnd
trigger1 = time = 150
value = 5,3

[State 4001, Spause]
type = Explod
trigger1 = time = 140
anim = 434
ID = 434
pos = 37, -75
postype = p1
sprpriority = 8
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 4001, Ghost]
type = Explod
trigger1 = time = 150
anim = 462
ID = 462
pos = 10, -55
postype = p1
sprpriority = 9
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 2000

[State 4001, Ghost]
type = Explod
trigger1 = time = 170
anim = 535
ID = 535
pos = 35, -70
postype = p1
sprpriority = 7
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 2000

[State 4001, thunder]
type = Explod
trigger1 = AnimElem = 5
anim = 444
ID = 444
pos = 45, 0
postype = p1
sprpriority = -1
ignorehitpause = 1
ownpal = 0
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 4001, thunder]
type = Projectile
trigger1 = time = 150
trigger2 = time = 225
trigger3 = time = 300
trigger4 = time = 375
trigger5 = time = 450
trigger6 = time = 525
trigger7 = time = 600
trigger8 = time = 675
trigger9 = time = 750
trigger10 = time = 825
projanim = 444
projhits = 8
projmisstime = 3
projpriority = -4
projremovetime = 24
offset = 30, 0
sparkno = s440
sparkxy = 0,-70
velocity = 0,0 
attr = S, HP
damage    = 1
animtype = Heavy
guardflag = MA
pausetime = 0,9
hitsound   = S1,2
guardsound = S6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
air.animtype = Back
ground.velocity = -12
air.velocity = -12
air.juggle = 3
envshake.time =  10 
envshake.freq = 10     
envshake.ampl = 5  
envshake.phase = 5
Palfx.time          = 10
Palfx.add           = 180,150,250
Palfx.mul           = 180,156,250
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[State 4001, thunder]
type = Projectile
trigger1 = time = 175
trigger2 = time = 250
trigger3 = time = 325
trigger4 = time = 400
trigger5 = time = 475
trigger6 = time = 550
trigger7 = time = 625
trigger8 = time = 700
trigger9 = time = 775
trigger10 = time = 850
projanim = 444
projhits = 8
projmisstime = 3
projpriority = -3
projremovetime = 24
offset = -30, 0
sparkno = s440
sparkxy = 0,-70
velocity = 0,0 
attr = S, HP
damage    = 1
animtype = Heavy
guardflag = MA
pausetime = 0,9
hitsound   = S1,2
guardsound = S6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
air.animtype = Back
ground.velocity = -12
air.velocity = -12
air.juggle = 3
envshake.time =  10 
envshake.freq = 10     
envshake.ampl = 5  
envshake.phase = 5
Palfx.time          = 10
Palfx.add           = 180,150,250
Palfx.mul           = 180,156,250
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[State 4001, thunder]
type = Projectile
trigger1 = time = 200
trigger2 = time = 275
trigger3 = time = 350
trigger4 = time = 425
trigger5 = time = 500
trigger6 = time = 575
trigger7 = time = 650
trigger8 = time = 725
trigger9 = time = 800
projanim = 444
projhits = 8
projmisstime = 3
projpriority = 5
projremovetime = 24
offset = 0, 0
sparkno = s440
sparkxy = 0,-70
velocity = 0,0 
attr = S, HP
damage    = 1
animtype = Heavy
guardflag = MA
pausetime = 0,9
hitsound   = S1,2
guardsound = S6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
air.animtype = Back
ground.velocity = -12
air.velocity = -12
air.juggle = 3
envshake.time =  10 
envshake.freq = 10     
envshake.ampl = 5  
envshake.phase = 5
Palfx.time          = 10
Palfx.add           = 180,150,250
Palfx.mul           = 180,156,250
Palfx.sinadd        = -112,-122,-112,3
Palfx.invertall     = 1

[State 4001, Brilla]
type = PalFX
trigger1 = AnimElem = 5
time = 20
add = 0,0,50
sinadd = 150,150,150,5

[State 4001, Brilla]
type = PalFX
trigger1 = time = 140
time = 2000
add = 0,0,50
sinadd = 150,150,150,5

[State 4001, POLVERE]
type = Explod
trigger1 = AnimElem = 4
pos = -1,-1
anim = 400
ID = 400
sprpriority = -2
supermove = 1
removeongethit = 1
scale = .8,.8
removetime = 2000

[State 4001, POLVERE]
type = Explod
trigger1 = AnimElem = 5
pos = -1,-1
anim = 400
ID = 400
sprpriority = -3
supermove = 1
removeongethit = 1
scale = 1,1
removetime = 2000

[State 4001, sfondo]
type = Explod
trigger1 = time = 200
pos = -70,150
anim = 536
ID = 536
postype = right
sprpriority = -9
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 2000

[State 4001, sfondo]
type = Explod
trigger1 = time = 250
pos = -260,105
anim = 5361
ID = 5361
postype = right
sprpriority = -9
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1
removetime = 2000

[State 4001, NoHit]
type = NotHitBy
trigger1 = AnimElem = 1
time = 2000
value = SCA

[state 4001, white fadeout]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 4001]
type = ChangeState
triggerAll = p2life < 1
trigger1 = Time <= 850
value = 4002
ctrl = 1

[State 4001]
type = ChangeState
trigger1 = Time = 860
value = 4002
ctrl = 1

[State 4001, zombie]
type = Helper
trigger1 = time = 160
id = 4170
stateno = 4170
sprpriority = 5
pos = 70,0
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 4001, Alienombra-Helper]
type = Helper
trigger1 = time = 205
id = 4120
stateno = 4120
sprpriority = 5
pos = -100,0
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 4001, FlyEFREET-Helper]
type = Helper
trigger1 = time = 250
id = 4110
stateno = 4110
sprpriority = 5
pos = -110,-120
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 4001, Gargoile-Helper]
type = Helper
trigger1 = time = 330
id = 4150
stateno = 4150
sprpriority = 5
pos = 50,-80
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 4001, undergroundskull-Helper]
type = Helper
trigger1 = time = 420
id = 4160
stateno = 4160
sprpriority = 5
pos = -50,0
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 4001, Efreet-Helper]
type = Helper
trigger1 = time = 430
id = 4100
stateno = 4100
sprpriority = 5
pos = -70,0
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 4001, Bat]
type = Helper
trigger1 = time = 480
id = 4190
stateno = 4190
sprpriority = 2
pos = -10,-120
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 4001, Alien-Helper]
type = Helper
trigger1 = time = 500
id = 4130
stateno = 4130
sprpriority = 5
pos = 100,0
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 4001, GiantBat-Helper]
type = Helper
trigger1 = time = 540
id = 4140
stateno = 4140
sprpriority = 5
pos = 0,0
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 4001, SkullGirl]
type = Helper
trigger1 = time = 550
id = 4180
stateno = 4180
sprpriority = -2
pos = -180,0
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 4001, skull]
type = Helper
trigger1 = time = 640
id = 4200
stateno = 4200
sprpriority = 2
pos = -80,-70
postype = p1
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 4001, skeleton]
type = Helper
trigger1 = time = 750
id = 4210
stateno = 4210
sprpriority = 2
pos = -60,0
postype = p2
helpertype = normal
keyctrl = 0          
ownpal = 1

[State 4001, Final Gigant]
type = Helper
triggerAll = p2life <= 100
trigger1 = time = 850
id = 4300
stateno = 4300
sprpriority = 8
pos = 0,-200
postype = p2
helpertype = normal
keyctrl = 0          
ownpal = 1

;--------------------------------
[Statedef 4002]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 100
ctrl = 0
velset = 0,0
anim = 334
sprpriority = -1

[State 4002]
type = PlaySnd
trigger1 = time = 15
value = 0,1

[State 4002, NoHit]
type = NotHitBy
trigger1 = AnimElem = 1
time = 100
value = SCA

[State 4002, Brilla]
type = PalFX
trigger1 = AnimElem = 1
time = 5
add = 0,0,50
sinadd = 150,150,150,3

[State 4002, lampi]
type = BGPalfx
trigger1 = time = 40
ignorehitpause = 1
time = 20
sinadd = 90,90,90,8
add = 5,5,5
invertall = 0

[State 4002, Brilla]
type = PalFX
trigger1 = time = 40
time = 15
add = 0,0,50
sinadd = 150,150,150,3

[State 4002]
type = PlaySnd
trigger1 = time = 40
value = 4,2

[State 4002, removeEX]
type = RemoveExplod
triggerall = NumExplod(434) = 1
trigger1 = AnimElem = 1
ID = 434

[State 4002, removeEX]
type = RemoveExplod
triggerall = NumExplod(442) = 1
trigger1 = AnimElem = 1
ID = 442

[State 4002, removeEX]
type = RemoveExplod
triggerall = NumExplod(332) = 1
trigger1 = AnimElem = 1
ID = 332

[State 4002, removeEX]
type = RemoveExplod
triggerall = NumExplod(400) = 2
trigger1 = time = 30
ID = 400

[State 4002, removeEX]
type = RemoveExplod
triggerall = NumExplod(462) = 1
trigger1 = time = 30
ID = 462

[State 4002, removeEX]
type = RemoveExplod
triggerall = NumExplod(535) = 1
trigger1 = AnimElem = 1
ID = 535

[State 4002, removeEX]
type = RemoveExplod
triggerall = NumExplod(536) = 1
trigger1 = time = 30
ID = 536

[State 4002, removeEX]
type = RemoveExplod
triggerall = NumExplod(5361) = 1
trigger1 = time = 30
ID = 5361

[State 4002, Libro]
type = Explod
trigger1 = AnimElem = 1
anim = 333
ID = 333
pos = 38, -68
postype = p1
sprpriority = 5
ignorehitpause = 1
ownpal = 0
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 4002]
type = ChangeState
triggerAll = p2life > 100
trigger1 = Time = 80
value = 0
ctrl = 1

[State 4002]
type = ChangeState
triggerAll = p2life <= 100
trigger1 = Time = 80
value = 4003
ctrl = 1

[Statedef 4003]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 331
sprpriority = -1

[State 4003, NoHit]
type = NotHitBy
trigger1 = AnimElem = 1
time = 80
value = SCA

[State 4003]
type = PlaySnd
trigger1 = AnimElem = 7
value = 16,2

[State 4003]
type = ChangeState
trigger1 = Time = 80
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

;presa 
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2
poweradd = 50

[State 800, NoHit]
type = NotHitBy
trigger1 = Time = 8
time = 50
value = SCA

[State 800, Velset]
type = VelSet
trigger1 = time = 0
x = 0

[State 800]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 800]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          
hitflag = M-          
priority = 1, Miss   
sparkno = -1          
sprpriority = 1     
p1stateno = 801     
p2stateno = 802       
hitsound   = -1
guardsound = -1
fall = 1              

[State 800]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------
[Statedef 801]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
velset = 0,0                     
ctrl = 0                        
anim = 801                       
poweradd = 100                  
sprpriority = 2 

[State 801]
type = PlaySnd
trigger1 = time = 0
value = 0, 1

[State 801, Darken]
type = BGPalfx
trigger1 = time = 0
ignorehitpause = 1
time = 50
mul = 90,90,90
add = 5,5,5
invertall = 0

[State 610, SANGUE]
type = Explod
trigger1 = movehit = 1
anim = 413
ID = 413
pos = 0, -70
postype = p2
sprpriority = 1
ignorehitpause = 1
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1
supermove = 1

[State 801,HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NT
damage = 80
guardflag = -1
priority = 4
pausetime = 12,12
sparkno = s422
sparkxy = 15,-90
hitsound   = s1,2
guardsound = s6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -15,-5
air.velocity = -15,-5
envshake.time =  50 
envshake.freq = 20     
envshake.ampl = 5  
envshake.phase = 5
p2stateno = 1025

[state 801, fatality]
type = BGPalFx
trigger1 = p2life = 0
add = 255,255,255
sinadd = 300,300,300,60
time= 40
ignorehitpause = 1
persistent= 0

[State 801,TargetBind]
type = TargetBind
trigger1 = Time = 0
Pos = 60,0

[State 801,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------
[Statedef 802]
movetype = H
physics = N
ctrl = 0

[State 802, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 802]
type = ChangeAnim2
trigger1 = Time = 0
value = 802

[State 802] 
type = SelfState
trigger1 = time = 150
value = 0


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;--------------------------------------------------------------------
;--------------------------------------------------------------------
;--------------------------------------------------------------------
;--------------------------------------------------------------------
;--------------------------------------------------------------------
;--------------------------------------------------------------------
;--------------------------------------------------------------------
;--------------------------------------------------------------------
;--------------------------------------------------------------------
;--------------------------------------------------------------------
; player 2 state
[Statedef 1025]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] 
type = ChangeAnim2
trigger1 = Time >= 0
value = 1025

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;----------------------------------
;player2 on air
[Statedef 1026]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1027

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------------------------------
;player2 hit on wall
[Statedef 1027]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3
ownpal = 1

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 240,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028

;------------------------------------------
; hit on wall
[Statedef 1028]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = Time >= 0
value = , NA, NP

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;-----------------------------------------------------
; explosion spin
[Statedef 7002]
type    = A
movetype= H 
physics = N

[State 7002]
type = ChangeAnim2
trigger1 = 1
value = 11000
ctrl = 0

[State 7002]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 7002]
type = VelAdd
Trigger1 = Time >= 0
y = .3

[State 7002]
type = Offset
Trigger1 = Time >= 1
y = -50

[State 7002]
type = AngleSet
trigger1 = Time = 1
value = 0

[State 7002]
type = AngleAdd
trigger1 = Time >= 1
value = 22.5

[State 7002]
type = AngleDraw
trigger1 = Time >= 1
trigger1 = Pos Y <= 10

[State 7002 ouch] 
type = SelfState
Trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger2 = time = 150
value = 5100


;--------------------------------------------------------------------
;--------------------------------------------------------------------
;--------------------------------------------------------------------
;Solo AI
;--------------------------------------------------------------------
;--------------------------------------------------------------------
;--------------------------------------------------------------------


:---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
:---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; AI variabili (statedef -2)
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------

[Statedef -2]

[State -2, Get P2 Distance]
type = VarSet
trigger1 = P2Dist X != 0
v = 11
value = floor(P2Dist X)

;---------------------------------------------------------------------------
;Combo 
;---------------------------------------------------------------------------

;2 pugni + sega
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 210
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 210) && (prevstateno = 200) && (movecontact) 
value = 1010

;2 pugni + sega
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 210) 
trigger1 = (movecontact)
value = 200
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 200) && (prevstateno = 210) && (movecontact) 
value = 1010

;pugno + sega
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 240) 
trigger1 = (movecontact)
value = 1010

;----------------------------------------------------------------
;----------------------------------------------------------------
;2 pugni + uppercut
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 210
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 210) && (prevstateno = 200) && (movecontact) 
value = 1030

;2 pugni + uppercut
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 210) 
trigger1 = (movecontact)
value = 200
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 200) && (prevstateno = 210) && (movecontact) 
value = 1030
;----------------------------------------------------------------
;----------------------------------------------------------------

;2 pugni + Mano
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 210
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 210) && (prevstateno = 200) && (movecontact) 
value = 1040

;2 pugni + Mano
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 210) 
trigger1 = (movecontact)
value = 200
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 200) && (prevstateno = 210) && (movecontact) 
value = 1040

;2 pugni + fireball
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 210
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 210) && (prevstateno = 200) && (movecontact) 
value = 2000

;2 pugni + fireball
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 210) 
trigger1 = (movecontact)
value = 200
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 200) && (prevstateno = 210) && (movecontact) 
value = 2000

;2 pugni + fireball
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 210
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 210) && (prevstateno = 200) && (movecontact) 
value = 1000

;2 pugni + fireball
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 210) 
trigger1 = (movecontact)
value = 200
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 200) && (prevstateno = 210) && (movecontact) 
value = 1000

;3 pugni
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 210
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 210) && (prevstateno = 200) && (movecontact) 
value = 240

;3 pugni
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 210) 
trigger1 = (movecontact)
value = 200
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 210) && (prevstateno = 200) && (movecontact) 
value = 240

;2 pugni + fucile
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 240
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 240) && (prevstateno = 200) && (movecontact) 
value = 1000

;2 pugni + fireball
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 240
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 240) && (prevstateno = 200) && (movecontact) 
value = 2000

;2 pugni + mano
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 240
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 240) && (prevstateno = 200) && (movecontact) 
value = 1040

;2 pugni
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 210

;2 pugni
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 210) 
trigger1 = (movecontact)
value = 200

;2 pugni
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 200) 
trigger1 = (movecontact)
value = 240

;2 pugni
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 210) 
trigger1 = (movecontact)
value = 240

;----------------------------------------------------------------
;----------------------------------------------------------------

;2 calci + fireball
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 220) 
trigger1 = (movecontact)
value = 230
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 230) && (prevstateno = 220) && (movecontact) 
value = 2000

;2 calci + fireball
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 230) 
trigger1 = (movecontact)
value = 220
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 220) && (prevstateno = 230) && (movecontact) 
value = 2000

;2 calci + mano
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 220) 
trigger1 = (movecontact)
value = 230
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 230) && (prevstateno = 220) && (movecontact) 
value = 1040

;2 calci + mano
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 230) 
trigger1 = (movecontact)
value = 220
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = S)
trigger1 = (stateno = 220) && (prevstateno = 230) && (movecontact) 
value = 1040

;2 calci
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 220) 
trigger1 = (movecontact)
value = 230

;2 calci
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 230) 
trigger1 = (movecontact)
value = 220

;----------------------------------------------------------------
;----------------------------------------------------------------

;doppio pugno in salto
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 600) 
trigger1 = (movecontact)
value = 610

;doppio calcio in salto
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 620) 
trigger1 = (movecontact)
value = 630

;combo in salto
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 600) 
trigger1 = (movecontact)
value = 620
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = A)
trigger1 = (stateno = 620) && (prevstateno = 600) && (movecontact) 
value = 610
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = A)
trigger1 = (stateno = 610) && (prevstateno = 620) && (movecontact) 
value = 630

;----------------------------------------------------------------
;----------------------------------------------------------------

;combo abbasato
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 400) 
trigger1 = (movecontact)
value = 410
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = C)
trigger1 = (stateno = 410) && (prevstateno = 400) && (movecontact) 
value = 430
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) !=0) && (statetype = C)
trigger1 = (stateno = 430) && (prevstateno = 410) && (movecontact) 
value = 420

;Doppio pugno abbasato
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 400) 
trigger1 = (movecontact)
value = 410

;Doppio calcio abbasato
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 420) 
trigger1 = (movecontact)
value = 430

;Doppio calcio abbasato
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (stateno = 430) 
trigger1 = (movecontact)
value = 420

;---------------------------------------------------------------------------
;Special Moves
;---------------------------------------------------------------------------

;Charge
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [0, 50])
trigger1 = (P2bodydist X >= 260) && (prevstateno != 5120) && (p2movetype != H) 
value = 900

;presa
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [50, 100])
trigger1 = (P2bodydist X <= 40) && (prevstateno != 5120) && (p2movetype != H) 
value = 800

;SPunch
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [50, 100])
trigger1 = (P2bodydist X <= 70) && (prevstateno != 5120) && (p2movetype != H) 
value = 240

;Motoseghina
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [150, 200])
trigger1 = (P2bodydist X <= 100) && (prevstateno != 5120) && (p2movetype != H) 
value = 1010

;Mano
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [200, 250])
trigger1 = (P2bodydist X <= 150) && (prevstateno != 5120) && (p2movetype != H) 
value = 1040

;Fucile
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [250, 300])
trigger1 = (P2bodydist X >= 150) && (prevstateno != 5120) && (p2movetype != H) 
value = 1000

;Fireball
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [300, 350])
trigger1 = (P2bodydist X >= 190) && (prevstateno != 5120) && (p2movetype != H) 
value = 2000

;Uppercut
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (random = [350, 400])
trigger1 = (P2bodydist X <= 70) && (prevstateno != 5120) && (p2movetype != H) 
value = 1030

;---------------------------------------------------------------------------
;Super Moves
;---------------------------------------------------------------------------

;SFucile
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X > 150) && (power >= 1000) && (power <= 2999) && (random = [400,450])
value = 3000

;Motosega
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X <= 190) && (power >= 1000) && (power <= 2999) && (random = [450,500])
value = 3010

;Man  Fierr!
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X <= 150) && (power >= 1000) && (power <= 2999) && (random = [500,550])
value = 3020

;Tritaossa
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X > 170) && (power >= 2000) && (power <= 2999) && (random = [550,600])
value = 3010

;MiniASH
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X <= 170) && (power >= 2000) && (random = [600,650])
value = 3050

;Necronicom
[State -2]
type = changestate
Triggerall = roundstate = 2
triggerall = (var(59) != 0) && (statetype = S) && (ctrl) && (p2statetype != L)
trigger1 = (p2bodydist X >= 50) && (power >= 3000) && (random = [650,900])
value = 4000

:---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
:---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------


;------------------------------------------
;------------ version Select -----------
;------------------------------------------

;Usa Mode
[State -2, VarSet]
type = Varset
trigger1 = PalNo = 1 && RoundNo >= 1
trigger2 = PalNo = 4 && RoundNo >= 1
trigger3 = PalNo = 8 && RoundNo >= 1
var(36) = 0

;Ita Mode
[State -2, VarSet]
type = Varset
trigger1 = PalNo = 2 && RoundNo >= 1
trigger2 = PalNo = 5 && RoundNo >= 1
trigger3 = PalNo = 7 && RoundNo >= 1
var(36) = 1

;------------------------------------------
;------------------------------------------
;------------------------------------------
;------------------------------------------

:---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
:---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------




[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 40
trigger1 = time = 1
value = 10,0

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 45
trigger1 = time = 1
value = 10,1

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 100
trigger1 = time = 1
value = 10,1

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 105
trigger1 = time = 5
value = 10,0



[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 200
trigger1 = time = 1
value = 10,0

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 210
trigger1 = time = 5
value = 10,1

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 220
trigger1 = time = 1
value = 10,0

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 230
trigger1 = time = 5
value = 10,1

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 400
trigger1 = time = 1
value = 10,0

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 410
trigger1 = time = 5
value = 10,1

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 420
trigger1 = time = 1
value = 10,0

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 430
trigger1 = time = 5
value = 10,1

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 600
trigger1 = time = 1
value = 10,0

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 610
trigger1 = time = 5
value = 10,1

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 620
trigger1 = time = 1
value = 10,0

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 630
trigger1 = time = 5
value = 10,1


[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 1000
trigger1 = time = 10
value = 12,1

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 2000
trigger1 = time = 5
value = 16,2

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = stateno = 1040
trigger1 = time = 5
value = 10,0


;---------- Hit ------------
[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = time = 1
triggerall = stateno = 5000
trigger1 = anim = 5000
trigger2 = anim = 5001
trigger3 = anim = 5010
trigger4 = anim = 5011
value = 10,0

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = time = 1
triggerall = stateno = 5010
trigger1 = anim = 5020
trigger2 = anim = 5021
value = 10,1

[State -2]
type = PlaySnd
triggerall = random < 250
triggerall = time = 1
triggerall = stateno = 5000
trigger1 = anim = 5002
trigger2 = anim = 5012
value = 10,3

[State -2]
type = PlaySnd
trigger1 = random < 250
trigger1 = time = 1
trigger1 = stateno = 5010
trigger1 = anim = 5022
value = 10,4

[State -2]
type = PlaySnd
trigger1 = random < 250
trigger1 = time = 1
trigger1 = stateno = 5100
trigger1 = Alive = 1
value = 10,3

:---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
:---------------------------------------------------------------------------
[Statedef -3]

[State -3, AI Activate]
type = VarSet
trigger1 = IsHomeTeam
trigger1 = TeamSide = 2
var(59) = 1

;------------------------------------

[State -3, remove EX]
type = RemoveExplod
triggerall = NumExplod(323) = 1
trigger1 = stateno != 3020
trigger1 = stateno != 3021
trigger1 = stateno != 3022
ID = 323

;-------------------------------------
;-------------------------------------
;-------------------------------------
;-------------------------------------
;-------------------------------------

[State -3, Walk]
type = PlaySnd
triggerall = stateno = 20
trigger1 = Animelem = 2
value = 3, 0

[State -3, Walk]
type = PlaySnd
triggerall = stateno = 20
trigger1 = Animelem = 5
value = 3, 1

[State -3, Jump]
type = PlaySnd
triggerall = stateno = 40
trigger1 = time = 1
value = 2, 0

[State -3, AirJump]
type = PlaySnd
triggerall = stateno = 45
trigger1 = time = 1
value = 2, 1

[State -3, AirJump]
type = AfterImage
triggerall = stateno = 45
trigger1 = Time = 1
time = 30
PalBright = 10,10,10
PalContrast = 128,200,200
trans = Add1

[State -3, Jump Land]
type = PlaySnd
triggerall = stateno = 52
trigger1 = time = 1
value = 2, 3

[State -3, RUN_FWD]
type = AfterImage
triggerall = stateno = 100
trigger1 = time = 1
time = 30
PalBright = 10,10,10
PalContrast = 128,200,200
trans = Add1

[State -3, RUN_FWD]
type = Explod
triggerall = stateno = 100
trigger1 = AnimElem = 2
pos = 10,2
anim = 401
sprpriority = 5
supermove = 1
removeongethit = 1

[State -3, RUN_FWD]
type = PlaySnd
triggerall = stateno = 100
trigger1 = time = 1
value = 2, 1

[State -3, RUN_FWD]
type = PlaySnd
triggerall = stateno = 100
trigger1 = Animelem = 3
value = 3, 0

[State -3, RUN_FWD]
type = PlaySnd
triggerall = stateno = 100
trigger1 = Animelem = 6
value = 3, 1

[State -3, RUN_BACK]
type = PlaySnd
triggerall = stateno = 105
trigger1 = time = 1
value = 2, 0

[State -3, RUN_BACK]
type = Explod
triggerall = stateno = 105
trigger1 = time = 1
pos = -30,8
anim = 404
sprpriority = 5
supermove = 1
removeongethit = 1
scale = .7, .7

[State -3, RUN_BACK]
type = AfterImage
triggerall = stateno = 105
trigger1 = time = 1
time = 25
PalBright = 10,10,10
PalContrast = 128,200,200
trans = Add1

[State -3, RUN_BACK2]
type = PlaySnd
triggerall = stateno = 106
trigger1 = time = 1
value = 2, 3

;-----------------------------------------------------------
;-----------------------------------------------------------
;-----------------------------------------------------------
;-----------------------------------------------------------

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------