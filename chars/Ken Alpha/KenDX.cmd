;-| Artifical Intelligence (A.I.) |----------------------------------------

[Command]
name = "CPU1"
command = F,D,B,U
time = 0

[Command]
name = "CPU2"
command = D,B,U.F
time = 0

[Command]
name = "CPU3"
command = B,U.F,D
time = 0

[Command]
name = "CPU4"
command = U.F,D,B
time = 0

[Command]
name = "CPU5"
command = F,U,B,D
time = 0

[Command]
name = "CPU6"
command = U,B,D,F
time = 0

[Command]
name = "CPU7"
command = B,D,F,U
time = 0

[Command]
name = "CPU8"
command = D,F,U,B
time = 0

[Command]
name = "CPU9"
command = a,x,b,y,c,z
time = 0

[Command]
name = "CPU10"
command = x,b,y,c,z,a
time = 0

[Command]
name = "CPU11"
command = b,y,c,z,a,x
time = 0

[Command]
name = "CPU12"
command = y,c,z,a,x,b
time = 0

[Command]
name = "CPU13"
command = c,z,a,x,b,y
time = 0

[Command]
name = "CPU14"
command = z,a,x,b,y,c
time = 0

[Command]
name = "CPU15"
command = x,a,y,b,z,c
time = 0

[Command]
name = "CPU16"
command = a,y,b,z,c,x
time = 0

[Command]
name = "CPU17"
command = y,b,z,c,x,a
time = 0

[Command]
name = "CPU18"
command = b,z,c,x,a,y
time = 0

[Command]
name = "CPU19"
command = z,c,x,a,y,b
time = 0

[Command]
name = "CPU20"
command = c,x,a,y,b,z
time = 0

[Command]
name = "CPU21"
command = F,B,F,B,D,D,U,U
time = 0

[Command]
name = "CPU22"
command = U,U,D,D,B,F,B,F
time = 0

;-| DX SUPERS |------------------------------------------------------------
[Command]
name = "Kuzuryuureppa_DX"
command = ~D,DB,B,a+x
time = 25
[Command]
name = "Kuzuryuureppa_DX"
command = ~D,DB,B,b+y
time = 25
[Command]
name = "Kuzuryuureppa_DX"
command = ~D,DB,B,c+z
time = 25


;-| EX SUPER Moves |-------------------------------------------------------
[Command]
name = "Ko-soku doragonrasshu"
command = F,D,DF,x+y
time = 20
[Command]
name = "Ko-soku doragonrasshu"
command = F,D,DF,y+z
time = 20
[Command]
name = "Ko-soku doragonrasshu"
command = F,D,DF,x+z
time = 20

[Command]
name = "Mugen ryu nojo sho"
command = F,D,DF,a+b
time = 20
[Command]
name = "Mugen ryu nojo sho"
command = F,D,DF,b+c
time = 20
[Command]
name = "Mugen ryu nojo sho"
command = F,D,DF,a+c
time = 20


[Command]
name = "Shouryureppa_L3"
command = ~D,DB,B,y+z
time = 20
[Command]
name = "Shouryureppa_L3"
command = ~D,DB,B,x+z
time = 20
[Command]
name = "Shouryureppa_L3"
command = ~D,DB,B,x+y
time = 20


[Command]
name = "Shinryuuken_L3"
command = ~D,DF,F,a+c
time = 20
[Command]
name = "Shinryuuken_L3"
command = ~D,DF,F,b+c
time = 20
[Command]
name = "Shinryuuken_L3"
command = ~D,DF,F,a+b
time = 20

[Command]
name = "ShippuJinraikyaku_L3"
command = ~D,DB,B,b+c
time = 20
[Command]
name = "ShippuJinraikyaku_L3"
command = ~D,DB,B,a+c
time = 20
[Command]
name = "ShippuJinraikyaku_L3"
command = ~D,DB,B,a+b
time = 20

[Command]
name = "Guren Shippukyaku"
command = ~D, DF, F, a+x
time = 20
[Command]
name = "Guren Shippukyaku"
command = ~D, DF, F, b+y
time = 20
[Command]
name = "Guren Shippukyaku"
command = ~D, DF, F, c+z
time = 20

[Command]
name = "shinku-hadou"
command = ~D, DF, F, x+y
time = 20
[Command]
name = "shinku-hadou"
command = ~D, DF, F, y+z
time = 20
[Command]
name = "shinku-hadou"
command = ~D, DF, F, x+z
time = 20
;-| ES Special Moves |-----------------------------------------------------
[Command]
name = "ESHadouken"
command = ~D,DF,F,z
time = 15
[Command]
name = "fair"
command = ~D,DF,F,z
time = 15
[Command]
name = "fair"
command = ~D,DF,F,z
time = 15



[Command]
name = "ESShouryuuken"
command = ~F, D, DF, x
time = 15
[Command]
name = "ESShouryuuken"
command = ~F, D, DF, y
time = 15
[Command]
name = "ESShouryuuken"
command = ~F, D, DF, z
time = 15



[Command]
name = "ESTatsumaki1"
command = ~F, D, DF, a
time = 15
[Command]
name = "ESTatsumaki2"
command = ~F, D, DF, b
time = 15
[Command]
name = "ESTatsumaki3"
command = ~F, D, DF, c
time = 15



;Shouryuuken
[Command]
name = "Shouryuuken_X"
command = ~F,D,DF,x
time = 15
[Command]
name = "Shouryuuken_Y"
command = ~F,D,DF,y
time = 15
[Command]
name = "Shouryuuken_Z"
command = ~F,D,DF,z
time = 15


;-| Special Moves |--------------------------------------------------------

;Hadouken
[Command]
name = "Hadouken_X"
command = ~D,DF,F,x
time = 15
[Command]
name = "Hadouken_Y"
command = ~D,DF,F,y
time = 15
[Command]
name = "Hadouken_Z"
command = ~D,DF,F,z
time = 15



[Command]
name = "fair"
command = ~D,DF,F,z
time = 15


;Tatsumaki
[Command]
name = "Tatsumaki_A"
command = ~D,DB,B,a
time = 15
[Command]
name = "Tatsumaki_B"
command = ~D,DB,B,b
time = 15
[Command]
name = "Tatsumaki_C"
command = ~D,DB,B,c
time = 15


;Ryusenkyaku
[Command]
name = "Ryusenkyaku_A"
command = ~B,D,DB,a
time = 15
[Command]
name = "Ryusenkyaku_B"
command = ~B,D,DB,b
time = 15
[Command]
name = "Ryusenkyaku_C"
command = ~B,D,DB,c
time = 15


;Geri
[Command]
name = "NataotoshiGeri"
command = ~D,DF,F,a
time = 15
[Command]
name = "KamabaraiGeri"
command = ~D,DF,F,b
time = 15
[Command]
name = "OosotomawashiGeri"
command = ~D,DF,F,c
time = 15


;-| Counter |--------------------------------------------------------------

[Command]
name = "Punch_Counter"
command = F, x
time = 3
[Command]
name = "Punch_Counter"
command = F, y
time = 3
[Command]
name = "Punch_Counter"
command = F, z
time = 3




[Command]
name = "Kick_Counter"
command = F, a
time = 3
[Command]
name = "Kick_Counter"
command = F, b
time = 3
[Command]
name = "Kick_Counter"
command = F, c
time = 3

;-| Guard Cancel |---------------------------------------------------------

[Command]
name = "GuardCancel"
command = z+c
time = 3

;-| Ground Roll Recovery |-------------------------------------------------
[Command]
name = "groll_a"
command = a+b
time = 1

[Command]
name = "groll_b"
command = a+c
time = 1

[Command]
name = "groll_c"
command = b+c
time = 1

;-| Evasion, Throws and Super Jump |---------------------------------------

[Command]
name = "Evade_Fwd"
command = /F,x+a
time = 1

[Command]
name = "Evade_Back"
command = /B,x+a
time = 1

[Command]
name = "Sidestep"
command = x+a
time = 1

[Command]
name = "punch_throw"
command = x+y
time = 1

[Command]
name = "punch_throw"
command = y+z
time = 1

[Command]
name = "punch_throw"
command = x+z
time = 1

[Command]
name = "kick_throw"
command = a+b
time = 1

[Command]
name = "kick_throw"
command = b+c
time = 1

[Command]
name = "kick_throw"
command = a+c
time = 1

[Command]
name = "SuperJump"
command = $D, $U
time = 5

;---------------------------------------------------------------------------
;Single direction
[Command]
name = "Up"
command = U
time = 5
[Command]
name = "Forward"
command = F
time = 5
[Command]
name = "Down"
command = D
time = 5
[Command]
name = "Back"
command = B
time = 1
;-| Charge-Up Start |------------------------------------------------------

[Command]
name = "PowerUp"
command = y+b
time = 3

;-| Advance Guard |--------------------------------------------------------

[Command]
name = "Advance"
command = F, x+y+z
time = 6

[Command]
name = "GRN_Advance"
command = DF, x+y+z
time = 6

;-| Double Tap |-----------------------------------------------------------
[Command]
name = "FF"     ;Required (do not remove)
command = F, F
time = 10

[Command]
name = "BB"     ;Required (do not remove)
command = B, B
time = 10


[Command]
name = "DU"
command = D, U
time = 18

[Command]
name = "DU"
command = DB, UF
time = 18

[Command]
name = "DU"
command = DF, UB
time = 18

[Command]
name = "DU"
command = $D, UF
time = 18

[Command]
name = "DU"
command = $D, UB
time = 18



;-| 2/3 Button Combination  |----------------------------------------------

[Command]
name = "recovery";Required (do not remove)
command = x+y
time = 1

[Command]
name = "recovery";Required (do not remove)
command = y+z
time = 1

[Command]
name = "recovery";Required (do not remove)
command = x+z
time = 1

;-| Dir + Button |---------------------------------------------------------

;Overhead Ax Kick
[Command]
name = "AxKick"
command = /$F, b
time = 1

;Spinning Front Kick
[Command]
name = "SpinKick1"
command = D, DB, B, x
time = 25
[Command]
name = "SpinKick2"
command = D, DB, B, y
time = 25
[Command]
name = "SpinKick3"
command = D, DB, B, z
time = 25
;-| Single Button |--------------------------------------------------------
[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

;-| Hold Dir |-------------------------------------------------------------
[Command]
name = "holdfwd";Required (do not remove)
command = /$F
time = 1

[Command]
name = "holdback";Required (do not remove)
command = /$B
time = 1

[Command]
name = "holdup" ;Required (do not remove)
command = /$U
time = 1

[Command]
name = "holddown";Required (do not remove)
command = /$D
time = 1

;-| Super Move HitAdd |---------------------------------------------------
[Command]
name = "SuperAdd"
command = x
time = 1

[Command]
name = "SuperAdd"
command = y
time = 1

[Command]
name = "SuperAdd"
command = z
time = 1

[Command]
name = "SuperAdd"
command = a
time = 1

[Command]
name = "SuperAdd"
command = b
time = 1

[Command]
name = "SuperAdd"
command = c
time = 1

[Command]
name = "SuperAdd"
command = U
time = 1

[Command]
name = "SuperAdd"
command = F
time = 1

[Command]
name = "SuperAdd"
command = D
time = 1

[Command]
name = "SuperAdd"
command = B
time = 1

;-| Hold Button |----------------------------------------------------------
[Command]
name = "hold_a"
command = /a
time = 1

[Command]
name = "hold_b"
command = /b
time = 1

[Command]
name = "hold_c"
command = /c
time = 1

[Command]
name = "hold_x"
command = /x
time = 1

[Command]
name = "hold_y"
command = /y
time = 1

[Command]
name = "hold_z"
command = /z
time = 1

[Command]
name = "hold_s"
command = /s
time = 1

[Command]
name    ="ha"
command = /a
time    = 1

[Command]
name    ="hb"
command = /b
time    = 1

[Command]
name    ="hc"
command = /c
time    = 1

[Command]
name    ="hx"
command = /x
time    = 1

[Command]
name    ="hy"
command = /y
time    = 1

[Command]
name    ="hz"
command = /z
time    = 1

[Command]
name    ="hs"
command = /s
time    = 1

[Statedef -1]

[State -1, AI]
type = VarSet
trigger1 = command = "CPU1"
trigger2 = command = "CPU2"
trigger3 = command = "CPU3"
trigger4 = command = "CPU4"
trigger5 = command = "CPU5"
trigger6 = command = "CPU6"
trigger7 = command = "CPU7"
trigger8 = command = "CPU8"
trigger9 = command = "CPU9"
trigger10 = command = "CPU10"
trigger11 = command = "CPU11"
trigger12 = command = "CPU12"
trigger13 = command = "CPU13"
trigger14 = command = "CPU14"
trigger15 = command = "CPU15"
trigger16 = command = "CPU16"
trigger17 = command = "CPU17"
trigger18 = command = "CPU18"
trigger19 = command = "CPU19"
trigger20 = command = "CPU20"
trigger21 = command = "CPU21"
trigger22 = command = "CPU22"
v = 10
value = 1

;----------------------------------------------------------------------------
[State -1, Kill AI]
type = VarSet
triggerall = var(10)=1
trigger1 = life < 0
trigger2 = winko
trigger3 = loseko
value = 0
v = 10
;==========================================================================
;AI
[State -1, AI Sparry]
type=hitoverride
triggerall=var(10)>=1&&roundstate=2&&statetype!=A  && random <=100
triggerall=movetype != A && movetype != H
trigger1=(ctrl)||((stateno=[7700,7710]))
trigger1=var(28):=1
trigger2=(stateno=[130,155])
trigger2=var(28):=-1
attr=SA,AA,AP
stateno=7700
slot=0
time=ifelse((stateno=[130,155]),4,8)

[State -1, AI cparry]
type=hitoverride
triggerall=var(10)>=1&&roundstate=2&&statetype=C && random <=100
triggerall=movetype != A && movetype != H
trigger1=(ctrl)||((stateno=[7700,7710]))
trigger1=var(28):=2
trigger2=(stateno=[130,155])
trigger2=var(28):=-2
attr=C,AA,AP
stateno=7710
slot=0
time=ifelse((stateno=[130,155]),4,8)

[State -1, AI aparry]
type=hitoverride
triggerall=var(10)>=1&&roundstate=2&&statetype=A  && random <=100
triggerall=movetype != A && movetype != H
trigger1=(ctrl)||(stateno=7720)
trigger1=var(28):=3
trigger2=(stateno=[130,155])
trigger2=var(28):=-3
attr=SA,AA,AP
stateno=7720
forceair=1
slot=0
time=ifelse((stateno=[130,155]),4,8)

[state -1,AI dodge]
type = changestate
value = 925
triggerall = Var(10)=1
triggerall = statetype != A
triggerall = movetype!=H
triggerall = P2bodydist X <=80
triggerall = random <200
trigger1 = ctrl
trigger1 = P2Movetype =A

;==========================================================================
;AI Strikes
;==========================================================================
[State -1, AI Standing Strong Kick]
type = ChangeState
value = 205
triggerall = var(10)=1 && p2statetype != L
trigger1 = stateno = 202 || stateno = 203 || stateno = 402 || stateno = 404 || stateno = 400 || stateno = 401
trigger1 = p2bodydist x <= 35
trigger1 = movehit
trigger1 = random < 100
trigger2 = p2bodydist x <=35
trigger2 = p2bodydist y = [-70,5]
trigger2 = statetype != A
trigger2 = ctrl
trigger2 = random < 30

[State -1,AI Crouch Weak Kick]
type = ChangeState
value = 401
triggerall = var(10)=1
triggerall = p2statetype != A
trigger1 = p2bodydist x <= 40
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = random < 100
trigger2 = moveguarded && stateno = 201
trigger2 = random < 500

[State -1, AI Crouch Light Punch]
type = ChangeState
value = 400
triggerall = var(10)=1;
triggerall = p2statetype != A && p2statetype != L
trigger1 = p2bodydist x <= 40
trigger1 = p2bodydist y = 0
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = random < 200
trigger1 = pos y = 0

[State -1, AI Stand Light Kick]
type = ChangeState
value = 201
triggerall = var(10)=1
triggerall = p2statetype != L && p2statetype != C
trigger1 = p2bodydist x <= 40
trigger1 = p2bodydist y = [-5,5]
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = p2statetype = S
trigger1 = random < 300


[State -1,AI Crouch Medium Kick]
type = ChangeState
value = 403
triggerall = var(10)=1 && p2statetype != A
trigger1 = stateno = 401 || stateno = 400
trigger1 = movehit
trigger1 = random < 700
trigger2 = stateno = 200
trigger2 = movehit && random <=400 && p2statetype != A
trigger3 = P2statetype = S
trigger3 = p2bodydist x <= 40
trigger3 = p2bodydist y = [-5,5]
trigger3 = statetype != A
trigger3 = ctrl
trigger4 = stateno = 201 || stateno = 200
trigger4 = movehit
trigger4 = random < 500
trigger4 = p2bodydist y = [-2,2]

[State -1,AI Crouch Strong Kick]
type = ChangeState
value = 405
triggerall = var(10)=1
triggerall = p2bodydist x = [-2,50]
triggerall = P2MoveType != A
trigger1 = stateno = 403 || stateno = 402
trigger1 = movehit
trigger1 = random < 70
trigger2 = stateno = 405
trigger2 = movehit
trigger2 = random < 300


[State -1,AI Crouch Medium Punch]
type = ChangeState
value = 402
triggerall = var(10)=1
triggerall = p2bodydist x <= 30
triggerall = p2statetype != A && p2statetype != L
trigger1 = stateno = 400
trigger1 = movehit
trigger1 = random < 500

[State -1,AI Crouch Strong Punch]
type = ChangeState
value = 404
triggerall = var(10)=1 && p2statetype != A
trigger1 = p2bodydist x <= 40
trigger1 = stateno = 403
trigger1 = movehit
trigger1 = random < 1000
trigger2 = stateno = 402
trigger2 = movehit
trigger2 = random < 10000
trigger3 = stateno = 202 || stateno = 203 || stateno = 211 || stateno = 241
trigger3 = movehit
trigger3 = random < 1000

[State -1, AI Stand Light Punch]
type = ChangeState
value = 200
triggerall = var(10)=1
triggerall = p2statetype = A
trigger1 = p2bodydist x <=35
trigger1 = p2bodydist y = [-70,5]
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = random < 500

[State -1,AI Stand Medium Punch]
type = ChangeState
value = 202
triggerall = var(10)=1 && p2statetype != C && p2statetype != L
trigger1 = stateno = 200 || stateno = 400
trigger1 = movehit

[State -1,AI Stand Strong Punch]
type = ChangeState
value = 204
triggerall = var(10)=1 && p2statetype != C && p2statetype != L
trigger1 = stateno = 202 || stateno = 203 || stateno = 211 || stateno = 241
trigger1 = movehit
trigger1 = random < 500
trigger1 = p2bodydist x <= 40


[State -1,AI Stand Medium Kick]
type = ChangeState
value = 203
triggerall = var(10)=1&& p2statetype != C && p2statetype != L
trigger1 = stateno = 201 || stateno = 200
trigger1 = movehit
trigger1 = random < 500
trigger2 = stateno = 400 || stateno = 401
trigger2 = movehit
trigger2 = random < 500

[State -1, AI Jump Light Punch]
type = ChangeState
value = 600
triggerall = var(10) = 1
triggerall = statetype = A
trigger1 = p2bodydist x <= 30
trigger1 = P2BodyDist Y = [-70, 30]
trigger1 = ctrl

[State -1, AI Jump light kick]
type = ChangeState
value = 601
triggerall = var(10) = 1
trigger1 = (StateNo = 600) && (Movecontact)

[State -1, AI Jump Medium Punch]
type = ChangeState
value = 602
triggerall = var(10) = 1
trigger1 = stateno = 601
trigger1 = movecontact

[State -1, AI Jump Medium kick]
type = ChangeState
value = 603
triggerall = var(10) = 1
trigger1 = stateno = 602
trigger1 = movecontact
trigger1 = random < 500

[State -1, AI Jump HARD Punch]
type = ChangeState
value = 604
triggerall = var(10) = 1
trigger1 = stateno = 602
trigger1 = movecontact
trigger1 = random < 200
trigger2 = stateno = 603
trigger2 = movecontact
trigger2 = random < 500

[State -1, AI Jump HARD kick]
type = ChangeState
value = 605
triggerall = var(10) = 1
trigger1 = stateno = 604
trigger1 = movecontact
trigger1 = random < 800
trigger2 = stateno = 603
trigger2 = movecontact
trigger2 = random < 500

[State -1, AI Super Jump 2]
type = ChangeState
value = 123
triggerall = stateno != 27 && pos y = 0 && ctrl
triggerall = (var(10) = 1)
triggerall = statetype != A
triggerall = (p2bodydist y = [-300,-70])
trigger1 = enemy,vel y < -1
trigger1 = p2bodydist x = [ 20, 50]
trigger1 = random <= 1000 && p2movetype != A
trigger1 = p2statetype = S
trigger2 = enemy,vel y < -1
trigger2 = p2movetype = H && (p2stateno = 5040 || p2stateno = 5200 || p2stateno = 5210)
trigger2 = p2bodydist x <= 30
trigger3 = P2MoveType != H
trigger3 = P2BodyDist Y < -90
trigger3 = enemy,vel y <= 0
trigger3 = random < 4000

[State -1, FOLLOW UP]
type = ChangeState
value = 123
triggerall = (var(10) = 1)
triggerall = statetype != A
trigger1 = (StateNo = 404) && movehit
trigger1 = (StateNo = 204) && movehit

[State -3,veladd]
type = Veladd
triggerall = (var(10)=1)
triggerall = prevstateno = 123 ; the superjumo state
trigger1 = enemy,vel y < -1
trigger1 = p2bodydist x = [ 20, 50]
trigger1 = random <= 10000 && p2movetype != A
trigger1 = p2statetype = S
trigger2 = enemy,vel y < -1
trigger2 = p2movetype = H && (p2stateno = 5040 || p2stateno = 5200 || p2stateno = 5210)
trigger2 = p2bodydist x <= 30
trigger3 = P2MoveType != H
trigger3 = P2BodyDist Y < -90
trigger3 = enemy,vel y <= 0
trigger3 = random < 40000; jump state
x = .4 ; maybe you need to modify these valu

[State -1,Jump]
type = ChangeState
value = 40
triggerall = stateno != 100 && pos y = 0 && ctrl
triggerall = var(10)=1
triggerall = statetype != A && enemy,vel y < 0 && enemy,pos y < -10
triggerall = p2movetype != A
trigger1 = p2stateno = 5040 || p2stateno = 5200 || p2stateno = 5210 || p2movetype = H
trigger1 = (p2bodydist y = [-40,-1]) || enemy,vel y < 0
trigger1 = p2bodydist x <= 25
trigger2 = p2movetype = H && (p2stateno = 5040 || p2stateno = 5200 || p2stateno = 5210)
trigger2 = (p2bodydist y = [-40,-1])
trigger2 = p2bodydist x <= 50

[State -1, AI Run Fwd]
type = ChangeState
value = 100
triggerall = var(10)=1
triggerall = stateno != 100 && stateno != 20
triggerall = statetype != A && ctrl && POS Y = 0
trigger1 = (p2movetype = A && enemy,facing = facing) || (p2movetype != A && enemy,facing != facing)
trigger1 = p2bodydist x > 50
trigger1 = random < 800
trigger2 = (enemy,stateno = [120,155]) || moveguarded
trigger2 = p2bodydist x > 40 && p2movetype != A
trigger2 = random < 800
trigger3 = P2BodyDist X > 150
trigger3 = random < 80

[State -1, AI Walk Fwd]
type = ChangeState
value = 20
triggerall = var(10)=1
triggerall = stateno != 20 && stateno != 100
triggerall = statetype != A && ctrl && POS Y = 0
trigger1 = p2bodydist x >= 10 && random < 800
trigger1 = p2bodydist y = [-20,5]
trigger1 = p2movetype != A
trigger2 = (p2bodydist x = [10,110])
trigger2 = p2bodydist y = [-20,5]
trigger2 = statetype != A
trigger2 = ctrl
trigger2 = random < 700
trigger2 = (enemy,facing = facing)
trigger3 = p2bodydist x >= 10 && random < 800
trigger3 = p2bodydist y = [-20,5]
trigger3 = p2movetype != A
trigger3 =(enemy,stateno = [120,155]) || moveguarded

[State -1, AI Run Fwd Stop]
type = ChangeState
triggerall = var(10)=1
triggerall = stateno = 100 ;|| stateno = 20
trigger1 = P2movetype = A && (enemy,facing != facing)
trigger2 = p2bodydist x <4
value = 0
ctrl = 1

[State -1, AI Walk Fwd Stop]
type = ChangeState
triggerall = var(10)=1
triggerall = stateno = 20 ;|| stateno = 100
trigger1 = P2movetype = A && (enemy,facing != facing)
trigger2 = p2bodydist x < 4
value = 0
ctrl = 1

[State -1,Jump]
type = ChangeState
value = 40
triggerall = stateno != 100 && pos y = 0 && ctrl
triggerall = var(10)=1
triggerall = statetype != A && frontedgedist > 200 && p2movetype != A
trigger1 = (p2bodydist x = [150,170]) && random <= 400
trigger1 = enemy,backedgedist < 70

[State -1, AI Run Bwd]
type = ChangeState
value = 105
triggerall = var(10)=1
triggerall = stateno != 105
triggerall = backedgedist > 50
triggerall = p2movetype != A && enemy,vel x <= 0
trigger1 = frontedgedist < 70
trigger1 = statetype = S
trigger1 = ctrl && random < 500 ;&& enemy,ctrl = 0
trigger2 = p2statetype = L
trigger2 = statetype = S
trigger2 = ctrl && random < 500
trigger2 = p2bodydist x = [0,40]

[State -1, AI Run Bwd]
type = ChangeState
value = 105
triggerall = var(10)=1
triggerall = stateno != 105
triggerall = backedgedist > 50
triggerall = p2movetype != A && enemy,vel x <= 0
trigger1 = frontedgedist < 70
trigger1 = statetype = S
trigger1 = ctrl && random < 500 ;&& enemy,ctrl = 0
trigger2 = p2statetype = L
trigger2 = statetype = S
trigger2 = ctrl && random < 500
trigger2 = p2bodydist x = [0,40]
;==========================================================================
;A.I. Guarding System
;Credit to K3nShiN, Baby Bonnie Hood and The Necromancer
;==========================================================================
;AI Standing Guard
;==========================================================================
[State -1]
type = ChangeState
triggerall = var(10) = 1
triggerall = Statetype != A
triggerall = P2statetype != C
triggerall = Statetype = S
triggerall = P2Movetype = A
triggerall = Pos Y != [-1,-999]
triggerall = ctrl = 1
trigger1 = random <= 700
value = 130
;==========================================================================
;AI Stand to Crouch Guard Transition
;==========================================================================
[State -1]
type = ChangeState
triggerall = var(10) = 1
triggerall = StateType != A
triggerall = P2statetype = C
triggerall = P2Movetype = A
triggerall = Pos Y != [-1,-999]
trigger1 = stateno = 150
trigger1 = 1
value = 152
;==========================================================================
;AI Crouching Guard
;==========================================================================
[State -1]
type = ChangeState
triggerall = var(10) = 1
triggerall = StateType != A
triggerall = P2statetype = C
triggerall = P2Movetype = A
triggerall = Pos Y != [-1,-999]
triggerall = ctrl = 1
trigger1 = random <= 700
value = 131
;==========================================================================
;AI Crouch to Stand Guard Transition
;==========================================================================
[State -1]
type = ChangeState
triggerall = (var(10) = 1) && (Statetype != A) && (P2statetype != C) && (P2Movetype = A)
trigger1 = 1
trigger1 = stateno = 152
value = 150
;==========================================================================
;AI Aerial Guard
;==========================================================================
[State -1]
type = ChangeState
triggerall = (var(10) = 1) && (Statetype = A) && (P2Movetype = A) && (ctrl = 1)
trigger1 = random <= 700
value = 132
;==========================================================================
;A.I. Guarding System (credited to Winane)
;==========================================================================
[State -3, Guard Var]
type = VarSet
trigger1 = P2MoveType = A && random <= 400
trigger2 = NumEnemy
trigger2 = (enemy, numproj > 0) && random <= 400
trigger3 = P2MoveType != A
trigger3 = (enemy, numproj = 0)
trigger3 = var(8):=0
var(8) = 1

[State -1, Stand guard]
type = ChangeState
triggerall = var(10) = 1
triggerall = (StateType != A) && (P2statetype != C)
trigger1 = (facing != enemy, facing)
trigger1 = ctrl && var(8)
value = 130

[State -1, Crouch guard]
type = ChangeState
triggerall = var(10) = 1
triggerall = (StateType != A) && (P2statetype = C)
trigger1 = (facing != enemy, facing)
trigger1 = ctrl && var(8)
value = 131

[State -1, Aerial guard]
type = ChangeState
triggerall = var(10) = 1
triggerall = (StateType = A) && ((P2statetype != C) || (P2statetype != S))
trigger1 = (facing != enemy, facing)
trigger1 = ctrl && var(8)
value = 132

[State -1, Charge]
type = ChangeState
value = 88887
triggerall = var(10) = 1
triggerall = p2bodydist X >= 550
triggerall=power<0
triggerall = random <= 25
trigger1 = p2movetype != H
trigger1 = p2movetype != A
trigger1 = statetype = S
trigger1 = ctrl

;HYPER
[State -1, Hyper AI]
type = ChangeState
value = 3500
triggerall = statetype != A
triggerall = P2statetype != C
triggerall = P2statetype != A
triggerall = p2Movetype != A&&(p2dist y=[-80,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = var(10) = 1&&P2bodydist X<=100
triggerall =P2bodydist X>=15
triggerall = random<=250
triggerall = power >=3000
trigger1 = ctrl

;HYPER
[State -1, Hyper AI]
type = ChangeState
value = 3600
triggerall = statetype != A
triggerall = P2statetype != C
triggerall = P2statetype != A
triggerall = p2Movetype != A&&(p2dist y=[-80,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall =P2bodydist X>=2
triggerall = var(10) = 1&&P2bodydist X<=30
triggerall = random<=220
triggerall = power >=2000
trigger1 = ctrl

;HYPER
[State -1, Hyper AI]
type = ChangeState
value = 3300
triggerall = statetype != A
triggerall = P2statetype != C
triggerall = P2statetype != A
triggerall = p2Movetype != A&&(p2dist y=[-80,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = var(10) = 1&&P2bodydist X<=150
triggerall = random<=300
triggerall = power >=2000
trigger1 = ctrl

;HYPER
[State -1, Hyper AI]
type = ChangeState
value = 3400
triggerall = statetype != A
triggerall = P2statetype != A
triggerall = P2statetype = S
triggerall = P2statetype != C
triggerall = p2Movetype != A&&(p2dist y=[-80,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = var(10) = 1&&P2bodydist X>=100
triggerall = random<=350
triggerall = power >=1000
trigger1 = ctrl

;HYPER
[State -1, Hyper AI]
type = ChangeState
value = 4000
triggerall = P2statetype != C
triggerall = P2statetype != A
triggerall = p2Movetype != A&&(p2dist y=[-80,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = statetype != A
triggerall = var(10) = 1&&P2bodydist X<=60
triggerall = random<=230
triggerall = power >= 3000
triggerall = life >=334
trigger1 = ctrl

;HYPER
[State -1, Hyper AI]
type = ChangeState
value = 3450
triggerall = statetype = A
triggerall = P2statetype = A&&(p2dist y=[-65,65])
triggerall = Pos Y <= -60
triggerall = var(10) = 1&&P2bodydist X<=150
triggerall = P2bodydist X>=2
triggerall = random<=250
triggerall = power >= 1000
trigger1 = (stateno = [600,605]) && movehit

;HYPER
[State -1, Hyper AI]
type = ChangeState
value = 3004
triggerall = statetype != A
triggerall = P2statetype != C
triggerall = P2statetype != A
triggerall = p2Movetype != A&&(p2dist y=[-100,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = P2bodydist X>=10
triggerall = var(10) = 1&&P2bodydist X<=100
triggerall = random<=250
triggerall = power >=1000
trigger1 = ctrl

;HYPER
[State -1, Hyper AI]
type = ChangeState
value = 3104
triggerall = P2statetype != C
triggerall = P2statetype = A
triggerall = (p2dist y=[-120,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = statetype != A
triggerall = var(10) = 1&&P2bodydist X<=25
triggerall = random<=220
triggerall = power >=1000
trigger1 = ctrl

;HYPER
[State -1, Hyper AI]
type = ChangeState
value = 3204
triggerall = statetype != A
triggerall = P2statetype != A
triggerall = var(10) = 1&&P2bodydist X<=80
triggerall = P2statetype = S
triggerall = random<=100
triggerall = power >=1000
trigger1 = ctrl

;FIREBALL
[State -1, Special AI]
type = ChangeState
value = 1002
triggerall = var(10) = 1&&P2bodydist X>=350
triggerall = random<=50
triggerall = numproj = 0
triggerall = NUMPROJID(1000) = 0
triggerall = statetype != A
triggerall = P2statetype != A
trigger1 =ctrl

;FIREBALL
[State -1, Special AI]
type = ChangeState
value = 1001
triggerall = var(10) = 1&&P2bodydist X>=150
triggerall = random<=30
triggerall = numproj = 0
triggerall = NUMPROJID(1000) = 0
triggerall = statetype != A
triggerall = P2statetype != A
trigger1 =ctrl

;FIREBALL
[State -1, Special AI]
type = ChangeState
value = 2050
triggerall = var(10) = 1&&P2bodydist X<=120
triggerall = P2bodydist X>=30
triggerall = random<=20
triggerall = numproj = 0
triggerall = NUMPROJID(1000) = 0
triggerall = statetype = A
trigger1 =ctrl

;ES_Shouryuuken
[State -1, Special AI]
type = ChangeState
value = 2200
triggerall = var(10) = 1
triggerall = P2statetype != C
triggerall = P2statetype = A
triggerall = (p2dist y=[-75,75])
triggerall = Pos Y <= -50
triggerall = statetype = A
triggerall = random<=250
trigger1 = (stateno = [600,603]) && movehit

;ES_Soukuu Hadouken
[State -1, Special AI]
type = ChangeState
value = 2050
triggerall = numproj = 0
triggerall = var(10) = 1
triggerall = P2statetype != C
triggerall = P2statetype = A
triggerall = (p2dist y=[-75,75])
triggerall = Pos Y <= -50
triggerall = statetype = A
triggerall = random<=120
trigger1 = (stateno = [600,603]) && movehit


[State -1, Special AI]
type = ChangeState
value = 2120
triggerall = statetype != A
triggerall = P2statetype != C
triggerall = P2statetype != A
triggerall = p2Movetype != A&&(p2dist y=[-80,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = P2bodydist X>=20
triggerall = var(10) = 1&&P2bodydist X<=60
triggerall = random<=150
trigger1 = ctrl
trigger1 = stateno != [1000,4999]
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 203) && movecontact
trigger8 = (stateno = 403) && movecontact
trigger9 = (stateno = 204) && movecontact
trigger10 = (stateno = 404) && movecontact
trigger11 = (stateno = 205) && movecontact

;Shouryuuken (Heavy)
[State -1, Special AI]
type = ChangeState
value = 1204
triggerall = statetype != A
triggerall = P2statetype != C
triggerall =(p2dist y=[-110,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = P2bodydist X>=10
triggerall = var(10) = 1&&P2bodydist X<=50
triggerall = random<=250
trigger1 = ctrl
trigger1 = stateno != [800,899]
trigger1 = stateno != [1000,4999]
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact


;Ryusenkyaku (Heavy)
[State -1, Special AI]
type = ChangeState
value = 1402
triggerall = statetype != A
triggerall = P2statetype != C
triggerall = P2statetype != A
triggerall = p2Movetype != A&&(p2dist y=[-80,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = P2bodydist X>=20
triggerall = var(10) = 1&&P2bodydist X<=60
triggerall = random<=250
trigger1 = ctrl
trigger1 = stateno != [1000,4999]


;Soukuu-Hadouken (Heavy)
[State -1, Special AI]
type = ChangeState
value = 1052
triggerall = numproj = 0
triggerall = var(10) = 1
triggerall = P2statetype != C
triggerall = P2statetype = A
triggerall = (p2dist y=[-75,75])
triggerall = Pos Y <= -50
triggerall = statetype = A
triggerall = random<=225
trigger1 = (stateno = [600,603]) && movehit

;Tatsumaki-senpuu-kyaku (Heavy)
[State -1, Special AI]
type = ChangeState
value = 1102
triggerall = statetype != A
triggerall = P2statetype != C
triggerall =(p2dist y=[-80,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = P2bodydist X>=20
triggerall = p2Movetype != A
triggerall = var(10) = 1&&P2bodydist X<=80
triggerall = random<=200
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

;Kuuchuu Tatsumaki-senpuu-kyaku (Heavy)
[State -1, Special AI]
type = ChangeState
value = 1152
triggerall = numproj = 0
triggerall = var(10) = 1
triggerall = P2statetype != C
triggerall = p2Movetype != A
triggerall = P2statetype = A
triggerall = (p2dist y=[-75,75])
triggerall = Pos Y <= -50
triggerall = statetype = A
triggerall = random<=225
trigger1 = (stateno = [600,605]) && movehit

;Kamabarai Geri
[State -1, Special AI]
type = ChangeState
value = 1301
triggerall = statetype != A
triggerall =(p2dist y=[-80,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = P2bodydist X>=2
triggerall = p2Movetype != A
triggerall = var(10) = 1&&P2bodydist X<=40
triggerall = random<=150
triggerall = numproj = 0
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

;Oosotomawashi Geri
[State -1, Special AI]
type = ChangeState
value = 1302
triggerall = statetype != A
triggerall =(p2dist y=[-80,5])
triggerall = enemynear,StateType!= L
triggerall = enemynear,stateno!=5120
triggerall = enemynear,stateno!=5201
triggerall = P2bodydist X>=2
triggerall = p2Movetype != A
triggerall = var(10) = 1&&P2bodydist X<=40
triggerall = random<=150
triggerall = numproj = 0
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

[State -1, Charge]
type = ChangeState
value = 88887
triggerall = var(10)!= 1
triggerall = power < 3000
trigger1 = command = "hold_b" && command = "hold_y"
trigger1 = statetype = S
trigger1 = ctrl

;AI SideStep and Evasion
;==========================================================================
[State -1, AI Fwd Evasion]
type = ChangeState
value = 925
triggerall = (var(10) = 1) && (Statetype != A) && (p2StateType != A)
triggerall = (p2stateno = [200,4999]) && (p2stateno != [800,999])
triggerall = ((p2BodyDist X >= 300) && (p2BodyDist X <= 150)) || (enemy, NumProj >= 1)
trigger1 = (random <= 400) && (ctrl = 1)

[State -1, AI Back Evasion]
type = ChangeState
value = 926
triggerall = (var(10) = 1) && (Statetype != A) && (p2StateType != A)
triggerall = (p2stateno = [200,2999]) && (p2stateno != [800,999])
triggerall = (p2BodyDist X <= 25)
trigger1 = (random <= 300) && (ctrl = 1)

[State -1, AI SideStep]
type = ChangeState
value = 950
triggerall = (var(10) = 1) && (Statetype != A) && (p2StateType != A)
triggerall = (p2stateno = [200,4999]) && (p2stateno != [800,999])
triggerall = ((p2BodyDist X >= 10) && (p2BodyDist X <= 55))
trigger1 = (random <= 800) && (ctrl = 1)

;==========================================================================
;==========================================================================
;[State -1, AI Stand Push]
type = null;ChangeState
value = 165
triggerall = (var(10) = 1) && (StateType = S) && (StateType != L)
triggerall = P2Life != 0
trigger1 = (StateNo = [150,153]) && (p2BodyDist X >= 81) && (Time >= 5)

;[State -1, AI Crouch Push]
type = null;ChangeState
value = 166
triggerall = (var(10) = 1) && (StateType = C) && (StateType != L)
triggerall = P2Life != 0
trigger1 = (StateNo = [150,153]) && (p2BodyDist X >= 76) && (Time >= 5)

;[State -1, AI Air Push]
type = null;ChangeState
value = 167
triggerall = (var(10) = 1) && (StateType = A) && (StateType != L)
triggerall = P2Life != 0
trigger1 = (StateNo = [154,155]) && (p2BodyDist X >= 91) && (Time >= 5)
;==========================================================================
;AI Counter
;==========================================================================
[State -1, AI Punch Counter]
type = null;ChangeState
value = 980
triggerall = (Var(10) = 1) && (StateType != A) && (StateType != L) && (Time >= 7)
triggerall = (p2StateType != C) && (p2Life != 0) && (power >= 0) && (p2MoveType != H)
trigger1 = (P2BodyDist x <= 100) && (StateNo = [150,153]) && (random = [350,500])

[State -1, AI Kick Counter]
type = null;ChangeState
value = 990
triggerall = (Var(10) = 1) && (StateType != A) && (StateType != L) && (Time >= 7)
triggerall = (p2Life != 0) && (power >= 0) && (p2MoveType != H)
trigger1 = (P2BodyDist x <= 100) && (StateNo = [150,153]) && (random = [350,500])
;==========================================================================
;AI Throws
;==========================================================================
[State -1, AI Throw_1]
type = ChangeState
value = 800
triggerall = (Var(10) = 1) && (StateType != A) && (StateType != L) && (MoveType != H)
triggerall = (p2life != 0) && (p2MoveType !=  A) && (p2MoveType != H) && (p2stateno != [800,899])
triggerall = (p2BodyDist X <= 10) && (p2BodyDist Y >= 0) && (ctrl = 1) && (random <= 400)
trigger1 = P2Statetype = S
trigger1 = stateno != 100

[State -1, AI Throw_2]
type = ChangeState
value = 801
triggerall = (Var(10) = 1) && (StateType != A) && (StateType != L) && (MoveType != H)
triggerall = (p2life != 0) && (p2MoveType !=  A) && (p2MoveType != H) && (p2stateno != [800,899])
triggerall = (p2BodyDist X <= 10) && (p2BodyDist Y >= 0) && (ctrl = 1) && (random > 400)
trigger1 = P2Statetype = S
trigger1 = stateno != 100

[State -1, AI Air_Throw_1]
type = ChangeState
value = 850
triggerall = (Var(10) = 1) && (StateType = A) && (MoveType != H) && (p2stateno != [800,899])
triggerall = (p2life != 0) && (p2MoveType !=  A) && (p2MoveType != H)
triggerall = (p2BodyDist X <= 10) && (p2BodyDist Y = [-40,30]) && (ctrl = 1) && (random >= 500)
trigger1 = P2Statetype = A
;==========================================================================
;AI Dash Forward /Back
;==========================================================================
;[State -1, AI Forward_Run]
;type = ChangeState
;value = 100
;triggerall = (var(10) = 1) && (StateType = S) && (MoveType != H)
;triggerall = (P2StateType != A) && (p2MoveType != A) && (p2Life != 0)
;trigger1 = (ctrl = 1) && (P2BodyDist X = [160,400]) && (random >= 200)

;[State -1, AI Back_Run]
;type = ChangeState
;value = 105
;triggerall = (var(10) = 1) && (StateType = S) && (MoveType != H) && (StateType != A)
;triggerall = (P2StateType != A) && (p2MoveType != A) && (p2Life != 0)
;trigger1 = (ctrl = 1) && (P2BodyDist X = [-10,60]) && (random >= 205) && (p2Stateno = 5120)
;==========================================================================
;AI Avoid Projectile
;==========================================================================
[State -1, Projectile]
type = ChangeState
triggerall = var(10) = 1 && (StateType != A) && (StateType != L)
triggerall = (p2Movetype = A) && (p2StateType != A)
triggerall = (enemy, NumProj >= 1) && (stateno != 40)
trigger1 = ctrl = 1
value = 40
;===========================================================================
;Negative Edge Detection (credited to Messatsu)
;===========================================================================
[State -1, Negative Edge]; - Reset // Release // Hold
type     = null
trigger1 = var(9)&4032
trigger1 = (var(9):= var(9) - var(9)^4032)*0
trigger2 = var(9)&63
trigger2 = (var(9):= var(9) +64*(var(9)&1 && command != "ha") +128*(var(9)&2 && command != "hb") +256*(var(9)&4 && command != "hc") +512*(var(9)&8 && command != "hx") +1024*(var(9)&16 && command != "hy") +2048*(var(9)&32 && command != "hz")) - var(9)
trigger3 = var(9):= var(9)-(var(9)&63) + 1*(command = "ha") + 2*(command = "hb") + 4*(command = "hc") + 8*(command = "hx") + 16*(command = "hy") + 32*(command = "hz")
;===========================================================================
;Dashing
;===========================================================================
[State -1] ;Forward Dash
type = ChangeState
value = 100000
triggerall = (StateType = A && command = "FF")
trigger1 = StateNo != [100,109]
trigger1 = ctrl

[State -1] ;Back Dash
type = ChangeState
value = 100001
triggerall = (StateType = A && command = "BB")
trigger1 = StateNo != [100,109]
trigger1 = ctrl
;------------------------------------------------------------------------
;Run Fwd
[State -1, Run Fwd]
type = ChangeState
value = 100
triggerall = var(10)!= 1
trigger1 = command = "FF"; && (var(10) != 1)
trigger1 = statetype = S
trigger1 = ctrl
;---------------------------------------------------------------------------
;Run Back
[State -1, Run Back]
type = ChangeState
value = 105
triggerall = var(10)!= 1
trigger1 = command = "BB"; && (var(10) != 1)
trigger1 = statetype = S
trigger1 = ctrl
;---------------------------------------------------------------
[State -1, super jump ]
type = ChangeState
value = 123
triggerall = var(10)!= 1
trigger1 = command = "DU"
trigger1 = ctrl ; these means that you can make the move when you control the char
trigger1 = statetype != A ; these is to make that you cant use the superjump while you are in the air
; If you want to make a launcher you can use these
trigger2 = (stateno = 400) && (movehit) && (command = "holdup") ;yyy right here is the stateno for your lancher

[State -3,veladd]
type = Veladd
triggerall = var(10)!= 1
triggerall =command = "holdfwd"
triggerall = prevstateno = 123 ; the superjumo state
trigger1 = stateno = 50; jump state
x = .2 ; maybe you need to modify these value

[State state-3,veladd]
type = Veladd
triggerall = var(10)!= 1
triggerall =command = "holdback"
triggerall = prevstateno = 123
trigger1 = stateno = 50
x = -.2


;----------------------------------------------------------
[State -1, sparry]
type=hitoverride
triggerall = var(10)<1&&roundstate=2&&statetype=S
triggerall=command="Forward"&&command!="Back"&&command!="Up"&&command!="Down"
trigger1=ctrl||stateno=7700||stateno=7710
trigger1=var(21):=1
trigger2=(stateno=[150,153])
trigger2=var(28):=-1
attr=SA,AA,AP
stateno=7700
slot=0
time=ifelse((stateno=[150,153]),4,8)

[State -1, cparry]
type=hitoverride
triggerall = var(10)<1&&roundstate=2&&statetype!=A
triggerall=(statetype=S&&command="Down")||(statetype=C&&command="Forward")&&command!="Back"&&command!="Up"
trigger1=ctrl||stateno=7700||stateno=7710
trigger1=var(28):=2
trigger2=(stateno=[150,153])
trigger2=var(28):=-2
attr=C,AA,AP
stateno=7710
slot=0
time=ifelse((stateno=[150,153]),14,18)

[State -1, aparry]
type=hitoverride
triggerall = var(10)<1&&roundstate=2&&statetype=A
triggerall=command="Forward"&&command!="Back"&&command!="Up"&&command!="Down"
trigger1=ctrl||stateno=7720
trigger1=var(28):=3
trigger2=(stateno=[154,155])
trigger2=var(28):=-3
attr=SA,AA,AP
stateno=7720
forceair=1
slot=0
time=ifelse((stateno=[154,155]),4,8)

[State -1, resetparry]
type=hitoverride
trigger1=(statetype=S||statetype=C)&&var(28)!=1&&var(28)!=-1&&var(28)!=2&&var(28)!=-2
trigger2=statetype=A&&var(28)!=3&&var(28)!=-3
trigger3=movetype=A||(movetype=H&&(stateno!=[120,155]))
trigger4=!ctrl
slot=0
time=0
;===========================================================================
;DX SUPER Moves
;===========================================================================
;Guren Shippukyaku
[State -1, Guren Shippukyaku]
type = ChangeState
value = 3500
triggerall = var(10)!= 1
triggerall = command = "Guren Shippukyaku"
triggerall = (numproj = 0) && (power >= 3000)
triggerall = statetype != A
triggerall = prevstateno != [1000,4999]
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 405) && movecontact

;Ko-soku doragonrassh
[State -1, Ko-soku doragonrassh]
type = ChangeState
value = 3300
triggerall = var(10)!= 1
triggerall = command = "Ko-soku doragonrasshu"
triggerall = (numproj = 0) && (power >= 2000)
triggerall = statetype != A
triggerall = prevstateno != [1000,4999]
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 405) && movecontact

;Mugen ryu- no jo-sho
[State -1, Mugen ryu- no jo-sho]
type = ChangeState
value = 3600
triggerall = var(10)!= 1
triggerall = command = "Mugen ryu nojo sho"
triggerall = (numproj = 0) && (power >= 2000)
triggerall = statetype != A
triggerall = prevstateno != [1000,4999]
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 405) && movecontact

;DX Kuzuuryuureppa
[State -1, DX_KRR]
type = ChangeState
value = 4000
triggerall = var(10)!= 1
triggerall = command = "Kuzuryuureppa_DX"
triggerall = (numproj = 0) && (power >= 3000)
triggerall = life >= 334
triggerall = statetype != A
triggerall = stateno != 402
triggerall = stateno != [600,699]
triggerall = stateno != [1000,4999]
trigger1 = ctrl 
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 402) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 404) && movecontact
trigger12 = (stateno = 205) && movecontact
trigger13 = (stateno = 405) && movecontact

;DX Kuzuuryuureppa
[State -1, DX_KRR]
type = ChangeState
value = 3700
triggerall = var(10)!= 1
triggerall = command = "Kuzuryuureppa_DX"
triggerall = (numproj = 0) && (power >= 3000)
triggerall = life <= 333
triggerall = statetype != A
triggerall = stateno != 402
triggerall = stateno != [600,699]
triggerall = stateno != [1000,4999]
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 402) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 404) && movecontact
trigger12 = (stateno = 205) && movecontact
trigger13 = (stateno = 405) && movecontact
;===========================================================================
;Shinku Hadou
[State -1, Shinku Hadou]
type = ChangeState
value = 3400
triggerall = var(10)!= 1
triggerall = command = "shinku-hadou"
triggerall = (numproj = 0) && (power >= 1000)
triggerall = statetype != A
triggerall = stateno != 402
triggerall = stateno != [600,699]
triggerall = stateno != [1000,4999]
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 402) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 404) && movecontact
trigger12 = (stateno = 205) && movecontact
trigger13 = (stateno = 405) && movecontact
;===========================================================================
;Ryu-sei no Arashi Okotta
[State -1, Ryu-sei no Arashi Okotta]
type = ChangeState
value = 3450
triggerall = var(10)!= 1
triggerall = command = "Shouryureppa_L3"
triggerall = (numproj = 0) && (power >= 1000)
triggerall = Pos Y <= -60
triggerall = statetype = A
triggerall = stateno != 402
triggerall = stateno != [1000,4999]
trigger1 = ctrl
trigger2 = stateno = [600,699]
;===========================================================================
;EX SUPER Moves
;===========================================================================
;EX Shouryuureppa
[State -1, EX_SRR_L3]
type = ChangeState
value = 3004
triggerall = var(10)!= 1
triggerall = (command = "Shouryureppa_L3")
triggerall = (power >= 1000)
triggerall = statetype != A
triggerall = stateno != [1000,4999]
trigger1 = ctrl 
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 405) && movecontact

;EX Shinryuuken L3
[State -1, EX_SRK_L1]
type = ChangeState
value = 3104
triggerall = var(10)!= 1
triggerall = command = "Shinryuuken_L3"
triggerall = (numproj = 0) && (power >= 1000)
triggerall = statetype != A
triggerall = stateno != [1000,4999]
trigger1 = ctrl 
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 405) && movecontact

;EX Shippu-Jinraikyaku L3
[State -1, EX_SJK_L3]
type = ChangeState
value = 3204
triggerall = var(10)!= 1
triggerall = command = "ShippuJinraikyaku_L3"
triggerall = (numproj = 0) && (power >= 1000)
triggerall = statetype != A
triggerall = prevstateno != [1000,4999]
trigger1 = ctrl 
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 405) && movecontact

;===========================================================================
;ES Special Moves and Guard Break
;===========================================================================
;Guard Cancel
;[State -1, Guard_Cancel]
;type = ChangeState
;value = 2700
;triggerall = command = "GuardCancel"
;triggerall = power >= 1500
;trigger1 = statetype != A
;trigger1 = ctrl

;ES_Shouryuuken
[State -1, ES_Shouryuuken]
type = ChangeState
value = 2200
triggerall = var(10)!= 1
triggerall = command = "ESShouryuuken"
triggerall = power >= 100
triggerall = Pos Y <= -50
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 601) && movecontact
trigger4 = (stateno = 602) && movecontact
trigger5 = (stateno = 603) && movecontact
trigger6 = (stateno = 604) && movecontact
trigger7 = (stateno = 605) && movecontact

;ES_Hadouken
[State -1, ES_Hadouken]
type = ChangeState
value = 2000
triggerall = var(10)!= 1
triggerall = command = "ESHadouken"
triggerall = numproj = 0
triggerall = power >= 100
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = stateno != [1000,4999]
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 405) && movecontact

;ES_Soukuu Hadouken
[State -1, ES_SoukuuHadouken]
type = ChangeState
value = 2050
triggerall = var(10)!= 1
triggerall = command = "fair"
triggerall = power >= 100
triggerall = numproj = 0
trigger1 = statetype = A
trigger1 = ctrl
trigger1 = stateno != [1000,4999]
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 602) && movecontact
trigger4 = (stateno = 604) && movecontact
trigger5 = (stateno = 601) && movecontact
trigger6 = (stateno = 603) && movecontact
trigger7 = (stateno = 605) && movecontact

;ES_Tatsumaki-senpuu-kyaku
[State -1, ES_Tatsumaki]
type = ChangeState
value = 2100
triggerall = var(10)!= 1
triggerall = command = "ESTatsumaki1"
triggerall = power >= 0
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = stateno != [1000,4999]
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 203) && movecontact
trigger8 = (stateno = 403) && movecontact
trigger9 = (stateno = 204) && movecontact
trigger10 = (stateno = 404) && movecontact
trigger11 = (stateno = 205) && movecontact

[State -1, ES_Tatsumaki]
type = ChangeState
value = 2110
triggerall = var(10)!= 1
triggerall = command = "ESTatsumaki2"
triggerall = power >= 0
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = stateno != [1000,4999]
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 203) && movecontact
trigger8 = (stateno = 403) && movecontact
trigger9 = (stateno = 204) && movecontact
trigger10 = (stateno = 404) && movecontact
trigger11 = (stateno = 205) && movecontact

[State -1, ES_Tatsumaki]
type = ChangeState
value = 2120
triggerall = var(10)!= 1
triggerall = command = "ESTatsumaki3"
triggerall = power >= 100
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = stateno != [1000,4999]
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 203) && movecontact
trigger8 = (stateno = 403) && movecontact
trigger9 = (stateno = 204) && movecontact
trigger10 = (stateno = 404) && movecontact
trigger11 = (stateno = 205) && movecontact
;===========================================================================
;Special Moves
;===========================================================================
;Shouryuuken (Light)
[State -1, Shouryuuken_x]
type = ChangeState
value = 1200
triggerall = var(10)!= 1
triggerall = command = "Shouryuuken_X"
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = stateno != [800,899]
trigger1 = stateno != [1000,4999]
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

;Shouryuuken (Medium)
[State -1, Shouryuuken_y]
type = ChangeState
value = 1202
triggerall = var(10)!= 1
triggerall = command = "Shouryuuken_Y"
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = stateno != [800,899]
trigger1 = stateno != [1000,4999]
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

;Shouryuuken (Heavy)
[State -1, Shouryuuken_z]
type = ChangeState
value = 1204
triggerall = var(10)!= 1
triggerall = command = "Shouryuuken_Z"
triggerall = power >= 100
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = stateno != [800,899]
trigger1 = stateno != [1000,4999]
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

;Ryusenkyaku (Light)
[State -1, Ryusenkyaku_a]
type = ChangeState
value = 1400
triggerall = var(10)!= 1
triggerall = command = "Ryusenkyaku_A"
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = stateno != [1000,4999]

;Ryusenkyaku (Medium)
[State -1, Ryusenkyaku_b]
type = ChangeState
value = 1401
triggerall = var(10)!= 1
triggerall = command = "Ryusenkyaku_B"
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = stateno != [1000,4999]

;Ryusenkyaku (Heavy)
[State -1, Ryusenkyaku_c]
type = ChangeState
value = 1402
triggerall = var(10)!= 1
triggerall = command = "Ryusenkyaku_C"
triggerall = power >= 100
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = stateno != [1000,4999]

;Hadouken (Light)
[State -1, Hadouken_x]
type = ChangeState
value = 1000
triggerall = var(10)!= 1
triggerall = command = "Hadouken_X"
triggerall = power >= 100
triggerall = numproj = 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 405) && movecontact

;Hadouken (Medium)
[State -1, Hadouken_y]
type = ChangeState
value = 1001
triggerall = var(10)!= 1
triggerall = command = "Hadouken_Y"
triggerall = power >= 100
triggerall = numproj = 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 405) && movecontact

;Hadouken (Heavy)
[State -1, Hadouken_z]
type = ChangeState
value = 1002
triggerall = var(10)!= 1
triggerall = command = "Hadouken_Z"
triggerall = power >= 100
triggerall = numproj = 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 405) && movecontact

;Soukuu-Hadouken (Light)
[State -1, SoukuuHadouken_x]
type = ChangeState
value = 1050
triggerall = var(10)!= 1
triggerall = command = "Hadouken_X"
triggerall = power >= 100
triggerall = numproj = 0
triggerall = Pos Y <= -40
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 602) && movecontact
trigger4 = (stateno = 604) && movecontact
trigger5 = (stateno = 601) && movecontact
trigger6 = (stateno = 603) && movecontact
trigger7 = (stateno = 605) && movecontact

;Soukuu-Hadouken (Medium)
[State -1, SoukuuHadouken_y]
type = ChangeState
value = 1051
triggerall = var(10)!= 1
triggerall = command = "Hadouken_Y"
triggerall = power >= 100
triggerall = numproj = 0
triggerall = Pos Y <= -40
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 602) && movecontact
trigger4 = (stateno = 604) && movecontact
trigger5 = (stateno = 601) && movecontact
trigger6 = (stateno = 603) && movecontact
trigger7 = (stateno = 605) && movecontact

;Soukuu-Hadouken (Heavy)
[State -1, SoukuuHadouken_z]
type = ChangeState
value = 1052
triggerall = var(10)!= 1
triggerall = command = "Hadouken_Z"
triggerall = power >= 100
triggerall = numproj = 0
triggerall = Pos Y <= -40
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 602) && movecontact
trigger4 = (stateno = 604) && movecontact
trigger5 = (stateno = 601) && movecontact
trigger6 = (stateno = 603) && movecontact
trigger7 = (stateno = 605) && movecontact

;Tatsumaki-senpuu-kyaku (Light)
[State -1, Tatsumaki_a]
type = ChangeState
value = 1100
triggerall = var(10)!= 1
triggerall = command = "Tatsumaki_A"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

;Tatsumaki-senpuu-kyaku (Medium)
[State -1, Tatsumaki_b]
type = ChangeState
value = 1101
triggerall = var(10)!= 1
triggerall = command = "Tatsumaki_B"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

;Tatsumaki-senpuu-kyaku (Heavy)
[State -1, Tatsumaki_c]
type = ChangeState
value = 1102
triggerall = var(10)!= 1
triggerall = command = "Tatsumaki_C"
triggerall = power >= 100
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

;Kuuchuu Tatsumaki-senpuu-kyaku (Light)
[State -1, KTatsumaki_a]
type = ChangeState
value = 1150
triggerall = var(10)!= 1
triggerall = command = "Tatsumaki_A"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 601) && movecontact
trigger4 = (stateno = 602) && movecontact
trigger5 = (stateno = 603) && movecontact
trigger6 = (stateno = 604) && movecontact
trigger7 = (stateno = 605) && movecontact

;Kuuchuu Tatsumaki-senpuu-kyaku (Medium)
[State -1, KTatsumaki_b]
type = ChangeState
value = 1151
triggerall = var(10)!= 1
triggerall = command = "Tatsumaki_B"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 601) && movecontact
trigger4 = (stateno = 602) && movecontact
trigger5 = (stateno = 603) && movecontact
trigger6 = (stateno = 604) && movecontact
trigger7 = (stateno = 605) && movecontact

;Kuuchuu Tatsumaki-senpuu-kyaku (Heavy)
[State -1, KTatsumaki_c]
type = ChangeState
value = 1152
triggerall = var(10)!= 1
triggerall = command = "Tatsumaki_C"
triggerall = power >= 100
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 601) && movecontact
trigger4 = (stateno = 602) && movecontact
trigger5 = (stateno = 603) && movecontact
trigger6 = (stateno = 604) && movecontact
trigger7 = (stateno = 605) && movecontact

;Nataotoshi Geri
[State -1, NataotoshiGeri]
type = ChangeState
value = 1300
triggerall = var(10)!= 1
triggerall = command = "NataotoshiGeri"
triggerall = numproj = 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

;Kamabarai Geri
[State -1, KamabaraiGeri]
type = ChangeState
value = 1301
triggerall = var(10)!= 1
triggerall = command = "KamabaraiGeri"
triggerall = numproj = 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

;Oosotomawashi Geri
[State -1, OosotomawashiGeri]
type = ChangeState
value = 1302
triggerall = var(10)!= 1
triggerall = command = "OosotomawashiGeri"
triggerall = numproj = 0
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact

;===========================================================================
;Ground Roll Recovery
;===========================================================================
;Recovery Roll A
[State -1, Falling]
type = VarSet
triggerall = var(10)!= 1
triggerall = command = "groll_a"
triggerall = alive = 1
trigger1 = stateno = 5050 || stateno = 5071
v = 30           
value = 1

;Recovery Roll B
[State -1, Falling]
type = VarSet
triggerall = var(10)!= 1
triggerall = command = "groll_b"
triggerall = alive = 1
trigger1 = stateno = 5050 || stateno = 5071
v = 30
value = 2

;Recovery Roll C
[State -1, Falling]
type = VarSet
triggerall = var(10)!= 1
triggerall = command = "groll_c"
triggerall = alive = 1
trigger1 = stateno = 5050 || stateno = 5071
v = 30
value = 3

;Recovery Roll A
[State -1, Rolling] ;This is the actual rolling
type = ChangeState
value = 900
triggerall = Var(30) = 1
trigger1 = Pos Y >= 0    
trigger1 = Vel Y > 0

;Recovery Roll B
[State -1, Rolling]
type = ChangeState
value = 901
triggerall = Var(30) = 2
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0

;Recovery Roll C
[State -1, Rolling]
type = ChangeState
value = 902
triggerall = Var(30) = 3
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
;===========================================================================
;Throws, Command Moves, SNK Evasion, SNK Charge-Up, 
;Versus Series Advance Guard and Counters 
;===========================================================================
[State -1, Throw_1]
type = ChangeState
value = 800
triggerall = var(10)!= 1
triggerall = command = "z"
triggerall = command = "holdfwd" || command = "holdback"
triggerall = statetype = S
triggerall = p2bodydist X <= 15
triggerall = ctrl
triggerall = stateno != [100,101]
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H

[State -1, Throw_2]
type = ChangeState
value = 801
triggerall = var(10)!= 1
triggerall = command = "c"
triggerall = command = "holdfwd" || command = "holdback"
triggerall = statetype = S
triggerall = p2bodydist X <= 15
triggerall = ctrl
triggerall = stateno != [100,101]
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H

[State -1, AirThrow_1]
type = ChangeState
value = 850
triggerall = var(10)!= 1
triggerall = command = "holdfwd" || command = "holdback"
triggerall = command = "z" && ctrl
triggerall = p2bodydist X < 5 && p2bodydist y < 2 && p2movetype != A
triggerall = P2statetype = A
triggerall = statetype = A
triggerall = command != "holddown"
trigger1 = ctrl

;-------------------------------------------------------------------


[State -1, FrontStab]
type = ChangeState
value = 710
triggerall = var(10)!= 1
triggerall = command = "SpinKick1"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 1300) && movecontact
trigger13 = (stateno = 1310) && movecontact
trigger14 = (stateno = 1312) && movecontact

[State -1, FrontStab]
type = ChangeState
value = 712
triggerall = var(10)!= 1
triggerall = command = "SpinKick2"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 1300) && movecontact
trigger13 = (stateno = 1310) && movecontact
trigger14 = (stateno = 1312) && movecontact

[State -1, FrontStab]
type = ChangeState
value = 714
triggerall = var(10)!= 1
triggerall = command = "SpinKick3"
triggerall = power >= 100
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 404) && movecontact
trigger8 = (stateno = 203) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 205) && movecontact
trigger12 = (stateno = 1300) && movecontact
trigger13 = (stateno = 1310) && movecontact
trigger14 = (stateno = 1312) && movecontact
;--------------------------------------------------------
[State -1, Side_Step]
type = ChangeState
value = 925
triggerall = var(10)!= 1
triggerall = command = "Evade_Fwd"
triggerall = command != "holddown"
trigger1 = statetype = S && (var(10) != 1)
trigger1 = ctrl

[State -1, Side_Step]
type = ChangeState
value = 926
triggerall = var(10)!= 1
triggerall = command = "Evade_Back"
triggerall = command != "holddown"
trigger1 = statetype = S && (var(10) != 1)
trigger1 = ctrl

[State -1, Side_Step]
type = ChangeState
value = 950
triggerall = var(10)!= 1
triggerall = command = "Sidestep"
triggerall = command != "holddown"
trigger1 = statetype = S && (var(10) != 1)
trigger1 = ctrl

[State -1, Chouhatsu2]
type = ChangeState
value = 196
triggerall = var(10)!= 1
triggerall = command = "start" && command = "holdfwd"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl

;[State -1, Guard Push]
type = null;ChangeState
value = 165
triggerall = var(10)!= 1
triggerall = command = "Advance"
triggerall = statetype = S
trigger1 = stateno = [150,153]

;[State -1, Guard Push]
type = ChangeState
value = null;166
triggerall = var(10)!= 1
triggerall = command = "GRN_Advance"
triggerall = statetype = C
trigger1 = stateno = [150,153]

;[State -1, Guard Push]
type = ChangeState
value = null;167
triggerall = var(10)!= 1
triggerall = command = "Advance"
triggerall = statetype = A
trigger1 = stateno = [154,155]

[State -1, Punch Counter]
type = null;ChangeState
value = 980
triggerall = var(10)!= 1
triggerall = command = "Punch_Counter"
triggerall = power >= 0
trigger1 = stateno = [150,153]

[State -1, Kick Counter]
type = null;ChangeState
value = 990
triggerall = var(10)!= 1
triggerall = command = "Kick_Counter"
triggerall = power >= 0
trigger1 = stateno = [150,153]
;===========================================================================
;Normal Moves and Chouhatsu
;===========================================================================
[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = var(10)!= 1
triggerall = command = "x"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = (stateno = 100)
trigger3 = (stateno = 401) && movecontact

[State -1, Stand Light Kick]
type = ChangeState
value = 201
triggerall = var(10)!= 1
triggerall = command = "a"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 100)
[State -1, Stand Medium Punch]
type = ChangeState
value = 202
triggerall = var(10)!= 1
triggerall = command = "y"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 100)
trigger7 = (stateno = 403) && movecontact

[State -1, Stand Medium Kick]
type = ChangeState
value = 700
triggerall = var(10)!= 1
triggerall = command = "b"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 402) && movecontact
trigger8 = (stateno = 100)
[State -1, Stand Heavy Punch]
type = ChangeState
value = 204
triggerall = var(10)!= 1
triggerall = command = "z"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 402) && movecontact
trigger8 = (stateno = 700) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 100)
[State -1, Stand Heavy Kick]
type = ChangeState
value = 205
triggerall = var(10)!= 1
triggerall = command = "c"
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 402) && movecontact
trigger8 = (stateno = 700) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 404) && movecontact
trigger12 = (stateno = 100)
[State -1, Chouhatsu]
type = ChangeState
value = 195
triggerall = var(10)!= 1
triggerall = command = "start"
triggerall = power >= 500
triggerall = command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl

[State -1, Crouch Light Punch]
type = ChangeState
value = 400
triggerall = var(10)!= 1
triggerall = command = "x"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = (stateno = 100)


[State -1, Crouch Light Kick]
type = ChangeState
value = 401
triggerall = var(10)!= 1
triggerall = command = "a"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 100)
[State -1, Crouch Medium Punch]
type = ChangeState
value = 402
triggerall = var(10)!= 1
triggerall = command = "y"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 700) && movecontact
trigger7 = (stateno = 100)

[State -1, Crouch Medium Kick]
type = ChangeState
value = 403
triggerall = var(10)!= 1
triggerall = command = "b"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 402) && movecontact
trigger8 = (stateno = 100)
[State -1, Crouch Heavy Punch]
type = ChangeState
value = 404
triggerall = var(10)!= 1
triggerall = command = "z"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 402) && movecontact
trigger8 = (stateno = 700) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 100)
[State -1, Crouch Heavy Kick]
type = ChangeState
value = 405
triggerall = var(10)!= 1
triggerall = command = "c"
triggerall = command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = (stateno = 200) && movecontact
trigger3 = (stateno = 400) && movecontact
trigger4 = (stateno = 201) && movecontact
trigger5 = (stateno = 401) && movecontact
trigger6 = (stateno = 202) && movecontact
trigger7 = (stateno = 402) && movecontact
trigger8 = (stateno = 700) && movecontact
trigger9 = (stateno = 403) && movecontact
trigger10 = (stateno = 204) && movecontact
trigger11 = (stateno = 404) && movecontact
trigger12 = (stateno = 100)
[State -1, Jumping Light Punch]
type = ChangeState
value = 600
triggerall = var(10)!= 1
triggerall = command = "x"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 100000)

[State -1, Jumping Light Kick]
type = ChangeState
value = 601
triggerall = var(10)!= 1
triggerall = command = "a"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 100000)
[State -1, Jumping Medium Punch]
type = ChangeState
value = 602
triggerall = var(10)!= 1
triggerall = command = "y"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 601) && movecontact
trigger4 = (stateno = 100000)
[State -1, Jumping Medium Kick]
type = ChangeState
value = 603
triggerall = var(10)!= 1
triggerall = command = "b"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 601) && movecontact
trigger4 = (stateno = 602) && movecontact
trigger5 = (stateno = 100000)

[State -1, Jumping Heavy Punch]
type = ChangeState
value = 604
triggerall = var(10)!= 1
triggerall = command = "z"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 601) && movecontact
trigger4 = (stateno = 602) && movecontact
trigger5 = (stateno = 603) && movecontact
trigger6 = (stateno = 100000)

[State -1, Jumping Heavy Kick]
type = ChangeState
value = 605
triggerall = var(10)!= 1
triggerall = command = "c"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = (stateno = 600) && movecontact
trigger3 = (stateno = 601) && movecontact
trigger4 = (stateno = 602) && movecontact
trigger5 = (stateno = 603) && movecontact
trigger6 = (stateno = 604) && movecontact
trigger7 = (stateno = 100000)
