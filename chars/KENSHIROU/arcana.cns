;9 ブースト　max９９
;16 ３３以上で１　６６で２　９９で３か
;30　時間差減少
;33 アルカナ


;fv 10  ディフェンスアップ 11 level 12アルカナフォース
;13 水空中制限 14無の境地　15ざわーるど 16 パワーアップ(ノうせ）　17時間
;18 アルカナ別防御力 19 根性値
;06 スペル宣言
;07 アルカナモード：ヒット数




;ズゴゴゴゴ…---------------------------------------
[Statedef 7770]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7809
sprpriority = 0

[state 0,0]
type = assertspecial
trigger1 = 1
ignorehitpause = 1
flag = timerfreeze

[state 0,0]
type = playsnd
trigger1 = time = 60
value = 3002,1
channel = 0
ignorehitpause = 1


[State 240, 1]
type = HitDef
trigger1 = time >= 0
persistent = 30
attr = S, HT
animtype  = heavy
damage    = 3, 3
kill = 0
getpower = 0
givepower = 0
hitflag = MAF
guardflag = M
priority = 9, Hit
pausetime = 0,1
;guard.kill = ifelse(var(41) = 1, 0, 1);guard.sparkno = S8003
sparkno =-1
sparkxy = -2,-58
hitsound   = S101,3
guardsound = S10, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2
p2stateno = 7772
envshake.time = 10
envshake.ampl = 9
envshake.freq = 70

[state 0,0]
type = envshake
trigger1 = time >= 4
persistent = 6
time = 6
ampl = -3

[state 0,0]
type = lifeadd
trigger1 = time >= 4
value = 8

[state 0,0]
type = changestate
trigger1 = life >= 1000
value = 7771

[state 0,0]
type = changestate
trigger1 = roundstate != 2
value = 0
ctrl = 1


;------------------------------------------------
;[覚醒]
[Statedef 7771]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7830;7407;7030
sprpriority = 2
velset = 0,0


[State 0, musicbox]
type = Helper
triggerall = Numhelper(10800) = 0
trigger1 = time = 0
helpertype = normal
name = "music"
ID = 10800
ownpal = 1
stateno = 10800
postype = p1
pos = 0,0
keyctrl = 0
pausemovetime = 999999
supermovetime = 999999

[state 0,0]
type = varset
trigger1 = time = 0
trigger1 = var(12) <= 1
v = 23
value = 1

[State 0, 0]
type = Explod
trigger1 = time = 2
;trigger1 = var(41) = 4
postype = left
pos = ifelse(teamside = 1,2,245),75
anim = 7812
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1

[State 5900, 2]
type = powerset
trigger1 = time = 1
value = 9000

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 3500,0
channel = 0


[State 0, mahoujin]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "mahoujin"
ID = 1992
ownpal = 1
stateno = 1992
postype = p1
pos = 0,0
keyctrl = 0
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,NT,ST,HT,NA,SA,HA,NP,SP,HP
time = 50

[state 0,0]
type = envshake
trigger1 = time = 1
time = 15
ampl = -6

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[state 0,0]
type = varadd
trigger1 = time = 0
trigger1 = var(24) <= 1
v = 24
value = 1

[state 0,0]
type = varset
trigger1 = time = 0
fv = 11
value = 0.2

[state 0,0]
type = varset
trigger1 = time = 1
v = 9
value = 99
[state 0,0]
type = varset
trigger1 = time = 1
v = 48
value = 99

[state 0,0]
type = varadd
trigger1 = time = 1
v = 12
value = 1

[state 0,0]
type = varset
trigger1 = time = 1
v = 41
value = 4

[state 0,0]
type = varrandom
trigger1 = time >= 1
v = 19
range = 0,250

[state 0,0]
type = palfx
trigger1 = time <= 20
time = 1
add = var(19),var(19),var(19)

[state 0,0]
type = bgpalfx
trigger1 = time = 1
time = 40
mul = 50,50,50
color = 0

[state 0,0]
type = playsnd
trigger1 = time = 16
value = 30,4

[state 0,0]
type = posset
trigger1 = time = 0
y = 0


[State 240, 1]
type = HitDef
trigger1 = time >= 0
persistent = 0
attr = S, HA
animtype  = heavy
damage    = 1, 1
kill = 0
getpower = 0
givepower = 0
hitflag = MAF
priority = 9, Hit
pausetime = 0,10
guard.pausetime = 1,1
guard.kill = ifelse(var(41) = 1, 0, 1);guard.sparkno = S8003
sparkno =-1
sparkxy = -2,-58
hitsound   = S101,3
guardsound = S10, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2
p2stateno = 3501

[State 240, 3]
type = ChangeState
trigger1 = time = 45
;trigger1 = var(53) = 0
trigger1 = var(12) <= 2
value = 7780
ctrl = 0
[State 240, 3]
type = ChangeState
trigger1 = time = 45
;trigger1 = var(53) = 1
;trigger1 = var(54) = 0
trigger1 = var(12) = 3
value = 7785
ctrl = 0
[State 240, 3]
type = ChangeState
trigger1 = time = 45
;trigger1 = var(54) = 1
trigger1 = var(12) >= 4
value = 7790
ctrl = 0

;---------------------------------------------------------------------------
;壁までふっとび
[Statedef 7772]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = turn
triggerall = prevstateno != 901
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 612

[state 0,0]
type = velset
trigger1 = time = 0
x = -16
y = 0


[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 613

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;いなつるびのかたま
[Statedef 7780]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7750
sprpriority = 1
velset = 0,0
[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.3
persistent = 0

[State 0, 0]
type = Explod
trigger1 = time = 2
;trigger1 = var(41) = 4
postype = left
pos = ifelse(teamside = 1,2,245),75
anim = 7812
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1

[state 0,0]
type = varset
trigger1 = time = 1
v = 41
value = 2
[state 0,0]
type = varset
trigger1 = time = 1
trigger1 = random > 500
v = 41
value = 3


[state 0,0]
type = lifeset
trigger1 = time = 1
value = 1000
[state 0,0]
type = powerset
trigger1 = time = 1
value = 9000
[state 0,0]
type = varset
trigger1 = time = 1
v = 9
value = 99
[state 0,0]
type = varset
trigger1 = time = 1
v = 48
value = 99


[State 0, 0]
type = Explod
trigger1 = time = 102
trigger1 = var(41) = 2
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7114
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 102
trigger1 = var(41) = 3
postype = left
pos = ifelse(teamside = 1,2,245),75
anim = 7125
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 2,39
channel = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 65

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 63
movetime = 63
pos = -14,-9
ownpal = 1
anim =-1
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, mahoujin]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "mahoujin"
ID = 1992
ownpal = 1
stateno = 1992
postype = p1
pos = 0,0
keyctrl = 0
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7049
postype = p1
pos = 4,-56
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7048
postype = p1
pos = 4,-56
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[state 0,0]
type = changeanim
trigger1 = time = 63
value = 7554

[State 210, 3]
type = ChangeState
trigger1 = time >= 130
value = 0
ctrl = 1

[State 0, 0]
type = Helper
trigger1 = time = 62
helpertype = normal
name = "inaturubi"
ID = 7781
stateno = 7781
postype = p1
pos = floor(p2dist x),-320
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = varset
trigger1 = time = 0
v = 53
value = 1

[state 0,0]
type = varset
trigger1 = time = 1
fv = 6
value = floor(power * 0.5)


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;いなつるびのかたま 短刀落下
[Statedef 7781]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 1
velset = 0,3
[state 0,reverse]
type = veladd
trigger1 = pos y <= -10
y = 0.3
[state 0,reverse]
type = velset
trigger1 = pos y >= 0
y = 0
[state 0,reverse]
type = posset
trigger1 = pos y > 0
y = 0

[state 0,reverse]
type = posset
trigger1 = time = 0
y = -320

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 7
value = 32, 3

[State 210, 2]
type = PlaySnd
trigger1 = pos y >= 0
value = 32, 20
persistent = 0


[State 210, 3]
type = AttackDist
trigger1 = 1
value = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 169
anim = ifelse(pos y >= 0,7811,7810)
postype = p1
pos = 40,5
ownpal = 0
sprpriority = 4
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200
[State 3000, effect]
type = Explod
trigger1 = time <= 169
anim = ifelse(pos y >= 0,7811,7810)
postype = p1
pos = -40,5
ownpal = 0
sprpriority = 4
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200
[State 3000, effect]
type = Explod
trigger1 = time <= 169
anim = ifelse(pos y >= 0,7811,7810)
postype = p1
pos = 30,0
ownpal = 0
sprpriority = -5
;ontop = 1
bindtime = -1
removeongethit = 1
scale = 0.9,0.9
pausemovetime = 200
supermovetime = 200
[State 3000, effect]
type = Explod
trigger1 = time <= 169
anim = ifelse(pos y >= 0,7811,7810)
postype = p1
pos = -30,0
ownpal = 0
sprpriority = -5
;ontop = 1
bindtime = -1
removeongethit = 1
scale = 0.9,0.9
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type = Explod
trigger1 = time <= 169
anim = ifelse(pos y >= 0,7811,7810)
postype = p1
pos = 20,14
ownpal = 0
sprpriority = 5
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200
scale = 1.1,1.1
[State 3000, effect]
type = Explod
trigger1 = time <= 169
anim = ifelse(pos y >= 0,7811,7810)
postype = p1
pos = -20,14
ownpal = 0
sprpriority = 5
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200
scale = 1.1,1.1

[State 3000, effect]
type = Explod
trigger1 = time <= 169
anim = ifelse(pos y >= 0,7811,7810)
postype = p1
pos = 32,10
ownpal = 0
sprpriority = 5
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200
[State 3000, effect]
type = Explod
trigger1 = time <= 169
anim = ifelse(pos y >= 0,7811,7810)
postype = p1
pos = -32,10
ownpal = 0
sprpriority = 5
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200

[State 0, mahoujin]
type = Helper
trigger1 = pos y >= 0
trigger1 = time = 40
helpertype = normal
name = "mahoujin"
ID = 1992
ownpal = 1
stateno = 1992
postype = p1
pos = 0,0
keyctrl = 0
supermovetime = 200

[state 0,0]
type = destroyself
trigger1 = time = 320

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = [42,180]
trigger1 = p2dist x = [-59,59]
helpertype = normal
name = "hikari"
ID = 7782
stateno = 7782
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
;pausemovetime = 200
supermovetime = 200

[state 0,0]
type = palfx
trigger1 = time = [170,200]
time = 1
mul = 1000 - (time*5),1000 - (time*5),1000 - (time*5)
color = 0

[State 3000, effect]
type = Explod
trigger1 = time = [170,199]
anim = 7813
postype = p1
pos = 40,5
ownpal = 0
sprpriority = 4
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200
[State 3000, effect]
type = Explod
trigger1 = time = [170,199]
anim = 7813
postype = p1
pos = -40,5
ownpal = 0
sprpriority = 4
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200
[State 3000, effect]
type = Explod
trigger1 = time = [170,199]
anim = 7813
postype = p1
pos = 30,0
ownpal = 0
sprpriority = -5
;ontop = 1
bindtime = -1
removeongethit = 1
scale = 0.9,0.9
pausemovetime = 200
supermovetime = 200
[State 3000, effect]
type = Explod
trigger1 = time = [170,199]
anim = 7813
postype = p1
pos = -30,0
ownpal = 0
sprpriority = -5
;ontop = 1
bindtime = -1
removeongethit = 1
scale = 0.9,0.9
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type = Explod
trigger1 = time = [170,199]
anim = 7813
postype = p1
pos = 20,14
ownpal = 0
sprpriority = 5
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200
scale = 1.1,1.1
[State 3000, effect]
type = Explod
trigger1 = time = [170,199]
anim = 7813
postype = p1
pos = -20,14
ownpal = 0
sprpriority = 5
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200
scale = 1.1,1.1

[State 3000, effect]
type = Explod
trigger1 = time = [170,199]
anim = 7813
postype = p1
pos = 32,10
ownpal = 0
sprpriority = 5
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200
[State 3000, effect]
type = Explod
trigger1 = time = [170,199]
anim = 7813
postype = p1
pos = -32,10
ownpal = 0
sprpriority = 5
;ontop = 1
bindtime = -1
removeongethit = 1
pausemovetime = 200
supermovetime = 200


;---------------------------------------------------------------------------
;LD いなつるびのかたま hikari
[Statedef 7782]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7769
sprpriority = 4
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 32, 15

[State 3000, effect]
type = Explod
trigger1 = time = 6
trigger2 = time = 31
anim = 7595
postype = p1
random = 38,38
pos = 0,-45
ownpal = 1
sprpriority = 5
;ontop = 1
supermovetime =200
;bindtime = -1
;removeongethit = 1

[State 3000, effect]
type = Explod
trigger1 = time = 9
trigger2 = time = 25
anim = 7596
postype = p1
random = 38,38
pos = 0,-45
ownpal = 1
sprpriority = 5

[State 3000, effect]
type = Explod
trigger1 = time = 16
trigger2 = time = 40
anim = 7597
postype = p1
random = 38,38
pos = 0,-45
ownpal = 1
sprpriority = 5

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 5
persistent = 10
attr = S, HP
damage = 32,10
getpower = 0
animtype = heavy
hitflag = MAF
guardflag = M
priority = 5, hit
pausetime = 0, 25
sparkno = -1
sparkxy = -8, -64
hitsound = S60,3
guardsound = S0,0
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0,-4
air.velocity = 0,-3
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0

[State 210, 3]
type = destroyself
trigger1 = animtime = 0



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;ファントムレイザー phantom razor
[Statedef 7785]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7750
sprpriority = 1
velset = 0,0
[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.3
persistent = 0

[state 0,0]
type = changeanim
trigger1 = time = 50
value = 7762

[State 0, 0]
type = Explod
trigger1 = time = 2
;trigger1 = var(41) = 4
postype = left
pos = ifelse(teamside = 1,2,245),75
anim = 7812
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1

[state 0,0]
type = varset
trigger1 = time = 1
v = 41
value = 2
[state 0,0]
type = varset
trigger1 = time = 1
trigger1 = random > 500
v = 41
value = 3



[State 0, 0]
type = Explod
trigger1 = time = 102
trigger1 = var(41) = 2
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7114
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 102
trigger1 = var(41) = 3
postype = left
pos = ifelse(teamside = 1,2,245),75
anim = 7125
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1


[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 2,51
channel = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 65

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 93
movetime = 93
pos = -14,-9
ownpal = 1
anim =-1
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, mahoujin]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "mahoujin"
ID = 1992
ownpal = 1
stateno = 1992
postype = p1
pos = 0,0
keyctrl = 0
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7049
postype = p1
pos = 4,-56
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7048
postype = p1
pos = 4,-56
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 115
value = 0
ctrl = 1

[state 0,0]
type = BGpalfx
trigger1 = time = 60
time = 34
mul = 0,0,0

[State 0, 0]
type = Helper
trigger1 = time = [62,70]
helpertype = normal
name = "phantom"
ID = 7786
stateno = 7786
postype = p1
pos = 0,0
keyctrl = 0
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
trigger1 = time = [62,68]
helpertype = normal
name = "phantom"
ID = 7786
stateno = 7786
postype = p1
pos = 0,0
keyctrl = 0
pausemovetime = 200
supermovetime = 200

[State 210, 2]
type = PlaySnd
trigger1 = time = 62
trigger2 = time = 69
value = 32, 3

[state 0,0]
type = varset
trigger1 = time = 0
v = 54
value = 1

[state 0,0]
type = varset
trigger1 = time = 1
fv = 6
value = floor(power * 0.5)




;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;ヘルパー
[Statedef 7786]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = 1
velset = 0,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time = 0
x = 0
y = 0

[State 210, 3]
type = AttackDist
trigger1 = 1
value = 2

[state 0,tatetate]
type = varrandom
trigger1 = time = 0
v = 18
range = -250,-20
[state 0,yokoyoko]
type = varrandom
trigger1 = time = 0
v = 19
range = -350,350

[state 0,0]
type = changeanim
trigger1 = time = 5
value = 7841 + (random %10)
[state 0,3]
type = changeanim
trigger1 = time = 6
trigger1 = anim = 7757
value = 7751

[state 0,0]
type = posset
trigger1 = time = 4
x = var(19)
y = var(18)

[State 1000,marukaite]
type = null;projectile
trigger1 = time = 50
persistent = 0
velocity = 5,(var(19))*0.2
remvelocity = 5,(var(19))*0.2
projanim = 7757
projremovetime = -1;7607
projhitanim = 7757
offset = 55 - floor(time*0.4),30 - time
attr = A,HP
animtype = heavy
damage = 35,25
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
;guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = null;reversaldef
;triggerall = enemy,movetype = A
trigger1 = time >= 0
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 10,9
hitsound = S32,5
numhits = 0
sparkno = -1;S7109
sparkxy = 30,0
p1stateno = 2063
persistent = 1


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, HP
damage = 50, 5
getpower = 0
givepower = 65,130
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 1, miss
pausetime = 20, 12
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -14
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 16
ground.velocity = -5,0
air.velocity = -5,-3.6
;fall = 1
air.fall = 1
fall.recovertime = 20
p2facing = 1
kill = 0
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = -3
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5

[state 0,8]
type = assertspecial
trigger1 = time >= 6
flag = invisible
ignorehitpause = 0


[state 0,5]
type = changestate
trigger1 = movecontact
trigger2 = roundstate >= 3
value = 2063;7787
ignorehitpause = 0

[State 2, shild]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 2063
IgnoreHitPause = 1
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AP
time = 2


;---------------------------------------------------------------------------
;ヘルパー
[Statedef 7787]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = 1
velset = 0,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = null;assertspecial
trigger1 = time >=50
flag = invisible
ignorehitpause = 1
persistent = 10

[state 0,0]
type = changestate
trigger1 = time = 100
value = 2063






;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;涅槃　ニルヴァーナ
[Statedef 7790]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7820
sprpriority = 1
velset = 0,0
[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.3
persistent = 0

[State 0, 0]
type = Explod
trigger1 = time = 2
;trigger1 = var(41) = 4
postype = left
pos = ifelse(teamside = 1,2,245),75
anim = 7812
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1

[state 0,0]
type = varset
trigger1 = time = 1
v = 41
value = 2
[state 0,0]
type = varset
trigger1 = time = 1
trigger1 = random > 500
v = 41
value = 3


[state 0,0]
type = lifeset
trigger1 = time = 1
value = 1000
[state 0,0]
type = powerset
trigger1 = time = 1
value = 9000
[state 0,0]
type = varset
trigger1 = time = 1
v = 9
value = 99
[state 0,0]
type = varset
trigger1 = time = 1
v = 48
value = 99


[State 0, 0]
type = Explod
trigger1 = time = 102
trigger1 = var(41) = 2
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7114
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 102
trigger1 = var(41) = 3
postype = left
pos = ifelse(teamside = 1,2,245),75
anim = 7125
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1


[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 2,40
channel = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 65

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 93
movetime = 93
pos = -14,-9
ownpal = 1
anim =-1
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, mahoujin]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "mahoujin"
ID = 1992
ownpal = 1
stateno = 1992
postype = p1
pos = 0,0
keyctrl = 0
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7049
postype = p1
pos = 4,-56
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7048
postype = p1
pos = 4,-56
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 115
value = 0
ctrl = 1

[State 0, 0]
type = Helper
triggerall = Numhelper(7786) <= 8
trigger1 = time = [62,70]
helpertype = normal
name = "phantom"
ID = 7786
stateno = 7786
postype = p1
pos = 0,0
keyctrl = 0
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = varset
trigger1 = time = 0
v = 55
value = 1

[state 0,0]
type = varset
trigger1 = time = 1
fv = 6
value = floor(power * 0.5)

















;---------------------------------------------------------------------------
; AI Jump Start
[Statedef 9150]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = 1
sysvar(1) = 1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 9151
ctrl = 0

;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 9151]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 1
trigger1 = random >= 20
trigger1 = p2dist x <= 70
trigger1 = p2dist y = [-65,-10]
value = 9600
[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 1
trigger1 = random >= 20
trigger1 = p2dist x <= 70
trigger1 = p2dist y = [-85,-15]
value = 9610
[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 1
trigger1 = random >= 460
trigger1 = p2dist x <= 75
trigger1 = p2dist y >= -18
value = 9620

[state 0,0]
type = ctrlset
trigger1 = time >= 8
value = 1


;---------------------------------------------------------------------------
; AirJump Start
[Statedef 9152];45
type    = A
physics = N
ctrl = 0
velset = 0,0

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

;方向転換
[State 1510, Turn]
type = Turn
Trigger1 = P2Dist X < 0


[State 45, 3]
type = Varadd
trigger1 = Time = 0
var(32) = 1
[state 0,0]
type = varadd
triggerall = var(41) = 3
triggerall = var(33) = 2
trigger1 = time = 0
var(5) = 1

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 9151
ctrl = 0

;------------------------------------------
;アルカナ　AI 地上前要素ホーミング
[Statedef 9160]
type    = S
movetype= I
physics = N
ctrl = 0
;anim = 5200
sprpriority = 1
velset = 0,0

[State 52, 4]
type = Changeanim
triggerall = prevstateno != 9024
trigger1 = time = 0
value = 5200


[State 52, 4]
type = Changeanim
triggerall = prevstateno != 9024
trigger1 = time = 5
trigger1 = anim != 7508
value = 7508

[State 52, 4]
type = Changeanim
triggerall = prevstateno = [9024,9039]
trigger1 = time = 0
value = 7508

[State 52, 4]
type = ChangeState
triggerall = prevstateno != [9032,9039]
triggerall = prevstateno != 9024
trigger1 = time <= 2
trigger1 = var(33) = 7
value = 9024


[state 0,0]
type = palfx
triggerall = time <= 5
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
time = 1
add = 200-(time*15),200-(time*15),200-(time*15)


[State 52, 3]
type = CtrlSet
trigger1 = time >= 9
value = 1

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 52, 4]
type = ChangeState
trigger1 = time = 120
trigger2 = time >= 8
trigger2 = command != "holda"
value = 0
ctrl = 1

[state 2, BOOST]
type = veladd
trigger1 = time = 6
;trigger1 = p2bodydist x > 10
x = 2.5

[state 2, BOOST]
type = posadd
trigger1 = time >= 6
;trigger1 = p2bodydist x > 10
x = 4

[state 2, BOOST]
type = posadd
trigger1 = time < 6
trigger1 = anim = 7508
x = 4
[state 0, 0]
type = varadd
triggerall = prevstateno != [9032,9039]
triggerall = prevstateno != 9024
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0
[state 0, 0]
type = null;varadd
trigger1 = time = 0
trigger1 = var(9) > 33
v = 9
value = ifelse(var(16)=1,(var(9)-35)*-1,ifelse(var(16)=2,(var(9)-68)*-1,-33));-33

[state 0, 0]
type = varset
triggerall = prevstateno != [9032,9039]
triggerall = prevstateno != 9024
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
v = 30
value = 350
[state 0, 0]
type = varset
triggerall = prevstateno != [9032,9039]
triggerall = prevstateno != 9024
trigger1 = time = 0
v = 30
value = 100
[state 0, 0]
type = varadd
triggerall = prevstateno != [9032,9039]
triggerall = prevstateno != 9024
trigger1 = time = 1
v = 16
value = -1

[state 0, 0]
type = varset
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
v = 30
value = 350

[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 10
trigger1 = enemy,movetype = H
trigger1 = p2dist x <= 50
value = 9200

[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 10
trigger1 = enemy,statetype = S
trigger1 = p2dist x <= 85
value = 9410

[State 200, AI]
type = ChangeState
trigger1 = time >= 7
trigger1 = var(59) = 1
trigger1 = random >= 800
trigger1 = p2dist x < 20
value = 9400



;---------------------------------------------------------------------------
; RUN_FWD dash
[Statedef 9170];102
type    = S
physics = N
anim = 7508
sprpriority = 1
velset = 0,0
ctrl = 0

[State -1, Blocking]
type = HitOverride
triggerall = var(59) = 1
triggerall = var(41) = 3
triggerall = life <= 580
trigger1 = StateType = S
trigger1 = random >= 200 + life
trigger1 = gametime % 3 = 0
trigger1 = ctrl = 1
attr = SCA, NA, SA, NP, SP
stateno = 1047
time = 1

[State 100, 1]
type = VelSet
triggerall = var(33) = 5
triggerall = var(41) = 3
trigger1 = time = 3
x = 9.5;const(velocity.run.fwd.x)
[state 0,0]
type = reversaldef
triggerall = var(33) = 5
triggerall = var(41) = 3
trigger1 = time <= 12
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 17,19
hitsound = S32,5
numhits = 0
sparkno = S7109
sparkxy = 30,0
persistent = 0
p1stateno = 101
[State 1000, raimei]
type = Helper
triggerall = var(33) = 5
triggerall = var(41) = 3
trigger1 = time = 1
helpertype = normal
name = "effect"
pos = 0,0
postype = p1
stateno = 9795
ownpal = 1
id = 9795
pausemovetime = 999
keyctrl = 0

[State 5110, 6]
type = PlaySnd
triggerall = var(33) = 5
triggerall = var(41) = 3
trigger1 = Time = 1
value = 32,5

[State 0, 0]
type = Explod
triggerall = var(41) = 2
trigger1 = time = 2
postype = p1
pos = 0,0
anim = 7765
scale = 0.5,0.5
ownpal = 1
keyctrl = 0
sprpriority = 4

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 1
value = 0,4

[State 100, 4]
type = ChangeState
triggerall = var(41) = 3
trigger1 = time = 13
trigger2 = command = "holdback"
value = 101
ctrl = 1

[State 200, 4]
type = CtrlSet
trigger1 = time >= 6
value = 1

[State 100, 1]
type = VelSet
trigger1 = time = 2
x = 7.9;const(velocity.run.fwd.x)
[State 100, 1]
type = Veladd
trigger1 = time = [2,20]
x = 0.05

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn


[State 200, 0]
type = ChangeState
triggerall = var(41) = 2
trigger1 = time >= 4
trigger1 = command != "holdfwd"
value = 52
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 3
trigger1 = var(59) = 1
trigger1 = random >= 30
trigger1 = p2dist x <= 20
value = 9400

[State 200, AI]
type = ChangeState
trigger1 = time >= 3
trigger1 = var(59) = 1
trigger1 = random >= 40
trigger1 = p2dist x <= 25
value = 9200

[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 120
trigger1 = p2dist x <= 20
trigger1 = enemy,statetype != A
trigger1 = enemy,stateno = [120,131]
value = 940













;５X---------------------------------------
[Statedef 9200]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
;anim = 7504
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,reverse]
type = varset
trigger1 = fvar(5) > 0.9
trigger1 = movehit
fvar(5) = 0.9
persistent = 0

;[state 0, DEBUG]
;type = varset
;trigger1 = time = 1
;var(59) = 1
;[state 0,0]
;type = changestate
;trigger1 = time = 0
;value = 7785

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 200

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,1
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 3
value = 12, 2
channel = 0
ignorehitpause = 1

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = S, NA
damage = 24, ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,30),ifelse(var(33) = 10,0,8)
givepower = 18,4
animtype = light
guardflag = MA
hitflag = MAFD
priority = 2, Hit
pausetime = 7, 7
sparkno = 0;S8004
sparkxy = -5, -50
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3.4
air.velocity = -2.5,-2.8
fall.recovertime = ifelse(fvar(7)>=22,1,22- floor(fvar(7)));22
fall.yvelocity = ifelse(var(7)>=25,(var(7)*-0.25),-4.5)
ground.cornerpush.veloff = -3.2

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 1

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "teikuu"
value = 4043
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = command = "high2"
value = 4041
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 3
trigger1 = var(59) = 1
trigger1 = random >= 80
trigger1 = movehit
trigger1 = enemy,statetype = A
value = 9211
[State 200, AI]
type = ChangeState
trigger1 = time >= 3
trigger1 = var(59) = 1
trigger1 = random >= 80
trigger1 = movehit
trigger1 = enemy,statetype != A
value = 9210
[State 200, AI]
type = ChangeState
trigger1 = time >= 3
trigger1 = var(59) = 1
trigger1 = random >= 100
trigger1 = movehit
trigger1 = enemy,statetype = A
trigger1 = p2dist y <= -50
trigger1 = fvar(7) <= 5
value = 9150

;6X---------------------------------------
[Statedef 9201]
type    = S
movetype= A
physics = S
;juggle  = 0
poweradd= 0
ctrl = 0
;anim = 7506
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7506

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,3
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 5
value = 1, 0
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 5
value = 1, 1
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 2
trigger1 = time = 5
value = 1, 3
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = S, NA
damage = 28, ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,30),ifelse(var(33) = 10,0,8)
givepower = 18,4
animtype = medium
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 5, 12
sparkno = 0;S8004
sparkxy = -5, -80
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 13
ground.hittime  = 12
ground.velocity = -6
air.velocity = -6,-2;+(var(7)*0.4)
fall.yvelocity = ifelse(var(7)>=25,(var(7)*-0.25),-4.5)
fall.recovertime = ifelse(fvar(7)>=21,1,21- floor(fvar(7)))

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 1


[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;5Y---------------------------------------
[Statedef 9210]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
;anim = 255;221
poweradd = ifelse(var(33)=10,0,0)
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.8
persistent = 0

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 210

[state 0,0]
type = velset
trigger1 = time <= 10
x = 1.7
ignorehitpause = 1

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
;trigger1 = var(19) = 1
trigger1 = time = 4
value = 11, 17
channel = 0
ignorehitpause = 1

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = prevstateno != 7040
trigger1 = time = 0
trigger1 = P2Dist X < 0

[state 0,basuke]
type = varadd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0



[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 3
attr = S, NA
damage = 30,0
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,120)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,80))
givepower = 40,25
animtype = medium
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 10, 12
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -3, -45
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = 9
ground.hittime  = 13
ground.velocity = -4
air.velocity = -2.8,-4
air.fall = 1
fall.recovertime = ifelse(fvar(7)>=22,1,22- floor(fvar(7)))
fall.yvelocity = ifelse(var(7)>=25,(var(7)*-0.25),-4.5)
down.velocity = -4,-0.1
ground.cornerpush.veloff = -3

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "teikuu"
value = 4043
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = command = "high2"
value = 4041
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 5
trigger1 = var(59) = 1
trigger1 = random >= 30
trigger1 = movehit
trigger1 = enemy,statetype = A
value = 4043
[State 200, AI]
type = ChangeState
trigger1 = time >= 5
trigger1 = var(59) = 1
trigger1 = random >= 30
trigger1 = movehit
trigger1 = enemy,statetype = A
trigger1 = fvar(7) >= 13
trigger1 = p2dist x = [0,30]
value = 9410

[State 200, AI]
type = ChangeState
trigger1 = time >= 5
trigger1 = var(59) = 1
trigger1 = random >= 220
trigger1 = moveguarded
trigger1 = enemy,statetype = S
trigger1 = p2dist x <= 60
value = 9420

[State 200, AI]
type = ChangeState
trigger1 = time >= 5
trigger1 = var(59) = 1
trigger1 = random >= 100
trigger1 = movehit
trigger1 = enemy,statetype = S
trigger1 = p2dist x <= 60
value = 9420

[State 200, AI]
type = ChangeState
trigger1 = time >= 5
trigger1 = var(59) = 1
trigger1 = random >= 470
trigger1 = movecontact
;trigger1 = enemy,statetype = A
value = 9211


;6Ynew---------------------------------------
[Statedef 9212]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
;anim = 255;221
poweradd = ifelse(var(33)=10,0,0)
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.91
persistent = 0

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 211

[state 0,0]
type = velset
trigger1 = time <= 13
x = 3.2
ignorehitpause = 1

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
;trigger1 = var(19) = 1
trigger1 = time = 1
value = 11, 13
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = prevstateno != 7040
trigger1 = time = 0
trigger1 = P2Dist X < 0

[state 0,basuke]
type = varadd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0



[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 3
attr = S, NA
damage = 30,0
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,80)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,40))
givepower = 30,15
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 15
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -10, -45
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -4.3
air.velocity = -3,-2.4
air.fall = 1
fall.recovertime = ifelse(fvar(7)>=25,1,25- floor(fvar(7)))
fall.yvelocity = ifelse(var(7)>=25,(var(7)*-0.25),-4.5)
down.velocity = -4,-0.1
ground.cornerpush.veloff = -2.8

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "teikuu"
value = 4043
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = command = "high2"
value = 4041
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40
ctrl = 1


[State 200, AI]
type = ChangeState
trigger1 = time >= 5
trigger1 = var(59) = 1
trigger1 = random >= 770
trigger1 = movecontact
trigger1 = enemy,statetype != A
value = 9420
[State 200, AI]
type = ChangeState
trigger1 = time >= 5
trigger1 = var(59) = 1
trigger1 = random >= 770
trigger1 = movecontact
;trigger1 = enemy,statetype != A
value = 9211
[State 200, AI]
type = ChangeState
trigger1 = time >= 6
trigger1 = var(59) = 1
trigger1 = random >= 220
trigger1 = movecontact
trigger1 = enemy,statetype = A
trigger1 = enemy,life > 0
value = 9150


;5Z---------------------------------------
[Statedef 9211]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = ifelse(var(33)=10,0,40)
ctrl = 0
;anim = 7505
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 221

[state 0,0]
type = velset
trigger1 = time = [5,9]
x = 2.4
ignorehitpause = 1

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,2
[State 210, 2]
type = PlaySnd
;trigger1 = var(19) = 1
trigger1 = time = 6
value = 11, 1
channel = 0
ignoreitpause = 1

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 5
attr = S, NA
damage = 41, 0
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,160)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,40))
givepower = 89,25
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 15
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -14, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
air.hittime  = 7
ground.velocity = -4
air.velocity = -5,-3.45
air.fall = 1
fall.recovertime = ifelse(fvar(7)>=42,1,42- floor(fvar(7)))
down.velocity = -5,-0.1
ground.cornerpush.veloff = -3.5

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "teikuu"
value = 4043
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = command = "high2"
value = 4041
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 6
trigger1 = var(59) = 1
trigger1 = random >= 20
trigger1 = movecontact
trigger1 = enemy,statetype = A
trigger1 = enemy,life > 0
;trigger1 = var(16) >= 1
value = 4043


[State 200, AI]
type = ChangeState
trigger1 = time >= 7
trigger1 = var(59) = 1
trigger1 = random >= 220
trigger1 = movecontact
;trigger1 = enemy,statetype != A
trigger1 = enemy,life > 0
value = 1000




;6Y---------------------------------------
[Statedef 9212]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
;anim = 255;221
poweradd = ifelse(var(33)=10,0,30)
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 240

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,2
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 1
trigger1 = time = 5
value = 1, 6
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 2
trigger1 = time = 5
value = 1, 1
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = prevstateno != 7040
trigger1 = time = 0
trigger1 = P2Dist X < 0

[state 0,basuke]
type = varadd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
trigger1 = movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 3
attr = S, NA
damage = 33,0
getpower = ifelse(var(33) = 10,0,130),ifelse(var(33) = 10,0,40)
givepower = 40,25
animtype = medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 11, 10
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -3, -75
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -2,-7
air.velocity = -2.2,-7.6
fall = 1
air.fall = 1
fall.recovertime = ifelse(fvar(7)>=23,1,23- floor(fvar(7)))

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "teikuu"
value = 4043
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = command = "high2"
value = 4041
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 6
trigger1 = var(59) = 1
trigger1 = random >= 20
trigger1 = movehit
value = 9211


;---:::::::::::::::::::::::::::::::::::::::::::::
;6z
[Statedef 9230]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
;anim = 7531;405
poweradd = ifelse(var(33)=10,0,50)
sprpriority = 2
velset = 0,0
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = prevstateno != 9240
trigger1 = time = 0
value = 7531

[State 200, 3]
type = ChangeState
trigger1 = time = [8,34]
trigger1 = command != "holdz"
value = 9231

[State 200, 3]
type = ChangeState
trigger1 = var(33) != 7
trigger1 = time = 35 || animelem = 3
value = 9232

[State 0, c]
type = Explod
trigger1 = time = 10
anim = 7333
;scale = 0.5,0.5
postype = p1
pos = -21,-70
ownpal = 1
sprpriority = 5
;bindtime = -1

[State 200, 3]
type = ChangeState
trigger1 = var(33) = 7
trigger1 = time = 35 || animelem = 3
value = 9233

[State 0, shild]
type = HitOverride
trigger1 = var(33) = 6
time = 1
attr = SA, NA, SA, HA, NP, SP, HP
stateno = 9240
IgnoreHitPause = 1
[state -2,0];土
type = palfx
trigger1 = var(33) = 6
time = 2
add = 90,90,40
[state -2,0];火
type = palfx
trigger1 = var(33) = 1
time = 2
add = 60,30,0
mul = 200,200,200

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 1
value = 11, 14
channel = 0

;---------------------------------------------------------------------------
; SGUARDHIT (shaking)
[Statedef 9240]
type    = S
movetype= I;H
physics = N
;velset = 0,0

[state -2,0];土
type = palfx
trigger1 = var(33) = 6
time = 2
add = 90,90,40

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = -1
kill = 0

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[state 0,0]
type = posfreeze
trigger1 = time >= 0

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 9230



















;---:::::::::::::::::::::::::::::::::::::::::::::
;6z
[Statedef 9231]
type    = S
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 7532
poweradd = 0
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time = [2,10]
x = 2.4
ignorehitpause = 1


[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7532

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 1, 10
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,50),ifelse(var(33) = 10,0,6)
givepower = 22,6
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 15, 6
guard.pausetime = 7, 7
sparkno = 2;S8000
sparkxy = 0, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -8.5
air.velocity = -8.5,-11
fall = 1
air.fall = 1
fall.recovertime = 10
p2stateno = 9300

[state 0,0]
type = posadd
trigger1 = movehit
x = -1
ignorehitpause = 1
persistent = 4

[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;6z
[Statedef 9232]
type    = S
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 7532
poweradd = 0
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1


[state 0,0]
type = velset
trigger1 = time = [2,10]
x = 3
ignorehitpause = 1

[State 5101, 3]
type = MoveHitReset
trigger1 = animelemtime(1) = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7532

[state -2,0];火
type = palfx
trigger1 = var(33) = 1
time = 2
ignorehitpause = 1
add = 60,30,0
mul = 200,200,200

[State 3000, effect]
type = Explod
triggerall = prevstateno != [1180,1189]
triggerall = var(33) = 1
trigger1 = movehit && enemy,movetype = H
anim = 7631
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1
[State 3000, effect]
type = Explod
triggerall = prevstateno != [1180,1189]
triggerall = var(33) = 1
trigger1 = movehit && enemy,movetype = H
anim = 7631
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1

[State 3000, effect]
type = Explod
triggerall = prevstateno != [1180,1189]
triggerall = var(33) = 0
trigger1 = movehit && enemy,movetype = H
anim = 7632
postype = p2
pos = 0,-50
random = 10,16
bindtime = -1
ownpal = 1
sprpriority = 5
persistent = 0
ignorehitpause = 1



[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 1, 10
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 200, HitDef]
type = HitDef
triggerall = movecontact = 0
triggerall = enemy,stateno != [120,155]
trigger1 = time >= 3
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,50),ifelse(var(33) = 10,0,6)
givepower = 22,6
animtype = heavy
hitflag = MAF
priority = 5, Hit
pausetime = 15, 6
guard.pausetime = 6, 6
sparkno = 2;S8000
sparkxy = 0, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -8.5
air.velocity = -8.5,-11
fall = 1
air.fall = 1
fall.recover = 0
p2stateno = 9300

[State 200, HitDef]
type = HitDef
triggerall = var(33) != 1
triggerall = var(33) != 0
triggerall = enemy,stateno = [120,155]
trigger1 = time >= 3
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,50),ifelse(var(33) = 10,0,6)
givepower = 22,6
animtype = heavy
hitflag = MAF
priority = 5, Hit
pausetime = 15, 6
guard.pausetime = 6, 6
sparkno = 2;S8000
sparkxy = 0, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -8.5
air.velocity = -8.5,-11
fall = 1
air.fall = 1
fall.recover = 0
p2stateno = 9302

[State 200, HitDef]
type = HitDef
triggerall = var(33) = 1
;triggerall = enemy,stateno = [120,155]
trigger1 = time >= 3
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,50),ifelse(var(33) = 10,0,6)
givepower = 22,6
animtype = heavy
hitflag = MAF
priority = 5, Hit
pausetime = 15, 6
guard.pausetime = 6, 6
sparkno = 2;S8000
sparkxy = 0, -55
hitsound = S32, 13
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -8.5
air.velocity = -8.5,-11
fall = 1
air.fall = 1
fall.recover = 0
p2stateno = 9300
palfx.time = 40
palfx.add = 100,30,0
palfx.mul = 230,230,230


[State 200, HitDef]
type = HitDef
triggerall = var(33) = 0
triggerall = enemy,stateno = [120,155]
trigger1 = time >= 3
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,50),ifelse(var(33) = 10,0,6)
givepower = 22,6
animtype = heavy
hitflag = MAF
priority = 5, Hit
pausetime = 15, 6
guard.pausetime = 6, 16
guard.hittime = 60
guard.slidetime = 70
guard.velocity = -0.5
sparkno = 2;S8000
sparkxy = 0, -55
hitsound = S32, 17
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -8.5
air.velocity = -8.5,-11
fall = 1
air.fall = 1
fall.recover = 0
p2stateno = 9303
palfx.time = 40
palfx.add = 0,0,120
palfx.mul = 230,230,230


[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1





;---:::::::::::::::::::::::::::::::::::::::::::::
;時6z
[Statedef 9233]
type    = S
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 7532
poweradd = 0
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 0, 0]
type = Helper
triggerall = Numhelper(9234) = 0
trigger1 = time = 0
helpertype = normal
name = "bunsin"
ID = 9234
stateno = 9234
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 200, 3]
type = ChangeState
trigger1 = time = 1
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;時6z 分身 待機
[Statedef 9234]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 9999
poweradd = 0
sprpriority = 2

[State 200, 3]
type = ChangeState
trigger1 = time >= 2
trigger1 = parent,command != "holdz"
value = 9235

[State 200, 3]
type = ChangeState
trigger1 = parent,movetype = H && parent,stateno != [120,155]
value = 9236

;---:::::::::::::::::::::::::::::::::::::::::::::
;時6z 分身attack
[Statedef 9235]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7783
sprpriority = 2
velset = 5,0
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, NA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,50),ifelse(var(33) = 10,0,6)
givepower = 22,6
animtype = heavy
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 15, 6
guard.pausetime = 7, 7
sparkno = 2;S8000
sparkxy = 0, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -8.5
air.velocity = -8.5,-11
fall = 1
air.fall = 1
p2facing = 1
fall.recover = 0
p2stateno = 9300

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 200, 3]
type = ChangeState
trigger1 = parent,movetype = H && parent,stateno != [120,155]
value = 9236

[State 200, 3]
type = destroyself
trigger1 = animtime = 0

[state 0,0]
type = palfx
trigger1 = time >= 25
time = 1
mul = 255-(time*3),255-(time*3),255-(time*3)

;---:::::::::::::::::::::::::::::::::::::::::::::
;時6z 分身 やられ
[Statedef 9236]
type    = S
movetype= H
physics = S
juggle  = 0
ctrl = 0
anim = 7781
poweradd = 0
sprpriority = 2

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 200, 3]
type = destroyself
trigger1 = time = 12

[state 0,0]
type = palfx
trigger1 = time >= 10
time = 1
mul = 255-(time*15),255-(time*15),255-(time*15)







;---:::::::::::::::::::::::::::::::::::::::::::::
;時3z
[Statedef 9237]
type    = S
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 7532
poweradd = 0
sprpriority = 2

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 0, 0]
type = Helper
triggerall = Numhelper(9238) = 0
trigger1 = time = 0
helpertype = normal
name = "bunsin"
ID = 9238
stateno = 9238
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 200, 3]
type = ChangeState
trigger1 = time = 1
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;時3z 分身 待機
[Statedef 9238]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 9999
poweradd = 0
sprpriority = 2

[State 200, 3]
type = ChangeState
trigger1 = time >= 2
trigger1 = parent,command != "holdz"
value = 9239

[State 200, 3]
type = ChangeState
trigger1 = parent,movetype = H && parent,stateno != [120,155]
value = 9236

;---:::::::::::::::::::::::::::::::::::::::::::::
;時3z 分身attack
[Statedef 9239]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7784
sprpriority = 2
velset = 4,0
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = C, NA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,150),ifelse(var(33) = 10,0,60)
givepower = 52,6
animtype = heavy
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 10
guard.pausetime = 6, 6
sparkno = 1;S8000
sparkxy = 0, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -2.5,-18
air.velocity = -2.5,-18
down.velocity = -3,-1
fall = 1
air.fall = 1
fall.recovertime = 30

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 200, 3]
type = ChangeState
trigger1 = parent,movetype = H && parent,stateno != [120,155]
value = 9236

[State 200, 3]
type = destroyself
trigger1 = animtime = 0

[state 0,0]
type = palfx
trigger1 = time >= 25
time = 1
mul = 255-(time*3),255-(time*3),255-(time*3)










;---------------------------------------------------------------------------
;壁までふっとび
[Statedef 9300]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0
;[state 0,0]
;type = changestate
;trigger1 = time = 0
;trigger1 = enemy,var(33) = 0
;value = 9305

[state 0,0]
type = palfx
trigger1 = time = 0
trigger1 = enemy,stateno = 9232
trigger1 = enemy,var(33) = 0
time = 50
add = 0,0,120
mul = 230,230,230

[state 0,0]
type = changestate
trigger1 = pos y = 0
trigger1 = prevstateno = [120,155]
value = 9302

[State 5100, 11]
type = PosFreeze
trigger1 = Time <= floor(GetHitVar(hittime)*0.8)

[state 0,0]
type = posadd
trigger1 = enemy,stateno != 8200
trigger1 = enemy,stateno != 8420
trigger1 = pos y > -15
trigger1 = time = 0
y = -15

[state 0,0]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 5017

[state 0,0]
type = changeanim
trigger1 = selfanimexist(5017)
trigger1 = time >= 0
value = 5017
[state 0,0]
type = changeanim
trigger1 = selfanimexist(5017) = 0
trigger1 = time >= 0
value = 5012

[state 0,0]
type = velset
trigger1 = time = 2
;trigger1 = enemy,var(33) != 0
x = -9;8.6
y = 0



[state 0,0]
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 9301

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

;---------------------------------------------------------------------------
;壁バウンド
[Statedef 9301]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2
velset = 0,0

[state 0,0]
type = posadd
;trigger1 = pos y > -15
trigger1 = enemy,stateno != 8225
trigger1 = time = 0
y = -7

[state 0,0]
type = changeanim
trigger1 = time <= 10
value = 5030
[state 0,0]
type = changeanim
trigger1 = time = 11
value = 5070

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = F72
postype = p1
pos = -20,-50
ownpal = 1
sprpriority = 3

[state 0,0]
type = envshake
trigger1 = time = 0
time = 12

[state 0,0]
type = velset
trigger1 = time = 14
x = 1.2
y = -3.8
[state 0,0]
type = veladd
trigger1 = time >= 15
y = 0.32;+(gethitvar(hitcount)*0.005)

;[state 0,0]
;type = selfstate
;trigger1 = time = 15
;value = 5071

;[state 0,0]
;type = null;selfstate
;triggerall = authorname != "Drowin arcana"
;trigger1 = gethitvar(hitcount) >= 5
;value = 5200
;ctrl = 1

[state 0,0]
type = changestate
triggerall = authorname = "Drowin arcana"
trigger1 = command = "holda"
trigger1 = var(9) >= 33
value = 9306

[state 0,0]
type = selfstate
trigger1 = vel y > 0 && pos y >= 0
value = 5100
;ctrl = 1

[State 5050, 4] ;Recover near ground
type = selfState
triggerall = alive
trigger1 = time >= ifelse(gethitvar(hitcount)<25, 125 - (gethitvar(hitcount)*5),1)
;trigger1 = Command = "recovery"
value = 5210 ;HITFALL_RECOVER


;---------------------------------------------------------------------------
;壁までふっとび 壁受身
[Statedef 9306]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = 0
velset = 0,0

[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0

[state 0, 0]
type = varset
trigger1 = time >= 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1

[state 0,0]
type = playsnd
triggerall = authorname ="Drowin arcana"
trigger1 = time = 0
value = 230,5

[State 3000, effect]
type = Explod
triggerall = authorname ="Drowin arcana"
trigger1 = time <= 10
anim = 7804
postype = p1
pos = 0,-50
ownpal = 1
sprpriority = 5
scale = 0.1+(time*0.07),0.1+(time*0.07)

[state 0,0]
type = changeanim
trigger1 = time = 0
value = 5205

[state 0,0]
type = velset
trigger1 = time = 13
x = 3.2
y = -2.9
[state 0,0]
type = veladd
trigger1 = time = 13
trigger1 = command = "holddown"
x = -2.5
y = 4.4
[state 0,0]
type = veladd
trigger1 = time = 13
trigger1 = command = "holdup"
y = -2

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 5
add = 128,128,128 ;256,256,256

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time <= 17
value = SCA,AA,AP
time = 4
[State 3900, NotHitBy]
type = HitBy
trigger1 = Time <= 17
value = SCA,AT
time = 4

[state 0,0]
type = changeanim
trigger1 = time = 13
value = 5200
[state 0,0]
type = selfstate
trigger1 = time = 22
value = 50
ctrl = 1
[state 0,0]
type = selfstate
trigger1 = time >= 14
trigger1 = pos y >= 0
value = 52
ctrl = 1

[state 0,0]
type = playerpush
trigger1 = time >= 1
value = 0

;---------------------------------------------------------------------------
;壁までふっとび ガード
[Statedef 9302]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0
[state 0,0]
type = changestate
trigger1 = time = 0
trigger1 = enemy,var(33) = 0
value = 9304
[state 0,0]
type = changeanim
trigger1 = 1
value = 130

[State 5100, 11]
type = PosFreeze
trigger1 = Time <= floor(GetHitVar(hittime)*0.5)

[state 0,0]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0


[state 0,0]
type = velset
trigger1 = time = 1
x = -8
y = 0

[state 0,0]
type = veladd
trigger1 = command = "up"
trigger2 = command = "down"
trigger3 = command = "back"
trigger4 = command = "fwd"
x = 0.12

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 8716

[state 0,0]
type = selfstate
trigger1 = time >= (25 + floor(GetHitVar(hittime)*0.5))
trigger1 = vel x >= -7
value = 50
ctrl = 1


;---------------------------------------------------------------------------
;壁までふっとび  水 guard
[Statedef 9303]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0

[state 0,0]
type = changeanim
trigger1 = 1
value = 130

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 10
add = 0,0,120
mul = 230,230,230


[State 5100, 11]
type = PosFreeze
trigger1 = Time <= floor(GetHitVar(hittime)*0.5)

[state 0,0]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = velset
trigger1 = time = 24
x = -1.6
y = 0
[state 0,0]
type = velset
trigger1 = time = 19
x = -2.3
[state 0,0]
type = velset
trigger1 = time = 13
x = -3
[state 0,0]
type = velset
trigger1 = time = 2
x = -3.8

[state 0,0]
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = selfstate
trigger1 = pos y = 0
trigger1 = time = 40
value = 150
[state 0,0]
type = selfstate
trigger1 = pos y != 0
trigger1 = time = 40
value = 154



;---------------------------------------------------------------------------
;壁までふっとび ガード 水 no use
[Statedef 9304]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 5
add = 0,0,120
mul = 230,230,230

[State 5100, 11]
type = PosFreeze
trigger1 = Time <= floor(GetHitVar(hittime)*0.5)

[state 0,0]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 5000

[state 0,0]
type = velset
trigger1 = time = 1
x = -7
y = 0

[state 0,0]
type = veladd
trigger1 = command = "up"
trigger2 = command = "down"
trigger3 = command = "back"
trigger4 = command = "fwd"
x = 0.08

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 8716

[state 0,0]
type = selfstate
trigger1 = time >= (25 + floor(GetHitVar(hittime)*0.5))
trigger1 = vel x >= -6
value = 50
ctrl = 1


;---------------------------------------------------------------------------
;壁までふっとび  水
[Statedef 9305]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 10
add = 0,0,120
mul = 230,230,230


[State 5100, 11]
type = PosFreeze
trigger1 = Time <= floor(GetHitVar(hittime)*0.5)

[state 0,0]
type = posadd
trigger1 = enemy,stateno != 8200
trigger1 = enemy,stateno != 8420
trigger1 = pos y > -15
trigger1 = time = 0
y = -15

[state 0,0]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 5017

[state 0,0]
type = changeanim
trigger1 = selfanimexist(5017)
trigger1 = time >= 0
value = 5017
[state 0,0]
type = changeanim
trigger1 = selfanimexist(5017) = 0
trigger1 = time >= 0
value = 5012


[state 0,0]
type = velset
trigger1 = time = 24
x = -4.6
y = 0
[state 0,0]
type = velset
trigger1 = time = 19
x = -6.3
[state 0,0]
type = velset
trigger1 = time = 13
x = -7
[state 0,0]
type = velset
trigger1 = time = 2
x = -3.8

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 9301

[state 0,0]
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 0,1

















;------------------------------------------------
;---:::::::::::::::::::::::::::::::::::::::::::::
;屈み弱パンチ
[Statedef 9400]
type    = C
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 405
poweradd = 0
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 400

[state 0,reverse]
type = varset
trigger1 = movehit
trigger1 = fvar(5) > 0.9
fvar(5) = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,3
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 4
value = 1, 0
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 4
value = 1, 1
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[state 0,basuke]
type = varadd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0


[state 0,0]
type = posadd
trigger1 = var(27) >= 1
trigger1 = movehit
x = ceil(enemy,gethitvar(hitcount)*-0.09)


[State 200, HitDef]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = C, NA
damage = 19, ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,30),ifelse(var(33) = 10,0,4)
givepower = 9,3
animtype = Light
guardflag = LA
hitflag = MAFD
priority = 4, Hit
pausetime = 6, 9
guard.pausetime = 3, 4
sparkno = 0;S8000
sparkxy = -9, -10
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -4.5
air.velocity = -3,-2+(var(7)*0.35)
down.velocity = -1,-0.1
fall.yvelocity = ifelse(var(7)>=25,(var(7)*-0.25),-4.5)
ground.cornerpush.veloff = -3

[State 0, 0]
type = PlaySnd
trigger1 = time = 2
value = 100, 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 6
trigger1 = var(59) = 1
trigger1 = random >= 610
trigger1 = movehit
trigger1 = enemy,statetype != A
trigger1 = enemy,life > 0
value = 9420

[State 200, AI]
type = ChangeState
trigger1 = time >= 6
trigger1 = var(59) = 1
trigger1 = random >= 720
trigger1 = movecontact
trigger1 = enemy,statetype != A
trigger1 = enemy,life > 0
value = 9210

;---:::::::::::::::::::::::::::::::::::::::::::::
;屈みy
[Statedef 9410]
type    = C
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 7514;410;405
poweradd = ifelse(var(33)=10,0,30)
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.88
persistent = 0
ignorehitpause = 1

[state 0,0]
type = posadd
trigger1 = time = [4,9]
x = 1
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 420

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,3
[State 210, 2]
type = PlaySnd
trigger1 = var(19) <= 1
trigger1 = time = 4
value = 1, 3
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 2
trigger1 = time = 4
value = 1, 7
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[state 0,basuke]
type = varadd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
trigger1 = movehit
x = ceil(enemy,gethitvar(hitcount)*-0.29)

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = C, NA
damage = 26, 0
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,80)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,30))
givepower = 40,16
animtype = medium
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 8, 13
guard.pausetime = 3, 6
sparkno = 1;S8000
sparkxy = -5, -58
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2.5,0
air.velocity = -1.5,-8.5
down.velocity = -3,0.4
air.fall = 1
fall.recovertime = 20
fall.yvelocity = ifelse(var(7)>=25,(var(7)*-0.25),-4.5)
ground.cornerpush.veloff = -3

[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "teikuu"
value = 4043
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = command = "high2"
value = 4041
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 7
trigger1 = var(59) = 1
;trigger1 = power >= 2000
trigger1 = random >= 430
trigger1 = movehit
trigger1 = enemy,statetype != A
trigger1 = enemy,life > 0
value = 9211
[State 200, AI]
type = ChangeState
trigger1 = time >= 6
trigger1 = var(59) = 1
;trigger1 = var(16) >= 1
trigger1 = random >= 220
trigger1 = movecontact
;trigger1 = enemy,pos y = [-35,0]
trigger1 = enemy,life > 0
value = 9420

;---:::::::::::::::::::::::::::::::::::::::::::::
;屈みz
[Statedef 9420]
type    = C
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 420;405
poweradd = ifelse(var(33)=10,0,40)
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 410

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.8
persistent = 0
ignorehitpause = 1

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,1
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 4
value = 1, 5
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 4
value = 1, 6
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = C, NA
damage = 33, 0
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,110)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,50))
givepower = 42,26
animtype = heavy
guardflag = LA
hitflag = MAFD
priority = 4, Hit
pausetime = 8, 10
guard.pausetime = 4, 6
sparkno = 2;S8000
sparkxy = 0, -5
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -0.7,-4
air.velocity = -0.7,-1.8
down.velocity = -2.8,-0.7
fall = 1
air.fall = 1
fall.recovertime = ifelse(fvar(7)>=24,1,24- floor(fvar(7)))
ground.cornerpush.veloff = -3.6

[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 7
trigger1 = var(59) = 1
trigger1 = random >= 620
trigger1 = movehit
trigger1 = enemy,life > 0
trigger1 = var(16) >= 1
value = 9425
[State 200, AI]
type = ChangeState
trigger1 = time >= 5
trigger1 = var(59) = 1
trigger1 = random >= 40
trigger1 = movehit
trigger1 = enemy,life > 0
;trigger1 = var(16) >= 1
value = 1000


;---:::::::::::::::::::::::::::::::::::::::::::::
;3z
[Statedef 9425]
type    = S
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 7512;405
poweradd = ifelse(var(33)=10,0,30)
sprpriority = 2
velset = 0,0

[state -2,0];火
type = palfx
trigger1 = var(33) = 1
time = 2
ignorehitpause = 1
add = 60,30,0
mul = 200,200,200

[State 0, c]
type = Explod
trigger1 = time = 10
anim = 7333
;scale = 0.5,0.5
postype = p1
pos = 0,-10
ownpal = 1
sprpriority = 5
;bindtime = -1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = prevstateno != 9433
trigger1 = time = 0
value = 7512

[State 200, 3]
type = ChangeState
trigger1 = time = [7,34]
trigger1 = command != "holdz"
value = 9426

[State 200, 3]
type = ChangeState
trigger1 = time = 35 || animelem = 3
trigger1 = var(33) = 1
value = 9427
[State 200, 3]
type = ChangeState
trigger1 = time = 35 || animelem = 3
trigger1 = var(33) = 0
value = 9428
[State 200, 3]
type = ChangeState
trigger1 = time = 35 || animelem = 3
trigger1 = var(33) > 1
trigger1 = var(33) != 7
value = 9429
[State 200, 3]
type = ChangeState
trigger1 = time = 35 || animelem = 3
trigger1 = var(33) = 7
value = 9237


[State 0, shild]
type = HitOverride
trigger1 = var(33) = 6
time = 1
attr = C, NA, SA, HA, NP, SP, HP
stateno = 9433
IgnoreHitPause = 1
[state -2,0];土
type = palfx
trigger1 = var(33) = 6
time = 2
add = 90,90,40

;---------------------------------------------------------------------------
; SGUARDHIT (shaking)
[Statedef 9433]
type    = C
movetype= I;H
physics = N
;velset = 0,0

[State 0, shild]
type = HitOverride
trigger1 = var(33) = 6
time = 1
attr = C, NA, SA, HA, NP, SP, HP
stateno = 9433
IgnoreHitPause = 1

[state -2,0];土
type = palfx
trigger1 = var(33) = 6
time = 2
add = 90,90,40

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = -1
kill = 0

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[state 0,0]
type = posfreeze
trigger1 = time >= 0

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 9425



;---:::::::::::::::::::::::::::::::::::::::::::::
;3z
[Statedef 9426]
type    = S
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 7513
poweradd = 0
sprpriority = 2
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 1
value = 11, 16
channel = 0

[State 1000, mamorigami]
type = Helper
triggerall = time = [4,9]
trigger1 = enemy,name = "Setsuna Sakurazaki"
trigger1 = Numhelper(1115) = 0
helpertype = normal
name = "mamori"
stateno = 9440
ownpal = 1
postype = p1
pos= 0,0
id = 1115
keyctrl = 0

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7513


;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = C, SA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,150),ifelse(var(33) = 10,0,60)
givepower = 52,6
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, 10
guard.pausetime = 6, 6
sparkno = 1;S8000
sparkxy = 0, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -2.5,-18
air.velocity = -2.5,-18
down.velocity = -3,-1
fall = 1
air.fall = 1
fall.recovertime = 80

[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;3z 火
[Statedef 9427]
type    = S
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 7513
poweradd = 0
sprpriority = 2
velset = 2,0
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state -2,0];火
type = palfx
trigger1 = var(33) = 1
time = 2
ignorehitpause = 1
add = 60,30,0
mul = 200,200,200


[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7513

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 1
value = 11, 16
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = C, SA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,150),ifelse(var(33) = 10,0,6)
givepower = 62,6
animtype = heavy
hitflag = MAF
priority = 5, Hit
pausetime = 12, 10
guard.pausetime = 6, 6
sparkno = 1;S8000
sparkxy = 0, -55
hitsound = S32, 13
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -2.5,-18
air.velocity = -2.5,-18
down.velocity = -3,-1
fall = 1
air.fall = 1
fall.recovertime = 80
palfx.time = 40
palfx.add = 100,30,0
palfx.mul = 230,230,230

[State 3000, effect]
type = Explod
triggerall = var(33) = 1
trigger1 = movehit && enemy,movetype = H
trigger1 = time >= 3
anim = 7631
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1


[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---:::::::::::::::::::::::::::::::::::::::::::::
;3z mizu
[Statedef 9428]
type    = S
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 7513
poweradd = 0
sprpriority = 2
velset = 2,0
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7513

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 1
value = 11, 16
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 200, HitDef]
type = HitDef
triggerall = movecontact = 0
triggerall = enemy,stateno = [120,155]
trigger1 = time >= 3
persistent = 0
attr = C, SA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,150),ifelse(var(33) = 10,0,6)
givepower = 52,6
animtype = heavy
hitflag = MAF
priority = 5, Hit
pausetime = 12, 10
guard.pausetime = 6, 6
sparkno = 1;S8000
sparkxy = 0, -55
hitsound = S32, 17
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -2.5,-18
air.velocity = -2.5,-18
down.velocity = -3,-1
fall = 1
air.fall = 1
fall.recovertime = 5
p2stateno = 9430
palfx.time = 40
palfx.add = 0,0,120
palfx.mul = 230,230,230

[State 200, HitDef]
type = HitDef
triggerall = movecontact = 0
triggerall = enemy,stateno != [120,155]
trigger1 = time >= 3
persistent = 0
attr = C, SA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,150),ifelse(var(33) = 10,0,6)
givepower = 22,6
animtype = heavy
hitflag = MAF
priority = 5, Hit
pausetime = 12, 18
guard.pausetime = 6, 6
sparkno = 1;S8000
sparkxy = 0, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 70
ground.hittime  = 15
ground.velocity = -2.2,-14
air.velocity = -2.5,-14
down.velocity = -3,-1
fall = 1
air.fall = 1
fall.recovertime = 80
;p2stateno = 9432
palfx.time = 40
palfx.add = 0,0,120
palfx.mul = 230,230,230


[State 3000, effect]
type = Explod
triggerall = var(33) = 0
trigger1 = movehit && enemy,movetype = H
trigger1 = time >= 3
anim = 7632
postype = p2
pos = 0,-50
random = 10,16
bindtime = -1
ownpal = 1
sprpriority = 5
persistent = 0
ignorehitpause = 1


[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---:::::::::::::::::::::::::::::::::::::::::::::
;3z 
[Statedef 9429]
type    = S
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 7513
poweradd = 0
sprpriority = 2
velset = 2,0
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7513

[State 1000, mamorigami]
type = Helper
triggerall = time = [4,9]
trigger1 = enemy,name = "Setsuna Sakurazaki"
trigger1 = Numhelper(1115) = 0
helpertype = normal
name = "mamori"
stateno = 9440
ownpal = 1
postype = p1
pos= 0,0
id = 1115
keyctrl = 0

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 1
value = 11, 16
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 200, HitDef]
type = HitDef
triggerall = movecontact = 0
triggerall = enemy,stateno != [120,155]
trigger1 = time >= 3
persistent = 0
attr = C, NA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,50),ifelse(var(33) = 10,0,6)
givepower = 22,6
animtype = heavy
hitflag = MAF
priority = 5, Hit
pausetime = 12, 10
guard.pausetime = 6, 6
sparkno = 1;S8000
sparkxy = 0, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -2.5,-18
air.velocity = -2.5,-18
down.velocity = -3,-1
fall = 1
air.fall = 1
fall.recovertime = 80

[State 200, HitDef]
type = HitDef
triggerall = movecontact = 0
triggerall = enemy,stateno = [120,155]
trigger1 = time >= 3
persistent = 0
attr = C, NA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(33) = 10,0,150),ifelse(var(33) = 10,0,6)
givepower = 22,6
animtype = heavy
hitflag = MAF
priority = 5, Hit
pausetime = 12, 10
guard.pausetime = 6, 6
sparkno = 1;S8000
sparkxy = 0, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -2.5,-18
air.velocity = -2.5,-18
down.velocity = -3,-1
fall = 1
air.fall = 1
fall.recovertime = 5
p2stateno = 9431

[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ふっとび ガード
[Statedef 9430]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0

;[state 0,0]
;type = changeanim
;trigger1 = 1
;value = 130

[State 5100, 11]
type = PosFreeze
trigger1 = Time <= floor(GetHitVar(hittime)*0.5)

[state 0,0]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 132

[state 0,0]
type = velset
trigger1 = time = 1
x = -2
y = -10
[state 0,0]
type = veladd
trigger1 = time = 18
x = -0.3
y = -3
[state 0,0]
type = veladd
trigger1 = time = 25
x = -0.5
y = -4
[state 0,0]
type = veladd
trigger1 =  Time > floor(GetHitVar(hittime)*0.5)
y = 0.45

[state 0,0]
type = veladd
trigger1 = command = "up"
trigger2 = command = "down"
trigger3 = command = "back"
trigger4 = command = "fwd"
x = 0.1

[state 0,0]
type = selfstate
trigger1 = time >= (5 + floor(GetHitVar(hittime)*0.5))
trigger1 = vel x >= -1.3
value = 5200
ctrl = 1

[state 0,0]
type = selfstate
trigger1 = time >= (15 + floor(GetHitVar(hittime)*0.5))
trigger1 = time >= 50
value = 5050
ctrl = 0

;---------------------------------------------------------------------------
;ふっとび ガード normal
[Statedef 9431]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0
[state 0,0]
type = changestate
trigger1 = time = 0
trigger1 = enemy,var(33) = 0
value = 9304
;[state 0,0]
;type = changeanim
;trigger1 = 1
;value = 130

[State 5100, 11]
type = PosFreeze
trigger1 = Time <= floor(GetHitVar(hittime)*0.5)

[state 0,0]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 132

[state 0,0]
type = velset
trigger1 = time = 1
x = -2.5
y = -18
[state 0,0]
type = veladd
trigger1 =  Time > floor(GetHitVar(hittime)*0.5)
y = 0.45

[state 0,0]
type = veladd
trigger1 = command = "up"
trigger2 = command = "down"
trigger3 = command = "back"
trigger4 = command = "fwd"
x = 0.1

[state 0,0]
type = selfstate
trigger1 = time >= (5 + floor(GetHitVar(hittime)*0.5))
trigger1 = vel x >= -1.5
value = 5200
ctrl = 1

[state 0,0]
type = selfstate
trigger1 = time >= (5 + floor(GetHitVar(hittime)*0.5))
trigger1 = time >= 50
value = 5050
ctrl = 0



;---------------------------------------------------------------------------
;簡易防御壁
[Statedef 9440]
type = S
movetype = I
physics = N
ctrl = 0
anim = 7803
velset = 0,0

[State 0,0]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 0,0]
type = BindToParent
trigger1 = time = 0
time = 2
pos = 0,0

[State 600, 4]
type = ReversalDef
trigger1 = time >= 0
attr = S,SA
reversal.attr = SCA, AP
sparkxy = 0,0
sparkno = -1
pausetime = 0,0
hitsound = -1
p1stateno = 9441
p2stateno = 9442

[State 10011, 4]
type = HitOverride
trigger1 = Time >= 0
attr = SCA,AP
stateno = 1116
time = 2

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NT, ST, HT
time = -1

[State 8004,2]
type = hitby
trigger1 = 1
value = SCA, NP, SP, HP

[State 0,0]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
[Statedef 9441]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
anim = 9999

[State 0,0]
type = destroyself
trigger1 = time >= 0

;---------------------------------------------------------------------------
;防御hit相手
[Statedef 9442]
type = A
movetype = H
physics = N
velset = -4,-10

[state 0,0]
type = destroyself
trigger1 = time = 30
trigger2 = animtime = 0

;[state 0,0]
;type = destroyself
;trigger1 = anim != 7607
;trigger1 = time = 30

[state 0,0]
type = selfstate
trigger1 = ishelper = 0
trigger1 = time = 10
value = 5050
ctrl = 1





;--------------------------------------------------
;JX 
[Statedef 9600]
type    = A
movetype= A
physics = A
ctrl = 0
;anim = 7628;40
sprpriority = 2
poweradd = 0
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 600

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,3
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 4
value = 12, 2
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 4
value = 12, 3
channel = 0

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 100,1

[State 200, HitDef1]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = A, NA
damage = 24, 0
getpower = ifelse(var(33) = 10,0,25)
givepower = 4
animtype = heavy
guardflag = HA
hitflag = MAFD
priority = 4, Hit
pausetime = 8, 10
guard.pausetime = 5, 11
sparkno = 0
sparkxy = -8, -55
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = ifelse(var(37)=1,12,8)
ground.hittime  = ifelse(enemy,gethitvar(hitcount) >= 3,7,8)
air.slidetime = ifelse(var(37)=1,15,13)
air.hittime  = ifelse(var(37)=1,15,13)
ground.velocity = -2,0
air.velocity = -1,-3.95
ground.cornerpush.veloff = -3
fall.recovertime = ifelse(fvar(7)>=18,1,18- floor(fvar(7)))
ground.cornerpush.veloff = -3
air.cornerpush.veloff = -3.5

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[state 0,0]
type = ctrlset
trigger1 = time >= 21
trigger1 = anim = 5040
value = 1

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "teikuu"
value = 4043
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = var(33) != 2
trigger1 = var(32) = 0
trigger1 = command = "holdup"
value = 45
ctrl = 1
ignorehitpause = 1

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = movecontact
trigger1 = random >= 30
;trigger1 = p2dist x <= 100
trigger1 = p2dist y = [-70,70]
value = 9610

;------------------------------------------------------
;JY
[Statedef 9610]
type    = A
movetype= A
physics = A
ctrl = 0
;anim = 7509
sprpriority = 2
poweradd = ifelse(var(33)=10,0,30)
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.88
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 610

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,1
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 4
value = 11, 2
channel = 0


[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 6
persistent = 0
attr = A, NA
damage = 29, 0
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,80))
givepower = 40
animtype = heavy
guardflag = HA
hitflag = MAFD
priority = 5, Hit
pausetime = ifelse(var(37)=1,12,10), ifelse(var(37)=1,22,9)
guard.pausetime = 8, 13
sparkno = 2
sparkxy = -8, -50
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = ifelse(enemy,gethitvar(hitcount) >= 3,12,18)
ground.velocity = -3,0
air.slidetime = ifelse(var(37)=1,20,15)
air.hittime  = ifelse(var(37)=1,20,15)
air.velocity = -3.2,-3.28
air.fall = 1
fall.recovertime = ifelse(fvar(7)>=37,1,37- floor(fvar(7)));ifelse(enemy,gethitvar(hitcount)<11, (30 - enemy,gethitvar(hitcount)), 19)
envshake.time = 10
envshake.ampl = 2
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6.5

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 210, 3]
type = velmul
trigger1 = movehit
trigger1 = enemy,backedgedist <= 2
trigger1 = vel x >= 3.5
x = 0.8

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movecontact
trigger1 = command = "teikuu"
value = 4043
ctrl = 1

[State 210, 3]
type = Changestate
trigger1 = time = 40
value = 5040
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = var(33) != 2
trigger1 = var(32) = 0
trigger1 = command = "holdup"
value = 45
ctrl = 1
ignorehitpause = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = var(33) = 2
trigger1 = var(32) <= 1
trigger1 = command = "holdup"
value = 45
ctrl = 1
ignorehitpause = 1

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = fvar(7) >= 12
trigger1 = time >= 5
trigger1 = movecontact
trigger1 = random >= 190
;trigger1 = p2dist x <= 120
;trigger1 = p2dist y = [-85,-30]
value = 9620

[State 200, AI]
type = ChangeState
triggerall = prevstateno != 4044
trigger1 = var(59) = 1
trigger1 = var(32) = 0
trigger1 = time >= 5
trigger1 = movehit
trigger1 = random >= 30
trigger1 = p2dist y <= -46
value = 9152

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = movehit
trigger1 = random >= 730
trigger1 = p2dist y <= -10
trigger1 = power >= 1100
trigger1 = enemy,statetype = A
value = 9719

;------------------------------------------------------
;JZ たたきつけ
[Statedef 9611]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
;anim = 7515
sprpriority = 2
poweradd = ifelse(var(33)=10,0,45)
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7515

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 6
persistent = 0
attr = A, NA
damage = ifelse(var(39)=1,30,27), 0
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,120))
givepower = 68
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 12,8
guard.pausetime = 9, 12
sparkno = 2
sparkxy = -8, -50
hitsound = S101, 3
guardsound = S0, 0
ground.type = trip;high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -2,-0.5
air.slidetime = ifelse(var(37)=1,20,15)
air.hittime  = ifelse(var(37)=1,20,15)
air.velocity = -2,5
fall = 1
air.fall = 1
fall.recovertime = ifelse(fvar(7)>=40,1,40- floor(fvar(7))); ifelse(enemy,gethitvar(hitcount) <20, Abs(40 - enemy,gethitvar(hitcount)), 20)
envshake.time = 10
envshake.ampl = 2

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040


;------------------------------------------------------
;JZ
[Statedef 9620]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
;anim = 7510;02
sprpriority = 2
poweradd = ifelse(var(33)=10,0,40)
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.88
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 620

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,1
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 4
value = 11, 1
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 2

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 4
persistent = 0
attr = A, NA
damage = 35, 0
getpower = ifelse(var(33) = 10,0,130),ifelse(var(33) = 10,0,38)
givepower = ifelse(fvar(12)=0.1,0,45),25
animtype = heavy
guardflag = HA
hitflag = MAFD
priority = 5, Hit
pausetime = 13, ifelse(var(37)=1,9,12)
guard.pausetime = 6, 7
sparkno = 1
sparkxy = -8, -55
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = ifelse(var(37)=1,14,11)
ground.hittime  =  ifelse(enemy,gethitvar(hitcount) >= 3,10,18)
air.slidetime = ifelse(var(37)=1,17,13)
air.hittime  = ifelse(var(37)=1,17,13)
ground.velocity = -1.8,0
air.velocity = -1,11.2
;fall = 1
air.fall = 1
fall.recovertime = ifelse(fvar(7)>=34,1,34- floor(fvar(7)));;ifelse(enemy,gethitvar(hitcount) <10, Abs(38 - enemy,gethitvar(hitcount)), 28)
;p2stateno = 621
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5.5

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[state 0,0]
type = ctrlset
trigger1 = time >= 21
trigger1 = anim = 5040
value = 1


[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 5
trigger1 = movehit
trigger1 = random >= 330
trigger1 = power >= 1000
trigger1 = enemy,statetype = A
value = 1036
[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 5
trigger1 = movehit
trigger1 = random >= 130
trigger1 = p2dist y <= -10
trigger1 = power >= 1100
trigger1 = enemy,statetype = A
value = 9719
[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 5
trigger1 = movehit
trigger1 = random >= 340
;trigger1 = p2dist y <= -10
trigger1 = enemy,statetype = A
value = 1030

[State 200, AI]
type = ChangeState
trigger1 = moveguarded
trigger1 = var(59) = 1
trigger1 = random >= 500
value = 1020
[State 200, AI]
type = ChangeState
trigger1 = moveguarded
trigger1 = var(59) = 1
trigger1 = random >= 500
value = 1021
[State 200, AI]
type = ChangeState
trigger1 = moveguarded
trigger1 = var(59) = 1
trigger1 = random >= 500
value = 1022















;------------------------------------------
;アルカナ　ニュートラルホーミング
[Statedef 9010]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 5200
sprpriority = 1
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 19
value = 33, 2

[state 0,0]
type = palfx
triggerall = time = 0
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
time = 5
add = 230,230,230
[state 0,0]
type = palfx
triggerall = time = [5,19]
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
time = 1
add = 235-(time*5),235-(time*5),230-(time*5)


[State 52, 3]
type = CtrlSet
trigger1 = time >= 20
value = 1
[State 52, 4]
type = Changeanim
trigger1 = time >= 19
trigger1 = anim != 7508
trigger1 = p2dist y >= -20
trigger2 = time = 19
value = 7508
persistent = 10

[State 52, 4]
type = Changeanim
trigger1 = time >= 19
trigger1 = p2dist y < -20
trigger1 = anim != 7530
value = 7530
persistent = 10

[state 0,0]
type = reversaldef
;trigger1 = enemy,movetype = A
trigger1 = fvar(12) = 0.1
trigger1 = var(33) = 5
trigger1 = time >= 19
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 10,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 30,2
persistent = 0

[State 5040, 4]
type = StateTypeSet
trigger1 = fvar(12) = 0.1
trigger1 = var(33) = 1
movetype = a

[State 200, HitDef1]
type = HitDef
trigger1 = fvar(12) = 0.1
trigger1 = var(33) = 1
persistent = 0
attr = A, NA
damage = 10, 3
getpower = ifelse(var(33) = 10,0,15)
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 1, miss
pausetime = 1, 1
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -2
air.velocity = -3,-3
air.fall = 1
fall.recovertime = 10
guard.kill = 0
palfx.time = 20
palfx.add = 100,30,0


[State 52, 4]
type = ChangeState
trigger1 = time = 180
trigger2 = time >= 21
trigger2 = command != "holda"
trigger3 = p2bodydist x = [-8,8]
trigger3 = p2bodydist y = [-30,30]
trigger3 = time >= 30
value = 50;5040
ctrl = 1
[State 52, 4]
type = ChangeState
trigger1 = time >= 2
trigger1 = pos y >= 2
value = 52
ctrl = 0


[state 2, BOOST]
type = velset
trigger1 = p2dist x < -5
x = vel x *-1
persistent = 2
[state 0,0]
type = turn
trigger1 = p2dist x < -5


[state 2, BOOST]
type = veladd
trigger1 = time = 20
trigger1 = p2dist x > 1
x = 2
[state 2, BOOST]
type = velset
trigger1 = time >= 20
trigger1 = p2dist x < 1
x = 0
[state 2, BOOST]
type = veladd
trigger1 = time = 20
trigger1 = p2dist y < -20
y = -3
[state 2, BOOST]
type = veladd
trigger1 = time = 20
trigger1 = p2dist y > -20
trigger1 = pos y <= -10
y = 3
[state 2, BOOST]
type = velset
triggerall = enemy,pos y >= 0
triggerall = vel y >=3
trigger1 = time > 20
trigger1 = pos y >= -9
y = 0
[state 2, BOOST]
type = velset
triggerall = enemy,pos y >= 0
triggerall = vel y >=3
trigger1 = time > 20
trigger1 = pos y = [-100,-50]
y = 1
persistent = 0
[state 2, BOOST]
type = velset
triggerall = enemy,pos y >= 0
triggerall = vel y >=3
trigger1 = time > 20
trigger1 = pos y = [-49,-11]
y = 0.5
persistent = 0
[state 2, BOOST]
type = posset
trigger1 = time >= 20
trigger1 = pos y > -9
y = -10
[state 2, BOOST]
type = null;velset;posadd
triggerall = enemy,movetype = H
trigger1 = enemy,stateno = [9300,9301]
trigger1 = time >= 20
trigger1 = pos y > -65
y = -2


[state 2, BOOST]
type = posadd
trigger1 = time >= 20
trigger1 = p2dist x > 20
x = 9;11
[state 2, BOOST]
type = posadd
;trigger1 = time >= 20
trigger1 = p2dist x = [5,19]
x = 1;11
[state 2, BOOST]
type = posadd
triggerall = time >= 20
trigger1 = p2dist y < 10
trigger2 = p2dist y < 150
trigger2 = command = "holdup"
y = -6;-9
[state 2, BOOST]
type = posadd
triggerall = time >= 20
trigger1 = p2dist y > 70
trigger1 = pos y <= -30
trigger2 = command = "holddown"
y = 5;9
[state 2, BOOST]
type = posadd
trigger1 = time >= 20
trigger1 = p2dist y < -80
trigger1 = pos y <= -10
y = -1;9

[state 2, BOOST]
type = posadd
triggerall = time >= 20
trigger1 = command = "holdfwd"
x = 3;9
[state 2, BOOST]
type = posadd
triggerall = time >= 20
;trigger1 = p2dist x > 5
trigger1 = command = "holdback"
x = -3;9

[state 0, 0]
type = veladd
trigger1 = time >= 20
y = -0.01


[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0
[state 0, 0]
type = null;varadd
trigger1 = time = 0
trigger1 = var(9) > 33
v = 9
value = ifelse(var(16)=1,(var(9)-35)*-1,ifelse(var(16)=2,(var(9)-68)*-1,-33));-33

[state 0, 0]
type = varset
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
v = 30
value = 350
[state 0, 0]
type = varset
trigger1 = time = 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1


[State 0, 0]
type = Helper
trigger1 = time = 25
helpertype = normal
name = "mahoujin"
ID = 9016
stateno = 9016
postype = p1
pos = 0,-50
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5


[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = var(41) = 3
trigger1 = time >= 21
trigger1 = random >= 20
trigger1 = p2dist x <= 80
trigger1 = p2dist y = [-75,-10]
value = 9600
[State 200, AI]
type = ChangeState
trigger1 = var(41) = 3
trigger1 = var(59) = 1
trigger1 = time >= 21
trigger1 = random >= 20
trigger1 = p2dist x <= 80
trigger1 = p2dist y = [-105,-35]
value = 9610
[State 200, AI]
type = ChangeState
trigger1 = var(41) = 3
trigger1 = var(59) = 1
trigger1 = time >= 21
trigger1 = random >= 460
trigger1 = p2dist x <= 85
trigger1 = p2dist y >= -18
value = 9620


;------------------------------------------
;アルカナ　前要素ホーミング
[Statedef 9011]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 5200
sprpriority = 1
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 5
value = 33, 2

[state 0,0]
type = palfx
triggerall = time <= 5
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
time = 1
add = 200-(time*15),200-(time*15),200-(time*15)

[State 52, 4]
type = Changeanim
trigger1 = time = 5
value = 7508

[State 52, 3]
type = CtrlSet
trigger1 = time >= 10
value = 1

[State 52, 4]
type = ChangeState
trigger1 = time >= 20
value = 9013
[State 52, 4]
type = ChangeState
trigger1 = time = 120
trigger2 = time >= 9
trigger2 = command != "holda"
value = 5040
ctrl = 1

[state 2, BOOST]
type = veladd
trigger1 = time = 6
;trigger1 = p2bodydist x > 10
x = 2
[state 2, BOOST]
type = veladd
trigger1 = time = 0
trigger1 = command = "holdup"
y = -4
[state 2, BOOST]
type = veladd
trigger1 = time = 0
trigger1 = command = "holddown"
y = 4

[state 2, BOOST]
type = posadd
trigger1 = time >= 6
;trigger1 = p2bodydist x > 10
x = 4

[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0
[state 0, 0]
type = null;varadd
trigger1 = time = 0
trigger1 = var(9) > 33
v = 9
value = ifelse(var(16)=1,(var(9)-35)*-1,ifelse(var(16)=2,(var(9)-68)*-1,-33));-33

[state 0, 0]
type = varset
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
v = 30
value = 350
[state 0, 0]
type = varset
trigger1 = time = 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1



;------------------------------------------
;アルカナ　↓要素ホーミング
[Statedef 9012]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 5200
sprpriority = 1
velset = 0,0


[State 3000, Cut in]
type = Explod
triggerall = var(33) = 2
trigger1 = numexplod(1997) <= 6
trigger1 = time <= 35
persistent = 5
anim = 7325
postype = p1
pos = ((random %10)*2),((random %10)*2)-45
vel = 0,-8
ownpal = 1
sprpriority = -5
supermovetime =100
scale = 0.25,0.25
removetime = 15
id = 1997

[State 210, 2]
type = PlaySnd
trigger1 = time = 5
value = 33, 2

[state 0,0]
type = palfx
triggerall = time <= 5
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
time = 1
add = 200-(time*15),200-(time*15),200-(time*15)

[State 52, 4]
type = Changeanim
trigger1 = time = 6
value = 5040;7508

;[State 52, 4]
;type = ChangeState
;trigger1 = time >= 40
;value = 9013
[State 52, 4]
type = ChangeState
trigger1 = time = 120
trigger2 = time >= 10
trigger2 = command != "holda"
value = 5040
ctrl = 1
[State 52, 4]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 0

[State 52, 3]
type = CtrlSet
trigger1 = time >= 6
value = 1

[State 52, 4]
type = ChangeState
triggerall = var(33) != 2
trigger1 = time >= 20
value = 9013
[state 2, BOOST]
type = veladd
trigger1 = time = 6
;trigger1 = p2bodydist x > 10
y = 3
[state 2, BOOST]
type = veladd
trigger1 = time = 6
trigger1 = var(33) = 2
y = 7

[state 2, BOOST]
type = posadd
trigger1 = time >= 6
;trigger1 = p2bodydist x > 10
y = 4

[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0

[state 0, 0]
type = varset
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
v = 30
value = 350
[state 0, 0]
type = varset
trigger1 = time = 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1


;------------------------------------------
;アルカナ　airホーミング後半
[Statedef 9013]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = 1
;velset = 0,0

[state 0,0]
type = reversaldef
;trigger1 = enemy,movetype = A
trigger1 = fvar(12) = 0.1
trigger1 = var(33) = 5
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 10,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 30,2
persistent = 0

[State 5040, 4]
type = StateTypeSet
trigger1 = fvar(12) = 0.1
trigger1 = var(33) = 1
movetype = a

[State 200, HitDef1]
type = HitDef
trigger1 = fvar(12) = 0.1
trigger1 = var(33) = 1
persistent = 0
attr = A, NA
damage = 10, 3
getpower = 15
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 1, miss
pausetime = 1, 1
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -2
air.velocity = -3,-3
air.fall = 1
fall.recovertime = 10
guard.kill = 0
palfx.time = 20
palfx.add = 100,30,0


[State 0, 0]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "mahoujin"
ID = 9016
stateno = 9016
postype = p1
pos = 0,-50
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[state 2, BOOST]
type = posadd
trigger1 = command = "holdfwd"
x = 3;9
[state 2, BOOST]
type = posadd
trigger1 = command = "holdback"
x = -3;9

[State 52, 3]
type = null;CtrlSet
trigger1 = time >= 25
value = 1
[State 52, 4]
type = Changeanim
trigger1 = anim != 7508
trigger1 = p2dist y >= -20
value = 7508

[State 52, 4]
type = Changeanim
trigger1 = p2dist y < -20
trigger1 = anim != 7530
value = 7530



[State 52, 4]
type = ChangeState
trigger1 = time = 120
trigger2 = time >= 2
trigger2 = command != "holda"
value = 5040
ctrl = 1
[State 52, 4]
type = ChangeState
;trigger1 = time >= 2
trigger1 = pos y >= 2
value = 52
ctrl = 0



[state 2, BOOST]
type = velset
trigger1 = p2dist x < -5
x = vel x *-1
persistent = 2
[state 0,0]
type = turn
trigger1 = p2dist x < -5


[state 2, BOOST]
type = veladd
trigger1 = time = 0
trigger1 = p2dist x > 1
x = 2
[state 2, BOOST]
type = velset
trigger1 = p2dist x < 1
x = 0
[state 2, BOOST]
type = veladd
trigger1 = time = 0
trigger1 = p2dist y < -35
y = -3
[state 2, BOOST]
type = veladd
trigger1 = time = 0
trigger1 = p2dist y > 50
trigger1 = pos y <= -10
y = 3
[state 2, BOOST]
type = velset
triggerall = enemy,pos y >= 0
triggerall = vel y >=3
trigger1 = pos y >= -9
y = 0
[state 2, BOOST]
type = velset
triggerall = enemy,pos y >= 0
triggerall = vel y >=3
trigger1 = pos y = [-100,-50]
y = 1
persistent = 0
[state 2, BOOST]
type = velset
triggerall = enemy,pos y >= 0
triggerall = vel y >=3
trigger1 = pos y = [-49,-11]
y = 0.5
persistent = 0
[state 2, BOOST]
type = posset
trigger1 = pos y > -9
y = -10
[state 2, BOOST]
type = null;velset;posadd
triggerall = enemy,movetype = H
trigger1 = enemy,stateno = [9300,9301]
trigger1 = pos y > -65
y = -2


[state 2, BOOST]
type = posadd
;trigger1 = time >= 20
trigger1 = p2dist x > 20
x = 9;11
[state 2, BOOST]
type = posadd
;trigger1 = time >= 20
trigger1 = p2dist x = [5,19]
x = 1;11
[state 2, BOOST]
type = posadd
;triggerall = time >= 20
trigger1 = p2dist y < -30
trigger2 = p2dist y < 150
trigger2 = command = "holdup"
y = -6;-9
[state 2, BOOST]
type = posadd
;triggerall = time >= 20
trigger1 = p2dist y > 70
trigger1 = pos y <= -30
trigger2 = command = "holddown"
y = 5;9
[state 2, BOOST]
type = posadd
;trigger1 = time >= 20
trigger1 = p2dist y < -80
trigger1 = pos y <= -10
y = -1;9


[state 0, 0]
type = veladd
trigger1 = time >= 0
y = -0.05



[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = var(41) = 3
trigger1 = time >= 1
trigger1 = random >= 20
trigger1 = p2dist x <= 80
trigger1 = p2dist y = [-75,-10]
value = 9600
[State 200, AI]
type = ChangeState
trigger1 = var(41) = 3
trigger1 = var(59) = 1
trigger1 = time >= 1
trigger1 = random >= 20
trigger1 = p2dist x <= 80
trigger1 = p2dist y = [-105,-35]
value = 9610
[State 200, AI]
type = ChangeState
trigger1 = var(41) = 3
trigger1 = var(59) = 1
trigger1 = time >= 1
trigger1 = random >= 460
trigger1 = p2dist x <= 85
trigger1 = p2dist y >= -18
value = 9620




;------------------------------------------
;アルカナ　地上前要素ホーミング
[Statedef 9014]
type    = S
movetype= I
physics = N
ctrl = 0
;anim = 5200
sprpriority = 1
velset = 0,0

[State 52, 4]
type = Changeanim
triggerall = prevstateno != 9024
trigger1 = time = 0
value = 7531;5200

[State 210, 2]
type = PlaySnd
triggerall = prevstateno != 9024
trigger1 = time = 2
value = 33, 2

[State 52, 4]
type = Changeanim
triggerall = prevstateno != 9024
trigger1 = time = 5
trigger1 = anim != 7508
value = 7508

[State 52, 4]
type = Changeanim
triggerall = prevstateno = [9024,9039]
trigger1 = time = 0
value = 7508

[State 52, 4]
type = ChangeState
triggerall = prevstateno != [9032,9039]
triggerall = prevstateno != 9024
trigger1 = time <= 2
trigger1 = var(33) = 7
value = 9024

[State 52, 4]
type = ChangeState
triggerall = prevstateno != [9032,9039]
triggerall = prevstateno != 9024
trigger1 = time <= 2
trigger1 = var(33) = 6
value = 9025


[state 0,0]
type = palfx
triggerall = time <= 5
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
trigger3 = prevstateno = 941
time = 1
add = 200-(time*15),200-(time*15),200-(time*15)


[State 52, 3]
type = CtrlSet
trigger1 = time >= 3
value = 1

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 52, 4]
type = ChangeState
trigger1 = time = 9999
trigger2 = time >= 8
trigger2 = command != "holda"
value = 0
ctrl = 1

[state 2, BOOST]
type = veladd
trigger1 = time = 6
;trigger1 = p2bodydist x > 10
x = 2.5

[state 2, BOOST]
type = posadd
trigger1 = time >= 6
;trigger1 = p2bodydist x > 10
x = 4

[state 2, BOOST]
type = posadd
trigger1 = time < 6
trigger1 = anim = 7508
x = 4




[state 0, 0]
type = varadd
triggerall = prevstateno != [9032,9039]
triggerall = prevstateno != 9024
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0
[state 0, 0]
type = null;varadd
trigger1 = time = 0
trigger1 = var(9) > 33
v = 9
value = ifelse(var(16)=1,(var(9)-35)*-1,ifelse(var(16)=2,(var(9)-68)*-1,-33));-33


[state 0, 0]
type = varset
triggerall = prevstateno != [9032,9039]
triggerall = prevstateno != 9024
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
trigger3 = prevstateno = 941
v = 30
value = 350
[state 0, 0]
type = varset
triggerall = prevstateno != [9032,9039]
triggerall = prevstateno != 9024
trigger1 = time = 0
v = 30
value = 100
[state 0, 0]
type = varadd
triggerall = prevstateno != [9032,9039]
triggerall = prevstateno != 9024
trigger1 = time = 1
v = 16
value = -1

[state 0, 0]
type = varset
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
trigger3 = prevstateno = 941
v = 30
value = 350


;------------------------------------------
;アルカナ　後ろ要素ホーミング
[Statedef 9015]
type    = S;A
movetype= I
physics = N
ctrl = 0
anim = 105
sprpriority = 0
velset = -4.5,0;-3

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = [0,13]
value = SCA
time = 2


[State 52, 4]
type = Changeanim
trigger1 = time = 21
value = 7508

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 33, 2

[state 0,0]
type = palfx
triggerall = time <= 5
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
time = 1
add = 210-(time*15),210-(time*15),200-(time*15)

[State 52, 4]
type = Changeanim
trigger1 = time = 8
value = 7533

[State 52, 3]
type = CtrlSet
trigger1 = time >= 26
value = 1

[State 100, 9]
type = AssertSpecial
trigger1 = time <= 32
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 52, 4]
type = ChangeState
trigger1 = time = 9999
trigger2 = time >= 32
trigger2 = command != "holda"
value = 0
ctrl = 1

[state 2, BOOST]
type = velset
trigger1 = time = 15
x = 2.5
y = 0
;[state 2, BOOST]
;type = posadd
;trigger1 = time = [15,21]
;y = 5
[state 2, BOOST]
type = posadd
trigger1 = time >= 22
;trigger1 = p2bodydist x > 10
x = 4
[state 2, BOOST]
type = posset
trigger1 = time = 22
;trigger1 = p2bodydist x > 10
y = 0
[State 5040, 4]
type = StateTypeSet
trigger1 = time >= 22
statetype = S

[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0
[state 0, 0]
type = null;varadd
trigger1 = time = 0
trigger1 = var(9) > 33
v = 9
value = ifelse(var(16)=1,(var(9)-35)*-1,ifelse(var(16)=2,(var(9)-68)*-1,-33));-33

[state 0, 0]
type = varset
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
v = 30
value = 350
[state 0, 0]
type = varset
trigger1 = time = 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1

;------------------------------------------
;アルカナ　魔法陣
[Statedef 9016]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7563
sprpriority = 0
velset = 0,0

[state 0,0]
type = angleset
trigger1 = time = 0
value = ifelse(parent,vel y < 0,30,ifelse(parent,vel y > 0,-30,0))


[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time >= 1
time = 1
mul = 255-(time*5),255-(time*5),255-(time*5)

[state 0,0]
type = angledraw
trigger1 = 1

[State -1]
Type     = Trans
Trigger1 = 1
Trans    = Add

[state 0,0]
type = destroyself
trigger1 = animtime = 0


;------------------------------------------
;アルカナ　↑要素ホーミング
[Statedef 9017]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 5200
sprpriority = 1
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 5
value = 33, 2

[state 0,0]
type = palfx
triggerall = time <= 5
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
time = 1
add = 200-(time*15),200-(time*15),200-(time*15)

[State 52, 4]
type = Changeanim
trigger1 = time = 6
value = 5040;7508

[State 52, 4]
type = ChangeState
trigger1 = time = 120
trigger2 = time >= 10
trigger2 = command != "holda"
value = 5040
ctrl = 1
[State 52, 4]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 0

[State 52, 3]
type = CtrlSet
trigger1 = time >= 10
value = 1

[State 52, 4]
type = ChangeState
trigger1 = time >= 20
value = 9013
[state 2, BOOST]
type = veladd
trigger1 = time = 6
;trigger1 = p2bodydist x > 10
y = -3

[state 2, BOOST]
type = posadd
trigger1 = time >= 6
;trigger1 = p2bodydist x > 10
y = -4

[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0

[state 0, 0]
type = varset
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
v = 30
value = 350
[state 0, 0]
type = varset
trigger1 = time = 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1


;------------------------------------------
;アルカナ　air後ろ要素ホーミング
[Statedef 9018]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 105
sprpriority = 0
velset = -4.5,-3

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 33, 2

[State 52, 4]
type = ChangeState
trigger1 = time >= 20
value = 9013

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = [0,10]
value = SCA
time = 2


[State 52, 4]
type = Changeanim
trigger1 = time = 21
value = 7508

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[state 0,0]
type = palfx
triggerall = time <= 5
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
time = 1
add = 210-(time*15),210-(time*15),200-(time*15)

[State 52, 4]
type = Changeanim
trigger1 = time = 8
value = 7533

[State 52, 3]
type = CtrlSet
trigger1 = time >= 21
value = 1

[State 52, 4]
type = ChangeState
trigger1 = time = 120
trigger2 = time >= 32
trigger2 = command != "holda"
value = 0
ctrl = 1

[state 2, BOOST]
type = veladd
trigger1 = time = 0
trigger1 = command = "holdup"
y = -4
[state 2, BOOST]
type = veladd
trigger1 = time = 0
trigger1 = command = "holddown"
y = 4
[state 2, BOOST]
type = velset
trigger1 = time = 15
x = 2.5
y = 0
[state 2, BOOST]
type = posadd
trigger1 = time = [15,21]
y = 5
[state 2, BOOST]
type = posadd
trigger1 = time >= 22
;trigger1 = p2bodydist x > 10
x = 4
[state 2, BOOST]
type = posset
trigger1 = time = 22
;trigger1 = p2bodydist x > 10
y = 0

[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0
[state 0, 0]
type = null;varadd
trigger1 = time = 0
trigger1 = var(9) > 33
v = 9
value = ifelse(var(16)=1,(var(9)-35)*-1,ifelse(var(16)=2,(var(9)-68)*-1,-33));-33

[state 0, 0]
type = varset
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
v = 30
value = 350
[state 0, 0]
type = varset
trigger1 = time = 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1





;------------------------------------------
;アルカナ　土　地上前要素ホーミング
[Statedef 9020]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 5200
sprpriority = 1
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 33, 2

[State 0, shild]
type = HitOverride
trigger1 = anim != 5200
time = 1
attr = SA, NA, SA, HA, NP, SP, HP
stateno = 9021
IgnoreHitPause = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "push"
ID = 9023
stateno = 9023
postype = p1
pos = 20,-25
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 52, 4]
type = Changeanim
triggerall = time = 0
trigger1 = prevstateno != [9200,9699]
trigger1 = prevstateno != [1000,4500]
value = 7508;7774
[State 52, 4]
type = Changeanim
triggerall = time = 10
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
value = 7508

[State 3900, NotHitBy]
type = NotHitBy
triggerall = time <= 3
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
value = SCA
time = 1

[state 0,0]
type = palfx
triggerall = time <= 5
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
time = 1
add = 200-(time*15),200-(time*15),200-(time*15)

[State 52, 3]
type = CtrlSet
trigger1 = time >= 5
value = 1

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 52, 4]
type = ChangeState
trigger1 = time >= 8
trigger1 = command != "holda"
value = 0
ctrl = 1

[state 2, BOOST]
type = veladd
trigger1 = time = 1
;trigger1 = p2bodydist x > 10
x = 3

[state 0, 0]
type = varadd
triggerall = prevstateno != 9025
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0

[state 0, 0]
type = varset
triggerall = prevstateno != 9025
trigger1 = time >= 0
v = 30
value = 100
[state 0, 0]
type = varadd
triggerall = prevstateno != 9025
trigger1 = time = 1
v = 16
value = -1

[State 100, 9]
type = AssertSpecial
trigger1 = 1
flag = nocrouchguard
flag2 = noairguard

;---------------------------------------------------------------------------
; SGUARDHIT (shaking)
[Statedef 9021]
type    = S
movetype= I;H
physics = N
;velset = 0,0

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = -1
kill = 0


[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
value = 0,0

[state 0,0]
type = posfreeze
trigger1 = time >= 0

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 9022

;------------------------------------------
;アルカナ　土　地上前要素ホーミング
[Statedef 9022]
type    = S
movetype= I
physics = N
ctrl = 0
sprpriority = 1
velset = 0,0

[state 2, BOOST]
type = veladd
trigger1 = time = 2
;trigger1 = p2bodydist x > 10
x = 3

[State 0, shild]
type = HitOverride
trigger1 = 1
time = 1
attr = SA, NA, SA, HA, NP, SP, HP
stateno = 9021
IgnoreHitPause = 1

[State 52, 3]
type = CtrlSet
trigger1 = time >= 2
value = 1

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 52, 4]
type = ChangeState
trigger1 = time >= 2
trigger1 = command != "holda"
value = 0
ctrl = 1


;------------------------------------------
;アルカナ　魔法陣
[Statedef 9023]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7687;7569
sprpriority = 2
velset = 0,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 2,0]
type = palfx
trigger1 = time >= 0
time = 5
add = 80,50,-50

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 40,-25

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


[state 0,0]
type = destroyself
trigger1 = parent,stateno != [9020,9025]


;---------------------------------------------------------------------------
;6D 時
[Statedef 9024]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7508
sprpriority = 1
velset = 0,0


[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 33, 2

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn


[State 0, 0]
type = Explod
persistent = 5
trigger1 = time = [1,16]
anim = 7648
pos = 5+time,0
sprpriority = 5
removetime = 20
vel = 6.7,0
accel = 2,0

[state 0,0]
type = assertspecial
trigger1 = time <= 12
flag = invisible
ignorehitpause = 1

[state 0,0]
type = posadd
trigger1 = time = 12
x = 310
[state 0,0]
type = posadd
trigger1 = time = [12,18]
x = 6


;[State 210, 3]
;type = Changeanim
;trigger1 = time = 12
;value = 101

[State 210, 3]
type = ChangeState
trigger1 = time = 18
value = 9014;0
ctrl = 1

[state 0,0]
type = CtrlSet
trigger1 = Time >= 12
value = 1

[State 100, 9]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0

[state 0, 0]
type = varset
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
v = 30
value = 350
[state 0, 0]
type = varset
trigger1 = time >= 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1


;------------------------------------------
;アルカナ　土　ガーキャン6d
[Statedef 9025]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 5200
sprpriority = 1
velset = 0,0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = time <= 3
value = SCA
time = 1

[state 0,0]
type = palfx
trigger1 = time <= 8
time = 1
add = 200-(time*15),200-(time*15),200-(time*15)

[State 52, 4]
type = ChangeState
trigger1 = time >= 12
value = 9020
ctrl = 1

[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0

[state 0, 0]
type = varset
trigger1 = time >= 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1

[State 100, 9]
type = AssertSpecial
trigger1 = 1
flag = nocrouchguard
flag2 = noairguard








;---------------------------------------------------------------------------
;ガードキャンセル　6D 風
[Statedef 9030]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7559
sprpriority = 1
velset = 0,0

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = animtime = 0
value = 11
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = animtime = 0
value = 50
ctrl = 1
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S

[State 0, 0]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "push"
ID = 9031
stateno = 9031
postype = p1
pos = 2,0
keyctrl = 0
ownpal = 1
[State 0, 0]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "push"
ID = 9031
stateno = 9031
postype = p1
pos = -20,0
keyctrl = 0
ownpal = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 32, 10

[State 0, 0]
type = Explod
persistent = 0
trigger1 = time = 2
anim = 7561
pos = 30,-40
ownpal = 1
sprpriority = 5
bindtime = -1
ignorehitpause = 1


;---------------------------------------------------------------------------
;ガードキャンセル　押し退け判定
[Statedef 9031]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7560
sprpriority = 1
velset = 15,0

[state 0,0]
type = playerpush
trigger1 = 1
value = 1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 100

[state 0,0]
type = destroyself
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;ガードキャンセル　6D そのた
[Statedef 9032]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7568
sprpriority = 1
velset = 3.5,0
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y = 0
statetype = S
[State 5040, 4]
type = posset
trigger1 = statetype = S
y = 0

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 33, 2

[state 0,0]
type = CtrlSet
trigger1 = Time >= 12
value = 1


[state 0,0]
type = posadd
trigger1 = statetype = A
trigger1 = Time >= 5
trigger1 = pos y <= -12
trigger1 = p2dist y >= 20
y = 1
[state 0,0]
type = posadd
trigger1 = Time >= 5
trigger1 = p2dist y <= -20
trigger1 = statetype = A
y = -1

[state 0,0]
type = varset
trigger1 = Time = 0
fv = 16
value = 40
[state 0,0]
type = varadd
trigger1 = Time >= 1
fv = 16
value = -1

[State 100, 9]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time = 40
value = 9014;11
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time = 40
value = 9013;50
ctrl = 1

[State 0, 0]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "push"
ID = 9033
stateno = 9033
postype = p1
pos = 20,-25
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.4

[state 0,0]
type = reversaldef
trigger1 = time <= 39
trigger1 = var(33) != 10
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 14,20
hitsound = S32,5
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9034
[state 0,0]
type = reversaldef
trigger1 = time <= 39
trigger1 = var(33) = 10
Reversal.Attr = CA, NA,SA,HA,NP,SP,HP
pausetime = 14,20
hitsound = S32,5
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9034

[State 200, AI]
type = ChangeState
trigger1 = time >= 11
trigger1 = var(59) = 1
trigger1 = random >= 610
trigger1 = enemy,movetype != H
trigger1 = enemy,statetype != A
trigger1 = p2bodydist x <= 15
trigger1 = power >= 1000
value = 9858
[State 200, AI]
type = ChangeState
trigger1 = time >= 12
trigger1 = var(59) = 1
trigger1 = random >= 950
;trigger1 = enemy,movetype != H
;trigger1 = enemy,statetype != A
trigger1 = p2bodydist x <= 15
value = 9200

[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0
[state 0, 0]
type = null;varadd
trigger1 = time = 0
trigger1 = var(9) > 33
v = 9
value = ifelse(var(16)=1,(var(9)-35)*-1,ifelse(var(16)=2,(var(9)-68)*-1,-33));-33


[state 0, 0]
type = varset
trigger1 = time = 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1



;---------------------------------------------------------------------------
;ガードキャンセル6Dアーマー
[Statedef 9034]
type    = A
movetype= I
physics = N
ctrl = 1
sprpriority = 1
velset = 3.5,0
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y = 0
statetype = S
[State 5040, 4]
type = posset
trigger1 = statetype = S
y = 0

[state 0,0]
type = pause
trigger1 = time = 0
time = 5

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = fvar(16) <= 0;time = 20
value = 9014
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = fvar(16) <= 0;time = 20
value = 9013
ctrl = 1

[state 0,0]
type = varadd
trigger1 = Time >= 2
fv = 16
value = -1

[state 0,0]
type = reversaldef
triggerall = var(33) != 10
trigger1 = fvar(16) > 0;time <= 19
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 14,25
hitsound = S32,5
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9035
[state 0,0]
type = reversaldef
triggerall = var(33) = 10
trigger1 = fvar(16) > 0;time <= 19
Reversal.Attr = CA, NA,SA,HA,NP,SP,HP
pausetime = 14,25
hitsound = S32,5
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9035

[state 2, BOOST]
type = posadd
;triggerall = time >= 20
trigger1 = p2dist y < 10
trigger2 = p2dist y < 150
trigger2 = command = "holdup"
y = -2;-9
[state 2, BOOST]
type = posadd
;triggerall = time >= 20
trigger1 = p2dist y > 70
trigger1 = pos y <= -30
trigger2 = command = "holddown"
y = 2;9
[state 2, BOOST]
type = posadd
;trigger1 = time >= 20
trigger1 = p2dist y < -80
trigger1 = pos y <= -10
y = -1;9


;---------------------------------------------------------------------------
;ガードキャンセル6Dアーマー2
[Statedef 9035]
type    = A
movetype= I
physics = N
ctrl = 1
sprpriority = 1
velset = 3.5,0
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y = 0
statetype = S
[State 5040, 4]
type = posset
trigger1 = statetype = S
y = 0


[state 0,0]
type = posadd
trigger1 = statetype = A
trigger1 = Time >= 2
trigger1 = pos y <= -12
trigger1 = p2dist y >= 20
y = 1
[state 0,0]
type = posadd
trigger1 = statetype = A
trigger1 = Time >= 2
trigger1 = p2dist y <= -20
y = -1

[state 0,0]
type = reversaldef
triggerall = var(33) != 10
trigger1 = fvar(16) > 0;time <= 19
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 14,25
hitsound = S32,5
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9034
[state 0,0]
type = reversaldef
triggerall = var(33) = 10
trigger1 = fvar(16) > 0;time <= 19
Reversal.Attr = CA, NA,SA,HA,NP,SP,HP
pausetime = 14,25
hitsound = S32,5
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9034

[state 0,0]
type = varadd
trigger1 = Time >= 1
fv = 16
value = -1

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = fvar(16) <= 0;time = 10
value = 9014
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = fvar(16) <= 0;time = 10
value = 9013
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 2
trigger1 = var(59) = 1
trigger1 = random >= 310
trigger1 = enemy,movetype != H
trigger1 = enemy,statetype != A
trigger1 = p2bodydist x <= 15
trigger1 = power >= 1000
value = 9858
[State 200, AI]
type = ChangeState
trigger1 = time >= 3
trigger1 = var(59) = 1
trigger1 = random >= 700
;trigger1 = enemy,movetype != H
;trigger1 = enemy,statetype != A
trigger1 = p2bodydist x <= 15
value = 9200

[state 2, BOOST]
type = posadd
;triggerall = time >= 20
trigger1 = p2dist y < 10
trigger2 = p2dist y < 150
trigger2 = command = "holdup"
y = -2;-9
[state 2, BOOST]
type = posadd
;triggerall = time >= 20
trigger1 = p2dist y > 70
trigger1 = pos y <= -30
trigger2 = command = "holddown"
y = 2;9
[state 2, BOOST]
type = posadd
;trigger1 = time >= 20
trigger1 = p2dist y < -80
trigger1 = pos y <= -10
y = -1;9

;------------------------------------------
;アルカナ　ガーキャン魔法陣
[Statedef 9033]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7569
sprpriority = 2
velset = 0,0

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 40,-25

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time <= 63
time = 1
mul = 255-(time*4),255-(time*4),255-(time*4)

[state 0,0]
type = palfx
trigger1 = time >= 64
time = 1
mul = 0,0,0

[state 0,0]
type = destroyself
trigger1 = parent,stateno != [9032,9035]
trigger2 = time = 64


;------------------------------------------
;アルカナ　後ろ要素ホーミング ガーキャン
[Statedef 9036]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 105
sprpriority = 0
velset = -4.5,-3

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = [0,21]
value = SCA
time = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 33, 2

[State 52, 4]
type = Changeanim
trigger1 = time = 21
value = 7508

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[state 0,0]
type = palfx
trigger1 = time <= 5
time = 1
add = 210-(time*15),210-(time*15),200-(time*15)

[State 52, 4]
type = Changeanim
trigger1 = time = 8
value = 7533

[State 52, 3]
type = CtrlSet
trigger1 = time >= 28
value = 1

[State 100, 9]
type = AssertSpecial
trigger1 = time <= 32
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 52, 4]
type = ChangeState
trigger1 = time = 120
trigger2 = time >= 32
trigger2 = command != "holda"
value = 0
ctrl = 1

[state 2, BOOST]
type = velset
trigger1 = time = 15
x = 2.5
y = 0
[state 2, BOOST]
type = posadd
trigger1 = time = [15,21]
y = 5
[state 2, BOOST]
type = posadd
trigger1 = time >= 22
;trigger1 = p2bodydist x > 10
x = 4
[state 2, BOOST]
type = posset
trigger1 = time = 22
;trigger1 = p2bodydist x > 10
y = 0
[State 5040, 4]
type = StateTypeSet
trigger1 = time >= 22
statetype = S

[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0
[state 0, 0]
type = null;varadd
trigger1 = time = 0
trigger1 = var(9) > 33
v = 9
value = ifelse(var(16)=1,(var(9)-35)*-1,ifelse(var(16)=2,(var(9)-68)*-1,-33));-33

[state 0, 0]
type = varset
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
v = 30
value = 350
[state 0, 0]
type = varset
trigger1 = time = 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1



;------------------------------------------
;アルカナ　後ろ要素ホーミング ガーキャン air
[Statedef 9037]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 105
sprpriority = 0
velset = -4.5,-3

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 33, 2

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = [0,21]
value = SCA
time = 2

[State 52, 4]
type = Changeanim
trigger1 = time = 21
value = 7508

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[state 0,0]
type = palfx
trigger1 = time <= 5
time = 1
add = 210-(time*15),210-(time*15),200-(time*15)

[State 52, 4]
type = Changeanim
trigger1 = time = 8
value = 7533

[State 52, 3]
type = CtrlSet
trigger1 = time >= 28
value = 1

[State 100, 9]
type = AssertSpecial
trigger1 = time <= 32
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State 52, 4]
type = ChangeState
trigger1 = time >= 33
value = 9013

[State 52, 4]
type = ChangeState
trigger1 = time = 120
trigger2 = time >= 32
trigger2 = command != "holda"
value = 50
ctrl = 1

[state 2, BOOST]
type = velset
trigger1 = time = 15
x = 2.5
y = 0
[state 2, BOOST]
type = posadd
trigger1 = time = [15,21]
y = 5
[state 2, BOOST]
type = posadd
trigger1 = time >= 22
;trigger1 = p2bodydist x > 10
x = 4


[state 0, 0]
type = varadd
trigger1 = time = 0
;trigger1 = var(16) = 1
v = 9
value = -33;var(16) * -33;0
[state 0, 0]
type = null;varadd
trigger1 = time = 0
trigger1 = var(9) > 33
v = 9
value = ifelse(var(16)=1,(var(9)-35)*-1,ifelse(var(16)=2,(var(9)-68)*-1,-33));-33

[state 0, 0]
type = varset
triggerall = time = 1
trigger1 = prevstateno = [9200,9699]
trigger2 = prevstateno = [1000,4500]
v = 30
value = 350
[state 0, 0]
type = varset
trigger1 = time = 0
v = 30
value = 100
[state 0, 0]
type = varadd
trigger1 = time = 1
v = 16
value = -1












;風
;---------------------------------------------------------------------------
;竜巻
[Statedef 9700]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564;7407;7556
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, end]
type = Changeanim
trigger1 = time = 40
value = 7859

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 50
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 50
value = 50
ctrl = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 5
value = 32, 12

[State 0, 0]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "tatumaki"
ID = 9701
stateno = 9701
postype = p1
pos = 75,-15
keyctrl = 0
ownpal = 1

[State 0, mahoujin]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25


;---------------------------------------------------------------------------
;竜巻　攻撃判定
[Statedef 9701]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7557
sprpriority = 3
velset = 0.2,0

[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 2
add = 0,100,-20
ignorehitpause = 1

[State 0, 0]
type = Explod
persistent = 0
trigger1 = time = 0
anim = 7557
scale = 0.8,0.5
pos = 0,0
ownpal = 0
sprpriority = 5
bindtime = -1
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 45, 2
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 3, hit
pausetime = 1, 13
guard.pausetime = 1, 6
sparkno = 2
sparkxy = -8, -34
hitsound = S32, 10
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 18
ground.velocity = -2,-18
air.velocity = -2,-18
fall = 1
air.fall = 1
fall.recovertime = 85
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5
palfx.time = 50
palfx.add = 0,100,0

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7630
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1


[State 0, 0]
type = Helper
trigger1 = movehit
persistent = 0
helpertype = normal
name = "tatumaki"
ID = 9702
stateno = 9702
pos = 0,-10
keyctrl = 0
ownpal = 1

[state 0,0]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;竜巻　hit
[Statedef 9702]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 3
velset = 0,0

[state 0,0]
type = palfx
trigger1 = time <= 10
time = 1
add = 0,100,-20
mul = time*24,time*24,time*24
ignorehitpause = 1
[state 0,0]
type = palfx
trigger1 = time = [11,19]
time = 1
add = 0,100,-20
ignorehitpause = 1
[state 0,0]
type = palfx
trigger1 = time >= 20
time = 1
add = 0,100,-20
mul = 255-(time*6),255-(time*6),255-(time*6)
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = time = 36

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 0, 0]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7580
scale = 3,0.4
pos = 0,0
ownpal = 0
sprpriority = 5
id = 7557

[state 0, 0]
type = ModifyExplod
trigger1 = 1
ID = 7557
scale = 1 + 1 * (time*0.1),0.4 + (time*0.04)


;---------------------------------------------------------------------------
;ブーメラン
[Statedef 9710]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = Changeanim
trigger1 = time = 8
value = 7556;79

[State 210, end]
type = Changeanim
trigger1 = time = 26
value = 7859

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 35
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 35
value = 50
ctrl = 1

[State 0, 0]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "boomelan"
ID = 9711
stateno = 9711
postype = p1
pos = 30,-50
keyctrl = 0
ownpal = 1
size.xscale = 1.25
size.yscale = 1.25

[State 200, 2]
type = PlaySnd
trigger1 = time = 5
value = 32, 12

[State 0, mahoujin]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-50
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25


;---------------------------------------------------------------------------
;ブーメラン　攻撃判定
[Statedef 9711]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7562
sprpriority = 3
velset = 5,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 40, 2
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 20
palfx.add = 0,100,0

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7630
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1


[state 0,0]
type = destroyself
trigger1 = parentdist x = [-18,18]
trigger1 = parentdist y = [20,59]
trigger2 = movecontact
trigger3 = parent,movetype = H
trigger3 = parent,stateno != [120,155]

[state 2, BOOST]
type = veladd
triggerall = vel x <= 4
trigger1 = time >= 40
trigger1 = parentdist x > 5
x = 0.1
[state 2, BOOST]
type = veladd
triggerall = vel x >= -4
trigger1 = time >= 40
trigger1 = parentdist x < -5
x = -0.1

[state 2, BOOST]
type = veladd
triggerall = vel y <= 4
trigger1 = time >= 70
trigger1 = parentdist y > 55
y = 0.1
[state 2, BOOST]
type = veladd
triggerall = vel y >= -4
trigger1 = time >= 70
trigger1 = parentdist y < 35
y = -0.1

[state 2, BOOST]
type = posadd
;triggerall = vel x <= 4
trigger1 = time >= 40
trigger1 = parentdist x > 5
x = 1
[state 2, BOOST]
type = posadd
;triggerall = vel x >= -4
trigger1 = time >= 40
trigger1 = parentdist x < -5
x = -1

[state 2, BOOST]
type = posadd
trigger1 = time >= 70
trigger1 = parentdist y > 55
y = 1
[state 2, BOOST]
type = posadd
trigger1 = time >= 70
trigger1 = parentdist y < 35
y = -1




;---------------------------------------------------------------------------
;☆ブーメラン　超必殺
[Statedef 9712]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S
[state 0,hithitcount]
type = varadd
trigger1 = time = 0
fv = 7
value = 10
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = Changeanim
trigger1 = time = 58
value = 7556;79

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1991
stateno = 1991
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 210, end]
type = Changeanim
trigger1 = time = 145
value = 7859

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 155
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 155
value = 50
ctrl = 1
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 0, 0]
type = null;Helper
trigger1 = time = [70,134]
persistent = 14
helpertype = normal
name = "boomelan"
ID = 9711
stateno = 9713
postype = p1
pos = 30,-55
keyctrl = 0
ownpal = 1
size.xscale = 1.25
size.yscale = 1.25
[State 0, 0]
type = null;Helper
trigger1 = time = [78,140]
persistent = 14
helpertype = normal
name = "boomelan"
ID = 9711
stateno = 9713
postype = p1
pos = 30,-45
keyctrl = 0
ownpal = 1
size.xscale = 1.25
size.yscale = 1.25
[State 0, 0]
type = null;Helper
triggerall = time = [70,110]
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
persistent = 6
helpertype = normal
name = "boomelan"
ID = 9711
stateno = 9713
postype = p1
pos = 30,-50
keyctrl = 0
ownpal = 1
size.xscale = 1.25
size.yscale = 1.25

[State 0, mahoujin]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-50
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25


[State 200, 2]
type = PlaySnd
trigger1 = time = 70
value = 32, 12

[State 1000,0]
type = projectile
trigger1 = time = [70,134]
persistent = 14
velocity = 5,0
remvelocity = 0, 0
persistent = 10
projanim = 7562
projremovetime = -1;7607
projhitanim = 7630
offset = 30,-45
attr = A,HP
animtype = heavy
damage = 15,3
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 20
palfx.add = 0,100,0

[State 1000,0]
type = projectile
trigger1 = time = [78,142]
persistent = 14
velocity = 5,0
remvelocity = 0, 0
persistent = 10
projanim = 7562
projremovetime = -1;7607
projhitanim = 7630
offset = 30,-55
attr = A,HP
animtype = heavy
damage = 18,2
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 20
palfx.add = 0,100,0


[State 1000,0]
type = projectile
triggerall = time = [70,110]
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
persistent = 9
velocity = 5,0
remvelocity = 0, 0
persistent = 10
projanim = 7562
projremovetime = -1;7607
projhitanim = 7630
offset = 30,-50
attr = A,HP
animtype = heavy
damage = 18,2
guardflag = MA
pausetime = 6,13
sparkno = -1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 20
palfx.add = 0,100,0


;---------------------------------------------------------------------------
;ブーメラン　攻撃判定2
[Statedef 9713]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7562
sprpriority = 3
velset = 5,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, HP
damage = 30, 2
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 20
palfx.add = 0,100,0

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7630
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1


[state 0,0]
type = destroyself
trigger1 = movecontact
trigger2 = frontedgedist <= -10

















;火
;--------------------------------------------------------------------------
;前進火　攻撃ex
[Statedef 9718]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7578
sprpriority = 3
velset = 2.5,0

[State -2, reduce]
type = AttackMulSet
trigger1 = 1
value = Abs(1.1 - parent,fvar(30)) *0.6 *parent,fvar(5)


[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 5.5
persistent = 0
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time = [3,40]
persistent = 5
attr = A, HP
damage = 25, 4
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 6, 14
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S32, 14
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -6,-2
air.velocity = -7,-3
fall = 1
air.fall = 1
fall.recovertime = 23
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 20
palfx.add = 100,30,0

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 16
bindtime = -1
ignorehitpause = 1
[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-30
random = 40,26
ownpal = 1
sprpriority = 5
persistent = 20
bindtime = -1
ignorehitpause = 1


[state 0,0]
type = destroyself
trigger1 = time >= 50

[state 0,0]
type = palfx
trigger1 = time >= 40
time = 1
mul = 255-(time*5),255-(time*5),255-(time*5)
ignorehitpause = 1



;---------------------------------------------------------------------------
;☆溜めのやつに似てるやつ
[Statedef 9719]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579;7556
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 210, 3]
type = Changeanim
trigger1 = time = 58
value = 7556;79

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[state 0,0]
type = varset
trigger1 = time = 0
v = 19
value = 0

[State 210, 2]
type = PlaySnd
trigger1 = time = 58
value = 32, 13

[State 0, 0]
type = Helper
trigger1 = time = 58
helpertype = normal
name = "fireball"
ID = 9718
stateno = 9718
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1
size.xscale = 1.5
size.yscale = 1.5

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 102
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y < 0
trigger1 = time >= 102
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 94
value = 7859

;---------------------------------------------------------------------------
;☆ごーてんしょおぉぉぉぉぉぉ
[Statedef 9717]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1016;7820;7564;7556
sprpriority = 2
velset = 0,0;vel x * 0.05,vel y * 0.05
[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 1.3
persistent = 0
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 1
value = 13, 1
channel = 0

[state 0,0]
type = velset
trigger1 = time = 5
y = -0.5
[state 0,0]
type = velset
trigger1 = time = 105
y = 0
[state 0,0]
type = velmul
trigger1 = time = [60,104]
y = 0.92

[state 0,0]
type = changeanim
trigger1 = time = 52
value = 7830

[State 210, 3]
type = veladd
trigger1 = time >= 120
y = 0.45


[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 4
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 4
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 200, 2]
type = PlaySnd
trigger1 = time = 52
value = 32, 15

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 52
persistent = 0
attr = A, HA
damage = 130, 16
getpower = 0
givepower = 58,15
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 4, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S32, 13
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -6,-2
air.velocity = -7,-3
fall = 1
air.fall = 1
fall.recovertime = 40
guard.kill = 0;0
envshake.time = 16
ground.cornerpush.veloff = 0
envshake.ampl = 3
palfx.time = 70
palfx.add = 100,30,0
p2stateno = 9300

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1
[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-26
random = 20,20
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1

[State 3000, effect]
type = Explod
trigger1 = time = 54
anim = 7633
postype = p1
pos = -10,-40
ownpal = 1
sprpriority = 1
scale = 0.75,0.75
[State 3000, effect]
type = Explod
trigger1 = time = 56
anim = 7634
postype = p1
pos = -10,-40
ownpal = 1
sprpriority = 5

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 10


[State 210, 3]
type = ChangeState
trigger1 = time >= 110
trigger1 = pos y >= 0
value = 52
ctrl = 1










;---------------------------------------------------------------------------
;地上から斜め上へ発射
[Statedef 9720]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7564;7556
sprpriority = 2
velset = 0,0
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 210, 3]
type = ChangeState
;trigger1 = pos y = 0
trigger1 = time >= 32
value = 0
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 28
value = 7859

[State 0, 0]
type = Helper
trigger1 = time = 14
helpertype = normal
name = "fireball"
ID = 9721
stateno = 9721
postype = p1
pos = 40,-43
keyctrl = 0
ownpal = 1
size.xscale = 0.75
size.yscale = 0.75

[State 0, mahoujin]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

;---------------------------------------------------------------------------
;火の玉　攻撃判定
[Statedef 9721]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7575
sprpriority = 3
velset = 5,-5
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = veladd
trigger1 = time >= 2
x = 0.3
y = -0.3

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 14

[state 0,0]
type = angleset
trigger1 = 1
value = 45
ignorehitpause = 1

[state 0,0]
type = angledraw
trigger1 = 1
ignorehitpause = 1

[State -1]
Type     = Trans
Trigger1 = 1
Trans    = Add
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1


[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1
[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 55, 2
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S32, 13
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -6,0
air.velocity = -8,-6.5
air.fall = 1
fall.recovertime = ifelse(enemy,gethitvar(hitcount)<15, floor(45 - enemy,gethitvar(hitcount)*1.5), 15)
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 20
palfx.add = 100,30,0
guard.velocity = -3.5
airguard.velocity = -2

[state 0,0]
type = destroyself
trigger1 = movecontact
trigger2 = time >= 120


;---------------------------------------------------------------------------
;空中から斜め下へ発射
[Statedef 9722]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564;7556
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 32
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 28
value = 7859

[State 0, 0]
type = Helper
trigger1 = time = 14
helpertype = normal
name = "fireball"
ID = 9721
stateno = 9723
postype = p1
pos = 40,-43
keyctrl = 0
ownpal = 1
size.xscale = 0.75
size.yscale = 0.75

[State 0, mahoujin]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

;---------------------------------------------------------------------------
;火の玉　攻撃判定
[Statedef 9723]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7575
sprpriority = 3
velset = 5,5
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = veladd
trigger1 = time >= 2
x = 0.3
y = 0.3

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 14

[state 0,0]
type = angleset
trigger1 = 1
value = -45
ignorehitpause = 1

[state 0,0]
type = angledraw
trigger1 = 1
ignorehitpause = 1

[State -1]
Type     = Trans
Trigger1 = 1
Trans    = Add
ignorehitpause = 1

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1
[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1


[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 55, 2
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S32, 13
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -6,0
air.velocity = -7.5,-4
air.fall = 1
fall.recovertime = ifelse(enemy,gethitvar(hitcount)<29, floor(45 - enemy,gethitvar(hitcount)*1.5), 1)
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 20
palfx.add = 100,30,0
guard.velocity = -3.5
airguard.velocity = -2

[state 0,0]
type = destroyself
trigger1 = movecontact
trigger2 = time >= 140

[state 0,0]
type = changestate
trigger1 = pos y >= -2
value = 9724

;---------------------------------------------------------------------------
;火の玉　攻撃判定 hit 地面
[Statedef 9724]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7576
sprpriority = 3
velset = 0,0

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 1
add = 80,-10,0
mul = 255-(time*10),255-(time*10),255-(time*10)

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = animtime = 0

[State 200, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = pos y >= 0
value = 32, 13

;---------------------------------------------------------------------------
;溜めれるやつ
[Statedef 9725]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579;7556
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[state 0,0]
type = varset
trigger1 = time = 0
v = 19
value = 0
[state 0,0]
type = varadd
trigger1 = time >= 0
v = 19
value = 1

[State 210, 3]
type = ChangeState
trigger1 = command != "holda"
trigger1 = time >= 18
trigger2 = time >= 70
value = 9726

;---------------------------------------------------------------------------
;溜めれるやつ　発射
[Statedef 9726]
type    = A
movetype= A
physics = U
ctrl = 0
anim = 7556;7556
sprpriority = 2
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 0, mahoujin]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-50
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 2]
type = PlaySnd
trigger1 = time = 8
value = 32, 14

[State 0, 0]
type = Helper
triggerall = var(19) <= 30
trigger1 = time = 8
helpertype = normal
name = "fireball"
ID = 9721
stateno = 9727
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1
;size.xscale = 0.75
;size.yscale = 0.75
[State 0, 0]
type = Helper
triggerall = var(19) = [31,59]
trigger1 = time = 8
helpertype = normal
name = "fireball"
ID = 9721
stateno = 9728
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1
size.xscale = 1.25
size.yscale = 1.25
[State 0, 0]
type = Helper
triggerall = var(19) >= 60
trigger1 = time = 8
helpertype = normal
name = "fireball"
ID = 9721
stateno = 9729
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1
size.xscale = 1.5
size.yscale = 1.5

[State 210, 3]
type = ChangeState
triggerall = Numhelper(9721) = 0
trigger1 = pos y >= 0
trigger1 = time >= 75
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
triggerall = Numhelper(9721) = 0
trigger1 = pos y < 0
trigger1 = time >= 75
value = 50
ctrl = 1


;---------------------------------------------------------------------------
;前進火　攻撃判定a
[Statedef 9727]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7575
sprpriority = 3
velset = 2.3,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time = [3,30]
persistent = 5
attr = A, SP
damage = 18, 4
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 4, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S32, 14
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -6,-2
air.velocity = -7,-3
fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 20
palfx.add = 100,30,0

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1
[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1


[state 0,0]
type = destroyself
trigger1 = time >= 40

[state 0,0]
type = palfx
trigger1 = time >= 30
time = 1
mul = 255-(time*6),255-(time*6),255-(time*6)
ignorehitpause = 1

;---------------------------------------------------------------------------
;前進火　攻撃判定b
[Statedef 9728]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7577
sprpriority = 3
velset = 2.3,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 2.8
persistent = 0
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time = [3,30]
persistent = 4
attr = A, SP
damage = 18, 4
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 4, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S32, 14
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -6,-2
air.velocity = -7,-3
fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 20
palfx.add = 100,30,0

[state 0,0]
type = destroyself
trigger1 = time >= 40

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1
[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1


[state 0,0]
type = palfx
trigger1 = time >= 30
time = 1
mul = 255-(time*6),255-(time*6),255-(time*6)
ignorehitpause = 1

;---------------------------------------------------------------------------
;前進火　攻撃判定c
[Statedef 9729]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7578
sprpriority = 3
velset = 2.3,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 3.9
persistent = 0
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time = [3,40]
persistent = 4
attr = A, SP
damage = 18, 4
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 4, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S32, 14
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -6,-2
air.velocity = -7,-3
fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 20
palfx.add = 100,30,0

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1
[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1


[state 0,0]
type = destroyself
trigger1 = time >= 50

[state 0,0]
type = palfx
trigger1 = time >= 40
time = 1
mul = 255-(time*5),255-(time*5),255-(time*5)
ignorehitpause = 1




;樹
;---------------------------------------------------------------------------
;地上種まき stand
[Statedef 9730]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7579;7556
sprpriority = 2
velset = 0,0

[state 0,0]
type = varset
trigger1 = time = 0
v = 19
value = 0
[state 0,0]
type = varadd
trigger1 = time >= 0
v = 19
value = 1

[State 210, 3]
type = ChangeState
trigger1 = command != "holda"
trigger1 = time >= 18
trigger2 = time >= 70
value = 9731


;---------------------------------------------------------------------------
;発射
[Statedef 9731]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7556;7556
sprpriority = 2

[State 0, 0]
type = Helper
;triggerall = var(19) <= 40
trigger1 = time = 8
helpertype = normal
name = "seed"
ID = 9732
stateno = 9732
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1

[State 0, mahoujin]
type = Helper
trigger1 = time = 3
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-55
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25


[State 210, 3]
type = ChangeState
trigger1 = time >= 30
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;落下傘　攻撃判定
[Statedef 9732]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7581
sprpriority = 3
velset = 0.8+(parent,var(19)*0.03),-1

[state 0,0]
type = veladd
trigger1 = time = [20,30]
y = 0.15

[state 0,0]
type = velset
trigger1 = time = 50
x = 0
y = 0.25

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 9733

[State 1, Blocking]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 9735
time = 1
[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 1
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 1

;---------------------------------------------------------------------------
;落下傘着地　攻撃判定
[Statedef 9733]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7582
sprpriority = 0
velset = 0,0

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[State 1, Blocking]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 9735
time = 2
[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 1
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = p2dist x = [-50,50]
trigger1 = enemynear,statetype != A
value = 9734

[state 0,0]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;今だ攻撃判定
[Statedef 9734]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7583
sprpriority = 5
velset = 0,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = C, SP
damage = 50, 6
getpower = 38
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 6, 12
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1,-2
air.velocity = -1,-2
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;kieru攻撃判定
[Statedef 9735]
type    = S
movetype= I
physics = S
ctrl = 0
sprpriority = 5
velset = 0,0

[state 0,0]
type = destroyself
trigger1 = time = 0


;---------------------------------------------------------------------------
;空中種まき air
[Statedef 9736]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579;7556
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05

[state 0,0]
type = varset
trigger1 = time = 0
v = 19
value = 0
[state 0,0]
type = varadd
trigger1 = time >= 0
v = 19
value = 1

[State 210, 3]
type = ChangeState
trigger1 = command != "holda"
trigger1 = time >= 18
trigger2 = time >= 60
value = 9737

;---------------------------------------------------------------------------
;発射
[Statedef 9737]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7556;7556
sprpriority = 2

[State 0, 0]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "seed"
ID = 9732
stateno = 9738
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 30
value = 50
ctrl = 1

[State 0, mahoujin]
type = Helper
trigger1 = time = 3
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-56
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

;---------------------------------------------------------------------------
;落下傘type2　攻撃判定
[Statedef 9738]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7581
sprpriority = 3
velset = 0.9+(parent,var(19)*0.03),-0.8

[state 0,0]
type = veladd
trigger1 = time >= 10
y = 0.2

;[state 0,0]
;type = velset
;trigger1 = time = 50
;x = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 9733

[State 1, Blocking]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 9735
time = 1
[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 1
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 1



;---------------------------------------------------------------------------
;蔓
[Statedef 9739]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7556;7556
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 13
value = 32,19

[State 0, 0]
type = Helper
trigger1 = time = 13
helpertype = normal
name = "turu"
ID = 9740
stateno = 9740
postype = p1
pos = 44,-32
keyctrl = 0
ownpal = 1
size.xscale = 1.5
size.yscale = 0.75

[State 0, mahoujin]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 58
value = 52
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y < 0
trigger1 = time >= 58
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;turu　攻撃判定
[Statedef 9740]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7584
sprpriority = 3
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 40,-45

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 10, 2
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 1, 18
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -3,-2
air.velocity = -3,-3
fall = 1
air.fall = 1
p2facing = 1
fall.recovertime = 30
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

[State 210, 3]
type = ChangeState
trigger1 = parent,command = "holdback"
trigger1 = parent,command = "a"
trigger1 = movehit
trigger1 = time <= 24
value = 9741


;---------------------------------------------------------------------------
;turu　攻撃判定 ひっぱりゲーム
[Statedef 9741]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7585
sprpriority = 5
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = time = 1
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = angleset
trigger1 = prevstateno = 9743
value = 45
ignorehitpause = 1
[state 0,0]
type = angleset
trigger1 = prevstateno = 9744
value = -45
ignorehitpause = 1

[state 0,0]
type = angledraw
trigger1 = prevstateno = [9743,9744]
ignorehitpause = 1

[State 210, 3]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 9743
value = 7587
[State 210, 3]
type = Changeanim
trigger1 = time = 0
trigger1 = prevstateno = 9744
value = 7818

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 40,-48

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = prevstateno != 9744
trigger1 = time >= 0
persistent = 0
attr = A, SP
damage = 1
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 3, 15
guard.pausetime = 2, 2
sparkno = -1;2
sparkxy = -8, -24
hitsound = -1;S101, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 22
ground.hittime  = 20
ground.velocity = ifelse(anim = 7587,2,6),ifelse(anim = 7587,1,-6)
air.velocity = ifelse(anim = 7587,4,5),ifelse(anim = 7587,4,-5)
fall = 1
air.fall = 1
fall.recovertime = ifelse(enemy,gethitvar(hitcount)<20,180 - enemy,gethitvar(hitcount) * 8,30)
guard.kill = 0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
numhits = 0
[State 200, HitDef1]
type = HitDef
trigger1 = prevstateno = 9744
trigger1 = time >= 0
persistent = 0
attr = A, SP
damage = 1
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 3, 15
guard.pausetime = 2, 2
sparkno = -1;2
sparkxy = -8, -24
hitsound = -1;S101, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 22
ground.hittime  = 20
ground.velocity = 6,-6
air.velocity = 5,-6
fall = 1
air.fall = 1
fall.recovertime = ifelse(enemy,gethitvar(hitcount)<20,180 - enemy,gethitvar(hitcount) * 8,30)
guard.kill = 0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
numhits = 0


[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H


;---------------------------------------------------------------------------
;蔓 naname
[Statedef 9742]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7556;7556
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0


[State 0, 0]
type = Helper
trigger1 = time = 13
trigger1 = statetype != A
helpertype = normal
name = "turu"
ID = 9740
stateno = 9743
postype = p1
pos = 40,-32
keyctrl = 0
ownpal = 1
size.xscale = 1.5
size.yscale = 0.75

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 13
value = 32,19

[State 0, 0]
type = Helper
trigger1 = time = 13
trigger1 = statetype = A
helpertype = normal
name = "turu"
ID = 9740
stateno = 9744
postype = p1
pos = 40,-32
keyctrl = 0
ownpal = 1
size.xscale = 1.5
size.yscale = 0.75

[State 0, mahoujin]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 55
value = 52
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y < 0
trigger1 = time >= 55
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;turu　攻撃判定 ななめ
[Statedef 9743]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7586
sprpriority = 3
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = angleset
trigger1 = 1
value = 45
ignorehitpause = 1

[state 0,0]
type = angledraw
trigger1 = 1
ignorehitpause = 1

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 40,-48

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 10, 2
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 1, 18
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -3,-2
air.velocity = -3,-3
fall = 1
air.fall = 1
p2facing = 1
fall.recovertime = 30
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

[State 210, 3]
type = ChangeState
trigger1 = parent,command = "holdback"
trigger1 = parent,command = "a"
trigger1 = movehit
trigger1 = time <= 24
value = 9741


;---------------------------------------------------------------------------
;turu　攻撃判定 ななめ
[Statedef 9744]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7817
sprpriority = 3
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = angleset
trigger1 = 1
value = -45
ignorehitpause = 1

[state 0,0]
type = angledraw
trigger1 = 1
ignorehitpause = 1

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 30,-60

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 10, 2
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 1, 18
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -3
air.velocity = -3,0
air.fall = 1
p2facing = 1
fall.recovertime = 30
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

[State 210, 3]
type = ChangeState
trigger1 = parent,command = "holdback"
trigger1 = parent,command = "a"
trigger1 = movehit
trigger1 = time <= 24
value = 9741


;---------------------------------------------------------------------------
;☆超地上種まき stand
[Statedef 9745]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579;7556
sprpriority = 2
velset = 0,0
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0


[State 210, 3]
type = Changeanim
trigger1 = time = 52
value = 7556

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 4
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 4
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200



[state 0,0]
type = varset
trigger1 = time = 0
v = 19
value = 0
[state 0,0]
type = varadd
trigger1 = time = [58,62]
v = 19
value = 40

[State 0, 0]
type = Helper
triggerall = pos y = 0
trigger1 = time = 58
helpertype = normal
name = "seed"
ID = 9745
stateno = 9732
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1
[State 0, 0]
type = Helper
triggerall = pos y = 0
trigger1 = time = 59
helpertype = normal
name = "seed"
ID = 9745
stateno = 9732
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1
[State 0, 0]
type = Helper
triggerall = pos y = 0
trigger1 = time = 60
helpertype = normal
name = "seed"
ID = 9745
stateno = 9732
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Helper
triggerall = pos y != 0
trigger1 = time = 58
helpertype = normal
name = "seed"
ID = 9745
stateno = 9738
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1
[State 0, 0]
type = Helper
triggerall = pos y != 0
trigger1 = time = 59
helpertype = normal
name = "seed"
ID = 9745
stateno = 9738
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1
[State 0, 0]
type = Helper
triggerall = pos y != 0
trigger1 = time = 60
helpertype = normal
name = "seed"
ID = 9745
stateno = 9738
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1

[State 0, mahoujin]
type = Helper
trigger1 = time = 53
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-55
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25


[State 210, 3]
type = ChangeState
trigger1 = time >= 76
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;☆蔓触手発射
[Statedef 9746]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7556;7556
sprpriority = 0
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200



[State 0, mahoujin]
type = Helper
trigger1 = time = 53
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-55
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25



[State 0, 0]
type = Helper
trigger1 = time = 53
helpertype = normal
name = "turu"
ID = 9747
stateno = 9747
postype = p1
pos = 30,-60
keyctrl = 0
ownpal = 1
size.xscale = 1.5
size.yscale = 0.75

[State 210, 3]
type = ChangeState
trigger1 = Numhelper(9747) = 0
trigger1 = pos y >= 0
trigger1 = time >= 108
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = Numhelper(9747) = 0
trigger1 = pos y < 0
trigger1 = time >= 108
value = 50
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = Numhelper(9747) >= 1
;trigger1 = time >= 108
trigger1 = helper(9747),stateno = 9748
value = 9750

;---------------------------------------------------------------------------
;吸い取るの待機
[Statedef 9750]
type    = A
movetype= A
ctrl = 0
sprpriority = 0
velset = 0,0
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[state 0,0]
type = lifeadd
trigger1 = time = [12,119]
persistent = 24
value = 21
[State 200, 2]
type = PlaySnd
trigger1 = time = [12,119]
persistent = 24
value = 32, 19

[State 0, mahoujin]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-55
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25
persistent = 20


[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 128
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y < 0
trigger1 = time >= 128
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;turu　攻撃判定
[Statedef 9747]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7584
sprpriority = 3
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 3
persistent = 0
ignorehitpause = 1

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 30,-60

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 10, 2
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 0, 0
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S32, 19
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -3,-2
air.velocity = -3,-3
fall = 1
air.fall = 1
p2facing = 1
fall.recovertime = 130
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
p2stateno = 9749

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

[State 210, 3]
type = ChangeState
trigger1 = movehit
value = 9748


;---------------------------------------------------------------------------
;当たった
[Statedef 9748]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7636
sprpriority = 2
velset = 0,0


[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 30,-60

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 2
ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7637
postype = p2
pos = 0,-10
ownpal = 1
sprpriority = 5
removetime =120
bindtime = 119
removeongethit = 1

[state 0,0]
type = targetbind
trigger1 = time <= 100
pos = 150,-10

[state 0,0]
type = destroyself
trigger1 = time = 120
trigger2 = parent,movetype = H


;---------------------------------------------------------------------------
;t相手
[Statedef 9749]
type    = A
movetype= H
physics = N
ctrl = 0
;anim = 7638
sprpriority = -1
velset = 0,0

[state 0,0]
type = lifeadd
trigger1 = time >= 12
persistent = 24
value = -22

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 12
value = 4218,22
channel = 0
[State 5110, 6]
type = PlaySnd
trigger1 = Time = [30,114]
trigger1 = random >= 600
value = 4218,21
persistent = 37
channel = 0
[State 5110, 6]
type = PlaySnd
trigger1 = Time = [40,50]
trigger1 = random >= 800
value = 4218,22
persistent = 12
channel = 0
[State 5110, 6]
type = PlaySnd
trigger1 = Time = 115
value = 4218,23
channel = 0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0


[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 18300
[state 0,0]
type = changeanim2
trigger1 = SelfAnimExist(18300) = 0
trigger1 = time = 0
value = 7638
[state 0,0]
type = changeanim2
trigger1 = SelfAnimExist(18300) = 1
trigger1 = time = 1
value = 7816

[state 0,0]
type = posadd
trigger1 = time = 120
y = -25
[state 0,0]
type = selfstate
trigger1 = time = 120
value = 5050










;闇
;---------------------------------------------------------------------------
;ギーァ設置　２３６
[Statedef 9760]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 45
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 45
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 35
value = 7859

[State 0, mahoujin]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

;---------------------------------------------------------------------------
;ギーァ設置　６２３
[Statedef 9761]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 45
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 45
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 35
value = 7859

[State 0, mahoujin]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

;---------------------------------------------------------------------------
;ギーァ設置　２１４
[Statedef 9762]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 45
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 45
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 35
value = 7859

[State 0, mahoujin]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

;---------------------------------------------------------------------------
;ギーァ本体 ニュートラル待機
[Statedef 9770]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7588
sprpriority = -5
[State 210, 3]
type = posset
trigger1 = pos y != 0
y = 0
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0,0]
type = changeanim
trigger1 = parentdist x >= 5
trigger1 = anim != 7589
value = 7589
[state 0,0]
type = changeanim
trigger1 = parentdist x < 5
trigger1 = anim != 7588
value = 7588

;[State 210, 3]
;type = ChangeState
;trigger1 = parentdist x != [-15,15]
;value = 9771

[State 210, 3]
type = turn
trigger1 = parentdist x <= -15
trigger2 = p2dist x <= 0
trigger2 = parentdist x = [-4,14]
persistent = 10

[State 210, 3]
type = velset
trigger1 = parentdist x >= 5
x = 0.8
[State 210, 3]
type = velset
trigger1 = parentdist x < 5
x = 0

[state 0,0]
type = destroyself
trigger1 = parent,var(33) != 9
trigger2 = parent,var(41) != 3

[State 0, 236]
type = ChangeState
trigger1 = parent,stateno = 9760
value = 9771
[State 0, 623]
type = ChangeState
trigger1 = parent,stateno = 9761
value = 9774
[State 0, 623]
type = ChangeState
trigger1 = parent,stateno = 9762
value = 9777
[State 0, 623]
type = ChangeState
trigger1 = parent,stateno = 9781
value = 9782

[State 210, 3]
type = changestate
trigger1 = parent,movetype = H
value = 9773

;---------------------------------------------------------------------------
;ギーァ本体 236待機
[Statedef 9771]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7590
sprpriority = -5
[State 210, 3]
type = posset
trigger1 = pos y != 0
y = 0
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 210, 3]
type = turn
trigger1 = parent,facing != facing

[state 0,0]
type = destroyself
trigger1 = parent,var(33) != 9
trigger2 = parent,var(41) != 3

[State 210, 3]
type = velset
trigger1 = parent,command = "holdfwd"
x = 1.5
[State 210, 3]
type = velset
trigger1 = parent,command = "holdback"
x = -1.1
[State 210, 3]
type = velset
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
x = 0
[State 210, 3]
type = changestate
trigger1 = parent,command != "holda"
trigger1 = time >= 20
value = 9772

[State 210, 3]
type = changestate
trigger1 = parent,movetype = H
value = 9773


;---------------------------------------------------------------------------
;ギーァ本体 236発動
[Statedef 9772]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7591
sprpriority = 5
velset = 0,0
[State 210, 3]
type = posset
trigger1 = pos y != 0
y = 0
[State 210, 3]
type = velset
trigger1 = time = 1
x = 4.5
[State 210, 3]
type = velset
trigger1 = time = 22
x = 2.8
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
;flag2 = invisible
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = 32, 16

[State 210, 3]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[state 0,0]
type = destroyself
trigger1 = parent,var(33) != 9
trigger2 = parent,var(41) != 3

[State 210, 3]
type = changestate
trigger1 = animtime = 0
trigger2 = parent,movetype = H
trigger2 = var(20) = 0
value = 9773

[State 210, 3]
type = varadd
trigger1 = time = 0
v = 20
value = -1

[State 210, 3]
type = changestate
triggerall = parent,fvar(12) != 0.1
trigger1 = time = 32
trigger1 = var(20) > 0
value = 9772
[State 210, 3]
type = changestate
triggerall = parent,fvar(12) = 0.1
trigger1 = time = 26
trigger1 = var(20) > 0
value = 9772

[State 0, 0]
type = null;Explod
persistent = 0
trigger1 = time = 0
anim = 7591
scale = 1.5,1.5
pos = 0,0
ownpal = 0
sprpriority = 5
bindtime = -1

[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
triggerall = parent,fvar(12) != 0.1
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 40, 4
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 10, 18
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 13
ground.velocity = -2,-6
air.velocity = -2,-6
p2facing = 1
fall = 1
air.fall = 1
fall.recovertime = 32
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
triggerall = parent,fvar(12) = 0.1
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 80, 12
getpower = 18
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 27, 35
guard.pausetime = 20, 20
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 19
ground.hittime  = 19
ground.velocity = -2,-6
air.velocity = -2,-6
p2facing = 1
fall = 1
air.fall = 1
fall.recovertime = 42
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2


;---------------------------------------------------------------------------
;ギーァ本体 攻撃後の待機
[Statedef 9773]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7590
sprpriority = -5
velset = 0,0

[State 210, 3]
type = posset
trigger1 = pos y != 0
y = 0
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
[state 0,0]
type = destroyself
trigger1 = parent,var(33) != 9
trigger2 = parent,var(41) != 3
trigger3 = time = 30

[State 210, 3]
type = changestate
trigger1 = time = 30
value = 9770


[state 0,0]
type = palfx
trigger1 = time <= 25
time = 1
mul = 240-(time*8),240-(time*8),240-(time*8)

[state 2,0]
type = assertspecial
trigger1 = time >= 25
flag = invisible
[State 0, 236]
type = ChangeState
trigger1 = parent,stateno = 9760
value = 9771
[State 0, 623]
type = ChangeState
trigger1 = parent,stateno = 9761
value = 9774
[State 0, 623]
type = ChangeState
trigger1 = parent,stateno = 9762
value = 9777
[State 0, 623]
type = ChangeState
trigger1 = parent,stateno = 9781
value = 9782

;---------------------------------------------------------------------------
;ギーァ本体 623待機
[Statedef 9774]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7590
sprpriority = -5
[State 210, 3]
type = posset
trigger1 = pos y != 0
y = 0
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 210, 3]
type = turn
trigger1 = parent,facing != facing

[state 0,0]
type = destroyself
trigger1 = parent,var(33) != 9
trigger2 = parent,var(41) != 3

[State 210, 3]
type = velset
trigger1 = parent,command = "holdfwd"
x = 1.5
[State 210, 3]
type = velset
trigger1 = parent,command = "holdback"
x = -1.1
[State 210, 3]
type = velset
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
x = 0

[State 210, 3]
type = changestate
trigger1 = parent,command != "holda"
trigger1 = time >= 20
value = 9775


;---------------------------------------------------------------------------
;ギーァ本体 623発動
[Statedef 9775]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7592
sprpriority = 5
velset = 0,0
[State 210, 3]
type = posset
trigger1 = pos y != 0
y = 0
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
;flag2 = invisible
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = 32, 16

[State 210, 3]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[state 0,0]
type = destroyself
trigger1 = parent,var(33) != 9
trigger2 = parent,var(41) != 3

[State 210, 3]
type = changestate
trigger1 = animtime = 0
trigger2 = parent,movetype = H
value = 9773

[State 5040, 4]
type = StateTypeSet
trigger1 = animelem = 4
movetype = I
[State 5040, 4]
type = StateTypeSet
trigger1 = animelem = 5
movetype = A

[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 2
persistent = 0
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
triggerall = parent,fvar(12) != 0.1
trigger1 = animelem = 2
trigger2 = animelem = 3
persistent = 0
attr = A, SP
damage = 20, 3
getpower = 15
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, miss
pausetime = 5, 5
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = 0,-5
air.velocity = 0,-3
fall = 1
air.fall = 1
fall.recovertime = 32
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
[State 200, HitDef1]
type = HitDef
triggerall = parent,fvar(12) = 0.1
trigger1 = time <= 20
persistent = 3
attr = A, SP
damage = 19, 2
getpower = 15
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, miss
pausetime = 3, 8
guard.pausetime = 3, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = 0,-5
air.velocity = 0,-3
fall = 1
air.fall = 1
fall.recovertime = 32
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2


[State 200, HitDef1]
type = HitDef
;triggerall = parent,fvar(12) != 0.1
trigger1 = animelem = 5
persistent = 0
attr = A, SP
damage = 25, 3
getpower = 15
givepower = 8,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, miss
pausetime = 18, 28
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-4
air.velocity = -2,-4
fall = 1
air.fall = 1
fall.recovertime = 45
guard.kill = 0;0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
p2stateno = 9776


;---------------------------------------------------------------------------
;相手固定
[Statedef 9776]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = -5
velset = 0,0

[state 0,0]
type = posset
trigger1 = time = 0
y = -75

[state 0,0]
type = assertspecial
trigger1 = time <= 30
flag = invisible

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 5002

[state 0,0]
type = selfstate
trigger1 = time = 36
value = 5050



;---------------------------------------------------------------------------
;ギーァ本体 214待機
[Statedef 9777]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7590
sprpriority = -5
[State 210, 3]
type = posset
trigger1 = pos y != 0
y = 0
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 210, 3]
type = turn
trigger1 = parent,facing != facing

[state 0,0]
type = destroyself
trigger1 = parent,var(33) != 9
trigger2 = parent,var(41) != 3

[State 210, 3]
type = velset
trigger1 = parent,command = "holdfwd"
x = 1.5
[State 210, 3]
type = velset
trigger1 = parent,command = "holdback"
x = -1.1
[State 210, 3]
type = velset
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
x = 0
[State 210, 3]
type = changestate
trigger1 = parent,command != "holda"
trigger1 = time >= 20
value = 9778


;---------------------------------------------------------------------------
;ギーァ本体 214発動
[Statedef 9778]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7593
sprpriority = 5
velset = 0,0
[State 210, 3]
type = posset
trigger1 = pos y != 0
y = 0
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
;flag2 = invisible
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = 32, 11;6

[State 210, 3]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[state 0,0]
type = destroyself
trigger1 = parent,var(33) != 9
trigger2 = parent,var(41) != 3

[State 210, 3]
type = changestate
trigger1 = time = 30
value = 9773
[State 210, 3]
type = changestate
trigger1 = movehit
value = 9779

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 5;enemy,stateno = 40
persistent = 1
attr = C, SP
damage = 0
getpower = 0
givepower = 0
numhits = 0
animtype = light
hitflag = MAFD
priority = 3, miss
pausetime = 0, 1
sparkno = 1
sparkxy = -8, -24
hitsound = -1
guardsound = S0, 0
ground.type = low
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
ground.cornerpush.veloff = 0
p2stateno = 9780

;---------------------------------------------------------------------------
;ギーァ本体 214発動 成功
[Statedef 9779]
type    = S
movetype= A
physics = N
ctrl = 0
sprpriority = 5
velset = 0,0
[State 210, 3]
type = posset
trigger1 = pos y != 0
y = 0
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
[State 210, 3]
type = posadd
trigger1 = p2dist x >= 5
x = 1
[State 210, 3]
type = posadd
trigger1 = p2dist x <= -5
x = -1

[state 0,0]
type = destroyself
trigger1 = parent,var(33) != 9
trigger2 = parent,var(41) != 3

[State 210, 3]
type = changestate
triggerall = parent,fvar(12) != 0.1
trigger1 = time >= 180
value = 9773
[State 210, 3]
type = changestate
triggerall = parent,fvar(12) = 0.1
trigger1 = time >= 280
value = 9773

[State 200, HitDef1];ジャンプしようとしたら
type = HitDef
trigger1 = enemy,stateno = 40
persistent = 1
attr = C, SP
damage = 0
getpower = 0
givepower = 0
numhits = 0
animtype = light
hitflag = MAFD
priority = 3, miss
pausetime = 0, 1
sparkno = -1
sparkxy = -8, -24
hitsound = -1
guardsound = S0, 0
ground.type = low
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
ground.cornerpush.veloff = 0
p2stateno = 9780

[State 200, HitDef1]
type = HitDef
trigger1 = parent,movehit
trigger1 = enemy,movetype = H
persistent = 1
attr = C, SP
damage = 0
getpower = 0
givepower = 0
numhits = 0
animtype = light
hitflag = MAFD
priority = 3, miss
pausetime = 0, 1
sparkno = -1
sparkxy = -8, -24
hitsound = -1
guardsound = S0, 0
ground.type = low
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
ground.cornerpush.veloff = 0
p2stateno = 9780


;---------------------------------------------------------------------------
;ギーァ本体 相手
[Statedef 9780]
type    = S
movetype= H
physics = N
ctrl = 0
sprpriority = 0
velset = 0,0

[State 0,0]
type = Palfx
trigger1 = time = 0
color = 0
time = 60

[State 210, 3]
type = posset
trigger1 = pos y != 0
y = 0

[State 5001, 6]
type = selfstate
trigger1 = time >= gethitvar(hittime) + 10;HitOver
trigger2 = time >= 20
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;☆ギーァ設置　２３６２３６
[Statedef 9781]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 85
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 85
value = 50
ctrl = 1
[State 210, end]
type = Changeanim
trigger1 = time = 75
value = 7859

[State 0, mahoujin]
type = Helper
trigger1 = time = 55
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25


;---------------------------------------------------------------------------
;ギーァ本体 236236待機
[Statedef 9782]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7590
sprpriority = -5
[State 210, 3]
type = posset
trigger1 = pos y != 0
y = 0
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
[state 0,0]
type = varset
trigger1 = time = 0
v = (20)
value = 3

[State 210, 3]
type = turn
trigger1 = parent,facing != facing

[state 0,0]
type = destroyself
trigger1 = parent,var(33) != 9
trigger2 = parent,var(41) != 3

[State 210, 3]
type = velset
trigger1 = parent,command = "holdfwd"
x = 1.5
[State 210, 3]
type = velset
trigger1 = parent,command = "holdback"
x = -1.1
[State 210, 3]
type = velset
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
x = 0
[State 210, 3]
type = changestate
trigger1 = parent,command != "holda"
trigger1 = time >= 20
value = 9772




















;雷
;---------------------------------------------------------------------------
;設置
[Statedef 9790]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 1000, raimei]
type = Helper
trigger1 = time = 28
;trigger1 = numhelper(1069) = 0
helpertype = normal
name = "raimei"
pos = 0,0
postype = p2
stateno = 9791
ownpal = 1
id = 1069
keyctrl = 0
size.yscale = 2

[State 0, mahoujin]
type = Helper
trigger1 = time = 18
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 50
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 50
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 40
value = 7859

;---------------------------------------------------------------------------
;設置された雷
[Statedef 9791]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7564
sprpriority = 5

[state 0,0]
type = turn
trigger1 = time = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
value = 9792

;---------------------------------------------------------------------------
; 雷
[Statedef 9792]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7455
sprpriority = 5
poweradd = 0
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 32, 21

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (240 - screenpos y)

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time = 0
y = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP
time = 11

[State 701, Effect]
type = Explod
trigger1 = time = 5
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75

[State 210, 3]
type = destroyself
trigger1 = animtime = 0

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7726
postype = p2
pos = 0,-50
random = 10,16
bindtime = -1
ownpal = 1
sprpriority = 5
persistent = 0
ignorehitpause = 1
scale = 0.5,0.5



[State 200, HitDef1]
type = HitDef
trigger1 = time >= 4
persistent = 0
attr = A, SP
damage = ifelse(var(39)=1,66,60), 4
getpower = ifelse(fvar(12)!=0.1,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 9, 6
sparkno = 2
sparkxy = -8, -54
hitsound = S32, 21
guardsound = S0, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-8
air.velocity = 0,-8
fall = 1
air.fall = 1
fall.recovertime = 27
guard.kill = 0;ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

;---------------------------------------------------------------------------
;相殺から発動
[Statedef 9793]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 1000, raimei]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "counter"
pos = 0,-50
postype = p1
stateno = 9794
ownpal = 1
id = 9794
keyctrl = 0
size.xscale = 0.75

[State 0, mahoujin]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 27
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 27
value = 50
ctrl = 1


;---------------------------------------------------------------------------
; カウンター雷
[Statedef 9794]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7594
sprpriority = 5
poweradd = 0
velset = 0,0

[State 210, 3]
type = destroyself
trigger1 = animtime = 0

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 31, 3

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7726
postype = p2
pos = 0,-50
random = 10,16
bindtime = -1
ownpal = 1
sprpriority = 5
persistent = 0
ignorehitpause = 1
scale = 0.5,0.5

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SP
damage = 80, 8
getpower = ifelse(fvar(12)!=0.1,60,0),28
givepower = 110,15
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 9, 6
sparkno = 3
sparkxy = -8, -54
hitsound = S32, 21
guardsound = S0, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -12,-1
air.velocity = -12,-1
fall = 1
air.fall = 1
fall.recovertime = 27
guard.kill = 0;ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
p2stateno = 9300


;---------------------------------------------------------------------------
; 雷エフェクト
[Statedef 9795]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
poweradd = 0
velset = 0,0

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 0,0

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 30
add = -50,-50,150

[State 0, Effect]
type = Explod
trigger1 = time = 1
anim = 7595
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 0
;bindtime = -1
ignorehitpause = 1
;scale = 0.5,0.75

[State 0, Effect]
type = Explod
trigger1 = time = 4
anim = 7596
random = 24,24
postype = p1
pos = 0,-45
sprpriority = 3
ownpal = 0
scale = 0.5,0.5
bindtime = -1

[State 0, Effect]
type = Explod
trigger1 = time = 6
anim = 7597
random = 24,24
postype = p1
pos = 0,-25
sprpriority = 3
ownpal = 0
scale = 0.5,0.5
bindtime = -1

[State 210, 3]
type = destroyself
trigger1 = time = 40

[State 0, Effect]
type = Explod
trigger1 = time = 2
anim = 7727
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 0
;bindtime = -1
ignorehitpause = 1
;scale = 0.5,0.75

;---------------------------------------------------------------------------
;☆かみなり設置
[Statedef 9796]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200



[State 1000, raimei]
type = Helper
trigger1 = time = 60
;trigger1 = numhelper(1069) = 0
helpertype = normal
name = "raimei"
pos = floor(p2dist x),0
postype = p1
stateno = 9797
ownpal = 1
id = 9797
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.25

[State 0, mahoujin]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 65
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 65
value = 50
ctrl = 1


;---------------------------------------------------------------------------
;設置された雷
[Statedef 9797]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7639
sprpriority = -5
[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[State 210, 3]
type = ChangeState
trigger1 = parent,command != "holda"
value = 9798

;---------------------------------------------------------------------------
;設置された雷 発動
[Statedef 9798]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7564
sprpriority = -5

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[State 210, 3]
type = destroyself
trigger1 = time >= 125

[State 1000, raimei]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "raimei"
pos = 0,0
postype = p1
stateno = 9806
ownpal = 1
id = 9792
keyctrl = 0
size.yscale = 2

[State 1000, raimei]
type = Helper
trigger1 = time = 47
helpertype = normal
name = "raimei"
pos = 60,0
postype = p1
stateno = 9806
ownpal = 1
id = 9792
keyctrl = 0
size.yscale = 2

[State 1000, raimei]
type = Helper
trigger1 = time = 89
helpertype = normal
name = "raimei"
pos = 120,0
postype = p1
stateno = 9806
ownpal = 1
id = 9792
keyctrl = 0
size.yscale = 2



;---------------------------------------------------------------------------
;設置された雷
[Statedef 9799]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7639
sprpriority = -5
[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[State 210, 3]
type = ChangeState
trigger1 = parent,command != "holda"
value = 9800

;---------------------------------------------------------------------------
;設置された雷 214発動
[Statedef 9800]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7564
sprpriority = -5

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[State 210, 3]
type = destroyself
trigger1 = time >= 125

[State 1000, raimei]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "raimei"
pos = 0,0
postype = p1
stateno = 9807
ownpal = 1
id = 9792
keyctrl = 0
size.yscale = 2

[State 1000, raimei]
type = Helper
trigger1 = time = 47
helpertype = normal
name = "raimei"
pos = -60,0
postype = p1
stateno = 9807
ownpal = 1
id = 9792
keyctrl = 0
size.yscale = 2

[State 1000, raimei]
type = Helper
trigger1 = time = 89
helpertype = normal
name = "raimei"
pos = -120,0
postype = p1
stateno = 9807
ownpal = 1
id = 9792
keyctrl = 0
size.yscale = 2


;---------------------------------------------------------------------------
;☆かみなり設置
[Statedef 9801]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200


[State 1000, raimei]
type = Helper
trigger1 = time = 60
;trigger1 = numhelper(1069) = 0
helpertype = normal
name = "raimei"
pos = floor(p2dist x),0
postype = p1
stateno = 9799
ownpal = 1
id = 9797
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.25

[State 0, mahoujin]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 65
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 65
value = 50
ctrl = 1



;---------------------------------------------------------------------------
;☆超雷バリア
[Statedef 9802]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200


[State 1000, raimei]
type = Helper
trigger1 = time = 51
helpertype = normal
name = "raimei"
pos = -50,0
postype = p1
stateno = 9803
ownpal = 1
id = 9803
keyctrl = 0
;size.xscale = 
size.yscale = 2
supermovetime =100

[State 1000, raimei]
type = Helper
trigger1 = time = 51
helpertype = normal
name = "raimei"
pos = 50,0
postype = p1
stateno = 9804
ownpal = 1
id = 9803
keyctrl = 0
;size.xscale = 
size.yscale = 2
supermovetime =100

[State 1000, raimei]
type = Helper
trigger1 = time = 51
helpertype = normal
name = "raimei"
pos = 0,0
postype = p1
stateno = 9805
ownpal = 1
id = 9803
keyctrl = 0
;size.xscale = 
size.yscale = 2
supermovetime =100

[State 0, mahoujin]
type = Helper
trigger1 = time = 50
trigger2 = time = 100
trigger3 = time = 150
helpertype = normal
name = "mahoujin"
ID = 1992
ownpal = 1
stateno = 1992
postype = p1
pos = 0,0
keyctrl = 0
supermovetime = 200

[State 200, 2]
type = PlaySnd
trigger1 = time = 50
value = 32, 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 200
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 雷 ひだりからみぎへ
[Statedef 9803]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7455
sprpriority = -5
poweradd = 0
velset = 2.5,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (240 - screenpos y)

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


[state 0,0]
type = posset
trigger1 = time = 0
y = 0
[State 210, 3]
type = destroyself
trigger1 = time =140

[State 210, 3]
type = velset
trigger1 = time =40
trigger2 = time =120
x = -2.5
[State 210, 3]
type = SprPriority
trigger1 = time = 40
trigger2 = time =120
value = 5
[State 210, 3]
type = SprPriority
trigger1 = time = 80
value = -5

ignorehitpause = 1
[State 210, 3]
type = velset
trigger1 = time =80
x = 2.5

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7726
postype = p2
pos = 0,-50
random = 10,16
bindtime = -1
ownpal = 1
sprpriority = 5
persistent = 0
ignorehitpause = 1
scale = 0.5,0.5

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 32, 21

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 18
attr = A, HP
damage = 13, 2
getpower = ifelse(fvar(12)!=0.1,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 0, 13
guard.pausetime = 0, 10
sparkno = 2
sparkxy = -8, -54
hitsound = S32, 21
guardsound = S0, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
air.fall = 1
fall.recovertime = 27
guard.kill = 0;ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

;---------------------------------------------------------------------------
; 雷 ひだりからみぎへ
[Statedef 9804]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7455
sprpriority = -5
poweradd = 0
velset = -2.5,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (240 - screenpos y)

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


[state 0,0]
type = posset
trigger1 = time = 0
y = 0


[State 210, 3]
type = destroyself
trigger1 = time =140

[State 210, 3]
type = velset
trigger1 = time =40
trigger2 = time =120
x = 2.5
[State 210, 3]
type = SprPriority
trigger1 = time = 40
trigger2 = time =120
value = -5
[State 210, 3]
type = SprPriority
trigger1 = time = 80
value = 5
ignorehitpause = 1
[State 210, 3]
type = velset
trigger1 = time =80
x = -2.5

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 32, 21

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7726
postype = p2
pos = 0,-50
random = 10,16
bindtime = -1
ownpal = 1
sprpriority = 5
persistent = 0
ignorehitpause = 1
scale = 0.5,0.5

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 18
attr = A, HP
damage = 13, 2
getpower = ifelse(fvar(12)!=0.1,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 0, 13
guard.pausetime = 0, 10
sparkno = 2
sparkxy = -8, -54
hitsound = S32, 21
guardsound = S0, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
air.fall = 1
fall.recovertime = 27
guard.kill = 0;ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

;---------------------------------------------------------------------------
; 雷 ひだりからみぎへ
[Statedef 9805]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7455
sprpriority = -5
poweradd = 0
velset = 2.5,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (240 - screenpos y)

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 32, 21

[state 0,0]
type = posset
trigger1 = time = 0
y = 0


[State 210, 3]
type = destroyself
trigger1 = time =140

[State 210, 3]
type = velset
trigger1 = time =20
trigger2 = time =100
x = -2.5
[State 210, 3]
type = SprPriority
trigger1 = time = 20
trigger2 = time =100
value = 5
[State 210, 3]
type = SprPriority
trigger1 = time = 60
value = -5
ignorehitpause = 1
[State 210, 3]
type = velset
trigger1 = time =60
x = 2.5

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7726
postype = p2
pos = 0,-50
random = 10,16
bindtime = -1
ownpal = 1
sprpriority = 5
persistent = 0
ignorehitpause = 1
scale = 0.5,0.5

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 18
attr = A, HP
damage = 13, 2
getpower = ifelse(fvar(12)!=0.1,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 0, 13
guard.pausetime = 0, 10
sparkno = 2
sparkxy = -8, -54
hitsound = S32, 21
guardsound = S0, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
air.fall = 1
fall.recovertime = 27
guard.kill = 0;ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2



;---------------------------------------------------------------------------
; 雷
[Statedef 9806]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7455
sprpriority = 5
poweradd = 0
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (240 - screenpos y)

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(43) <= 3
trigger1 = parent,var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP
time = 11

[State 701, Effect]
type = Explod
trigger1 = time = 5
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75

[State 210, 3]
type = destroyself
trigger1 = animtime = 0

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7726
postype = p2
pos = 0,-50
random = 10,16
bindtime = -1
ownpal = 1
sprpriority = 5
persistent = 0
ignorehitpause = 1
scale = 0.5,0.5

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 32, 21

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 4
persistent = 0
attr = A, HP
damage = ifelse(var(39)=1,66,60), 4
getpower = ifelse(fvar(12)!=0.1,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 9, 6
sparkno = 2
sparkxy = -8, -54
hitsound = S32, 21
guardsound = S0, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1.5,-8
air.velocity = -1.5,-8
fall = 1
air.fall = 1
fall.recovertime = 27
guard.kill = 0;ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2


;---------------------------------------------------------------------------
; 雷
[Statedef 9807]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7455
sprpriority = 5
poweradd = 0
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 32, 21

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (240 - screenpos y)

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(43) <= 3
trigger1 = parent,var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP
time = 11

[State 701, Effect]
type = Explod
trigger1 = time = 5
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75

[State 210, 3]
type = destroyself
trigger1 = animtime = 0

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7726
postype = p2
pos = 0,-50
random = 10,16
bindtime = -1
ownpal = 1
sprpriority = 5
persistent = 0
ignorehitpause = 1
scale = 0.5,0.5

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 4
persistent = 0
attr = A, HP
damage = ifelse(var(39)=1,66,60), 4
getpower = ifelse(fvar(12)!=0.1,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 9, 6
sparkno = 2
sparkxy = -8, -54
hitsound = S32, 21
guardsound = S0, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 1.5,-8
air.velocity = 1.5,-8
fall = 1
air.fall = 1
fall.recovertime = 27
guard.kill = 0;ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2








;魔
;--------------------------------------------------------------------------
;毒 設置
[Statedef 9810]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 1000, r]
type = Helper
trigger1 = time = 25
helpertype = normal
name = "doku"
pos = 80,0
postype = p1
stateno = 9811
ownpal = 1
id = 9811
keyctrl = 0
size.xscale = 1.5
size.yscale = 1.5

[State 0, mahoujin]
type = Helper
trigger1 = time = 16
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 40
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 40
value = 50
ctrl = 1
[State 210, end]
type = Changeanim
trigger1 = time = 32
value = 7859


;---------------------------------------------------------------------------
; 毒
[Statedef 9811]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7598
sprpriority = 5
poweradd = 0
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 0.7
persistent = 0
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 32, 14

[state 0,0]
type = posadd
trigger1 = time >= 0
y = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[State 210, 3]
type = destroyself
trigger1 = time = 150;216


[State 210, 3]
type = ChangeState
trigger1 = movehit
value = 9813

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 4
persistent = 0
attr = A, SP
damage = ifelse(var(39)=1,66,60), 4
getpower = ifelse(fvar(12)!=0.1,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 9, 6
sparkno = 2
sparkxy = -8, -54
hitsound = S32, 14
guardsound = S0, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
air.fall = 1
fall.recovertime = 32
guard.kill = 0;ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
p2stateno = 9812

[State 0, Effect]
type = null;Explod
persistent = 20
trigger1 = time = 6
anim = 7600
pos = 0,0
sprpriority = 4
ownpal = 0
scale = 1.5,1.5
bindtime = -1

[State 0, Effect]
type = Explod
persistent = 30
trigger1 = time = 6
anim = 7599
pos = 0,0
velset = 0,-0.5
sprpriority = 5
ownpal = 0

;---------------------------------------------------------------------------
;毒 相手
[Statedef 9812]
type    = A
movetype= H
physics = A
ctrl = 0
sprpriority = 0
velset = -2,-5

;[state 0,0]
;type = varset
;trigger1 = authorname ="Drowin arcana"
;fv = 20
;value = 780
;[state 0,0]
;type = poweradd
;trigger1 = authorname !="Drowin arcana"
;value = -180
;[state 0,0]
;type = lifeadd
;trigger1 = authorname !="Drowin arcana"
;value = -40

[State 0,0]
type = Palfx
trigger1 = time = 0
add = 100,0,110
mul = 220,220,220
time = 60





[State 5001, 6]
type = selfstate
trigger1 = time >= 1
value = 5050
;ctrl = 1



;---------------------------------------------------------------------------
; 毒hit
[Statedef 9813]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7598
sprpriority = 5
velset = 0,0

[state 0,0]
type = posadd
trigger1 = time >= 0
y = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 0, Effect]
type = Explod
trigger1 = time = 1
anim = 7600
pos = 0,0
velset = 0,-0.5
sprpriority = 5
ownpal = 0

[state 0,0]
type = parentvarset
trigger1 = time = 0
fv = 20
value = 780

[State 210, 3]
type = destroyself
trigger1 = animtime = 0



;--------------------------------------------------------------------------
;瞬間移動 421
[Statedef 9814]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0

[state 0,0]
type = varset
trigger1 = time = 1
fv = 13
value = 0.1

[State 1000, r]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "mahoujin"
pos = 0,-70
postype = p1
stateno = 9815
ownpal = 1
id = 9815
keyctrl = 0
;size.xscale = 1.5
;size.yscale = 1.5

[State 210, 3]
type = ChangeState
trigger1 = time >= 26
value = 9817


;---------------------------------------------------------------------------
; 魔方陣
[Statedef 9815]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7601
sprpriority = -5
velset = 0,0

[State 0,0]
type = Palfx
trigger1 = time = 0
add = 0,0,110
mul = 220,220,220
time = 60

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = destroyself
trigger1 = parent,movetype = H

[State 210, 3]
type = ChangeState
trigger1 = time >= 21
value = 9816

;---------------------------------------------------------------------------
; 魔方陣
[Statedef 9816]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = -5
velset = 0,0
anim = 9999

[State 0,0]
type = Palfx
trigger1 = time = 0
add = 0,0,110
mul = 220,220,220
time = 60

[State 0, Effect]
type = Explod
trigger1 = time >= 0
anim = 7602
pos = 0,0
velset = 0,0
sprpriority = -5
ownpal = 0
scale = 1 - (time*0.034),1 - (time*0.034)

[State 210, 3]
type = destroyself
trigger1 = parent,movetype = H
trigger2 = time = 29

;--------------------------------------------------------------------------
;瞬間移動 本体縮小
[Statedef 9817]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 28
value = SCA,AA,AP
time = 5

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 32, 16

[State 0, Effect]
type = Explod
trigger1 = time <= 29
anim = 7603
pos = 0,floor(time * -2.5)
sprpriority = 2
ownpal = 0
scale = 1 - (time*0.034),1 - (time*0.034)

[state 0,0]
type = posadd
trigger1 = time = 30
x = p2dist x
y = p2dist y

[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdfwd"
x = 65
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdback"
x = -85
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdup"
y = -65
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = pos y <= -65
trigger1 = command = "holddown"
y = 65
[state 0,0]
type = posset
trigger1 = time = 30
trigger1 = pos y > -65
trigger1 = command = "holddown"
y = 0

[State 1000, r]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "mahoujin"
pos = 0,-70
postype = p1
stateno = 9815
ownpal = 1
id = 9815
keyctrl = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 60
value = 50
ctrl = 1

[state 0,0]
type = turn
trigger1 = time = 31
trigger1 = p2dist x < 0




;--------------------------------------------------------------------------
;瞬間移動 236
[Statedef 9818]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0

[state 0,0]
type = varset
trigger1 = time = 1
fv = 13
value = 0.1

[State 1000, r]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "mahoujin"
pos = 0,-70
postype = p1
stateno = 9815
ownpal = 1
id = 9815
keyctrl = 0
;size.xscale = 1.5
;size.yscale = 1.5

[State 210, 3]
type = ChangeState
trigger1 = time >= 26
value = 9819


;--------------------------------------------------------------------------
;瞬間移動 本体縮小
[Statedef 9819]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 32, 16

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 28
value = SCA,AA,AP
time = 5

[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[State 0, Effect]
type = Explod
trigger1 = time <= 29
anim = 7603
pos = 0,floor(time * -2.5)
sprpriority = 2
ownpal = 0
scale = 1 - (time*0.034),1 - (time*0.034)

[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdfwd"
x = 95
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdback"
x = -95
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdup"
y = -95
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = pos y <= -95
trigger1 = command = "holddown"
y = 65
[state 0,0]
type = posset
trigger1 = time = 30
trigger1 = pos y > -95
trigger1 = command = "holddown"
y = 0

[State 1000, r]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "mahoujin"
pos = 0,-70
postype = p1
stateno = 9815
ownpal = 1
id = 9815
keyctrl = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 60
value = 50
ctrl = 1

[state 0,0]
type = turn
trigger1 = time = 31
trigger1 = p2dist x < 0



;--------------------------------------------------------------------------
;瞬間移動 本体縮小
[Statedef 9840]
type    = A
movetype= I
physics = N
ctrl = 0
;anim = 5060
sprpriority = 2
velset = 0,0

[State 1000, r]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "mahoujin"
pos = 0,-70
postype = p1
stateno = 9816
ownpal = 1
id = 9815
keyctrl = 0

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 28
value = SCA,AA,AP
time = 5

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 32, 16

[State 0, Effect]
type = Explod
trigger1 = time <= 29
anim = 7854;7603
pos = 0,floor(time * -2.5)
sprpriority = 2
ownpal = 0
scale = 1 - (time*0.034),1 - (time*0.034)

[state 0,0]
type = posadd
trigger1 = time = 30
x = p2dist x
y = p2dist y

[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdfwd"
x = 65
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdback"
x = -85
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdup"
y = -65
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = pos y <= -65
trigger1 = command = "holddown"
y = 65
[state 0,0]
type = posset
trigger1 = time = 30
trigger1 = pos y > -65
trigger1 = command = "holddown"
y = 0

[State 1000, r]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "mahoujin"
pos = 0,-70
postype = p1
stateno = 9815
ownpal = 1
id = 9815
keyctrl = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 60
value = 50
ctrl = 1

[state 0,0]
type = turn
trigger1 = time = 31
trigger1 = p2dist x < 0


;--------------------------------------------------------------------------
;瞬間移動 本体縮小
[Statedef 9841]
type    = A
movetype= I
physics = N
ctrl = 0
;anim = 7564
sprpriority = 2
velset = 0,0

[State 1000, r]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "mahoujin"
pos = 0,-70
postype = p1
stateno = 9816
ownpal = 1
id = 9815
keyctrl = 0

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 32, 16

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 28
value = SCA,AA,AP
time = 5

[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[State 0, Effect]
type = Explod
trigger1 = time <= 29
anim = 7854;7603
pos = 0,floor(time * -2.5)
sprpriority = 2
ownpal = 0
scale = 1 - (time*0.034),1 - (time*0.034)

[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdfwd"
x = 95
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdback"
x = -95
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = command = "holdup"
y = -95
[state 0,0]
type = posadd
trigger1 = time = 30
trigger1 = pos y <= -95
trigger1 = command = "holddown"
y = 65
[state 0,0]
type = posset
trigger1 = time = 30
trigger1 = pos y > -95
trigger1 = command = "holddown"
y = 0

[State 1000, r]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "mahoujin"
pos = 0,-70
postype = p1
stateno = 9815
ownpal = 1
id = 9815
keyctrl = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 60
value = 50
ctrl = 1

[state 0,0]
type = turn
trigger1 = time = 31
trigger1 = p2dist x < 0














;---------------------------------------------------------------------------
;☆穴設置
[Statedef 9820]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0


[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 1000, 0]
type = Helper
trigger1 = time = 61
helpertype = normal
name = "hole"
pos = 50,0
postype = p1
stateno = 9821
ownpal = 1
id = 9821
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.25

[State 0, mahoujin]
type = Helper
trigger1 = time = 52
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 0, mahoujin]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "mahoujin"
ID = 1992
ownpal = 1
stateno = 1992
postype = p1
pos = 0,0
keyctrl = 0
supermovetime = 200

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 105
trigger1 = Numhelper(9821) = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;設置された穴ご
[Statedef 9821]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7640
sprpriority = -5
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[State 210, 3]
type = ChangeState
trigger1 = movehit
value = 9822

[State 3000, effect]
type = Explod
trigger1 = time <= 50
anim = 7641
postype = p1
pos = 0,0
ownpal = 1
sprpriority = -5
bindtime = -1
removeongethit = 1
scale = 0.5,0.25;-2.4 + (time*0.05),-0.24+ (time*0.01)
[State 3000, effect]
type = Explod
trigger1 = time = [50,69]
anim = 7641
postype = p1
pos = 0,0
ownpal = 1
sprpriority = -5
bindtime = -1
removeongethit = 1
scale = -2 + (time*0.05),-0.2+ (time*0.01)
[State 3000, effect]
type = Explod
trigger1 = time >= 70
anim = 7641
postype = p1
pos = 0,0
ownpal = 1
sprpriority = -5
bindtime = -1
removeongethit = 1
scale = 1.5,0.5

[state 0,0]
type = destroyself
trigger1 = time = 200


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, HP
damage = 2
getpower = 0
givepower = 20,12
animtype = heavy
hitflag = MD
priority = 5, hit
pausetime = 1, 13
sparkno = -1
sparkxy = -8, -24
hitsound = -1;S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
p2stateno = 9823

;---------------------------------------------------------------------------
;ヒット　穴
[Statedef 9822]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7640
sprpriority = -5
[state 0,0]
type = posadd
trigger1 = time = 0
x = floor(p2dist x)
[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 3000, effect]
type = Explod
trigger1 = time = [0,50]
anim = 7641
postype = p1
pos = 0,0
ownpal = 1
sprpriority = -5
bindtime = -1
removeongethit = 1
scale = 0.5 + (time*0.05),0.3+ (time*0.01)
[State 3000, effect]
type = Explod
trigger1 = time >= 50
anim = 7641
postype = p1
pos = 0,0
ownpal = 1
sprpriority = -5
bindtime = -1
removeongethit = 1
scale = 3,0.8

[state 0,0]
type = destroyself
trigger1 = time = 180

;---------------------------------------------------------------------------
;相手
[Statedef 9823]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1
velset = 0,0

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = posadd
trigger1 = time >= 100
y = 5
[state 0,0]
type = veladd
trigger1 = time >= 100
y = 0.45
[state 0,0]
type = posset
trigger1 = time = 160
y = -750
[state 0,0]
type = velset
trigger1 = time = 160
y = 5

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 5

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = screenbound
trigger1 = time >= 160
value = 0

[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = lifeadd
trigger1 = time >= 162
trigger1 = pos y >= 0
value = -80

[state 0,0]
type = changeanim
trigger1 = time <= 159
value = 5002
[state 0,0]
type = changeanim
trigger1 = time = 160
value = 5050

[state 0,0]
type = selfstate
trigger1 = time >= 162
trigger1 = pos y >= 0
value = 5050



;--------------------------------------------------------------------------
;☆入れ替え
[Statedef 9825]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 1
value = 12, 18
channel = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 1000, r]
type = Helper
trigger1 = time = 45
helpertype = normal
name = "mahoujin"
pos = 0,-70
postype = p1
stateno = 9815
ownpal = 1
id = 9815
keyctrl = 0
;size.xscale = 1.5
;size.yscale = 1.5

[State 210, 2]
type = PlaySnd
trigger1 = time = 45
value = 32, 16

[State 1000, aite]
type = Helper
trigger1 = time = 45
helpertype = normal
name = "mahoujin"
pos = floor(p2dist x),floor(p2dist y) - 70
postype = p1
stateno = 9826
ownpal = 1
id = 9826
keyctrl = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 100
value = 50
ctrl = 1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time <= 50
value = SCA
time = 2

[state 0,0]
type = varset
trigger1 = time = 0
v = 20
value = 0
[state 0,0]
type = varset
trigger1 = time = 25
v = 20
value = enemy,gethitvar(fall.recovertime)

[State 210, 3]
type = ChangeState
trigger1 = time >= 45
trigger1 = enemy,stateno = [9828,9930]
value = 9829


;---------------------------------------------------------------------------
; 魔方陣
[Statedef 9826]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7787
sprpriority = -5
velset = 0,0

[State 0,0]
type = Palfx
trigger1 = time = 0
add = 0,0,110
mul = 220,220,220
time = 60

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 800, 1]
type = HitDef
trigger1 = time <= 5
attr = A, HT
hitflag = MAFD
priority = 5, hit
sparkno = -1
hitsound = -1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
p2facing = 1
;p1stateno = 9859
p2stateno = ifelse(enemy,gethitvar(fall.recovertime) >= 1,9830,9828)
fall = 1
air.fall = 1
fall.recovertime = parent,var(20)

[State 210, 3]
type = destroyself
trigger1 = time >= 25

[State 210, 3]
type = ChangeState
trigger1 = time >= 21
trigger1 = movehit
value = 9827

;---------------------------------------------------------------------------
; 魔方陣
[Statedef 9827]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = -5
velset = 0,0

[State 0,0]
type = Palfx
trigger1 = time = 0
add = 0,0,110
mul = 220,220,220
time = 60

[State 0, Effect]
type = Explod
trigger1 = time >= 0
anim = 7602
pos = 0,0
velset = 0,0
sprpriority = -5
ownpal = 0
scale = 1 - (time*0.034),1 - (time*0.034)

[State 210, 3]
type = destroyself
trigger1 = parent,movetype = H
trigger2 = time = 29

;--------------------------------------------------------------------------
;瞬間移動 相手本体縮小
[Statedef 9828]
type    = A
movetype= H
physics = N
ctrl = 0
;anim = 7564
sprpriority = 2
;velset = 0,0

[state 0,0]
type = posfreeze
trigger1 = time >= 0

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time <= 38
value = SCA,AA,AP
time = 5

[State 0, Effect]
type = Explod
trigger1 = time <= 29
anim = 5000;7603
removetime = 1
pos = 0,floor(time * -2.5)
sprpriority = 2
ownpal = 0
scale = 1 - (time*0.034),1 - (time*0.034)

[state 0,0]
type = posadd
trigger1 = time = 30
x = enemy,var(19);p2dist x
y = enemy,var(18) * -1;p2dist y

[State 210, 3]
type = selfState
trigger1 = time >= 60
value = 50
ctrl = 1

[state 0,0]
type = turn
trigger1 = time = 31
;trigger1 = p2dist x < 0


;--------------------------------------------------------------------------
;瞬間移動 本体縮小
[Statedef 9829]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time <= 38
value = SCA,AA,AP
time = 5

[State 0, Effect]
type = Explod
trigger1 = time <= 29
anim = 7603
pos = 0,floor(time * -2.5)
sprpriority = 2
ownpal = 0
scale = 1 - (time*0.034),1 - (time*0.034)

[state 0,0]
type = varset
trigger1 = time = 0
v = 19
value = floor(p2dist x)
[state 0,0]
type = varset
trigger1 = time = 0
v = 18
value = floor(p2dist y)

[state 0,0]
type = posadd
trigger1 = time = 30
x = var(19);p2dist x
y = var(18);p2dist y

[State 1000, r]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "mahoujin"
pos = 0,-70
postype = p1
stateno = 9815
ownpal = 1
id = 9815
keyctrl = 0
[State 1000, r]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "mahoujin"
pos = var(19) * -1,(var(18) * -1)-70;floor(p2dist y) - 70
postype = p1
stateno = 9815
ownpal = 1
id = 9815
keyctrl = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 60
value = 50
ctrl = 1

[state 0,0]
type = turn
trigger1 = time = 31
;trigger1 = p2dist x < 0

;--------------------------------------------------------------------------
;瞬間移動 相手本体縮小
[Statedef 9830]
type    = A
movetype= H
physics = N
ctrl = 0
;anim = 7564
sprpriority = 2
;velset = 0,0
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[state 0,0]
type = posfreeze
trigger1 = time >= 0

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time <= 30
value = SCA,AA,AP
time = 5

[State 0, Effect]
type = Explod
trigger1 = time <= 29
anim = 5000;7603
removetime = 1
pos = 0,floor(time * -2.5)
sprpriority = 2
ownpal = 0
scale = 1 - (time*0.034),1 - (time*0.034)

[state 0,0]
type = posadd
trigger1 = time = 30
x = enemy,var(19);p2dist x
y = enemy,var(18) * -1;p2dist y

[State 210, 3]
type = selfState
trigger1 = time >= 60
value = 5050
;ctrl = 1

[state 0,0]
type = turn
trigger1 = time = 31
;trigger1 = p2dist x < 0



;--------------------------------------------------------------------------
;☆がいこつ
[Statedef 9831]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7793;64
sprpriority = 2
velset = 0,0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 50
anim = 7791
postype = p1
pos = 55,5
ownpal = 1
sprpriority = 2
supermovetime =100
;bindtime = -1
;removeongethit = 1
scale = 0.75,0.75


[State 800, 1]
type = HitDef
trigger1 = time = 56
trigger1 = P2MoveType != H
attr = A, HT
hitflag = MA
priority = 1, Miss
sparkno = -1
air.juggle = 14
hitsound = S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
p2facing = 1
p1stateno = 9832
p2stateno = 9833
fall = 1
fall.recover = 0


[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 80
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 80
value = 50
ctrl = 1


;--------------------------------------------------------------------------
;☆投げ 自分
[Statedef 9832]
type    = S
movetype= A
physics = S
ctrl = 0
sprpriority = 2
velset = 0,0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 0
anim = 7792
postype = p1
pos = 55,5
ownpal = 1
sprpriority = 2
supermovetime =100
;bindtime = -1
;removeongethit = 1
scale = 0.75,0.75

[State 3000, effect]
type = Explod
trigger1 = time >= 0
anim = 7792
postype = p1
pos = 55,5
ownpal = 1
sprpriority = 5
supermovetime =100
removetime = 10
;bindtime = -1
removeongethit = 1
scale = 0.75,0.75
persistent = 30

;[State 210, 3]
;type = Changeanim
;trigger1 = time = 5
;value = 7556;79;

[State 0, 1]
type = TargetBind
trigger1 = time = 0
pos = 50,-10

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 105
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 105
value = 50
ctrl = 1

[State 0,0]
type = BGPalfx
trigger1 = time >= 0
add = 30,0,30
mul = 100,100,100
time = 5
persistent = 5

[State 210, 3]
type = playsnd
trigger1 = time >= 2
value = 32,19
persistent = 30

;------------------------------------------
; 相手
[Statedef 9833]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 3
velset =0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 5000

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = poweradd
trigger1 = time >= 0
value = -10
[state 0,0]
type = lifeadd
trigger1 = time >= 0
value = -1
persistent = 5

[state 0,0]
type = selfstate
trigger1 = time >= 101
value = 5050

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA
time = 1

[State 0,0]
type = Palfx
trigger1 = time >= 0
add = 30,0,30
mul = 100,100,100
time = 20
persistent = 30

[state 0,0]
type = posadd
trigger1 = time >= 1
x = -1
persistent = 2
[state 0,0]
type = posadd
trigger1 = time >= 2
x = 1
persistent = 2

























































;水
;--------------------------------------------------------------------------
;水玉 召喚
[Statedef 9850]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 1000, r]
type = Helper
triggerall = Numhelper(9851) <= 2
trigger1 = time = 33
helpertype = normal
name = "mizu"
pos = (random%10)*2-10, 0
postype = p1
stateno = 9851
ownpal = 1
id = 9851
keyctrl = 0
;size.xscale = 1.5
;size.yscale = 1.5

[State 200, 2]
type = PlaySnd
trigger1 = time = 33
value = 32, 11

[State 0, mahoujin]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "mahoujin"
ID = 1992
ownpal = 1
stateno = 1992
postype = p1
pos = 0,0
keyctrl = 0
supermovetime = 200

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 45
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 45
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 35
value = 7859

[state 0,0]
type = varset
trigger1 = time = 5
fv = 13
value = 0.1

;---------------------------------------------------------------------------
; 水玉ぱんちゅ
[Statedef 9851]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7604
sprpriority = 5
velset = 0,-5

[State 210, 3]
type = turn
trigger1 = parentdist x <= -35
;trigger1 = parentdist x <= -35
;trigger2 = p2dist x <= 0
;trigger2 = parentdist x = [-4,14]
persistent = 10

[State 210, 3]
type = velset
trigger1 = parentdist x >= 0 + (random % 10)
x = 0.3 + (random % 10)*0.1

[State 210, 3]
type = velset
trigger1 = parentdist y >= 45 + (random % 10)
y = 0.3 + (random % 10)*0.1
persistent = 25
[State 210, 3]
type = velset
trigger1 = parentdist y < 15 + (random % 10)
y = -0.3 - (random % 10)*0.1
persistent = 25

[State 210, 3]
type = posadd
trigger1 = parentdist x >= 60 + (random % 10)
x = 3
[State 210, 3]
type = posadd
trigger1 = parentdist y >= 95 + (random % 10)
y = 3
[State 210, 3]
type = posadd
trigger1 = parentdist y < -35 + (random % 10)
y = -3

[State 210, 3]
type = veladd
trigger1 = random >= 900
trigger1 = parentdist y = [-25,100]
y = -0.1
[State 210, 3]
type = veladd
trigger1 = random >= 900
trigger1 = parentdist y = [-25,100]
y = 0.1



[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = parentdist x <= -34
trigger2 = parentdist x >= 34
value = floor((random % 10) *0.5) - 2

[State 210, 3]
type = destroyself
trigger1 = time = 450


[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 3,6
hitsound = S32,4
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9852

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 1
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 1

[State 0, 236]
type = ChangeState
trigger1 = parent,stateno = 9853
value = 9854

;---------------------------------------------------------------------------
; 水玉ぱんちゅ 脱げ
[Statedef 9852]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7605
sprpriority = 5
velset = 0,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = 32, 4

[State 210, 3]
type = destroyself
trigger1 = animtime = 0


;--------------------------------------------------------------------------
;水玉 空中に設置
[Statedef 9853]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 40
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 40
value = 50
ctrl = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 33, 1

[State 0, mahoujin]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25


;---------------------------------------------------------------------------
; 水玉ぱんちゅ 上手に履けたお
[Statedef 9854]
type    = A
movetype= I
physics = N
ctrl = 0
;anim = 7604
sprpriority = 5
velset = 3,-3

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[state 0,0]
type = velset
trigger1 = time = 15
x = 0
y = 0

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 1
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 1

[State 210, 3]
type = destroyself
trigger1 = time = 900

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 3,6
hitsound = S32,4
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9852

[State 0, 236]
type = ChangeState
trigger1 = parent,stateno = 9856
value = 9855

;---------------------------------------------------------------------------
; 水玉ぱんちゅ お漏らし
[Statedef 9855]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 3
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = destroyself
trigger1 = time = 70

[State 1000,0]
type = projectile
trigger1 = time >= 1
velocity = 0,5
remvelocity = 0, 0
persistent = 8
projanim = 7606
projremovetime = 7685
projhitanim = 7685
;offset =
attr = A,SP
animtype = heavy
damage = 8,1
guardflag = MA
pausetime = 1,10
sparkno =-1
sparkky =0,0
hitsound = S32,17
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -2,-1
air.velocity =-2,-3
fall = 1
air.fall = 1
guard.kill = 0

[State 200, 2]
type = PlaySnd
trigger1 = time >= 0
value = 33, 17
persistent = 25

;--------------------------------------------------------------------------
;水玉 水でろー
[Statedef 9856]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 75
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 75
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 65
value = 7859

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 33, 1

[State 0, mahoujin]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

;--------------------------------------------------------------------------
;☆水玉 召喚ex
[Statedef 9857]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 1000, r]
type = Helper
trigger1 = time = [58,60]
trigger1 = Numhelper(9851) <= 2
helpertype = normal
name = "mizu"
pos = 0,-55
postype = p1
stateno = 9851
ownpal = 1
id = 9851
keyctrl = 0
;size.xscale = 1.5
;size.yscale = 1.5

[State 200, 2]
type = PlaySnd
trigger1 = time = 59
value = 32, 17

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 65
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 65
value = 50
ctrl = 1

;--------------------------------------------------------------------------
;☆水投げ
[Statedef 9858]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7642;64
sprpriority = 2
velset = 0,0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 53

[State 800, 1]
type = HitDef
trigger1 = time = 52
trigger1 = P2MoveType != H
attr = S, HT
hitflag = M
priority = 1, Miss
sparkno = -1
air.juggle = 14
hitsound = S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
p2facing = 1
p1stateno = 9859
p2stateno = 9860
fall = 1
fall.recover = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 85
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;☆水投げ 自分
[Statedef 9859]
type    = S
movetype= A
physics = S
ctrl = 0
sprpriority = 2
velset = 0,0

[State 210, 3]
type = Changeanim
trigger1 = time = 5
value = 7556;79

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 7632
postype = p1
pos = 50,-40
ownpal = 1
sprpriority = 5
supermovetime =100
bindtime = -1
removeongethit = 1
scale = 2.5,2.5

[State 3000, effect]
type = Explod
trigger1 = time = [49,65]
anim = 7644
postype = p1
pos = 50,-40
ownpal = 1
sprpriority = 5
;bindtime = -1
removeongethit = 1
scale = (time*0.2)-9,(time*0.2)-9

[State 0, 1]
type = TargetBind
trigger1 = time = 0
pos = 50,-10

[State 210, 3]
type = Changeanim
trigger1 = time = 55
value = 101;7643
[state 0,0]
type = velset
trigger1 = time = [55,66]
x = -3

[State 200, 2]
type = PlaySnd
trigger1 = time = 55
value = 32, 17
[State 200, 2]
type = PlaySnd
trigger1 = time = 55
value = 32, 11

[State 210, 3]
type = ChangeState
trigger1 = time >= 75
value = 0
ctrl = 1

;------------------------------------------
; 相手
[Statedef 9860]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1
velset =0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = velset
trigger1 = time = 49
x = 11
y = -7.6

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 5000

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = time = 49
value = -240

[state 0,0]
type = envshake
trigger1 = time = 49
time = 10

[state 0,0]
type = selfstate
trigger1 = life = 0
trigger1 = time >= 50
value = 5050

[state 0,0]
type = changestate
trigger1 = time >= 50
value = 9300

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA
time = 1

[State 0,0]
type = Palfx
trigger1 = time >= 0
add = 0,20,100
time = 50







;愛

;--------------------------------------------------------------------------
;☆誘導弾
[Statedef 9861]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(fvar(12) = 0.1,0,-1000)
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 210, 3]
type = Changeanim
trigger1 = time = 45
value = 7556;79

[State 1000, r]
type = Helper
trigger1 = time = 58
trigger2 = time = 63
trigger3 = time = 69
helpertype = normal
name = "ai"
pos = 30+(random%10),-59+(random%10)
postype = p1
stateno = 9871
ownpal = 1
id = 9871
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.5


[State 0, mahoujin]
type = Helper
trigger1 = time = 58
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-55
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 79
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 79
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 70
value = 7859

;--------------------------------------------------------------------------
;レーザーを撃つ
[Statedef 9862]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = 0,0
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S
[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(fvar(12) = 0.1,0,-1000)
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 210, 3]
type = Changeanim
trigger1 = time = 45
value = 7556;79


[State 0, mahoujin]
type = Helper
trigger1 = time = 58
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9636
postype = p1
pos = 30,-55
keyctrl = 0
ownpal = 1


[State 1000, r]
type = Helper
trigger1 = time = 70
helpertype = normal
name = "ai"
pos = 40,-55
postype = p1
stateno = 9863
ownpal = 1
id = 9863
keyctrl = 0
size.xscale = 2
;size.yscale = 0.5


[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 159
trigger1 = numhelper(9863) = 0
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 159
trigger1 = numhelper(9863) = 0
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 150
value = 7859


;---------------------------------------------------------------------------
;レーザー　攻撃判定
[Statedef 9863]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7645
sprpriority = 3
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 8
persistent = 0
ignorehitpause = 1

[State 0,0]
type = Palfx
trigger1 = time >= 0
add = 100,0,-50
time = 28

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = playsnd
trigger1 = time = 1
value = 32,15


[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 5
attr = A, HP
damage = 13, 1
getpower = 0
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 4, 13
guard.pausetime = 2, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -4
air.velocity = -4,-2
fall = 1
air.fall = 1
fall.recovertime = 45
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H




;--------------------------------------------------------------------------
;誘導弾を撃つ
[Statedef 9870]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = Changeanim
trigger1 = time = 16
value = 7556;79

[State 1000, r]
type = Helper
trigger1 = time = 25
helpertype = normal
name = "ai"
pos = 40,-48
postype = p1
stateno = 9871
ownpal = 1
id = 9871
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.5


[State 0, mahoujin]
type = Helper
trigger1 = time = 18
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 55
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 55
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 45
value = 7859

;---------------------------------------------------------------------------
;誘導弾　攻撃判定
[Statedef 9871]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7607
sprpriority = 3
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[State 0, Effect]
type = Explod
trigger1 = movehit
anim = 7779
pos = 0,0
sprpriority = 3
ownpal = 0
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = playsnd
trigger1 = time = 1
value = 32,6

[State 0, Effect]
type = Explod
trigger1 = time >= 30
anim = 7780
pos = 0,0
sprpriority = -3
ownpal = 0
persistent = 10

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 8
persistent = 0
attr = A, SP
damage = 40, 2
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = destroyself
trigger1 = frontedgedist <= -20
trigger2 = movecontact
trigger3 = pos y >= 0


[state 2, BOOST]
type = veladd
triggerall = vel x <= 5
trigger1 = time >= 30
trigger1 = p2dist x > 5
trigger2 = time = [30,60]
x = 0.1
[state 2, BOOST]
type = veladd
triggerall = vel x >= 3
trigger1 = time >= 70
trigger1 = p2dist x < -5
x = -0.01

[state 2, BOOST]
type = veladd
triggerall = vel y <= 4
trigger1 = time >= 40
trigger1 = p2dist y > 55
trigger1 = pos y <= -5
y = 0.1
[state 2, BOOST]
type = veladd
triggerall = vel y >= -4
trigger1 = time >= 30
trigger1 = p2dist y < 35
trigger2 = time >= 20
trigger2 = pos y >= -50
y = -0.1

[state 2, BOOST]
type = veladd
triggerall = vel y >= -4
trigger1 = pos y >= -40
y = -0.2



;--------------------------------------------------------------------------
;レーザーを撃つ
[Statedef 9872]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = Changeanim
trigger1 = time = 8
value = 7556;79


[State 0, mahoujin]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9636
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1


[State 1000, r]
type = Helper
trigger1 = time = 18
helpertype = normal
name = "ai"
pos = 40,-48
postype = p1
stateno = 9873
ownpal = 1
id = 9873
keyctrl = 0
size.xscale = 2
size.yscale = 0.5


[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 75
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 75
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 66
value = 7859



;---------------------------------------------------------------------------
;レーザー　攻撃判定
[Statedef 9873]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7608
sprpriority = 3
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[State 0,0]
type = Palfx
trigger1 = time >= 0
add = 100,0,-50
time = 18

[State 210, 3]
type = playsnd
trigger1 = time = 1
value = 32,6

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 40, 3
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -4
air.velocity = -4,-2
fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

;---------------------------------------------------------------------------
; Jump Up
[Statedef 9874]
type    = A
physics = N
ctrl = 1
anim = 41

[state 0,0]
type = velset
trigger1 = command = "holdfwd"
x = 1.4
[state 0,0]
type = velset
trigger1 = command = "holdback"
x = -1.4

[state 0,0]
type = velset
trigger1 = time = 0
y = 0.8

[State 45, 3]
type = Varadd
trigger1 = time = 1
var(32) = 1

[state 0,0]
type = changestate
trigger1 = command != "holdup"
value = 50

[state 0,0]
type = changestate
trigger1 = pos y >= 0
value = 52
ctrl = 1

;--------------------------------------------------------------------------
;反射
[Statedef 9875]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 25
value = SCA,AP
time = 1
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AT
time = 1

[State 210, 3]
type = Changeanim
trigger1 = time = 16
value = 7556;79

[State 1000, r]
type = Helper
trigger1 = time = 25
helpertype = normal
name = "ai"
pos = 40,-48
postype = p1
stateno = 9876
ownpal = 1
id = 9876
keyctrl = 0
size.xscale = 0.5
;size.yscale = 1
[State 210, 3]
type = playsnd
trigger1 = time = 25
value = 32,15

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 55
trigger1 = Numhelper(9876) = 0
value = 9877
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 55
trigger1 = Numhelper(9876) = 0
value = 9877
ctrl = 1
[state 0,0]
type = velset
trigger1 = pos y >= 0
y = 0



;--------------------------------------------------------------------------
;おわり
[Statedef 9877]
type    = A
ctrl = 0
sprpriority = 2

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time <= 25
value = SCA,AP
time = 1
time = 1
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AT
time = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 15
;trigger1 = Numhelper(9876) = 0
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 15
;trigger1 = Numhelper(9876) = 0
value = 50
ctrl = 1
[state 0,0]
type = velset
trigger1 = pos y >= 0
y = 0

;---------------------------------------------------------------------------
;サイファー　当たり判定
[Statedef 9876]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7629
sprpriority = 3
velset = 0,0

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 35,-55

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA,NP,SP
pausetime = 0,3
hitsound = -1;S0,0
numhits = 0
sparkno = -1;S7109
sparkxy = 15,0
p1stateno = 9878
ignorehitpause = 1

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AT
time = 1
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AP
time = 1


[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 9875
trigger2 = time >= 240
trigger3 = time >= 12
trigger3 = parent,command != "holda"


;---------------------------------------------------------------------------
;反射だ
[Statedef 9878]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7629
sprpriority = 3
velset = 0,0

[state 0,0]
type = reversaldef
trigger1 = time <= 5
Reversal.Attr = SCA,NP,SP
pausetime = 2,1
hitsound = -1;S0,0
numhits = 0
sparkno = -1;S7109
sparkxy = 15,0
p1stateno = 9878
ignorehitpause = 1

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AT
time = 1
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AP
time = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


[State 1000, r]
type = Helper
triggerall = Numhelper(9879) <= 2
trigger1 = time = 5
helpertype = normal
name = "ai"
pos = 0,0
postype = p1
stateno = 9879
ownpal = 1
id = 9879
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.5

[state 0,0]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;誘導弾　攻撃判定
[Statedef 9879]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7607
sprpriority = 3
velset = 0,0

[State 0, Effect]
type = Explod
trigger1 = movehit
anim = 7779
pos = 0,0
sprpriority = 3
ownpal = 0
persistent = 0
ignorehitpause = 1

[State 0, Effect]
type = Explod
trigger1 = vel x >= 2
trigger1 = time >= 2
anim = 7780
pos = 0,0
sprpriority = -3
ownpal = 0
persistent = 10
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 8
persistent = 0
attr = A, SP
damage = 90, 4
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = destroyself
trigger1 = frontedgedist <= -20
trigger2 = movecontact
trigger3 = pos y >= 0

[state 2, BOOST]
type = veladd
triggerall = vel x <= 5
trigger1 = time >= 20
trigger1 = p2dist x > 5
x = 0.12
[state 2, BOOST]
type = veladd
triggerall = vel x >= -5
trigger1 = time >= 20
trigger1 = p2dist x < -5
x = -0.12

[state 2, BOOST]
type = veladd
triggerall = vel y <= 4
trigger1 = time >= 20
trigger1 = p2dist y > 55
trigger1 = pos y <= -5
y = 0.12
[state 2, BOOST]
type = veladd
triggerall = vel y >= -4
trigger1 = time >= 20
trigger1 = p2dist y < 35
trigger2 = time >= 10
trigger2 = pos y >= -50
y = -0.12

[state 2, BOOST]
type = veladd
triggerall = vel y >= -4
trigger1 = pos y >= -40
y = -0.2









;土tteiuka岩だよねぇ
;--------------------------------------------------------------------------
;岩落下
[Statedef 9640]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S


[State 0, mahoujin]
type = Helper
trigger1 = time = 25
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 1000, r]
type = Helper
trigger1 = time = 28
helpertype = normal
name = "iwa"
pos = 50,-170
postype = p1
stateno = 9641
ownpal = 1
id = 9641
keyctrl = 0
size.xscale = 0.75
size.yscale = 0.75

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 60
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 60
value = 50
ctrl = 1

[State 210, end]
type = Changeanim
trigger1 = time = 55
value = 7859

;---------------------------------------------------------------------------
;岩　攻撃判定
[Statedef 9641]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7609
sprpriority = 3
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = playsnd
trigger1 = time = 1
value = 32,20

[State 2, shild]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 9642
IgnoreHitPause = 1
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AP
time = 2

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = null;reversaldef
trigger1 = 1
Reversal.Attr = SCA,NP,SP,HP
pausetime = 1,1
hitsound = S0,0
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9642
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 10
persistent = 0
attr = A, SP
damage = 55, 8
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 9, 9
sparkno = 2
sparkxy = -8, -24
hitsound = S300, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -2,5
air.velocity = -2,5
fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 20
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = changestate
trigger1 = movecontact
trigger2 = pos y >= 0
value = 9642

[state 2, BOOST]
type = velset
triggerall = time = 15
trigger1 = parent,command = "holdfwd"
x = 1
[state 2, BOOST]
type = velset
triggerall = time = 15
trigger1 = parent,command = "holdback"
x = -1
[state 2, BOOST]
type = velset
trigger1 = time = 15
y = 3
[state 2, BOOST]
type = veladd
trigger1 = time >= 15
y = 0.3

;---------------------------------------------------------------------------
;岩　消える
[Statedef 9642]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7620
sprpriority = 3
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = pos y >= 0
trigger1 = time = 0
value = 300, 2

[state 0,0]
type = envshake
trigger1 = time = 0
time = 15

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 1
mul = 250-(time*10),250-(time*10),250-(time*10)

[state 0,0]
type = destroyself
trigger1 = time = 24

[State 0, Effect]
type = Explod
trigger1 = time <= 5
anim = 7610 + (random%10)
random = 80,40
pos = 0,-25
accel = 0,0.45
vel = 0.5 - ((random%10)*0.1),-3 + ((random%10)*0.1)
sprpriority = 5
ownpal = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


;--------------------------------------------------------------------------
;いでよ御手
[Statedef 9643]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0;vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 1000, r]
type = Helper
trigger1 = time = 18
helpertype = normal
name = "arm"
pos = 15,-120
postype = p1
stateno = 9644
ownpal = 1
id = 9644
keyctrl = 0
;size.xscale = 0.75
;size.yscale = 0.75


[State 0, mahoujin]
type = Helper
trigger1 = time = 17
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 18,-55
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.75

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 80
trigger1 = Numhelper(9644) = 0
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 80
trigger1 = Numhelper(9644) = 0
value = 50
ctrl = 1


;---------------------------------------------------------------------------
;手　攻撃判定
[Statedef 9644]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7621
sprpriority = 3
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 4
value = 300, 2

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 15,-120

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SP
damage = 78, 8
getpower = 50
givepower = 12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 24, 55
guard.pausetime = 24, 50
sparkno = 2
sparkxy = -8, -24
hitsound = S31, 0
guardsound = S0, 0
ground.type = high
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5,-3
air.velocity = -6,-3
fall = 1
air.fall = 1
fall.recovertime = 65
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 60
ground.cornerpush.veloff = 0
envshake.ampl = 5
guard.velocity = -10

[state 0,0]
type = envshake
trigger1 = moveguarded
time = 40
ampl = 4
ignorehitpause = 1
persistent = 0

[State 600, 4]
type = null;ReversalDef
trigger1 = time >= 0
attr = S,SP
reversal.attr = SCA,AP
sparkxy = 0,0
sparkno = -1
pausetime = 0,1
hitsound = -1

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA
time = 1

[state 0,0]
type = playerpush
trigger1 = 1
value = 1


;--------------------------------------------------------------------------
;☆いでよ超手
[Statedef 9645]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0;vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S


[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 1000, r]
type = Helper
trigger1 = time = 68
helpertype = normal
name = "arm"
pos = 15,-120
postype = p1
stateno = 9646
ownpal = 1
id = 9644
keyctrl = 0
size.xscale = 1.5
;size.yscale = 0.75


[State 0, mahoujin]
type = Helper
trigger1 = time = 67
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 18,-55
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.75

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 140
trigger1 = Numhelper(9644) = 0
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 140
trigger1 = Numhelper(9644) = 0
value = 50
ctrl = 1


;---------------------------------------------------------------------------
;超手　攻撃判定
[Statedef 9646]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7646
sprpriority = 3
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 4
value = 300, 2

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 15,-120

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = enemy,stateno != [120,155]
trigger1 = time >= 5
persistent = 0
attr = A, HP
damage = 165, 15
getpower = 50
givepower = 12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 0, 55
guard.pausetime = 24, 50
sparkno = 2
sparkxy = -8, -24
hitsound = S31, 0
guardsound = S0, 0
ground.type = high
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5,-3
air.velocity = -6,-3
fall = 1
air.fall = 1
fall.recovertime = 55
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 60
ground.cornerpush.veloff = 0
envshake.ampl = 6
guard.velocity = -10
p2stateno = 9300

[State 200, HitDef1]
type = HitDef
trigger1 = enemy,stateno = [120,155]
trigger1 = time >= 5
persistent = 0
attr = A, HP
damage = 15, 15
getpower = 50
givepower = 12
animtype = heavy
hitflag = MAF
priority = 3, hit
pausetime = 0, 55
guard.pausetime = 24, 50
sparkno = 2
sparkxy = -8, -24
hitsound = S31, 0
guardsound = S0, 0
ground.type = high
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5,-3
air.velocity = -6,-3
fall = 1
air.fall = 1
fall.recovertime = 55
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 60
ground.cornerpush.veloff = 0
envshake.ampl = 6
guard.velocity = -10
p2stateno = 9302


[state 0,0]
type = envshake
trigger1 = moveguarded
time = 50
ampl = 5
ignorehitpause = 1
persistent = 0

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

[State 210, 3]
type = ChangeState
trigger1 = movecontact
value = 9647


;---------------------------------------------------------------------------
;超手　攻撃終了
[Statedef 9647]
type    = A
movetype= A
physics = N
ctrl = 0
sprpriority = 3
velset = 0,0
[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H



;--------------------------------------------------------------------------
;☆いでよ あんよ
[Statedef 9648]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0;vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S


[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 1000, r]
type = Helper
trigger1 = time = 58
helpertype = normal
name = "foot"
pos = floor(p2dist x) - 95,-240
postype = p1
stateno = 9649
ownpal = 1
id = 9644
keyctrl = 0
;size.xscale = 1.5
;size.yscale = 0.75


[State 0, mahoujin]
type = Helper
trigger1 = time = 56
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 1992
postype = p1
pos = floor(p2dist x) - 5,-240
keyctrl = 0
ownpal = 1
size.xscale = 0.4
size.yscale = 0.75

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 140
trigger1 = Numhelper(9644) = 0
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 140
trigger1 = Numhelper(9644) = 0
value = 50
ctrl = 1


;---------------------------------------------------------------------------
;超足　攻撃判定
[Statedef 9649]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7647
sprpriority = 3
velset = 0,0

[State 210, 2]
type = Posset
trigger1 = time = 0
y = -240

[State 210, 2]
type = PlaySnd
trigger1 = time = 4
value = 300, 2

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 5
persistent = 0
attr = A, HP
damage = 75, 15
getpower = 0
givepower = 12
animtype = heavy
guardflag = H
hitflag = MAFD
priority = 3, hit
pausetime = 2, 2
guard.pausetime = 24, 50
sparkno = 2
sparkxy = -8, -24
hitsound = S31, 0
guardsound = S0, 0
ground.type = high
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5,-3
air.velocity = -6,-3
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 60
ground.cornerpush.veloff = 0
envshake.ampl = 6
guard.velocity = -10
p2stateno = 9650

[state 0,0]
type = envshake
trigger1 = moveguarded
time = 50
ampl = 5
ignorehitpause = 1
persistent = 0

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H



;---------------------------------------------------------------------------
;強制超ダウン
[Statedef 9650]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset = 0,15

[state 0,0]
type = changeanim
trigger1 = time = 0
value = 5070

;[state 0,0]
;type = selfstate
;trigger1 = time = 15
;value = 5071

[state 0,0]
type = changestate
trigger1 = pos y >= 0
value = 9651


[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
;強制超ダウン
[Statedef 9651]
type    = L
movetype= H
physics = S
ctrl = 0
sprpriority = 1
velset = 0,0

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = changeanim
trigger1 = time = 0
value = 5110

[state 0,0]
type = selfstate
trigger1 = time = 180
value = 5120

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA
time = 1
















;時
;--------------------------------------------------------------------------
;撃つ
[Statedef 9660]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = Changeanim
trigger1 = time = 16
value = 7556;79

[State 1000, r]
type = Helper
trigger1 = time = 25
helpertype = normal
name = "toki"
pos = 40,-48
postype = p1
stateno = 9661
ownpal = 1
id = 9661
keyctrl = 0
size.xscale = 0.25
size.yscale = 0.25


[State 0, mahoujin]
type = Helper
trigger1 = time = 18
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 40,-48
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 55
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 55
value = 50
ctrl = 1



;---------------------------------------------------------------------------
;時間差弾　攻撃判定
[Statedef 9661]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7607
sprpriority = 3
velset = 1.4,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = 32, 6

[state 0,0];時
type = palfx
trigger1 = time <= 30
time = 5
add = 50,150,-90
mul = 140,140,140
ignorehitpause = 1
[state 0,0];時
type = palfx
trigger1 = time >= 30
time = 5
add = 50,150,-90
ignorehitpause = 1


[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 20
persistent = 0
attr = A, SP
damage = 40, 2
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S32, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = destroyself
trigger1 = frontedgedist <= -20
trigger2 = time = 140

[state 0,0]
type = changestate;destroyself
trigger1 = movecontact
value = 9668

[state 2, BOOST]
type = velmul
trigger1 = time = [20,50]
x = 0.95;-0.022


;---------------------------------------------------------------------------
; RUN_BACK 幻
[Statedef 9662]
type    = A
physics = N
ctrl = 0
anim = 7627
sprpriority = 1
velset = 0,0

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 1,12
hitsound = S0,0
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9663
ignorehitpause = 1

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 1
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 1

[State 100, 4]
type = destroyself
trigger1 = animtime = 0


[State 105, 1]
type = VelSet
trigger1 = Time < 8
x = -4
[State 105, 1]
type = VelSet
trigger1 = Time = 8
x = -3


[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

;---------------------------------------------------------------------------
; RUN_BACK 幻
[Statedef 9663]
type    = A
physics = N
ctrl = 0
sprpriority = 1
velset = 0,0
anim = 7781

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 4]
type = destroyself
trigger1 = time >= 20

[state 0,0];風樹
type = palfx
trigger1 = time >= 0
time = 5
mul = 255 - (time*11),255 - (time*11),255 - (time*11)


;--------------------------------------------------------------------------
;☆時間止め弾撃つ
[Statedef 9664]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = 0,0;vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S


[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200


[State 210, 3]
type = Changeanim
trigger1 = time = 52
value = 7556;79

[State 1000, r]
type = Helper
trigger1 = time = 68
helpertype = normal
name = "toki"
pos = 35,-55
postype = p1
stateno = 9665
ownpal = 1
id = 9665
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.5


[State 0, mahoujin]
type = Helper
trigger1 = time = 64
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-55
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 88
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 88
value = 50
ctrl = 1


;---------------------------------------------------------------------------
;時間差弾　攻撃判定
[Statedef 9665]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7607
sprpriority = 3
velset = 0,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = 32, 6

[state 0,0];時
type = palfx
trigger1 = time <= 4
time = 1
add = 50,150,-90
mul = 140,140,140
ignorehitpause = 1
[state 0,0];時
type = palfx
trigger1 = time >= 5
time = 5
add = 50,150,-90
ignorehitpause = 1


[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 6
persistent = 0
attr = A, HP
damage = 40, 2
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 43
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S32, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = destroyself
trigger1 = time = 30

[State 210, 3]
type = ChangeState
trigger1 = movehit
value = 9666

;---------------------------------------------------------------------------
;時間差弾　タイマー
[Statedef 9666]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7649;9999
sprpriority = 3
velset = 0,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1
[state 0,0]
type = turn
trigger1 = facing = -1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 210, 3]
type = null;bindtotarget
trigger1 = time >= 0
pos = 0,-45,foot
time = 10

[State 210, 3]
type = posadd
trigger1 = p2dist x != [-1,1]
x = floor(p2dist x)
[State 210, 3]
type = posadd
trigger1 = p2dist y != [-46,-44]
y = floor(p2dist y) -45

[State 210, 3]
type = ChangeState
trigger1 = time = 440
value = 9667

[state 0,0]
type = destroyself
trigger1 = parent,movetype = H
trigger1 = parent,stateno != [120,155]

;---------------------------------------------------------------------------
;時間差弾　タイマー
[Statedef 9667]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 3
velset = 0,0

[state 0,0]
type = destroyself
trigger1 = time = 1



;---------------------------------------------------------------------------
;時間差弾 ひｔ
[Statedef 9668]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7607
sprpriority = 3
velset = 0,0


[State 3000, effect]
type = Explod
trigger1 = time >= 0
anim = 7607
postype = p1
pos = 0,0
ownpal = 0
sprpriority = 5
vel = 0,-1
scale = 0.5 + time *0.01,0.5 + time *0.01
removetime = 1

[state 0,0];時
type = palfx
trigger1 = time >= 0
time = 2
add = 50,150,-90
mul = 250-(time*5),250-(time*5),250-(time*5)
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1


[state 0,0]
type = destroyself
trigger1 = time = 49


;鋼
;--------------------------------------------------------------------------
;剣よ
[Statedef 9670]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = Changeanim
trigger1 = time = 20
value = 7556;79

[State 1000, r]
type = Helper
trigger1 = time = 32
helpertype = normal
name = "sword"
pos = floor(p2dist x),floor(p2dist y)-45
postype = p1
stateno = 9671
ownpal = 1
id = 9671
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, mahoujin]
type = Helper
trigger1 = time = 18
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-55
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 65
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 65
value = 50
ctrl = 1



;---------------------------------------------------------------------------
;剣　攻撃判定
[Statedef 9671]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7670
sprpriority = 3
velset = 0,0
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

;0真下へ　1真上へ　2左へ　3右へ 4左下5右下6左上7右上
[state 0,0]
type = varset
trigger1 = time = 1
trigger1 = parent,command != "holddown";
trigger1 = parent,command = "holdup";
trigger1 = parent,command != "holdfwd";
trigger1 = parent,command != "holdback";
v = 20
value = 0
[state 0,0]
type = varset
trigger1 = time = 1
trigger1 = parent,command = "holddown";
trigger1 = parent,command != "holdup";
trigger1 = parent,command != "holdfwd";
trigger1 = parent,command != "holdback";
v = 20
value = 1
[state 0,0]
type = varset
trigger1 = time = 1
trigger1 = parent,command != "holddown";
trigger1 = parent,command != "holdup";
trigger1 = parent,command = "holdfwd";
trigger1 = parent,command != "holdback";
v = 20
value = 2
[state 0,0]
type = varset
trigger1 = time = 1
trigger1 = parent,command != "holddown";
trigger1 = parent,command != "holdup";
trigger1 = parent,command != "holdfwd";
trigger1 = parent,command = "holdback";
trigger2 = time = 0
v = 20
value = 3
[state 0,0]
type = varset
trigger1 = time = 1
trigger1 = parent,command = "holddown";
trigger1 = parent,command != "holdup";
trigger1 = parent,command = "holdfwd";
trigger1 = parent,command != "holdback";
v = 20
value = 6
[state 0,0]
type = varset
trigger1 = time = 1
trigger1 = parent,command = "holddown";
trigger1 = parent,command != "holdup";
trigger1 = parent,command != "holdfwd";
trigger1 = parent,command = "holdback";
v = 20
value = 7
[state 0,0]
type = varset
trigger1 = time = 1
trigger1 = parent,command != "holddown";
trigger1 = parent,command = "holdup";
trigger1 = parent,command = "holdfwd";
trigger1 = parent,command != "holdback";
v = 20
value = 4
[state 0,0]
type = varset
trigger1 = time = 1
trigger1 = parent,command != "holddown";
trigger1 = parent,command = "holdup";
trigger1 = parent,command != "holdfwd";
trigger1 = parent,command = "holdback";
v = 20
value = 5

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = parent,fvar(11) = 0.1
time = 80
add = 80,90,100
mul = 200,200,200
color = 0
[state 0,0]
type = palfx
trigger1 = parent,fvar(11) = 0.2
time = 80
add = 50,80,50
mul = 230,230,230

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 10
persistent = 0
attr = A, SP
damage = 50, 5
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,fvar(11) = 0.1
trigger1 = time >= 10
trigger1 = var(19) <= 13
persistent = 7
attr = A, SP
damage = 50, 5
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,fvar(11) = 0.2
trigger1 = time >= 10
trigger1 = var(19) < 20
persistent = 7
attr = A, SP
damage = 50, 5
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,fvar(11) = 0.2
trigger1 = var(19) >= 20
persistent = 0
attr = A, SP
damage = 50, 5
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
fall = 1
air.fall = 1
fall.recovertime = 30
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2



[State 210, 3]
type = varadd
trigger1 = movecontact
v = 19
value = 1

[state 0,0]
type = destroyself
trigger1 = time = 65

[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 0
value = 7670
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 1
value = 7671
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 2
value = 7673
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 3
value = 7674
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 4
value = 7675
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 5
value = 7676
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 6
value = 7677
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 7
value = 7678

[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 0
y = 5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 1
y = -5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 2
x = -5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 3
x = 5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 4
x = -5
y = 5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 5
x = 5
y = 5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 6
x = -5
y = -5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 7
x = 5
y = -5

[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 0
y = -120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 1
y = 120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 2
x = 120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 3
x = -120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 4
x = 120
y = -120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 5
x = -120
y = -120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 6
x = 120
y = 120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 7
x = -120
y = 120



;--------------------------------------------------------------------------
;盾よ
[Statedef 9672]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = Changeanim
trigger1 = time = 20
value = 7556;79

[State 1000, r]
type = Helper
trigger1 = time = 28
trigger1 = fvar(11) = 0
helpertype = normal
name = "sield"
pos = 30,-45
postype = p1
stateno = 9673
ownpal = 1
id = 9673
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.5
[State 1000, r]
type = Helper
trigger1 = time = 28
trigger1 = fvar(11) = 0.1
helpertype = normal
name = "sield"
pos = 30,-45
postype = p1
stateno = 9680
ownpal = 1
id = 9673
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.5
[State 1000, r]
type = Helper
trigger1 = time = 28
trigger1 = fvar(11) = 0.2
helpertype = normal
name = "sield"
pos = 30,-45
postype = p1
stateno = 9681
ownpal = 1
id = 9673
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, mahoujin]
type = Helper
trigger1 = time = 18
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-55
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 55
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 55
value = 50
ctrl = 1


;---------------------------------------------------------------------------
;盾　判定1
[Statedef 9673]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7680
sprpriority = 3
velset = 0,0

[state 0,0]
type = palfx
trigger1 = parent,fvar(11) = 0.1
time = 80
add = 80,100,100
mul = 200,200,200
color = 0
[state 0,0]
type = palfx
trigger1 = parent,fvar(11) = 0.2
time = 80
add = 50,80,50
mul = 230,230,230

[State 210, 3]
type = velset
trigger1 = time >= 3
x = 0.2

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = playerpush
trigger1 = 1
value = 1

[state 0,0]
type = destroyself
trigger1 = time = 226

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1


[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA
time = 1

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 1,1
hitsound = S0,0
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9674


;---------------------------------------------------------------------------
;盾　判定 2
[Statedef 9680]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7680
sprpriority = 3
velset = 0,0

[state 0,0]
type = palfx
trigger1 = parent,fvar(11) = 0.1
time = 80
add = 80,100,100
mul = 200,200,200
color = 0
[state 0,0]
type = palfx
trigger1 = parent,fvar(11) = 0.2
time = 80
add = 50,80,50
mul = 230,230,230

[State 210, 3]
type = velset
trigger1 = time >= 3
x = 0.2

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = playerpush
trigger1 = 1
value = 1

[state 0,0]
type = destroyself
trigger1 = time = 226

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1


[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA
time = 1

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 1,1
hitsound = S0,0
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9673

;---------------------------------------------------------------------------
;盾　判定3
[Statedef 9681]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7680
sprpriority = 3
velset = 0,0

[state 0,0]
type = palfx
trigger1 = parent,fvar(11) = 0.1
time = 80
add = 80,100,100
mul = 200,200,200
color = 0
[state 0,0]
type = palfx
trigger1 = parent,fvar(11) = 0.2
time = 80
add = 50,80,50
mul = 230,230,230

[State 210, 3]
type = velset
trigger1 = time >= 3
x = 0.2

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = playerpush
trigger1 = 1
value = 1

[state 0,0]
type = destroyself
trigger1 = time = 226

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1


[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA
time = 1

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 1,1
hitsound = S0,0
numhits = 0
sparkno = 1;S7109
sparkxy = 15,0
p1stateno = 9680


;---------------------------------------------------------------------------
;盾　やられ
[Statedef 9674]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7680
sprpriority = 3
velset = -1,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = time = 8


;--------------------------------------------------------------------------
;☆Defence UP
[Statedef 9675]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7820;7564
sprpriority = 2
velset = 0,0;vel x * 0.05,vel y * 0.05

[state 0,0]
type = velset
trigger1 = time = 5
y = -0.5
[state 0,0]
type = velset
trigger1 = time = 65
y = 0.5
[state 0,0]
type = velmul
trigger1 = time = [50,64]
y = 0.92

[State 0, mahoujin]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "effects"
ID = 9683
stateno = 9683
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 30
movetime = 30
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 1
value = 13, 7
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 65
value = 52
ctrl = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 35
anim = 7681
postype = p1
pos = 0,-105
ownpal = 1
sprpriority = 5
vel = 0,-1
;scale = 0.5,0.5
facing = ifelse(facing = -1,-1,1)
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 50
anim = 7683
postype = p1
pos = 0,-85
ownpal = 1
sprpriority = 5
vel = 0,-1
facing = ifelse(facing = -1,-1,1)
;scale = 0.5,0.5

[state 0,0]
type = varset
trigger1 = time = 30
fv = 10
value = 550
[state 0,0]
type = varset
trigger1 = time = 30
fv = 17
value = 0


;--------------------------------------------------------------------------
;☆Level UP
[Statedef 9676]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7820;7564
sprpriority = 2
velset = 0,0;vel x * 0.05,vel y * 0.05

[state 0,0]
type = velset
trigger1 = time = 5
y = -0.5
[state 0,0]
type = velset
trigger1 = time = 65
y = 0.5
[state 0,0]
type = velmul
trigger1 = time = [50,64]
y = 0.92

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 1
value = 13, 6
channel = 0

[State 0, mahoujin]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "effects"
ID = 9683
stateno = 9683
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 30
movetime = 30
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000


[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 65
value = 52
ctrl = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 35
anim = 7682
postype = p1
pos = 0,-105
ownpal = 1
sprpriority = 5
vel = 0,-1
;scale = 0.5,0.5
facing = ifelse(facing = -1,-1,1)
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 50
anim = 7683
postype = p1
pos = 0,-85
ownpal = 1
sprpriority = 5
vel = 0,-1
facing = ifelse(facing = -1,-1,1)
;scale = 0.5,0.5

[state 0,0]
type = varset
trigger1 = time = 30
fv = 11
value = ifelse(fvar(11)=0,0.1,0.2)

;--------------------------------------------------------------------------
;ゲージ溜め
[Statedef 9677]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7564
sprpriority = 2
velset = 0,0

[State 210, 3]
type = ChangeState
trigger1 = command != "holda"
trigger1 = time >= 29
value = 9685
ctrl = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 1
flag = noshadow
ignorehitpause = 1


[State 3000, effect]
type = Explod
persistent = 30
trigger1 = time >= 1
anim = 7684
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
vel = 0,0
scale = 1,0.2
removeongethit = 1

[state 0,0]
type = poweradd
trigger1 = time >= 10
value = 9



;--------------------------------------------------------------------------
;☆トレーーーーーーーーース！！！オン！！！！！！！！
[Statedef 9678]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7579
sprpriority = 2
velset = vel x * 0.05,vel y * 0.05
[State 5040, 4]
type = StateTypeSet
trigger1 = time = 0
trigger1 = pos y >= 0
statetype = S
physics = S

[State 210, 3]
type = velset
trigger1 = pos y >= 0
y = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000


[State 210, 3]
type = Changeanim
trigger1 = time = 60
value = 7556;79

[State 0, mahoujin]
type = Helper
trigger1 = time = 58
helpertype = normal
name = "mahoujin"
ID = 9635
stateno = 9635
postype = p1
pos = 30,-55
keyctrl = 0
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25

[State 210, 3]
type = ChangeState
trigger1 = pos y = 0
trigger1 = time >= 109
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = pos y != 0
trigger1 = time >= 109
value = 50
ctrl = 1

[state 0,0]
type = varset
trigger1 = time = 0
v = 19
value = 0
[state 0,0]
type = varadd
trigger1 = time = [71,78]
v = 19
value = 1

[State 1000, r]
type = Helper
trigger1 = time = [70,77]
helpertype = normal
name = "sword"
pos = floor(p2dist x) + (random%10),floor(p2dist y)-45 + (random%10)
postype = p1
stateno = 9679
ownpal = 1
id = 9671
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.5

;---------------------------------------------------------------------------
;剣　攻撃判定
[Statedef 9679]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7670
sprpriority = 3
velset = 0,0
;0真下へ　1真上へ　2左へ　3右へ 4左下5右下6左上7右上
[state 0,0]
type = varset
trigger1 = time = 0
v = 20
value = parent,var(19)
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = parent,fvar(11) = 0.1
time = 80
add = 80,90,100
mul = 200,200,200
color = 0
[state 0,0]
type = palfx
trigger1 = parent,fvar(11) = 0.2
time = 80
add = 50,80,50
mul = 230,230,230


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 10
persistent = 0
attr = A, HP
damage = 50, 5
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,fvar(11) = 0.1
trigger1 = time >= 10
trigger1 = var(19) <= 13
persistent = 7
attr = A, HP
damage = 12, 5
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,fvar(11) = 0.2
trigger1 = time >= 10
trigger1 = var(19) < 20
persistent = 7
attr = A, HP
damage = 9, 5
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,fvar(11) = 0.2
trigger1 = var(19) >= 20
persistent = 0
attr = A, HP
damage = 10, 5
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -4
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
fall = 1
air.fall = 1
fall.recovertime = 30
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2



[State 210, 3]
type = varadd
trigger1 = movecontact
v = 19
value = 1

[state 0,0]
type = destroyself
trigger1 = time = 65

[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 0
value = 7670
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 1
value = 7671
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 2
value = 7673
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 3
value = 7674
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 4
value = 7675
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 5
value = 7676
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 6
value = 7677
[State 210, 3]
type = Changeanim
trigger1 = time = 5
trigger1 = var(20) = 7
value = 7678

[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 0
y = 5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 1
y = -5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 2
x = -5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 3
x = 5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 4
x = -5
y = 5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 5
x = 5
y = 5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 6
x = -5
y = -5
[State 210, 3]
type = velset
trigger1 = time = 15
trigger1 = var(20) = 7
x = 5
y = -5

[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 0
y = -120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 1
y = 120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 2
x = 120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 3
x = -120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 4
x = 120
y = -120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 5
x = -120
y = -120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 6
x = 120
y = 120
[State 210, 3]
type = posadd
trigger1 = time = 3
trigger1 = var(20) = 7
x = -120
y = 120




;------------------------------------------------
;エフェクトヘルパー
[Statedef 9683]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
velset = 0,0

[state 0,0]
type = palfx
trigger1 = parent,stateno = 9676
time = 5
add = 130,100,40
mul = 240-(time*10),240-(time*10),240-(time*10)
[state 0,0]
type = palfx
trigger1 = parent,stateno = 9675
time = 5
add = 0,70,90
mul = 240-(time*10),240-(time*10),240-(time*10)
[state 0,0]
type = palfx
trigger1 = parent,stateno = 9684
time = 5
add = 90,40,0
mul = 240-(time*10),240-(time*10),240-(time*10)

[state 0,0]
type = Playsnd
trigger1 = time = 1
value = 50,6

[State 3000, dokaa]
type = Explod
trigger1 = time = [1,20]
anim = 7804
removetime = 1
postype = p1
pos = -10,-65
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.1+(time*0.08),0.1+(time*0.08)

[State 3000, dokaa]
type = Explod
trigger1 = time = [1,20]
anim = 7052
removetime = 1
postype = p1
pos = -10,-65
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.4+(time*0.05),0.4+(time*0.05)
[State 3000, dokaa]
type = Explod
trigger1 = time = [1,20]
anim = 7053
removetime = 1
postype = p1
pos = -10,-65
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.4+(time*0.05),0.4+(time*0.05)
[State 3000, kirari]
type = Explod
trigger1 = time = 1
anim = 7054
postype = p1
pos = -12,-66
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200

[state 0,0]
type = destroyself
trigger1 = time = 20

;--------------------------------------------------------------------------
;☆Pow UP
[Statedef 9684]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7820;7564
sprpriority = 2
velset = 0,0;vel x * 0.05,vel y * 0.05

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 1
value = 13, 3
channel = 0

[state 0,0]
type = velset
trigger1 = time = 5
y = -0.5
[state 0,0]
type = velset
trigger1 = time = 65
y = 0.5
[state 0,0]
type = velmul
trigger1 = time = [50,64]
y = 0.92

[State 0, mahoujin]
type = Helper
trigger1 = time = 2
helpertype = normal
name = "effects"
ID = 9683
stateno = 9683
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 30
movetime = 30
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = -1000


[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 65
value = 52
ctrl = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 35
anim = 7852
postype = p1
pos = -5,-105
ownpal = 1
sprpriority = 5
vel = 0,-1
;scale = 0.5,0.5
facing = ifelse(facing = -1,-1,1)
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 50
anim = 7683
postype = p1
pos = 0,-85
ownpal = 1
sprpriority = 5
vel = 0,-1
facing = ifelse(facing = -1,-1,1)
;scale = 0.5,0.5

[state 0,0]
type = varset
trigger1 = time = 30
fv = 17
value = 550
[state 0,0]
type = varset
trigger1 = time = 30
fv = 10
value = 0


;--------------------------------------------------------------------------
;ゲージ溜め2
[Statedef 9685]
type    = S
movetype= I
physics = S
ctrl = 0
sprpriority = 2
velset = 0,0

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
value = 0
ctrl = 1




;------------------------------------------
;アルカナ　各種魔方陣
[Statedef 9635]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7563
sprpriority = 5
velset = 0,0

[state 0,0]
type = null;angleset
trigger1 = time = 0
value = ifelse(parent,vel y < 0,30,ifelse(parent,vel y > 0,-30,0))


[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0];風樹
type = palfx
triggerall = time >= 1
trigger1 = parent,var(33) = 2
trigger2 = parent,var(33) = 8
time = 5
add = 0,130,-60
mul = 255 - (time*5),255 - (time*5),255 - (time*5)
[state 0,0];魔
type = palfx
triggerall = time >= 1
trigger1 = parent,var(33) = 3
time = 5
add = 80,0,-20
mul = 255 - (time*5),255 - (time*5),255 - (time*5)
[state 0,0];火
type = palfx
triggerall = time >= 1
trigger1 = parent,var(33) = 1
trigger2 = parent,var(33) = 6
time = 5
add = 140,60,-20
mul = 255 - (time*5),255 - (time*5),255 - (time*5)
[state 0,0];水雷闇
type = palfx
triggerall = time >= 1
trigger1 = parent,var(33) = 0
trigger2 = parent,var(33) = 5
trigger3 = parent,var(33) = 9
time = 5
mul = 255 - (time*5),255 - (time*5),255 - (time*5)
[state 0,0];愛
type = palfx
triggerall = time >= 1
trigger1 = parent,var(33) = 4
time = 5
add = 180,50,50
mul = 255 - (time*5),255 - (time*5),255 - (time*5)
[state 0,0];時
type = palfx
triggerall = time >= 1
trigger1 = parent,var(33) = 7
time = 5
add = 150,150,-70
mul = 255 - (time*5),255 - (time*5),255 - (time*5)

[state 0,0]
type = null;angledraw
trigger1 = 1

[State -1]
Type     = Trans
Trigger1 = 1
Trans    = Add

[state 0,0]
type = destroyself
trigger1 = time = 50
trigger2 = parent,movetype = H


;------------------------------------------
;アルカナ　特殊魔方陣　愛
[Statedef 9636]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7626
sprpriority = 5
velset = 0,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0];愛
type = palfx
trigger1 = time >= 1
time = 5
add = 180,50,50
mul = 255 - (time*5),255 - (time*5),255 - (time*5)

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H







































;---:::::::::::::::::::::::::::::::::::::::::::::
;
[Statedef 2500]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7459
sprpriority = 2
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 2,29
channel = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 2
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5



[State 800, 1]
type = HitDef
;trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = time >= 0
attr = A, HT
;juggle = 30
hitflag = AF
priority = 3, Miss
sparkno = -1
hitsound = S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
p2facing = 1
p1stateno = 2031
p2stateno = 2032
fall.recover = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 150, 0

[State 200, 3]
type = Changeanim
trigger1 = time = 75
value = 5040

[state 0,0]
type = veladd
trigger1 = time >= 70
y = 0.45

[State 200, 3]
type = Changestate
trigger1 = pos y >= 0
value = 52




















;愛
;--------------------------------------------------------------------------
;★元気玉
[Statedef 7000]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7579
sprpriority = 2
velset = 0,0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 80
movetime = 80
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,1
poweradd = -9000

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1989
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = assertspecial
trigger1 = time <= 80
flag = noBG
flag2 = noFG

[State 1000, r]
type = Helper
trigger1 = time = 88
helpertype = normal
name = "genkidama"
pos = 25,-450
postype = p1
stateno = 7001
ownpal = 1
id = 7001
keyctrl = 0
size.xscale = 4
size.yscale = 4

[State 210, 3]
type = ChangeState
trigger1 = time >= 140
value = 0
ctrl = 1



[state -2,0]
type = varset
trigger1 = time = 80
fv = 12
value = 0.2

;---------------------------------------------------------------------------
;誘導弾　攻撃判定
[Statedef 7001]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7688
sprpriority = 3
velset = 0,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 8
persistent = 0
attr = A, HP
damage = 360, 25
getpower = 0
givepower = 90,70
animtype = heavy
guardflag = M
hitflag = MAF
priority = 3, hit
pausetime = 8, 13
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -7,-8
air.velocity = -7,-10
fall = 1
air.fall = 1
fall.recovertime = 60
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 20
ground.cornerpush.veloff = 0
envshake.ampl = 5

[state 0,0]
type = destroyself
trigger1 = frontedgedist <= -130

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 20
trigger2 = movecontact
value = 7002

[state 2, BOOST]
type = veladd
triggerall = vel x <= 5
trigger1 = time = 30
trigger1 = p2dist x > 5
x = 1;0.1
[state 2, BOOST]
type = veladd
triggerall = vel x >= 2
trigger1 = time = 30
trigger1 = p2dist x < -5
x = -1;-0.01
[state 2, BOOST]
type = veladd
triggerall = vel x <= 2
trigger1 = time >= 30
trigger1 = p2dist x > 5
x = 0.1
[state 2, BOOST]
type = veladd
triggerall = vel x >= 2
trigger1 = time >= 30
trigger1 = p2dist x < -5
x = -0.1

[state 2, BOOST]
type = veladd
triggerall = vel y <= 4
trigger1 = time = 30
trigger1 = p2dist y > 55
trigger1 = pos y <= -5
y = 3;0.1
[state 2, BOOST]
type = veladd
triggerall = vel y >= -4
trigger1 = time = 30
trigger1 = p2dist y < 35
y = 2;-0.1


;---------------------------------------------------------------------------
;誘導弾　攻撃判定
[Statedef 7002]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = 3
velset = 0,0


[state 0,0];愛
type = palfx
trigger1 = time >= 1
time = 1
mul = 245 - (time*2),245 - (time*2),245 - (time*2)

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 3000, effect]
type = Explod
trigger1 = time >= 1
anim = 7607
postype = p1
pos = 0,0
ownpal = 0
sprpriority = 5
;ontop = 1
;pausemovetime = 100
;supermovetime =100
removetime = 1
scale = 4+(time*0.06),4+(time*0.06)

[state 0,0]
type = destroyself
trigger1 = time = 100


;--------------------------------------------------------------------------
;★★★アルカナフォース
[Statedef 7010]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7820;7686;7490
sprpriority = 2
velset = 0,-0.5

[State 200, 2]
type = PlaySnd
triggerall = var(33) != 6
trigger1 = time = 0
value = 13, 4
channel = 0
[State 200, 2]
type = PlaySnd
triggerall = var(33) = 6
trigger1 = time = 0
value = 15, 2
;channel = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 130
movetime = 130
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,1
poweradd = 0
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1990
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200


[State 210, 3]
type = velset
trigger1 = time = 60
y = 0
[State 210, 3]
type = velset
trigger1 = time >= 110
y = 0.8
[State 210, 3]
type = veladd
trigger1 = time >= 130
y = 0.45

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 130
value = 52
ctrl = 1

[state 0,0]
type = varset
trigger1 = time = 20
fv = 12
value = 0.1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 8;2

[state 2, kihon]
type = varset
trigger1 = time = 0
v = 9
value = 99


[State 52, 3]
type = changestate
trigger1 = time >= 140
value = 51
ctrl = 1





;水
;--------------------------------------------------------------------------
;★無の境地 詠唱
[Statedef 7020]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7579
sprpriority = 2
velset = 0,0

[State 210, 3]
type = ChangeState
trigger1 = time >= 100
value = 7021

[state -2,0]
type = varset
trigger1 = time = 1
fv = 12
value = 0.2


;--------------------------------------------------------------------------
;★無の境地
[Statedef 7021]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7556
sprpriority = 2
velset = 0,0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 80
movetime = 80
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,1
poweradd = 0

[state 0,0]
type = assertspecial
trigger1 = time <= 80
flag = noBG
flag2 = noFG

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1989
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = ALLpalfx
trigger1 = time >= 80
add = 0,0,time*2
time = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 120
value = 0
ctrl = 1

[state -2,0]
type = varset
trigger1 = time = 1
fv = 14
value = (power*0.01) + 600





;時
;--------------------------------------------------------------------------
;★時間よ 詠唱
[Statedef 7025]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7579
sprpriority = 2
velset = 0,0

[State 210, 3]
type = ChangeState
trigger1 = time >= 150
value = 7026

[state -2,0]
type = varset
trigger1 = time = 1
fv = 12
value = 0.2


;--------------------------------------------------------------------------
;★止まれ
[Statedef 7026]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7556
sprpriority = 2
velset = 0,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 0
value = 13, 8
channel = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 80
movetime = 80
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,1
poweradd = 0


[state 0,0]
type = null;assertspecial
trigger1 = time <= 80
flag = noBG
flag2 = noFG

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1989
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = BGpalfx
trigger1 = time >= 2;time >= 80
;add = 0,0,time*2
mul = 125-time,125-time,125-time
time = 1
invertall = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 120
value = 0
ctrl = 1

[state -2,0]
type = varset
trigger1 = time = 1
fv = 15
value = (power*0.02) + 300


;樹
;--------------------------------------------------------------------------
;★植物ピンボール
[Statedef 7030]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7579
sprpriority = 2
velset = 0,0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 80
movetime = 80
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,1
poweradd = -9000

[state -2,0];風樹
type = palfx
triggerall = var(41) = 3
trigger1 = 1
time = 5
add = 20,70,20
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time <= 80
flag = noBG
flag2 = noFG

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1989
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 1000, r]
type = Helper
trigger1 = time = 88
helpertype = normal
name = "paku"
pos = floor(p2dist x),0
postype = p1
stateno = 7031
ownpal = 1
id = 7031
keyctrl = 0

[state 0,0]
type = changeanim
trigger1 = time = 85
value = 7556

[State 210, 3]
type = ChangeState
trigger1 = time >= 300;140
trigger2 = enemy,movetype != H
trigger2 = time >= 140
value = 0
ctrl = 1

[state 0,0]
type = screenbound
trigger1 = Numhelper(7031) = 1
value = 0

[state -2,0]
type = varset
trigger1 = time = 80
fv = 12
value = 0.2

[state 0,0]
type = lifeadd
triggerall = var(33) = 8
trigger1 = gametime % 8 = 0
value = 1


;---------------------------------------------------------------------------
;攻撃判定
[Statedef 7031]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7583
sprpriority = 5
velset = 0,0

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = -1

[state -2,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = C, HT
damage = 1
getpower = 18
givepower = 8,5
animtype = heavy
hitflag = M
priority = 3, hit
pausetime = 6, 12
guard.pausetime = 6, 6
sparkno = 2
sparkxy = 0, -54
hitsound = S32, 19
guardsound = S0, 0
ground.type = trip
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1,-2
air.velocity = -1,-2
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
p1stateno = 7032
p2stateno = 7033
kill = 0

[state 0,0]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;攻撃判定hit
[Statedef 7032]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7690
sprpriority = 5
velset = 0,0

[state -2,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = screenbound
trigger1 = 1
value = 1

[state 0,0]
type = destroyself
trigger1 = time = 140

[State 1000, r]
type = Helper
trigger1 = enemy,stateno = 7034
helpertype = normal
name = "mi"
pos = 0,0
postype = p2
stateno = 7036
ownpal = 1
id = 7036
keyctrl = 0
persistent = 0
size.xscale = 5
size.yscale = 5


[state 0,0]
type = playsnd
trigger1 = time = [30,110]
value = 101,2
persistent = 22

;------------------------------------------
; 相手
[Statedef 7033]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1
velset =0,0

[state 0,0]
type = assertspecial
trigger1 = time <= 12
flag = invisible
ignorehitpause = 1

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0];１右上へ
type = velset
trigger1 = time = 12
x = 12
y = -2.8
[state 0,0];１右上へ
type = veladd
trigger1 = time = 12
trigger1 = frontedgedist <= 80
y = -4
[state 0,0];２左上へ
type = velset
trigger1 = frontedgedist <= 0
x = -9
y = -8
[state 0,0]
type = lifeadd
trigger1 = frontedgedist <= 0
value = -30
persistent = 0
kill = 0
[state 0,0];3hidarisitaへ
type = velset
trigger1 = vel x < -8
trigger1 = pos y <= -200
x = -8
y = 3.5
[state 0,0]
type = lifeadd
trigger1 = vel x < -8
trigger1 = pos y <= -200
value = -30
persistent = 0
kill = 0
[state 0,0];4右sitaへ
type = velset
trigger1 = backedgedist <= 0
x = 11
y = 10
[state 0,0]
type = lifeadd
trigger1 = backedgedist <= 0
value = -30
persistent = 0
kill = 0
[state 0,0];5上へ
type = velset
trigger1 = time >= 60
trigger1 = pos y >= 0
x = 1
y = -12
[state 0,0]
type = lifeadd
trigger1 = time >= 60
trigger1 = pos y >= 0
value = -30
persistent = 0
kill = 0
[state 0,0];6
type = velset
trigger1 = vel x >= 1
trigger1 = pos y <= -200
x = 0
y = 0


[state 0,0]
type = changestate
trigger1 = time >= 65
trigger1 = pos y <= -200
trigger2 = time >= 500
value = 7034


[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = -1

[state 0,0]
type = changeanim2
trigger1 = time >= 0
value = 7788;5000
[state 0,0]
type = angleadd
trigger1 = time >= 1;1
value = 15
[state 0,0]
type = angledraw
trigger1 = 1

[state 0,0]
type = playerpush
trigger1 = 1
value = 0



[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA
time = 1


;------------------------------------------
; 相手2
[Statedef 7034]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1
velset =0,0

[state 0,0]
type = changeanim
trigger1 = time = 0
value = 5050

[state 0,0]
type = veladd
trigger1 = 1
y = 0.45

[state 0,0]
type = changestate
trigger1 = pos y >= 0
value = 7035

;------------------------------------------
; 相手3
[Statedef 7035]
type    = L
movetype= H
physics = N
ctrl = 0
sprpriority = 1
velset =0,0

[state 0,0]
type = changeanim
trigger1 = time = 0
value = 5100

[state 0,0]
type = changeanim
trigger1 = animtime = 0
trigger1 = anim != 5110
value = 5110


;---------------------------------------------------------------------------
;攻撃判定2
[Statedef 7036]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7691
sprpriority = 5
velset = 0,0

[state 0,0]
type = changeanim
trigger1 = pos y >= 0
trigger1 = anim != 7692
value = 7692

[state -2,0]
type = posset
trigger1 = time = 0
y = -240

[state -2,0]
type = posadd
trigger1 = time <= 60
x = -2
persistent = 4
[state -2,0]
type = posadd
trigger1 = time = [2,60]
x = 2
persistent = 4

[state -2,0]
type = velset
trigger1 = time >= 60
y = 7
[state -2,0]
type = veladd
trigger1 = time >= 60
y = 0.45

[state -2,0]
type = velset
trigger1 = pos y >= 0
y = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, HP
damage = 280
getpower = 0
givepower = 120,5
animtype = heavy
hitflag = MAFD
priority = 3, hit
pausetime = 6, 12
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1,-2
air.velocity = -1,-2
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
envshake.time = 20
ground.cornerpush.veloff = 0
envshake.ampl = 3

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger1 = anim = 7692


;---------------------------------------------------------------
;ハイパーアーマー
[Statedef 7040]
type = U
movetype = H
physics = U
ctrl = 0


[state 0,0]
type = lifeadd
trigger1 = time = 0
value = floor(gethitvar(damage) * -0.3)

[State 2000, 1]
type = ChangeState
triggerall = var(41) != 2
trigger1 = 1;time >= (gethitvar(Hittime)*0.5)
value = var(34)
ctrl = var(35)
ignorehitpause = 1

[State 2000, 1]
type = ChangeState
triggerall = var(41) = 2
trigger1 = time >= (gethitvar(Hittime)*0.5)
value = 1000
ignorehitpause = 1





;闇
;--------------------------------------------------------------------------
;★吸収
[Statedef 7050]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7579
sprpriority = 2
velset = 0,0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 120
movetime = 120
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,1
poweradd = -9000

[state 0,0]
type = assertspecial
trigger1 = time <= 120
flag = noBG
flag2 = noFG

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1989
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 1000, r]
type = Helper
trigger1 = time = 70
helpertype = normal
name = "deka"
pos = 0,0
postype = p1
stateno = 7051
ownpal = 1
id = 7051
supermovetime =120
keyctrl = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 140
value = 0
ctrl = 1

[state 0,0]
type = screenbound
trigger1 = Numhelper(7031) = 1
value = 0

[state -2,0]
type = varset
trigger1 = time = 80
fv = 12
value = 0.2

;---------------------------------------------------------------------------
;攻撃判定
[Statedef 7051]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7720
sprpriority = -2
velset = 0,0

[state -2,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = -2
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 0
persistent = 0
attr = S, HT
damage = 1
getpower = 0
givepower = 0
animtype = heavy
hitflag = M
priority = 3, hit
pausetime = 0, 1
guard.pausetime = 6, 6
sparkno = 2
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-2
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
p1stateno = 7052
p2stateno = 7059
kill = 0

[state 0,0]
type = destroyself
trigger1 = animtime = 0

[state 0,0]
type = palfx
trigger1 = time <= 40
time = 1
add = 255 - (time*6),255 - (time*6),255 - (time*6)




;---------------------------------------------------------------------------
;攻撃判定hit
[Statedef 7052]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7721
sprpriority = -2
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 32,19

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = varset
trigger1 = time = 0
v = 20
value = floor(200 + parent,power*0.04)

[state 0,0]
type = varadd
trigger1 = time >= 0
v = 20
value = -1

[state 0,0]
type = destroyself
trigger1 = time >= 200
trigger1 = var(20) <= 0

[State 3000, effect]
type = null;Explod
trigger1 = time = 1
anim = enemy,anim
postype = p2
pos = 0,0;floor(p2dist x),floor(p2dist y)
ownpal = 1
sprpriority = 5
removetime = var(20);-1
bindtime = -1
removeongethit = 1
ID = 7052

[state 0, 0]
type = null;ModifyExplod
trigger1 = time >= 2
ID = 7052
scale = 0.2,0.1
anim = enemy,anim

[State 1000, r]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "aite"
pos = 0,0
postype = p2
stateno = 7058
ownpal = 1
id = 7053
;supermovetime =120
keyctrl = 0

;---------------------------------------------------------------------------
;相手　立ち
[Statedef 7053]
type    = S
movetype= I
physics = S
ctrl = 0
sprpriority = 0
velset = 0,0

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 1,1
hitsound = -1;S0,0
numhits = 0
sparkno = 2
sparkxy = 15,0
p1stateno = 7057

[State 1, Blocking]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 7057
time = 1
[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 100
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 100


[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0,0]
type = turn
trigger1 = p2dist x < 0

[state 0,0]
type = posset
trigger1  = time <= 1
y = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7722

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = command = "holddown"
value = 7054
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = command = "holdup"
value = 7055
[state 0,0]
type = changestate
triggerall = time >= 2
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
value = 7056



[state 0,0]
type = selfstate
trigger1 = time >= 2
trigger1 = enemy,Numhelper(7051) = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;相手　しゃがみ
[Statedef 7054]
type    = C
movetype= I
physics = C
ctrl = 0
sprpriority = 0

[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0,0]
type = turn
trigger1 = p2dist x < 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7723

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 1,1
hitsound = -1;S0,0
numhits = 0
sparkno = 2
sparkxy = 15,0
p1stateno = 7057

[State 1, Blocking]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 7057
time = 1
[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 100
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 100


[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = command != "holddown"
value = 7053
[state 0,0]
type = selfstate
trigger1 = time >= 2
trigger1 = enemy,Numhelper(7051) = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;相手じゃんぴ
[Statedef 7055]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = 0
velset = 0,-8

[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0,0]
type = veladd
trigger1  = time >= 1
y = 0.45

[state 0,0]
type = velset
trigger1  = time >= 1
trigger1 = command = "holdfwd"
x = 1
[state 0,0]
type = velset
trigger1  = time >= 1
trigger1 = command = "holdback"
x = -1

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7724

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = pos y >= 0
value = 7053
[state 0,0]
type = selfstate
trigger1 = time >= 2
trigger1 = enemy,Numhelper(7051) = 0
value = 5200
ctrl = 1

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 1,1
hitsound = -1;S0,0
numhits = 0
sparkno = 2
sparkxy = 15,0
p1stateno = 7057

[State 1, Blocking]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 7057
time = 1
[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 100
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 100


;---------------------------------------------------------------------------
;相手　walk
[Statedef 7056]
type    = S
movetype= I
physics = N
ctrl = 0
sprpriority = 0
velset = 2,0

[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = command = "holdback"
[state 0,0]
type = velset
trigger1 = time = 0
trigger1 = command = "holdback"
x = 2

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7722

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = command != "holdfwd"
value = 7053
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = command = "holdup"
value = 7055
[state 0,0]
type = selfstate
trigger1 = time >= 2
trigger1 = enemy,Numhelper(7051) = 0
value = 0
ctrl = 1

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 1,1
hitsound = -1;S0,0
numhits = 0
sparkno = 2
sparkxy = 15,0
p1stateno = 7057

[State 1, Blocking]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 7057
time = 1
[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 100
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 100


;---------------------------------------------------------------------------
;相手喰らい
[Statedef 7057]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 0
velset = -0.4,-4

[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0,0]
type = veladd
trigger1  = time >= 1
y = 0.45

[state 0,0]
type = velset
trigger1  = time >= 1
trigger1 = command = "holdfwd"
x = 1
[state 0,0]
type = velset
trigger1  = time >= 1
trigger1 = command = "holdback"
x = -1

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7724

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = pos y >= 0
value = 7053
[state 0,0]
type = selfstate
trigger1 = life = 0
value = 5050
[state 0,0]
type = selfstate
trigger1 = time >= 2
trigger1 = enemy,Numhelper(7051) = 0
value = 5200
ctrl = 1

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 1,1
hitsound = -1;S0,0
numhits = 0
sparkno = 2
sparkxy = 15,0
p1stateno = 7057

[State 1, Blocking]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 7057
time = 1
ignorehitpause = 1
[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 100
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 100


;---------------------------------------------------------------------------
;バインドヘルパー
[Statedef 7058]
type    = S
movetype= I
physics = N
ctrl = 0
sprpriority = 0
velset = 0,0

[State 200, 2]
type = PlaySnd
trigger1 = enemy,stateno = 7057
value = 101, 0
persistent = 20

[state 2,0]
type = assertspecial
trigger1 = enemy,stateno = 7059
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[state 0,0]
type = posadd
trigger1 = 1
x = floor(p2dist x)
y = floor(p2dist y)

[state 0,0]
type = changeanim
trigger1 = anim != enemy,anim
value = enemy,anim

[state 0,0]
type = turn
trigger1 = enemy,facing != facing

[state 0,0]
type = destroyself
trigger1 = enemy,stateno != [7053,7060]



;--------------------------------------------------------------------------
;縮小
[Statedef 7059]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0

[state 0,0]
type = changeanim
trigger1 = time = 0
value = 5000

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 28
value = SCA
time = 5

[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[State 0, Effect]
type = Explod
trigger1 = time <= 29
anim = 5000
pos = 0,floor(time * -2.5)
removetime = 1
sprpriority = 2
ownpal = 0
scale = 1 - (time*0.034),1 - (time*0.034)

[state 0,0]
type = posadd
trigger1 = time = 30
x = floor(p2dist x)
y = floor(p2dist y)-40

[State 210, 3]
type = ChangeState
trigger1 = time >= 50
value = 7060


;---------------------------------------------------------------------------
;相手排出
[Statedef 7060]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = 0
velset = -3,-2

[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0,0]
type = veladd
trigger1  = time >= 1
y = 0.45

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7724

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = pos y >= 0
value = 7053

[state 0,0]
type = reversaldef
trigger1 = 1
Reversal.Attr = SCA, NA,SA,HA,NP,SP,HP
pausetime = 1,1
hitsound = -1;S0,0
numhits = 0
sparkno = 2
sparkxy = 15,0
p1stateno = 7057

[State 1, Blocking]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 7057
time = 1
[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AT
time = 100
[State 3000, hitby]
type = HitBy
trigger1 = 1
value = SCA,AA,AP
time = 100







;--------------------------------------------------------------------------
;★闇　妖怪と死神
[Statedef 7070]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7793;64
sprpriority = 2
velset = 0,0



[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 120
movetime = 120
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,1
poweradd = -9000

[state 0,0]
type = null;assertspecial
trigger1 = time <= 120
flag = noBG
flag2 = noFG

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1989
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 1000, r]
type = Helper
trigger1 = time = 120
helpertype = normal
name = "ana"
pos = 40,-50
postype = p1
stateno = 7071
ownpal = 1
id = 7071
supermovetime =120
keyctrl = 0
size.xscale = 0.75
size.yscale = 0.75

[state 0,0]
type = BGpalfx
trigger1 = time <= 130
mul = 0,0,0
time = 1
[state 0,0]
type = BGpalfx
trigger1 = time = [130,155]
mul = (time*10)-1300,(time*10)-1300,(time*10)-1300
time = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 175
value = 0
ctrl = 1
[State 210, 3]
type = ChangeState
triggerall = Numhelper(7071) = 1
trigger1 = helper(7071),stateno = 7072
value = 7074

;--------------------------------------------------------------------------
;待機
[Statedef 7074]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7793;64
sprpriority = 2
velset = 0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 2,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 170
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;穴
[Statedef 7071]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7799;7640
sprpriority = -5
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 60,0

[state 0,0]
type = angleset
trigger1 = time >= 0;1
value = 90
[state 0,0]
type = angledraw
trigger1 = 1

[State 800, 1]
type = HitDef
trigger1 = time >= 10
trigger1 = P2MoveType != H
attr = A, HT
hitflag = MA
guardflag = MA
priority = 1, Miss
sparkno = -1
hitsound = -1;S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
p2facing = 1
p1stateno = 7076;2
p2stateno = 7077;3
fall = 1
fall.recover = 0


[state 0,0]
type = destroyself
trigger1 = time = 48



;---------------------------------------------------------------------------
;穴2
[Statedef 7076]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7799;7640
sprpriority = -5
[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 32,12

[state 0,0]
type = targetbind
trigger1 = time = 0
pos = 60,50

[state 0,0]
type = angleset
trigger1 = time >= 0;1
value = 90
[state 0,0]
type = angledraw
trigger1 = 1

[state 0,0]
type = allpalfx
trigger1 = time <= 30
mul = 241-(time*8),241-(time*8),241-(time*8)
time = 1

[state 0,0]
type = changestate
trigger1 = time = 30
value = 7072

;------------------------------------------
; 相手2
[Statedef 7077]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 3
velset =0,0

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 2,0]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time <= 30
value = SCA,AA,AP
time = 5

[State 0, Effect]
type = Explod
trigger1 = time <= 29
anim = 5000;7603
removetime = 1
pos = floor(time * 2.5),floor(time * -2)
sprpriority = 2
ownpal = 0
scale = 1 - (time*0.034),1 - (time*0.034)

[state 0,0]
type = changestate
trigger1 = time = 30
value = 7073


;--------------------------------------------------------------------------
;☆投げ kotti
[Statedef 7072]
type    = S
movetype= A
physics = S
anim = 9999
ctrl = 0
sprpriority = 2
velset = 0,0

[state 0,0]
type = changeanim
trigger1 = time = 105
value = 7798

[state 0,0]
type = screenbound
trigger1 = 1
value = 1

[state 0,0]
type = allpalfx
trigger1 = time <= 50
mul = time*5,time*5,time*5
time = 1

[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 0
anim = 7794
postype = left
pos = -18,0
ownpal = 1
sprpriority = -1
supermovetime =200
bindtime = -1
;removeongethit = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 70
anim = 7796
postype = left
pos = -18,0
ownpal = 1
sprpriority = 0
supermovetime =200
bindtime = -1
;removeongethit = 1


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = parent,command != "holdup"
trigger1 = time = 100
anim = 7795
postype = left
pos = 230,210
ownpal = 1
sprpriority = 0
supermovetime =200
bindtime = -1
scale = 1.5,4
facing = -1
id = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = parent,command = "holdup"
trigger1 = time = 100
anim = 7797
postype = left
pos = 230,100
ownpal = 1
sprpriority = 0
supermovetime =200
bindtime = -1
scale = 1.5,4
facing = -1
id = 2

[state 0,0]
type = destroyself
trigger1 = time = 200



[State 800, 1]
type =null; HitDef
trigger1 = time >= 100
trigger1 = Numexplod(1) = 1
attr = C, HP
hitflag = MA
damage = 650
priority = 5, hit
sparkno = -1
hitsound = S32, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
pausetime = 50,60
hittime = 50
slidetime = 50
fall = 1
fall.recover = 0
[State 800, 1]
type = HitDef
triggerall = time >= 100
trigger1 = Numexplod(2) = 1 && enemy,anim = 40
trigger2 = Numexplod(1) = 1 && enemy,anim = 11
attr = A, HP
hitflag = MAF
damage = 650
priority = 5, hit
sparkno = -1
hitsound = S32, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
pausetime = 50,60
hittime = 50
slidetime = 50
fall = 1
fall.recover = 0

[state 0,0]
type = pause
trigger1 = movehit
ignorehitpause = 1
time = 80
persistent = 0
movetime = 80

;------------------------------------------
; 相手
[Statedef 7073]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 3
velset =0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 1

[state 2,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[State 3000, effect]
type = Explod
trigger1 = time < 60
anim = 5110
postype = left
pos = 280,195
ownpal = 1
facing = -1
sprpriority = 1
bindtime = -1
removetime = 1
scale = 0.5,0.5
[State 3000, effect]
type = Explod
trigger1 = time = [60,86]
anim = 5110
postype = left
pos = ifelse(gametime%2=0,280,281),195
ownpal = 1
facing = -1
sprpriority = 1
bindtime = -1
removetime = 1
scale = 0.5,0.5
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 87
anim = 5120
postype = left
pos = 280,195
ownpal = 1
sprpriority = 1
bindtime = -1
facing = -1
removetime = 12
scale = 0.5,0.5

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = command != "holdup"
trigger1 = time = 100
anim = 11
postype = left
pos = 280,195
ownpal = 1
sprpriority = 1
bindtime = -1
facing = -1
removetime = 49
scale = 0.5,0.5
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = command = "holdup"
trigger1 = time = 100
anim = 5200
facing = -1
postype = left
pos = 280,195
ownpal = 1
sprpriority = 1
removetime = 49
scale = 0.5,0.5
vel = 0,-3
accel = 0,0.08
removeongethit = 1

[state 0,0]
type = posset
trigger1 = time = 1
x = 265
[state 0,0]
type = posadd
trigger1 = time = 0
y = (200 - screenpos y)

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = 1

[state 0,0]
type = changeanim
trigger1 = time = 0
value = 0
[state 0,0]
type = changeanim
trigger1 = command = "holdup"
trigger1 = time = 99
value = 40
[state 0,0]
type = changeanim
trigger1 = command != "holdup"
trigger1 = time = 99
value = 11

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = selfstate
trigger1 = time >= 151
value = 50

[State 0,0]
type = null;nothitby
ignorehitpause = 1
trigger1 = time <= 98
value = SCA
time = 1

[State 5040, 4]
type = StateTypeSet
;trigger1 = time = 0
trigger1 = anim = 11
statetype = S







;鋼
;--------------------------------------------------------------------------
;★滅びのバーストストリーム　きたれレッドアイズ
[Statedef 7080]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7579
sprpriority = 2
velset = 0,0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 80
movetime = 80
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,1
poweradd = -9000

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1989
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = assertspecial
trigger1 = time <= 80
flag = noBG
flag2 = noFG

[State 1000, r]
type = Helper
trigger1 = time = 170
helpertype = normal
name = "red eyes"
pos = -170,-300
postype = back
stateno = 7081
ownpal = 1
id = 7081
keyctrl = 0
size.xscale = 0.75
size.yscale = 0.75

[State 200, 2]
type = PlaySnd
trigger1 = time = 100
value = 33, 0

[State 200, 2]
type = PlaySnd
trigger1 = enemy,stateno != [120,155]
trigger1 = time = 169
value = 13, 7
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 400
value = 0
ctrl = 1

[state 0,0]
type = screenbound
trigger1 = time >= 80
value = 0

[state -2,0]
type = varset
trigger1 = time = 80
fv = 12
value = 0.2

;---------------------------------------------------------------------------
;紅黒　攻撃判定
[Statedef 7081]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7805
sprpriority = 3
velset = 2.5,1.5

[state 0,0]
type = posadd
trigger1 = time = 0
y = (-100 - screenpos y)

[state 0,0]
type = assertspecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[state 0,0]
type = allpalfx
trigger1 = time <= 50
mul = time*5,time*5,time*5
time = 1

[state 0,0]
type = allpalfx
trigger1 = time >= 200
mul = 500-(time*2),500-(time*2),500-(time*2)
time = 1

[State 3500, 1]
type = superPause
persistent = 0
trigger1 = time = 0
time = 251
anim = -1
movetime = 251

[State 210, 3]
type = ChangeState
trigger1 = time >= 250
value = 7082

[State 3000, effect]
type = Explod
trigger1 = time = [130,250]
anim = 7807
postype = p1
pos = 160,140
;persistent = 2
ownpal = 0
sprpriority = 5
ontop = 1
scale = 5 - (time*0.019),5 - (time*0.019)
supermovetime = 10
pausemovetime = 10
[State 3000, effect]
type = Explod
trigger1 = time = [130,250]
anim = 7807
postype = p1
pos = 160,140
persistent = 10
ownpal = 0
sprpriority = 4
;ontop = 1
scale = 5 - (time*0.019),5 - (time*0.019)

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = parent,movetype = H

[state 2, BOOST]
type = velmul
trigger1 = time = [40,80]
x = 0.94
y = 0.94
[state 2, BOOST]
type = velset
trigger1 = time = 120
x = 0;-0.01
y = 0

[State 200, 2]
type = PlaySnd
trigger1 = time = 180
value = 32, 0

[state 0,0]
type = envshake
trigger1 = time = 120
time = 40
freq = 40
ampl = -3
[state 0,0]
type = envshake
trigger1 = time = 161
time = 50
ampl = -5
freq = 37
[state 0,0]
type = envshake
trigger1 = time = 211
time = 40
ampl = -7
freq = 25

;---------------------------------------------------------------------------
;紅黒　攻撃判定 炎
[Statedef 7082]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7806
sprpriority = 3
velset = 0,0

[state 0,0]
type = BGpalfx
trigger1 = time >= 0
mul = 80,55,50
time = 2
ignorehitpause = 1

[state 2, 0O]
type = posset
trigger1 = time = 0
x = 0
y = 0

[State 3000, effect]
type = Explod
triggerall = prevstateno != [1180,1189]
triggerall = var(33) = 1
trigger1 = movehit && enemy,movetype = H
anim = 7631
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 40
bindtime = -1
ignorehitpause = 1
[State 3000, effect]
type = Explod
triggerall = prevstateno != [1180,1189]
triggerall = var(33) = 1
trigger1 = time >= 13
trigger1 = movehit && enemy,movetype = H
anim = 7631
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
persistent = 60
bindtime = -1
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 0
persistent = 2
attr = A, HP
damage = 4, ifelse(gametime%2=0,0,1)
getpower = 0
givepower = 1
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 3, hit
pausetime = 0, 15
guard.pausetime = 0, 5
sparkno = 3
sparkxy = -8+(random%10), -54+(random%10)
hitsound = -1;S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -5,-8
air.velocity = -5,-8
fall = 1
air.fall = 1
fall.recovertime = 50
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));
envshake.time = 20
ground.cornerpush.veloff = 0
envshake.ampl = 5

[State 200, 2]
type = PlaySnd
trigger1 = movehit
value = 101, 3
persistent = 4
channel = 2
volume = -50


[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = 60, 1

[State 3000, effect]
type = Explod
trigger1 = time >= 0
anim = 7808
postype = back
pos = 160,240
persistent = 50
ownpal = 1
sprpriority = 5
ontop = 1
scale = 5,2

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 35
bindtime = -1
ignorehitpause = 1
[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7631
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
persistent = 60
bindtime = -1
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = time = 197


;---------------------------------------------------------------------------
;魔方陣
[Statedef 7090]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999;7827
sprpriority = -5

[state 0,0]
type = bindtoparent
trigger1 = 1
pos = 0,0

;[State 0,0]
;Type     = Trans
;Trigger1 = 1
;Trans    = Add

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = -5
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = parent,movetype = H

[State 701, Effect]
type = Explod
trigger1 = parent,power >= 3000
anim = 7827
postype = p1
pos = 0,0
sprpriority = -5
ownpal = 1
ignorehitpause = 1
pausemovetime = 90
supermovetime = 90
scale = 0.5,0.2

[State 701, Effect]
type = Explod
trigger1 = parent,power < 3000
anim = 7827
postype = p1
pos = 0,0
sprpriority = -5
ownpal = 1
ignorehitpause = 1
pausemovetime = 90
supermovetime = 90
scale = (parent,power*0.00016),(parent,power*0.00006)




;風
;--------------------------------------------------------------------------
;★超速ｗその隙もらった
[Statedef 7100]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7579
sprpriority = 2
velset = 0,0

[State 210, 3]
type = Changeanim
trigger1 = time = 58
value = 7556;79

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 0
time = 70
movetime = 70
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,1
poweradd = -9000

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 0
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1989
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = assertspecial
trigger1 = time <= 80
flag = noBG
flag2 = noFG

[State 1000, r]
type = Helper
trigger1 = time = 70
helpertype = normal
name = "hand"
pos = -120,250
postype = left
stateno = 7101
ownpal = 1
id = 7101
keyctrl = 0
;size.xscale = 0.75
;size.yscale = 0.75


[State 200, 2]
type = PlaySnd
trigger1 = enemy,statetype != A
trigger1 = enemy,movetype = A
trigger1 = time = 10
value = 13, 10
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 190
value = 0
ctrl = 1

[state -2,0]
type = varset
trigger1 = time = 80
fv = 12
value = 0.2

[State 1000, r]
type = Helper
trigger1 = time = 71
helpertype = normal
name = "kougeki"
pos = -5,-55
postype = p1
stateno = 7102
ownpal = 1
id = 7102
keyctrl = 0
size.xscale = 2
size.yscale = 0.25



;---------------------------------------------------------------------------
;攻撃判定
[Statedef 7102]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7608
sprpriority = 3
velset = 18,0

[State 0,0]
type = Palfx
trigger1 = time >= 0
add = 0,100,-50
time = 18
ignorehitpause = 1

[State 210, 3]
type = playsnd
trigger1 = time = 1
trigger2 = time = 3
value = 32,10

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 0
persistent = 0
attr = A, HP
damage = 333, 10
getpower = 0
givepower = 90,22
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 8, 93
guard.pausetime = 4, 76
sparkno = 3
sparkxy = -8, -24
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 80
ground.hittime  = 65
ground.velocity = -6,-21
air.velocity = -6,-21
guard.velocity = -13
air.guard.velocity = -13
fall = 1
air.fall = 1
fall.recovertime = 90
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 80
ground.cornerpush.veloff = 0
envshake.ampl = 2
palfx.time = 100
palfx.add = 0,100,0

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7630
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = animtime = 0

[State 1000, r]
type = Helper
trigger1 = time = 1
trigger2 = time = 3
trigger3 = time = 5
trigger4 = time = 7
trigger5 = time = 9
trigger6 = time = 11
helpertype = normal
name = "kemuri"
pos = floor(parentdist x + (time*45)),50
postype = p1
stateno = 7103
ownpal = 1
id = 7103
keyctrl = 0



;---------------------------------------------------------------------------
;kemuri
[Statedef 7103]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = 3
velset = 14,0

[State 0,0]
type = Palfx
trigger1 = time >= 0
add = 0,100,-50
mul = 180-(time*8),180-(time*8),180-(time*8)
time = 1
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7767
postype = p1
pos = 0,0;floor(parentdist x + (time*30)),50
ownpal = 0
sprpriority = 5
;persistent = 10
;ignorehitpause = 1
ID = 7767

[state 0, 0]
type = ModifyExplod
trigger1 = time >= 2
ID = 7767
scale = 1+(time*0.02),1+(time*0.02)

[state 0,0]
type = destroyself
trigger1 = time = 18


;---------------------------------------------------------------------------
;手
[Statedef 7101]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7856
sprpriority = 3
velset = 3,-4.5

[state 0,0]
type = assertspecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[state 0,0]
type = allpalfx
trigger1 = time <= 79
mul = time*5,time*5,time*5
time = 1

[state 0,0]
type = allpalfx
trigger1 = time = [80,154]
add = time,time,time
time = 1

[State 3500, 1]
type = superPause
persistent = 0
trigger1 = time = 0
time = 154
anim = -1
movetime = 154

[State 210, 3]
type = destroyself
trigger1 = time >= 154

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = parent,movetype = H

[state 2, BOOST]
type = velmul
trigger1 = time = [30,80]
x = 0.94
y = 0.94
[state 2, BOOST]
type = velset
trigger1 = time = 100
x = 0;-0.01
y = 0

[State 200, 2]
type = PlaySnd
trigger1 = time = 80
value = 32, 0









;土
;--------------------------------------------------------------------------
;★下からパンチ。それだけさ
[Statedef 7150]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7579
sprpriority = 2
velset = 0,0

[State 210, 3]
type = Changeanim
trigger1 = time = 80
value = 7556

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 70
movetime = 70
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,1
poweradd = -9000

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1989
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = assertspecial
trigger1 = time <= 80
flag = noBG
flag2 = noFG

[State 1000, r]
type = Helper
trigger1 = time = 70
helpertype = normal
name = "bigarm"
pos = 50,550
postype = back
stateno = 7151
ownpal = 1
id = 7151
keyctrl = 0
size.xscale = 1.8
size.yscale = 1.8

[State 210, 3]
type = ChangeState
trigger1 = time >= 240
value = 0
ctrl = 1

[state -2,0]
type = varset
trigger1 = time = 80
fv = 12
value = 0.2


;---------------------------------------------------------------------------
;攻撃判定
[Statedef 7151]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 3
velset = 0,0

;[state 0,0]
;type = posset
;trigger1 = time = 0
;y = (100 - screenpos y)

[state 0,0]
type = posset
trigger1 = time = 0
x = 0

[state 0,0]
type = posadd
trigger1 = time = [180,195]
y = -32

[State 0,0]
type = envshake
trigger1 = time = 0
time = 120
ignorehitpause = 1
ampl = 5

[State 0,0]
type = changeanim
trigger1 = time = 180
value = 7858

[State 210, 3]
type = playsnd
trigger1 = time = 1
value = 32,22

[State 210, 3]
type = playsnd
trigger1 = time = 180
value = 32,18
[State 210, 3]
type = playsnd
trigger1 = time = 185
value = 32,13

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = time = 175
movetype = A

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 180
persistent = 0
attr = A, HP
damage = 450, 20
getpower = 0
givepower = 160,53
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 2, 30
guard.pausetime = 2, 16
sparkno = 3
sparkxy = -8, -24
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 80
ground.hittime  = 65
ground.velocity = 0,-31
air.velocity = 0,-33
guard.velocity = 0
air.guard.velocity = -13,-20
fall = 1
air.fall = 1
fall.recovertime = 90
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 80
ground.cornerpush.veloff = 0
envshake.ampl = 8

[State 200, HitDef1]
type = HitDef
triggerall = moveguarded
trigger1 = time >= 181
persistent = 0
attr = A, HP
damage = 0, 0
getpower = 0
givepower = 0
animtype = heavy
hitflag = MA
priority = 5, hit
pausetime = 2, 30
guard.pausetime = 2, 16
sparkno = 3
sparkxy = -8, -24
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 80
ground.hittime  = 65
ground.velocity = 0,-31
air.velocity = 0,-33
guard.velocity = 0
air.guard.velocity = -13,-20
fall = 1
air.fall = 1
fall.recovertime = 90
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 80
ground.cornerpush.veloff = 0
envshake.ampl = 8
numhits = 0

[state 0,0]
type = destroyself
trigger1 = time = 303



[State 3000, effect]
type = Explod
trigger1 = time = 180
anim = 7800
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
persistent = 0
ignorehitpause = 1
scale = 2,2
