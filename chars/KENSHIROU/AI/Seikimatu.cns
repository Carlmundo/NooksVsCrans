;5  空中ダッシュ
;8 　天破の構え
;12 死亡フラグ

;23 一撃　音楽
;24 七星　0→７つ 7→０つ（一撃OK)
;25 デバッグ
;29 ホチる 

;40 ２段ジャンプ　０なら可能　    １ならもう無理
;48 ブーストゲージ

;49

;53スペルカード
;54
;55




[Data]
life = 1000
power = 2000
attack = 100;88
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 45
sparkno = 0
guard.sparkno = 40;S8003
KO.echo = 0
volume = 100
IntPersistIndex = 0,59
FloatPersistIndex = 40

[Size]
xscale = 0.5,;1           ;Horizontal scaling factor.
yscale = 0.5,;1           ;Vertical scaling factor.
ground.back = 14;24     ;Player width (back, ground)
ground.front = 12;26    ;Player width (front, ground)
air.back = 20        ;Player width (back, air)
air.front = 20       ;Player width (front, air)
z.width = 3          ;Player width (into and out)
height = 60	         ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 1.8     ;Walk forward
walk.back = -1.3     ;Walk backward
run.fwd  = 7.8, -3.8 ;Run forward (x, y)
run.back = -7.7,-3.4 ;Hop backward (x, y)
jump.neu = 0,-9.7    ;Neutral jumping velocity (x, y)
jump.back = -3.2,-2.55    ;Jump back Speed (x, y)
jump.fwd = 3.2,2.5        ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.9      ;.
airjump.neu = 0,-8.8      ;.
airjump.back = -2.1      ;Air jump speeds (opt)
airjump.fwd = 2.1         ;.

[Movement]
airjump.num = 0;1    ;Number of air jumps allowed (opt)
airjump.height = 45  ;Minimum distance from ground before you can air jump (opt)
yaccel = .44         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching




;北斗system







;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[state 0,0]
type = null;playsnd
triggerall = enemy,name != "Setsuna Sakurazaki"
trigger1 = time = 0
trigger1 = var(23) = 1
trigger1 = var(53) = 1
value = 1000,1
loop = 1
channel = 8
volume = 50

[state 2, kihon]
type = varset
trigger1 = time = 0
v = 9
value = 99

[state 0,0];
type = varset
trigger1 = roundno = 1
trigger1 = time = 0
v = 24
value = 0

[state 0,0];
type = varset
trigger1 = roundno = 1
trigger1 = time = 0
v = 23
value = 0

[state 0,0];
type = varset
trigger1 = roundno = 1
trigger1 = time = 0
v = 24
value = 0
[state 0,0];
type = varset
trigger1 = roundno = 1
trigger1 = time = 0
v = 48
value = 0
[state 0,0];
type = varset
trigger1 = roundno = 1
trigger1 = time = 0
v = 0
value = 0
[state 0,0];
type = varset
trigger1 = time = 0
v = 13
value = 0

[state 0,0];
type = varset
trigger1 = roundno = 1
trigger1 = time = 0
trigger1 = palno = [1,6]
v = 41
value = 3

[state 0,0];
type = varset
trigger1 = roundno = 1
trigger1 = time = 0
trigger1 = palno = [7,12]
v = 41
value = 3


[state 0,0]
type = varset
trigger1 = time = 0
v = 23
value = 0

[State 5900, 0]
type = Varadd
trigger1 = roundno >= 2
trigger1 = var(24) >= 1
v = 24
value= -1
persistent = 0

[State 5900, 0]
type = null;VarSet
triggerall = var(50) = 2
trigger1 = var(42) = 2
v = 50
value= 1

[State 5900, 0]
type = powerSet
trigger1 = var(50) = 2
value = 2000
[State 5900, 0]
type = powerSet
trigger1 = var(50) >= 3
value = 0

[State 5900, 0]
type = VarSet
trigger1 = var(50) >= 3
v = 50
value= 0

[State 1000, 0]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "kenki"
postype = left
pos = 0,0
stateno = 9050
ownpal = 1
sprpriority = 5
id = 9050
keyctrl = 0
pausemovetime = 200
bindtime = -1

;[State 5900, 1] ;Clear all int variables
;type = VarRangeSet
;trigger1 = roundno = 1
;value = 0

;[State 5900, 2] ;Clear all float variables
;type = VarRangeSet
;trigger1 = roundno = 1
;fvalue = 0

[State 5900, 2];ブーストゲージ
type = null;VarSet
trigger1 = 1
v = 48
value = 0

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190



;------------------------
;BOOST関連
[Statedef 2990]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
velset = 0,0

[State 2, 0]
type = null;PlaySnd
trigger1 = time = 1
trigger1 = enemy,movetype = H
trigger1 = enemy,gethitvar(hitcount) >= 6
trigger1 = random >= 800
value = 200,12
persistent = 0
[State 2, 0]
type = null;PlaySnd
trigger1 = time = 1
trigger1 = enemy,movetype = H
trigger1 = enemy,gethitvar(hitcount) >= 6;trigger1 = parent,fvar(30) != 0
trigger1 = random >= 800
value = 200,26
persistent = 0

[state 2, BOOST]
type = palfx
trigger1 = time >= 0
time = 60
add = 180,50,0

[state 0,0]
type = parentvaradd
;triggerall = parent,Numhelper(2990) = 0
trigger1 = time = 0
trigger1 = parent,var(48) != [34,44]
trigger1 = parent,var(48) != [67,74]
trigger1 = parent,var(48) >= 8
v = 48
value = -7
[state 0,0]
type = parentvaradd
;triggerall = parent,Numhelper(2990) = 0
trigger1 = time = 0
trigger1 = parent,var(48) = [33,34]
trigger1 = parent,var(48) = [66,67]
trigger1 = parent,var(48) <= 6
v = 48
value = -6
[state 0,0]
type = parentvarset
trigger1 = time = 0
v = 26
value = 323

[state 2,0];ブースト
type = parentvaradd
triggerall = parent,var(26) = [1,323]
trigger1 = time = 0
trigger1 = parent,var(48) >= 5
v = 48
value = -5
[state 2,0];ブースト
type = parentvaradd
triggerall = parent,var(26) = [1,323]
trigger1 = time = 0
trigger1 = parent,var(48) < 5
v = 48
value = 0



[state a];ブーストエフェクト
type = Helper
trigger1 = Time = 1
trigger1 = parent,statetype = A
pos = 10,-65
postype = p1
stateno = 16300
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ブーストエフェクト
type = Helper
trigger1 = Time = 1
trigger1 = parent,statetype != A
pos = 10,-45
postype = p1
stateno = 16300
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 10
range = -15,-1
[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 11
range = -12,12

[State 701, Effect]
type = Explod
trigger1 = Time = [0,10]
anim = 7124
postype = p1
pos = -5,-65
random = 10,40
sprpriority = 5
ownpal = 0
ignorehitpause = 1
removeongethit = 1
scale = 0.05,0.05
vel = var(10)*0.5,var(11)*0.5

[state 0,0];メルティコンボリセット
type = parentvarset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = parentvarset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = parentvarset
trigger1 = time >= 0
var(47) = 0


[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[state 0,4]
type = assertspecial
trigger1 = time >= 0
flag = noshadow

[state 0,5]
type = destroyself
trigger1 = time >= 280
trigger2 = time >= 280;parent,command = "FF"
trigger3 = parent,command = "BB"
trigger3 = var(59) = 0
trigger3 = !parent,var(38);AI用
trigger4 = parent,command = "holdup"
trigger4 = var(59) = 0
trigger4 = !parent,var(38);AI用
trigger5 = parent,movetype = H
trigger6 = parent,p2bodydist x <= 1
trigger6 = time >= 50
trigger7 = parent,stateno = [1000,1012]
trigger7 = parent,time >= 9
trigger7 = time >= 12
trigger8 = parent,stateno = [900,999];投げ
trigger8 = parent,stateno != 903
trigger9 = parent,stateno = [2000,4001];超必殺の類
trigger9 = parent,stateno != 2021
trigger10 = parent,stateno = [9900,9929];シールド
trigger11 = parent,stateno = [1013,1059]
trigger11 = parent,stateno = [1061,1099]
trigger11 = parent,stateno != [8800,8822];北斗一撃
trigger11 = parent,stateno != 1083
trigger12 = parent,movetype = A
;trigger12 = parent,movecontact
;trigger12 = parent,p2bodydist x <= 50
trigger12 = time >= 20
trigger13 = parent,command = "back"
trigger13 = time >= 15
trigger13 = var(59) = 0
trigger13 = !parent,var(38);AI用
trigger14 = parent,stateno = 1119
trigger15 = parent,stateno = [1080,1099]
trigger16 = parent,stateno = 1184
trigger17 = parent,stateno = 8800
trigger18 = parent,stateno = 2021
trigger18 = parent,animelem = 2
trigger19 = parent,p2dist x < 0
trigger19 = time >= 3
trigger20 = parent,stateno = 8250
trigger20 = parent,pos y != 0
trigger21 = parent,stateno = 1020
trigger21 = time >= 2
trigger22 = parent,stateno = 2021
trigger22 = time >= 5

;------------------------
;BOOST関連2
[Statedef 2996]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
velset = 0,0

[state 0,0]
type = parentvarset
trigger1 = time = 0
trigger1 = parent,var(48) <= 30
v = 48
value = 30

[state 0,0]
type = parentvarset
trigger1 = time = 0
v = 26
value = 300

[state 0,0]
type = parentvarset
trigger1 = time = 0
v = 36
value = 1

[state 0,4]
type = assertspecial
trigger1 = time >= 0
flag = noshadow

[state 0,5]
type = changestate;destroyself
trigger1 = time >= 300
trigger2 = parent,command = "FF"
trigger2 = !parent,var(38);AI用
trigger3 = parent,command = "BB"
trigger3 = !parent,var(38);AI用
trigger4 = parent,command = "holdup"
trigger4 = !parent,var(38);AI用
trigger5 = parent,movetype = H
trigger6 = parent,p2bodydist x <= 1
trigger6 = time >= 200
trigger7 = parent,stateno = [1000,1012]
trigger7 = parent,time >= 9
trigger8 = parent,stateno = [900,999];投げ
trigger9 = parent,stateno = [2000,4001];超必殺の類
trigger10 = parent,stateno = [9900,9929];シールド
trigger11 = parent,stateno = [1013,1099]
trigger11 = parent,stateno != 8800;北斗一撃
trigger11 = parent,stateno != 1083
trigger12 = parent,movetype = A
trigger12 = parent,movecontact
trigger12 = parent,p2bodydist x <= 30
trigger12 = time >= 20
trigger13 = parent,command = "back"
trigger13 = time >= 15
trigger13 = !parent,var(38);AI用
trigger14 = time >= 2
value = 2997

;------------------------
;自動BOOST関連3
[Statedef 2997]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
velset = 0,0

[state 0,0]
type = destroyself
trigger1 = time >= 5
trigger1 = enemy,movetype != H
trigger2 = parent,stateno = 8710
;trigger2 = parent,var(27) = 0

;--------------------------------------------------------------------------
; 立ち状態
[Statedef 0]
type = S
physics = S
sprpriority = 0
anim = 0

[State -2, itigeki]
trigger1 = fvar(2) != 0
value = 1226
type = Changeanim


[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.05)
ignorehitpause = 1

[State 50, 2]
type = ChangeAnim
triggerall = fvar(2) = 0
;triggerall = prevstateno = 45
trigger1 = Numhelper(2990) >= 1
trigger1 = anim != 7508
value = 7508;10

[state 0,0]
type = changestate
trigger1 = life = 0
value = 5050
ctrl = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];メルティコンボ補正リセット
type = varset
trigger1 = enemy,movetype != H
trigger1 = Numhelper(1001) = 0
trigger1 = Numhelper(2001) = 0
trigger1 = time >= 0
fvar(5) = 1
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[state 1256];リセット
type = Varset
trigger1 = time = 1
var(5) = 0

[state 0,0];リセット
type = varset
trigger1 = time = 0
var(6) = 0

[state 0,0]
type = varset
trigger1 = time = 0
var(14) = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
trigger1 = pos y >= 0
y = 0

[State 0, 2]
type = posSet
trigger1 = Time = 0
trigger1 = pos y > 0
y = 0

[State 0, 3]
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 1]
type = ChangeAnim
triggerall = fvar(2) = 0
triggerall = Numhelper(2990) = 0
;triggerall = var(41) = 0
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
trigger3 = Numhelper(2990) = 0
trigger3 = anim = 7508
value = 0

[State 1201,end]
type = Destroyself
triggerall = ishelper
trigger1 = time = 1

;---------------------------------------------------------------------------
; 時間切れで負け
[Statedef 170]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 4
value = 12, 21
channel = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 勝ち台詞をきめる
[Statedef 180]
type = S
anim = 0

[State -2, itigeki]
type = Changeanim
trigger1 = fvar(2) != 0
value = 1226

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = 0,1


[State 180, 2]
type = ChangeState
trigger1 = anim = 1226
value = 182
[State 180, 2]
type = ChangeState
trigger1 = matchover = 0
;trigger1 = var(41) != 2;matchover = 0
trigger1 = time = 1
value = 183
[State 180, 2]
type = ChangeState
trigger1 = matchover = 1;var(19) = 1
;trigger1 = var(41) = 2;matchover = 1;var(19) != 0
trigger1 = time = 1
value = 183

;---------------------------------------------------------------------------
;勝利ポーズ
; Win pose …
[Statedef 181]
type = S
ctrl = 0
movetype= I
physics = S
anim = 1153;7622

[State -2, itigeki]
type = Changeanim
trigger1 = fvar(2) != 0
value = 1226

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,4

[state 0,0]
type = varset
;triggerall = matchover = 1
triggerall = time = 2
trigger1 = life <= 80
v = 19
value = 9

[state 0,0]
type = varset
triggerall = matchover = 0
triggerall = time = 2
trigger1 = enemy,name = "RAOH"
trigger2 = enemy,name = "KENOH"
trigger3 = enemy,name = "raou"
v = 19
value = 10
[state 0,0]
type = varset
triggerall = matchover = 1
triggerall = time = 2
trigger1 = enemy,name = "RAOH"
trigger2 = enemy,name = "KENOH"
trigger3 = enemy,name = "raou"
v = 19
value = 11

[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 4
value = 6, 19;命は投げ捨てるもの
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 4
value = 6, 20;半人前の技
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = time = 4
trigger1 = var(19) = 2
value = 6, 22;もういい
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 3
trigger1 = time = 4
value = 6, 21;安心するがいい　まだ
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 4
trigger1 = time = 4
value = 6, 23;許せ
channel = 0

[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 9
trigger1 = time = 4
value = 6, 24;互角か
channel = 0


[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 10
trigger1 = time = 4
value = 5, 41;言ったはずだ　貴方の全てを目指したと
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 11
trigger1 = time = 4
value = 6, 28;私の拳を高めたのは
channel = 0

[State 190, 2]
type = AssertSpecial
trigger1 = time <= 250
flag = roundnotover


;---------------------------------------------------------------------------
;一撃勝利
; Win pose …
[Statedef 182]
type = S
ctrl = 0
movetype= I
physics = S

[State 190, 2]
type = AssertSpecial
trigger1 = time <= 180
flag = roundnotover

[State -2, itigeki]
type = Changeanim
trigger1 = fvar(2) != 0
value = 1226


[State 210, 2]
type = PlaySnd
trigger1 = time = 4
value = 4, 14
channel = 0

;---------------------------------------------------------------------------
;歩き
; Win pose …
[Statedef 183]
type = S
ctrl = 0
movetype= I
physics = N
anim = 20
velset = 2,0
sprpriority = 1

[state 0,0]
type = varadd
trigger1 = var(28) >= 0
v = 28
value = -2
persistent = 1

[State 1000, effect]
type = Helper
trigger1 = var(28) <= 10
trigger2 = time >= 90
persistent = 0
helpertype = normal
name = "bat"
postype = p1
pos = -1*(backedgedist) -78,0
stateno = 185
ownpal = 1
keyctrl = 0
id = 185
[State 1000, effect]
type = Helper
trigger1 = var(28) <= 15
trigger2 = time >= 90
persistent = 0
helpertype = normal
name = "rin"
postype = p1
pos = -1*(backedgedist) -70,0
stateno = 187
ownpal = 1
keyctrl = 0
id = 187

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = roundnotover

[State 210, 2]
type = PlaySnd
trigger1 = time = 4
value = 4, 13
channel = 0

[State 2, i]
type = Changestate
triggerall = Numhelper(185) = 1
triggerall = Numhelper(187) = 1
trigger1 = time >= 90
trigger2 = var(28) <= 50;p2dist x <= 10
trigger3 = frontedgedist <= 1
value = 184

;---------------------------------------------------------------------------
;リン「ケーン！！！！！！」（パチスロ
; Win pose …
[Statedef 184]
type = S
ctrl = 0
movetype= I
physics = S
anim = 1246
velset = 0,0
sprpriority = 1

[State 190, 2]
type = AssertSpecial
trigger1 = time <= 180
flag = roundnotover


;---------------------------------------------------------------------------
;バット
[Statedef 185]
type = S
ctrl = 0
movetype= I
physics = N
anim = 1247
velset = 4,0
sprpriority = -1

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 4, 26

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = roundnotover

[State 2, 0]
type = Changestate
trigger1 = time >= 2
trigger1 = parentdist x <= 68
value = 186

;---------------------------------------------------------------------------
;バット
[Statedef 186]
type = S
ctrl = 0
movetype= I
physics = S
anim = 1248
velset = 0,0
sprpriority = -1

[State 190, 2]
type = AssertSpecial
trigger1 = time <= 10
flag = roundnotover


;---------------------------------------------------------------------------
;リン
[Statedef 187]
type = S
ctrl = 0
movetype= I
physics = N
anim = 1249
velset = 4,0
sprpriority = 2

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = roundnotover

[State 2, 0]
type = Changestate
trigger1 = time >= 2
trigger1 = parentdist x <= 40
value = 188

;---------------------------------------------------------------------------
;リン
[Statedef 188]
type = S
ctrl = 0
movetype= I
physics = S
anim = 1250
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 20
value = 4, 27




;---------------------------------------------------------------------------
;登場シーンをきめる Preintro

[Statedef 190]
type = S
ctrl = 0
velset = 0,0
[State 5900, 0]
type = VarSet
trigger1 = roundno = 1
v = 41
value= 2

[state 2, kihon]
type = varset
trigger1 = time = 0
v = 9
value = 99

[State 190, 4]
type = ChangeState
trigger1 = enemy,name = "TOKI"
trigger2 = enemy,name = "Toki"
trigger3 = enemy,name = "toki"
value = 192

[State 190, 4]
type = ChangeState
trigger1 = time >= 0
value = 191

;---------------------
;  NORMAL
[Statedef 191]
type = S
ctrl = 0
velset = 0,0
anim = 1251

[state 0,0]
type = varadd
trigger1 = var(59) = 0
trigger1 = var(41) != 0
trigger1 = command = "holdup"
v = 58
value = -1
;persistent = 2
[state 0,0]
type = varadd
trigger1 = var(59) = 0
trigger1 = var(41) != 0
trigger1 = command = "holddown"
v = 58
value = 1
;persistent = 2
[state 0,0]
type = varadd
trigger1 = var(59) = 0
trigger1 = var(41) = 2
trigger1 = command = "holdback"
v = 52
value = -1
;persistent = 4
[state 0,0]
type = varadd
trigger1 = var(59) = 0
trigger1 = var(41) = 2
trigger1 = command = "holdfwd"
v = 52
value = 1
;persistent = 4

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,1

[state 0,0]
type = varset
triggerall = time = 2
trigger1 = enemy,name = "RAOH"
trigger2 = enemy,name = "KENOH"
trigger3 = enemy,name = "raou"
v = 19
value = 10
[state 0,0]
type = varset
triggerall = time = 2
trigger1 = enemy,name = "THOUTHER"
trigger2 = enemy,name = "Thouther"
trigger3 = enemy,name = "raou"
v = 19
value = 11
[state 0,0]
type = varset
triggerall = time = 2
trigger1 = enemy,name = "Abe"
v = 19
value = 12

[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 4
value = 4, 0;
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 4
value = 4, 15;
channel = 0

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 23
trigger2 = Time = 47
value = 90,6

[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 10
trigger1 = time = 4
value = 4, 8;ながかった…
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 11
trigger1 = time = 4
value = 4, 10;
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 12
trigger1 = time = 4
value = 5, 26
channel = 0


[State 190, 2]
type = AssertSpecial
trigger1 = time <= 200
flag = Intro

[state 0,0]
type = changeanim
trigger1 = animtime = 0
value = 0

;---------------------
; VS　トキ
[Statedef 192]
type = S
ctrl = 0
velset = 0,0
anim = 1252

[state 0,0]
type = varadd
trigger1 = var(59) = 0
trigger1 = var(41) != 0
trigger1 = command = "holdup"
v = 58
value = -1
;persistent = 2
[state 0,0]
type = varadd
trigger1 = var(59) = 0
trigger1 = var(41) != 0
trigger1 = command = "holddown"
v = 58
value = 1
;persistent = 2
[state 0,0]
type = varadd
trigger1 = var(59) = 0
trigger1 = var(41) = 2
trigger1 = command = "holdback"
v = 52
value = -1
;persistent = 4
[state 0,0]
type = varadd
trigger1 = var(59) = 0
trigger1 = var(41) = 2
trigger1 = command = "holdfwd"
v = 52
value = 1
;persistent = 4

[state 0,0]
type = changeanim
trigger1 = time = 140
value = 0

[State 1000, Snd1]
type = PlaySnd
trigger1 = teamside = 1
trigger1 = time = 10
value = 4,11
channel = 0

[State 190, 2]
type = AssertSpecial
trigger1 = time <= 240
flag = Intro



;---------------------------------------------------------------------------
; RUN_FWD dash
[Statedef 100]
type    = S
physics = N
anim = 100
sprpriority = 1
velset = 0,0
ctrl = 0

[State 0, 0]
type = Explod
trigger1 = time = 2
postype = p1
pos = 0,0
anim = 7767
ownpal = 1
keyctrl = 0
sprpriority = 4

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 1
value = 0,4

[State 200, 4]
type = CtrlSet
trigger1 = time = 3
value = 1

[State 100, 1]
type = VelSet
triggerall = fvar(12) != 0.1
trigger1 = time = 2
x = 7.7;const(velocity.run.fwd.x)
[State 100, 1]
type = VelSet
triggerall = fvar(12) = 0.1
trigger1 = time = 2
x = ifelse(var(33)=6,5,7.7);const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = time = 15
value = 101
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(59) = 1 && var(41) != 2
trigger1 = random >= 120
trigger1 = enemy,stateno = [130,131]
trigger1 = p2bodydist x = [-1,10]
value = 980

[State 200, AI]
type = ChangeState
trigger1 = enemy,statetype = A
trigger1 = time >= 4
trigger1 = var(59) = 1 && var(41) != 2
trigger1 = random >= 850
trigger1 = p2bodydist x = [-3,14]
trigger1 = p2bodydist y = [-33,24]
value = 200
[State 200, AI]
type = ChangeState
trigger1 = enemy,statetype = S
trigger1 = time >= 4
trigger1 = var(59) = 1 && var(41) != 2
trigger1 = random >= 800
trigger1 = p2bodydist x = [-3,15]
value = 400

;---------------------------------------------------------------------------
; RUN_FWD dash hokuto
[Statedef 102]
type    = S
physics = N
anim = 100
sprpriority = 1
velset = 0,0
ctrl = 0

[State 0, 0]
type = Explod
triggerall = var(41) = 2
trigger1 = time = 2
postype = p1
pos = 0,0
anim = 7765
scale = 0.5,0.5
ownpal = 1
keyctrl = 0
sprpriority = 4

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 1
value = 0,4


[State 1000, Snd1]
type = PlaySnd
trigger1 = time%14 = 3
value = 102,1

[State 100, 4]
type = ChangeState
triggerall = var(41) = 3
trigger1 = time = 13
trigger2 = command = "holdback"
value = 101
ctrl = 1

[State 200, 4]
type = CtrlSet
trigger1 = time >= 1
value = 1

[State 100, 1]
type = VelSet
trigger1 = enemy,name = "JAGI"
trigger1 = enemy,Numhelper(1001) = 0
trigger1 = time = 2
trigger2 = enemy,name != "JAGI"
trigger2 = time = 2
x = 7;const(velocity.run.fwd.x)
[State 100, 1]
type = VelSet
trigger1 = enemy,name = "JAGI"
trigger1 = enemy,Numhelper(1001) >= 1
trigger1 = time = 2
x = 0.9;const(velocity.run.fwd.x)
[State 100, 1]
type = Veladd
triggerall = var(41) = 2
trigger1 = time = [2,20]
x = 0.06

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn


[State 200, 0]
type = ChangeState
triggerall = var(41) = 2
triggerall = time >= 4
trigger1 = command != "holdfwd"
trigger1 = !var(38);AI用
trigger2 = var(38);
trigger2 = !var(54) && p2bodydist X < 50;
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; RUN_FWD dash2
[Statedef 101]
type    = S
physics = S
anim = 101
sprpriority = 1
velset = 0,0

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 1
value = 0,3

[State 200, 4];一瞬攻撃でキャンセルできないフレームがあるっぽい…
type = CtrlSet
trigger1 = var(41) = 0
trigger1 = time >= 2
value = 1
[State 200, 4];一瞬攻撃でキャンセルできないフレームがあるっぽい…
type = CtrlSet
trigger1 = var(41) != 0
trigger1 = time >= 0
value = 1

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1



;------------------------------------------------
;ヒート エフェクトヘルパー
[Statedef 1959]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
velset = 0,0

[state 0,0]
type = Playsnd
trigger1 = time = 1
value = 50,6

[State 3000, kemukemu]
type = Explod
trigger1 = time = [1,20]
anim = 7051
removetime = 1
postype = p1
pos = 0,-5
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.1+(time*0.05),0.1+(time*0.04)

[State 3000, dokaa]
type = Explod
trigger1 = time = [1,20]
anim = 7052
removetime = 1
postype = p1
pos = 0,-80
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.2+(time*0.05),0.2+(time*0.05)
[State 3000, dokaa]
type = Explod
trigger1 = time = [1,20]
anim = 7053
removetime = 1
postype = p1
pos = 0,-80
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.2+(time*0.05),0.2+(time*0.05)
[State 3000, kirari]
type = Explod
trigger1 = time = 1
anim = 7054
postype = p1
pos = -10,-100
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.5,0.5

[state 0,0]
type = palfx
trigger1 = time >= 1
time = 1
mul = 240-(time*10),240-(time*10),240-(time*10)

[state 0,0]
type = destroyself
trigger1 = time = 20



;---------------------------------------------------------------------------
;挑発
[Statedef 199]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1258;7788
sprpriority = 2
velset = 0,0

[state 0,0]
type = playsnd
triggerall = time = 2
trigger1 = enemy,name = "RAOH"
value = 4,5
channel = 0
[state 0,0]
type = playsnd
triggerall = time = 2
trigger1 = enemy,name = "RAOH"
trigger1 = random >= 750
value = 4,6
channel = 0
[state 0,0]
type = playsnd
triggerall = time = 2
trigger1 = enemy,name = "RAOH"
trigger1 = random >= 750
value = 4,7
channel = 0

[state 0,0]
type = playsnd
triggerall = time = 2
trigger1 = enemy,name = "TOKI"
value = 4,25
channel = 0
[state 0,0]
type = playsnd
triggerall = time = 2
trigger1 = enemy,name = "TOKI"
trigger1 = random >= 500
value = 4,24
channel = 0

[state 0,0]
type = playsnd
triggerall = time = 2
trigger1 = enemy,name = "JAGI"
value = 4,19
channel = 0

[state 0,0]
type = playsnd
triggerall = enemy,name != "RAOH"
triggerall = enemy,name != "TOKI"
triggerall = enemy,name != "JAGI"
trigger1 = time = 2
value = 4,12
channel = 0
[state 0,0]
type = playsnd
triggerall = enemy,name != "RAOH"
triggerall = enemy,name != "TOKI"
triggerall = enemy,name != "JAGI"
trigger1 = time = 2
trigger1 = random >= 500
value = 4,13
channel = 0
[state 0,0]
type = playsnd
triggerall = random >= 500
triggerall = Numhelper(2024) >= 1
trigger1 = time = 2
value = 4,14
channel = 0

[State 210, 3]
type = Changeanim
triggerall = enemy,name = "TOKI"
trigger1 = time = 0
value = 1252

[State 210, 3]
type = ChangeState
trigger1 = anim = 1258
trigger1 = animtime = 0
trigger2 = anim = 1252
trigger2 = time = 80
value = 0
ctrl = 1

[state 0,0]
type = ctrlset
trigger1 = time >= 25
value = 1

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;モード変更
[Statedef 195]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 0;7788
sprpriority = 2
velset = 0,0


[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(41) = 0
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7112
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(41) = 1
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7113
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(41) = 2
postype = left
pos = ifelse(teamside = 1,10,245),75
anim = 7114
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(41) = 3
postype = left
pos = ifelse(teamside = 1,2,245),75
anim = 7125
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 195
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1

[state 0,0]
type = removeexplod
trigger1 = time = 0
id = 195

[state 0,0]
type = BGpalfx
trigger1 = time <= 30
time = 1
add = time*2,0,0

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 200,28
channel = 0

[state 0,0]
type = varadd
trigger1 = time = 1
v = 41
value = ifelse(var(41)=3,-3,1)
[state 0,0]
type = varset
;trigger1 = time = 1
trigger1 = var(41) = 1
v = 41
value = 2

:0 メルブラ
:1 GGXX
:2 北斗


[State 1000, effect]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "effects"
postype = p1
pos = 10,35
stateno = 1959
ownpal = 1
keyctrl = 0
id = 1959

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,NT,ST,HT,NA,SA,HA,NP,SP,HP
time = 4

[state 0,0]
type = palfx
trigger1 = time = 15
time = 5
add = 230,130,130
[state 0,0]
type = palfx
trigger1 = time = 20
time = 5
add = 180,80,80
[state 0,0]
type = palfx
trigger1 = time = 25
time = 4
add = 50,0,0

[state 0,0]
type = playsnd
trigger1 = time = 16
value = 30,4

[State 210, 3]
type = ChangeState
trigger1 = time = 25
value = 0
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = time = [20,24]
trigger1 = command = "start"
value = 195

;---------------------------------------------------------------------------
;デバッグモード変更
[Statedef 197]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7335
sprpriority = 2
velset = 0,0

[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(25) = 0
postype = left
pos = ifelse(teamside = 1,5,245),155
anim = 7128
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 197
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(25) = 1
postype = left
pos = ifelse(teamside = 1,5,245),155
anim = 7127
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 197
removetime = 5000
ontop = 1
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
trigger1 = time = 2
trigger1 = var(25) = 2
postype = left
pos = ifelse(teamside = 1,5,245),155
anim = 7126
ownpal = 1
keyctrl = 0
sprpriority = 5
id = 197
ontop = 1
removetime = 5000
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1


[state 0,0]
type = removeexplod
trigger1 = time = 0
id = 197

[state 0,0]
type = BGpalfx
trigger1 = time <= 30
time = 1
add = 0,time*3,0

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 200,28
channel = 0

[state 0,0]
type = varadd
trigger1 = time = 1
v = 25
value = ifelse(var(25)=2,-2,1)

:0 ノーマル
:1 デバッグ１
:2 デバッグ２


[State 1000, effect]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "effects"
postype = p1
pos = 0,5
stateno = 1959
ownpal = 1
keyctrl = 0
id = 1959

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,NT,ST,HT,NA,SA,HA,NP,SP,HP
time = 4

[state 0,0]
type = palfx
trigger1 = time = 15
time = 5
add = 130,180,130
[state 0,0]
type = palfx
trigger1 = time = 20
time = 5
add = 80,130,80
[state 0,0]
type = palfx
trigger1 = time = 25
time = 4
add = 0,50,0

[state 0,0]
type = playsnd
trigger1 = time = 16
value = 30,4

[State 210, 3]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;
[Statedef 196]
type = S
ctrl = 0
anim = 9999
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[state 0,0]
type = destroyself
trigger1 = time >= 300

;---------------------------------------------------
;起き上がり攻撃
[Statedef 1407]
type    = C
movetype= A
physics = S
juggle  = 5
poweradd= 40
ctrl = 0
velset = 0,0
anim = 7037
sprpriority = 1

[State 200, HitDef]
type = HitDef
trigger1 = time >= 5
persistent = 0
attr = C, NA
damage = 50, 10
getpower = 8
givepower = 5
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, miss
pausetime = 2, 2
sparkno = 0;S8000
sparkxy = 0, floor(-60 + p2dist y)
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -3,-4
air.velocity = -3,-3.5
fall = 1
air.fall = 1
fall.recovertime = 30

[State 0, 0]
type = Explod
trigger1 = animelem = 8
postype = p1
pos = 0,0
anim = 7038
ownpal = 1
keyctrl = 0
sprpriority = 3

[State 0, 0]
type = PlaySnd
trigger1 = animelem = 8
value = 180, 0

[State 1, 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl =1 

;---------------------------------------------------
;パワーを溜める
[Statedef 1409]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 7040
sprpriority = 1

[State 810, 11];パワーを溜める
type = powerAdd
trigger1 = time >= 5
value = 5

[State 0,0]
type = varAdd
triggerall = var(48) <= 98
trigger1 = time >= 5
persistent = 20
v = 48
value = 1

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 5
value = 170,1
channel = 3

[State 5201, 5]
type = PalFX
trigger1 = gametime % 12 = 0
time = 3
add = 28,28,128

[State 1, 0]
type = ChangeState
trigger1 = command != "holda"
trigger2 = command != "holdx"
;trigger3 = power = 3000
value = 0
ctrl = 1
















;------------------------------------------
; 投げられてる相手
[Statedef 931]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 1
velset =0,0
anim = 5050

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = velset
trigger1 = time = 1
x = 0
y = -9
[state 0,0]
type = veladd
trigger1 = time = [2,29]
y = 0.45
[state 0,0]
type = velset
trigger1 = time = 30
x = 0
y = 0

[state 0,0]
type = velset
trigger1 = time = 95
x = -6
y = -5.2

[state 0,0]
type = veladd
trigger1 = time > 95
y = 0.45

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim2
trigger1 = time = 30
value = 1255

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = time = [35,80]
persistent = 8
value = -10
kill = 0
[state 0,0]
type = lifeadd
trigger1 = time = 93
value = -20

[state 0,0]
type = selfstate
trigger1 = time >= 95
value = 5050


;---------------------------------------
;tukami投げ hit jibun
[Statedef 930]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1254
sprpriority = 0
velset = 0,0


[state 0,0]
type = velset
trigger1 = time >= 0
x = 0
y = 0

;[State 210, 2]
;type = PlaySnd
;trigger1 = time = 4
;value = 200, 32
;channel = 0

[State 0, 1]
type = TargetBind
trigger1 = time = 1
pos = 25,0
[State 0, 1]
type = TargetBind
trigger1 = time = 30
pos = 25,-25

[State 200, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 0,0]
type = hitadd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
trigger5 = animelem = 8
trigger6 = animelem = 9
trigger7 = animelem = 13
value = 1

[state 0,0]
type = playsnd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
trigger5 = animelem = 8
trigger6 = animelem = 9
trigger7 = animelem = 13
value = 101,2


[State explod]
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
trigger4 = animelem = 7
trigger5 = animelem = 8
trigger6 = animelem = 9
trigger7 = animelem = 13
trigger8 = animelem = 1
anim = 16010
id = 16010
sprpriority = 9
postype = p1
pos = 15+random%40,-80-random%40
bindtime = 1
supermove = 1
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = time = 1
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 1
v = 43
value = 1
persistent = 0
ignorehitpause = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;投げようとする
[Statedef 981]
type    = S
movetype= A
physics = S
ctrl = 0
juggle = 4
anim = 1253
sprpriority = 2
velset = 3,0

[state 0,0]
type = Velset
trigger1 = time <= 8
x = 3

[State 800, 1]
type = HitDef
;trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = time >= 5
trigger1 = P2MoveType != H
attr = S, NT
hitflag = H
priority = 1, Miss
sparkno = -1
hitsound = S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
;p2facing = -1
p1stateno = 930
p2stateno = 931
fall = 1
fall.recover = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---:::::::::::::::::::::::::::::::::::::::::::::
;投げようとする
[Statedef 980]
type    = S
movetype= A
physics = S
ctrl = 0
juggle = 4
anim = 1076
sprpriority = 1

[State 800, 1]
type = HitDef
;trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = time <= 2
trigger1 = P2MoveType != H
attr = S, NT
hitflag = M
priority = 1, Miss
sparkno = -1
air.juggle = 14
hitsound = S101, 1
sprpriority = 1
p1facing = ifelse (command = "holdback", -1, 1)
;p2facing = -1
p1stateno = 903
p2stateno = 901
fall = 1
fall.recover = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------
; 投げられてる相手
[Statedef 901]
type    = A
movetype= H
physics = S
ctrl = 0
sprpriority = 1
velset =0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = velset
trigger1 = time = 63
x = -5
y = -4.8

[state 0,0]
type = veladd
trigger1 = time > 65
y = 0.45

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7215

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = time = 28
trigger2 = time = 46
value = -23
kill = 0
[state 0,0]
type = lifeadd
trigger1 = time = 62
value = -20

[state 0,0]
type = selfstate
trigger1 = time >= 63
value = 5050

;---------------------------------------
;投げ
[Statedef 903]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1077
sprpriority = 0
velset = 0,0


[state 0,0]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[state 0,reverse]
type = varset
trigger1 = var(41) = 0
trigger1 = time = 1
fvar(5) = fvar(5)*0.3
persistent = 0

[State 210, 2]
type = PlaySnd
trigger1 = time = 4
value = 200, 32
channel = 0

[State 0, 1]
type = TargetBind
trigger1 = time = 1
pos = 22,0
[State 0, 1]
type = TargetBind
trigger1 = time = 10
pos = 22,-10
[State 0, 1]
type = TargetBind
trigger1 = time = 13
pos = 22,-20

[State 200, 3]
type = ChangeState
trigger1 = animtime = 0
trigger2 = Numhelper(2990) >= 1
trigger2 = time >= 62
value = 0
ctrl = 1

[state 0,0]
type = playsnd
trigger1 = time = 28
trigger2 = time = 46
value = 101,2

[state 0,0]
type = hitadd
trigger1 = time = 28
trigger2 = time = 46
value = 1


[state a];ヒットエフェクト
type = Helper
persistent = 5
trigger1 = time = 28
trigger2 = time = 46
id = 16000
name = "hit"
postype = p1
pos = 33,-110
stateno = 16000
helpertype = normal
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .4
size.yscale = .4
supermovetime = 999999
pausemovetime = 999999

[State 2, BOOST]
type = Helper
triggerall = var(41) = 2
triggerall = Numhelper(2990) <= 2
triggerall = var(48) >= 33 || var(26) >= 2
trigger1 = time >= 70
trigger1 = command = "c" || command = "z"
helpertype = normal
name = "boost"
pos = 0,0
stateno = 2990
ownpal = 1
id = 2990
keyctrl = 0



;---------------------------------------
;投げ2
[Statedef 902]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7090
sprpriority = 3
velset = 0,-7

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = S, NA
damage = 66, 0
getpower = 0
givepower = 0
animtype = medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 7, 7
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -3, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-11
air.velocity = 0,-11
air.fall = 1
fall.recovertime = 40


[State 200, 3]
type = ChangeState
trigger1 = time >= 5
trigger1 = pos y >= 0
value = 52
ctrl = 1

;---:::::::::::::::::::::::::::::::::::::::::::::
;投げようとする air
[Statedef 970]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7485
sprpriority = 2
juggle = 4

[State 800, 1]
type = HitDef
;trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = time >= 0
attr = A, NT
;juggle = 30
hitflag = AF
priority = 1, Miss
sparkno = -1
hitsound = S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
;p2facing = -1
p1stateno = 905
p2stateno = 906
air.fall = 1
fall.recover = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 150, 0

[State 200, 3]
type = ChangeState
trigger1 = time = 2
value = 9920


;------------------------------------------------
;自分
[Statedef 905]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7483
sprpriority = 5
;velset = 0,0

[state 0,0]
type = pause
trigger1 = time = 0
time = 2

[state 0,0]
type = posadd
trigger1 = time = 0
x = 30
y = -30

[state 0,0]
type = veladd
trigger1 = time >= 10
y = 0.45



[State 0, 0]
type = ChangeState
trigger1 = pos y >= 0
value = 9929
ctrl = 0

[state 0,debug]
type = null;pause
trigger1 = gametime % 2 = 0
time = 1

[state 0,0]
type = targetbind
trigger1 = time >= 0
pos = -13,10;35,-46;10,18

;------------------------------------------------
;　aite
[Statedef 906]
type    = A
movetype= H
physics = N
ctrl = 0
;anim = 7404
sprpriority = 3
velset = 0,0

[state 0,0]
type = turn
trigger1 = time = 0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = time >= 5
trigger1 = pos y >= 0
value = -80

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7484

[State 0, 0]
type = selfState
trigger1 = time >= 5
trigger1 = pos y >= 0
value = 5050
ctrl = 0



;---------------------------------------
;投げair
[Statedef 905]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7279
sprpriority = 1
velset = 0,0

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 5

[state 0,0]
type = velset
trigger1 = time <= 9
x = 0
y = 0

[State 0, 1]
type = TargetBind
trigger1 = time <= 1
pos = 33,-62

[State 200, 3]
type = ChangeState
trigger1 = animtime = 0
value = 5040
ctrl = 1

[state 0,0]
type = velset
trigger1 = time = 10
x = -2.3
y = -2




;------------------------------------------
; 投げられてる相手
[Statedef 906]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA
time = 5

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7092

;[state 0,0]
;type = changeanim2
;trigger1 = time = 15
;value = 811

[state 0,0]
type = playerpush
trigger1 = 1
value = 0


[state 0,0]
type = velset
trigger1 = time = 10
x = -5
y = 16

[state 0,0]
type = lifeadd
trigger1 = time = 9
value = -50
kill = 0

[state 0,0]
type = null;changeanim
trigger1 = time = 14
value = 5002

[state 0,0]
type = changestate
trigger1 = time = 10
value = 612;5100










;---:::::::::::::::::::::::::::::::::::::::::::::
;投げようとする アルカナN　Air
[Statedef 960]
type    = A
movetype= A
physics = A
ctrl = 0
juggle = 4
anim = 7772
sprpriority = 2

[State 800, 1]
type = HitDef
trigger1 = time = 8
trigger1 = P2MoveType != H
attr = A, NT
hitflag = A
priority = 1, Miss
sparkno = -1
air.juggle = 14
hitsound = S101, 1
sprpriority = 1
;p2facing = -1
p1stateno = 961
p2stateno = 962
fall = 1
fall.recover = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 200, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1

;--------------------------------------------------
;空中
[Statedef 961]
type    = A
movetype= A
physics = A
ctrl = 0
;anim = 7541
sprpriority = 2
poweradd = 30

[State 0, 1]
type = TargetBind
trigger1 = time <= 5
pos = 20,0

[state 0,0]
type = changestate
trigger1 = time <= 6
trigger1 = enemy,stateno != 962
value = 963

[state 0,0]
type = changeanim
trigger1 = time <= 5
value = 1027

[state 0,0]
type = changeanim
trigger1 = time = 6
value = 1025

[state 0,0]
type = velset
trigger1 = time = [0,6]
x = 0
y = 0
[state 0,0]
type = velset
trigger1 = time = [7,9]
x = 0.8
y = 0

[state 0,0]
type = null;velset
trigger1 = time = 12
x = 3
y = -2

[state 0,0]
type = velset
trigger1 = movehit
ignorehitpause = 1
persistent = 0
x = 2.9
y = -3.8


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = time <= 25
value = SCA
time = 2

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,3
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 4
value = 1, 0
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 4
value = 1, 2
channel = 0

[state 0,0]
type = varset
trigger1 = time = 0
trigger1 = var(27) = 0
trigger1 = var(41) = 2
v = 27
value = 1
[state 0,basuke]
type = varadd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.85
persistent = 0


[State 200, HitDef1]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = A, NA
damage = 35
getpower = ifelse(var(50)=0,15,0)
givepower = 4
animtype = heavy
guardflag = HA
hitflag = MAFD
priority = 4, Hit
pausetime = 9, 9
guard.pausetime = 9, 11
sparkno = S1026
sparkxy = -8, -15
hitsound = S440, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = ifelse(var(37)=1,12,8)
ground.hittime  = 7
air.slidetime = ifelse(var(37)=1,15,12)
air.hittime  = ifelse(var(37)=1,15,12)
ground.velocity = -1,16
air.velocity = -1,16
fall = 1
air.fall = 1
fall.recovertime = 100
ground.cornerpush.veloff = -3
fall.yvelocity = -8
envshake.time = 15
envshake.ampl = 2

[State 210, 3]
type = ChangeState
;trigger1 = animtime = 0
trigger1 = anim = 5040
value = 50

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[state 0,0]
type = ctrlset
trigger1 = time >= 26
trigger1 = anim = 5040
value = 1

;------------------------------------------
; 投げられてる相手
[Statedef 962]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 0
velset =0,0

[state 0,0]
type = changestate
trigger1 = time <= 5
trigger1 = command = "a"
trigger1 = command = "x"
value = 963

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 5001

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = selfstate
trigger1 = time >= 32;34
value = 5050



;------------------------------------------
; 投げ抜け
[Statedef 963]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = 2
velset =-1.5,0

[state 0,0]
type = selfstate
trigger1 = time = 15
value = 50
ctrl = 1

[state 0,0]
type = changeanim
trigger1 = 1
value = 5000

[state 0,0]
type = palfx
trigger1 = time = 2
time = 8
add = 60,70,140



;---:::::::::::::::::::::::::::::::::::::::::::::
;投げようとする アルカナN
[Statedef 940]
type    = S
movetype= A
physics = S
ctrl = 0
juggle = 4
anim = 7772
sprpriority = 2

[State 800, 1]
type = HitDef
trigger1 = time = 8
trigger1 = P2MoveType != H
attr = S, NT
hitflag = M
priority = 1, Miss
sparkno = -1
air.juggle = 14
hitsound = S101, 1
sprpriority = 1
;p2facing = -1
p1stateno = 941
p2stateno = 942
fall = 0
fall.recover = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 18
value = 12, 0
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = time = 18
trigger1 = random >= 500
value = 12, 1
channel = 0

;------------------------------------------
; 投げられてる相手
[Statedef 942]
type    = S
movetype= H
physics = S
ctrl = 0
sprpriority = 2
velset =0,0

[state 0,0]
type = changestate
trigger1 = time <= 14
trigger1 = command = "a"
trigger1 = command = "x"
value = 943

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 5001

[state 0,0]
type = playerpush
trigger1 = 1
value = 1

[state 0,0]
type = selfstate
trigger1 = time >= 38;34
value = 5050

;---------------------------------------
;投げ
[Statedef 941]
type    = S
movetype= A
physics = S
ctrl = 0
sprpriority = 1
velset = 0,0


[state 0,0]
type = changestate
trigger1 = time <= 16
trigger1 = enemy,stateno != 942
value = 943

[state 0,0]
type = changeanim
trigger1 = time = 17
value = 7771

[state 0,0]
type = velset
trigger1 = time = [20,30]
x = 1
y = 0

[state 0,reverse]
type = varset
trigger1 = time = 1
fvar(5) = fvar(5)*0.5
persistent = 0

[State 210, 2]
type = PlaySnd
trigger1 = time = 4
value = 200, 32
channel = 0

[State 0, 1]
type = TargetBind
trigger1 = time <= 1
pos = 26,0

[State 200, 3]
type = ChangeState
trigger1 = animtime = 0
trigger1 = anim = 7771
value = 0
ctrl = 1

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = anim = 7771
trigger1 = animelem = 4
attr = C, HA
damage = 20,0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 5, 12
sparkno = 0;S8004
sparkxy = -15, -16
hitsound = S101, 1
guardsound = S0, 0
ground.type = low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -2
fall = 0

[State 5101, 3]
type = MoveHitReset
trigger1 = animelem = 4
trigger2 = animelem = 8
trigger3 = animelem = 9
persistent = 2

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = anim = 7771
trigger1 = animelem = 8
attr = S, HA
damage = 25,0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 7, 12
sparkno = 1;S8004
sparkxy = -18, -50
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = anim = 7771
trigger1 = animelem = 18
attr = S, HA
damage = 28,0
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 14, 20
sparkno = 2;S8004
sparkxy = -33, -60
hitsound = S101, 2
guardsound = S0, 0
ground.type = low
ground.slidetime = 32
ground.hittime  = 32
ground.velocity = -6.5


;---:::::::::::::::::::::::::::::::::::::::::::::
;3z
[Statedef 944]
type    = S
movetype= A
physics = C
juggle  = 0
ctrl = 0
;anim = 7513
poweradd = 0
sprpriority = 2

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = 1
value = SCA
time = 2

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7513

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 1, 10
channel = 0

;方向転換
[State 1510, Turn]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = C, NA
damage = ifelse(var(39)=1,48,45), ifelse(var(49)>0,4,0)
getpower = ifelse(var(50)=0,50,0),6
givepower = 22,6
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, 10
guard.pausetime = 6, 6
sparkno = 1;S8000
sparkxy = 0, -55
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 15
ground.velocity = -2.5,-18
air.velocity = -2.5,-18
down.velocity = -3,-1
fall = 1
air.fall = 1
fall.recovertime = 80

[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;------------------------------------------
; 投げ抜け
[Statedef 943]
type    = S
movetype= I
physics = N
ctrl = 0
sprpriority = 2
velset =-1.5,0

[state 0,0]
type = selfstate
trigger1 = time = 15
value = 0
ctrl = 1

[state 0,0]
type = changeanim
trigger1 = 1
value = 5000

[state 0,0]
type = palfx
trigger1 = time = 2
time = 8
add = 60,70,140


;---:::::::::::::::::::::::::::::::::::::::::::::
;投げようとする アルカナ横
[Statedef 945]
type    = S
movetype= A
physics = S
ctrl = 0
juggle = 4
anim = 7773
sprpriority = 2

[State 800, 1]
type = HitDef
trigger1 = time = 4
trigger1 = P2MoveType != H
attr = S, NT
hitflag = M
priority = 1, Miss
sparkno = -1
air.juggle = 14
hitsound = S101, 1
sprpriority = 1
;p2facing = -1
p1stateno = 946
p2stateno = 947
fall = 1
fall.recover = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 18
value = 12, 0
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = time = 18
trigger1 = random >= 500
value = 12, 1
channel = 0

;------------------------------------------
; 投げられてる相手
[Statedef 947]
type    = A
movetype= H
physics = S
ctrl = 0
sprpriority = 2
velset =0,0

[state 0,0]
type = changestate
trigger1 = time <= 6
trigger1 = command = "a"
trigger1 = command = "x"
value = 943


[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = velset
trigger1 = time = 25
x = 11
y = -7.6

[state 0,0]
type = veladd
trigger1 = time >= 26
y = 0.45

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = changeanim
trigger1 = time < 6
value = 5000
[state 0,0]
type = changeanim2
trigger1 = time = 6
value = 7215

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = time = 6
value = -5
kill = 0
[state 0,0]
type = lifeadd
trigger1 = time = 24
value = -80

[state 0,0]
type = envshake
trigger1 = time = 22
time = 10

[state 0,0]
type = changestate
trigger1 = time >= 25;34
value = 9300

;---------------------------------------
;投げ
[Statedef 946]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7214
sprpriority = 1
velset = 0,0

[state 0,0]
type = changestate
trigger1 = time <= 7
trigger1 = enemy,stateno != 947
value = 943

[state 0,0]
type = changeanim
trigger1 = time = 6
value = 1024

[state 0,reverse]
type = varset
trigger1 = time = 7
fvar(5) = fvar(5)*0.3
persistent = 0

[State 210, 2]
type = PlaySnd
trigger1 = time = 10
value = 200, 32
channel = 0

[State 210, 2]
type = PlaySnd
trigger1 = time = 23
value = 101, 2

[State 0, 1]
type = TargetBind
trigger1 = time = 1
pos = 30,0
[State 0, 1]
type = TargetBind
trigger1 = time = [6,12]
pos = 36-time,0

[State 200, 3]
type = ChangeState
trigger1 = time >= 22
trigger1 = animtime = 0
value = 0
ctrl = 1










;---------------------------------------
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 200
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(45) % 10 = 0
var(45) = 1
persistent = 0

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.82
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) > 1
trigger2 = var(46) > 1
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(45) >= 1
trigger2 = var(46) >= 1
fvar(5) = fvar(5)*0.94
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
scale = 0.5,0.5
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 3
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 32,15

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 3
attr = S, NA
damage = ifelse(var(39)=1,33,30), 0
getpower = ifelse(var(50)=0,30,0),8
givepower = 18,4
animtype = medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 5, 8
sparkno = -1;0;S8004
sparkxy = -5, -80
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 3
ground.hittime  = 8
ground.velocity = -2
air.velocity = -2,-3

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
id = 16000
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16000
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .4
size.yscale = .4
supermovetime = 999999
pausemovetime = 999999

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 1


[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = enemy,stateno = [120,155]
trigger1 = enemy,statetype = C
trigger1 = time >= 11
trigger1 = var(59) = 1
trigger1 = random >= 790
value = 207

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = P2Dist Y = [-25,0]
trigger1 = var(45) % 100 < 10
value = 210
[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = random >= 600
trigger1 = P2Dist Y = [-75,-26]
trigger1 = var(45) % 100000 < 10000
value = 240

[State 210, AI]
type = ChangeState
triggerall = var(59) = 1
trigger1 = time >= 11
trigger1 = random <= 200
value = 201


;---------------------------------------------------------------------------
; AI RUN_FWD dash
[Statedef 201]
type    = S
physics = S
anim = 100
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(45) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(46) = 0
[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 1
value = 0,4

[State 200, 4]
type = CtrlSet
trigger1 = time = 6
value = 1

[State 100, 1]
type = VelSet
trigger1 = time >= 2
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = enemy,movetype = A
trigger2 = time >= 40
value = 0
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = time >= 6
trigger1 = var(59) = 1
trigger1 = random >= 120
trigger1 = enemy,stateno = [130,131]
trigger1 = p2bodydist x = [-1,10]
value = 980

[State 200, AI]
type = ChangeState
trigger1 = enemy,stateno = [120,155]
trigger1 = enemy,statetype = C
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 740
value = 207

[State 200, AI]
type = ChangeState
;trigger1 = enemy,statetype = C
trigger1 = time >= 10
trigger1 = random >= 920
trigger1 = p2bodydist x >= 30
value = 207

[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(59) = 1
trigger1 = random >= 800
trigger1 = p2bodydist x = [-3,14]
value = 400


;---------------------------------------------------------------------------
; AI Jump Start
[Statedef 202]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = 1
sysvar(1) = 1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 240
y = -10

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 203
ctrl = 1

;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 203]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
;trigger1 = var(59) = 1
trigger1 = time = [5,8]
trigger1 = random >= 760
value = 206

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time = [5,9]
trigger1 = p2dist y = [-5,30]
trigger1 = random >= 200
value = 600

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time = [5,9]
trigger1 = p2dist y = [-55,10]
trigger1 = random >= 200
value = 610

;------------------------------------------
; AI低空ダッシュair dash
[Statedef 206]
type    = A
movetype= I
physics = N
ctrl = 1
anim = 7508;100;107
sprpriority = 2


[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = -15,-1
[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 18
range = -12,12

[State 701, Effect]
type = Explod
triggerall = var(41) = 0
trigger1 = Time = 1
anim = 7445
postype = p1
pos = 10,-65
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[State 105, 1]
type = VelSet
trigger1 = Time = [2,20]
x = 6;4.8
y = 0
[state 0,0]
type = velset
trigger1 = time = 22
x = 3.9

[state 0,0]
type = varadd
trigger1 = time = 1
var(5) = 1

[state 0,0]
type = veladd
trigger1 = time >= 25
y = 0.45

[state 0,0]
type = velset
trigger1 = time >= 25
x = 2.2

[state 0,0]
type = velset
trigger1 = time <= 1
x = 7

[State 1000, 3]
type = Changeanim
trigger1 = time = 25
value = 45

[State 1000, 3]
type = ChangeState
trigger1 = time >= 23
value = 51
ctrl = 1

[State 1000, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1

[State 1000, AI]
type = ChangeState
;triggerall = var(59) = 1
triggerall = var(41) = 0
trigger1 = random >= 500
trigger1 = numhelper(1111) = 0
trigger1 = p2dist x >= 50
value = 1110
ctrl = 0
[State 1000, AI]
type = ChangeState
;triggerall = var(59) = 1
triggerall = var(41) = 0
trigger1 = random >= 500
value = 600
ctrl = 0
[State 1000, AI]
type = ChangeState
triggerall = var(59) = 1
triggerall = var(41) = 0
trigger1 = random >= 500
value = 620
ctrl = 0


;---------------------------------------------------------------------------
; AI backJump Start
[Statedef 207]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = 1
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 208
ctrl = 1

;---------------------------------------------------------------------------
; AI Jump Up back
[Statedef 208]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
;trigger1 = var(59) = 1
trigger1 = time = [7,10]
trigger1 = random >= 760
value = 206

[State 40, 6]
type = ChangeState
trigger1 = time >= 11
value = 50
ctrl = 1


;---------------------------------------
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 3
ctrl = 0
anim = 210
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(45) % 100 < 10
var(45) = 10
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
fvar(5) = fvar(5)*0.9
persistent = 0


[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [2,4]
Reversal.Attr = SA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [4,6]
Reversal.Attr = SA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 8
attr = S, NA
damage = ifelse(var(39)=1,60,57), 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = ifelse(var(37)=1,7,5), ifelse(var(37)=1,16,11)
;;guard.sparkno = S8003
sparkno = -1;S8004
sparkxy = -3, -25
hitsound = S101, 5
guardsound = S0, 0
ground.type = High
ground.slidetime = ifelse(var(37)=1,10,5)
ground.hittime  = ifelse(var(37)=1,20,16)
ground.velocity = -4
air.velocity = -2,-3
air.fall = 1
fall.recovertime = 20

[State explod]
type = Explod
trigger1 = UniqHitCount = 1
anim = 16010
id = 16010
sprpriority = 9
postype = p2
pos = Ceil(P2Dist X/2-15), -25-Ceil(P2BodyDist Y)
bindtime = 1
supermove = 1
persistent = 0
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 2

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,3
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 5
value = 1, 0
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 5
value = 1, 1
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 2
trigger1 = time = 5
value = 1, 3
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 10
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 6
trigger1 = command = "holdy"
value = 221
[state 0,0]
type = changestate
trigger1 = time >= 6
trigger1 = command != "holdy"
value = 222

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(46) % 1000 < 100
trigger1 = random >= 500
value = 420

[state 0,AI]
type = changestate
trigger1 = var(59) = 1
trigger1 = movecontact
trigger1 = var(45) % 100000 < 10000
trigger1 = gametime % 3 = 0
trigger1 = random >= 880
value = 240


;------------夢想印刷---------------------------
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 3
ctrl = 0
anim = 211
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(45) % 1000000 < 100000
var(45) = 100000
persistent = 0
[State 0, reverse]
type = null;Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 3
fvar(5) = fvar(5)*0.92
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201


[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 4
attr = S, NA
damage = ifelse(var(39)=1,60,57), 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = ifelse(var(37)=1,7,5), ifelse(var(37)=1,16,11)
;;guard.sparkno = S8003
sparkno = -1;S8004
sparkxy = -3, -75
hitsound = S101, 2
guardsound = S0, 0
ground.type = High
ground.slidetime = ifelse(var(37)=1,10,5)
ground.hittime  = ifelse(var(37)=1,22,16)
ground.velocity = -2,-7.8
air.velocity = -2,-8.5
fall = 1
air.fall = 1
fall.recovertime = ifelse(enemy,statetype = A,35,32)

[State explod]
type = Explod
trigger1 = UniqHitCount = 1
anim = 16010
id = 16010
sprpriority = 9
postype = p2
pos = Ceil(P2Dist X/2-15), -75-Ceil(P2BodyDist Y)
bindtime = 1
supermove = 1
persistent = 0
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 10
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1


;---------------------------------------------------------------------------
;壁バウンド

[Statedef 613]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = -8
kill = 0

[state 0,0]
type = poweradd
trigger1 = time = 0
value = 10

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = F72
postype = p1
pos = -20,-50
ownpal = 1
sprpriority = 3

[state 0,0]
type = envshake
trigger1 = time = 0
time = 12

[state 0,0]
type = velset
trigger1 = time = 5
x = 0.4
y = -7.2

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 0,0]
type = changeanim
trigger1 = time = 6
trigger1 = selfanimexist(5050)
value = 5050

[state 0,0]
type = changeanim2
trigger1 = time = 4
;trigger1 = anim != 5050
value = 612

[state 0,0]
type = selfstate
trigger1 = vel y > 0 && pos y >= 0
value = 5100

;---------------------------------------------------------------------------
;壁までふっとびB

[Statedef 614]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = turn
;triggerall = prevstateno != 901
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 612

[state 0,0]
type = velset
trigger1 = time = 0
x = -8.6
y = -0.3;1

[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 615

[state 0,0]
type = selfstate
trigger1 = time >= 20
value = 5050

;---------------------------------------------------------------------------
;壁バウンドB

[Statedef 615]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = -8
kill = 0

[state 0,0]
type = poweradd
trigger1 = time = 0
value = 10

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = F72
postype = p1
pos = -20,-50
ownpal = 1
sprpriority = 3

[state 0,0]
type = envshake
trigger1 = time = 0
time = 12

[state 0,0]
type = velset
trigger1 = time = 5
x = 5.4
y = -7.2+(gethitvar(hitcount)*0.32)

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 0,0]
type = changeanim
trigger1 = time = 6
trigger1 = selfanimexist(5050)
value = 5050

[state 0,0]
type = changeanim2
trigger1 = time = 4
;trigger1 = anim != 5050
value = 612

[state 0,0]
type = selfstate
trigger1 = vel y > 0 && pos y >= 0
value = 5100

;---------------------------------------
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 220
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(45) % 1000 < 100
var(45) = 100
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 8
fvar(5) = fvar(5)*0.85
persistent = 0
[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = numhelper(2990) = 1
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.76
persistent = 0

[state 0,0]
type = varset
trigger1 = time = 0
v = 18
value = 0
[state 0,0]
type = varadd
trigger1 = movecontact;hit
v = 18
value = 1

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 12
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 20,2
persistent = 0

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 5
attr = S, NA
damage = ifelse(var(18)<=2,35,72), 0
getpower = ifelse(var(50)=0,57,0),10
givepower = 20,5
animtype = heavy
guardflag = M
hitflag = MAFD
priority = 4, Hit
pausetime = 5, ifelse(enemy,statetype=A,8,12)
guard.pausetime = 6,8
;;guard.sparkno = S8003
sparkno = -2;S8004
sparkxy = -12, -46
hitsound = S101, 5
guardsound = S0, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
air.slidetime = 6
air.hittime  = 6
ground.velocity = -5
air.velocity = -3.2,-6;-3.8
down.velocity = -3,-1
envshake.time = 10
envshake.ampl = 2
envshake.freq = 60
air.fall = 1
fall.recovertime = 10

[State explod]
type = Explod
trigger1 = UniqHitCount = 1
anim = 16010
id = 16010
sprpriority = 9
postype = p2
pos = Ceil(P2Dist X/2-15), -47-Ceil(P2BodyDist Y)
bindtime = 1
supermove = 1
persistent = 0
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 100, 3

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,3
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 4
value = 1, 2
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 4
value = 1, 4
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 2
trigger1 = time = 4
value = 1, 6
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 10
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(46) % 1000 < 100
trigger1 = random >= 400
value = 420

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(45) % 100 < 10
trigger1 = gametime % 5 = 0
trigger1 = random >= 900
value = 210

[state 0,AI]
type = changestate
trigger1 = var(59) = 1
trigger1 = movecontact
trigger1 = var(45) % 100000 < 10000
trigger1 = gametime % 3 = 0
trigger1 = random >= 880
value = 240


;---------ブローバック------------------------------
[Statedef 221]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
;anim = 222
sprpriority = 2

[State 210, 3]
type = ChangeState
trigger1 = time = [2, 15]
trigger1 = command != "holdy"
value = 222

[State 210, 2]
type = PlaySnd
trigger1 = time = 16
value = 30, 0
[State 0, c]
type = Explod
trigger1 = time = 16
anim = 7333
;scale = 0.5,0.5
postype = p1
pos = -21,-38
ownpal = 1
sprpriority = 5
;bindtime = -1

[State 210, 3]
type = ChangeState
trigger1 = time = [20, 30]
trigger1 = command != "holdy"
trigger2 = time >= 31
value = 223


;---------------------------------------
[Statedef 222]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 211
sprpriority = 2

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = varset
trigger1 = time = 0
v = 18
value = 0
[state 0,0]
type = varadd
trigger1 = movecontact;hit
v = 18
value = 1


[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = S, NA
damage = ifelse(var(39)=1,60,57), 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = ifelse(var(37)=1,7,5), ifelse(var(37)=1,16,11)
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -3, -25
hitsound = S101, 5
guardsound = S0, 0
ground.type = High
ground.slidetime = ifelse(var(37)=1,10,5)
ground.hittime  = ifelse(var(37)=1,20,16)
ground.velocity = -4
air.velocity = -2,-3
air.fall = 1
fall.recovertime = 20

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 3

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(46) % 1000 < 100
trigger1 = random >= 500
value = 420

[state 0,AI]
type = changestate
trigger1 = var(59) = 1
trigger1 = movehit
trigger1 = gametime % 3 = 0
trigger1 = random >= 400
value = 1060


;---------------------------------------
[Statedef 223]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 211
sprpriority = 2

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = varset
trigger1 = time = 0
v = 18
value = 0
[state 0,0]
type = varadd
trigger1 = movecontact;hit
v = 18
value = 1


[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 3
attr = S, NA
damage = ifelse(var(39)=1,80,77), 0
getpower = ifelse(var(50)=0,66,0),10
givepower = 20,5
animtype = medium
guardflag = H
hitflag = MAF
priority = 4, Hit
pausetime = ifelse(var(37)=1,7,5), ifelse(var(37)=1,16,15)
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -3, -25
hitsound = S101, 5
guardsound = S0, 0
ground.type = High
ground.slidetime = ifelse(var(37)=1,10,5)
ground.hittime  = ifelse(var(37)=1,20,16)
ground.velocity = -4
air.velocity = -2,-3
air.fall = 1
fall.recovertime = 20

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 3

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[State 200, AI]
type = ChangeState
trigger1 = movehit
trigger1 = var(59) = 1
trigger1 = random >= 500
value = 1060


;肘-------------------------------------------
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 230
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(41) = 0
var(45) = 10000
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = posadd
trigger1 = time = [5,15]
x = 1



[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 3
fvar(5) = fvar(5)*0.84
persistent = 0

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = 5
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2
persistent = 0
[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = 7
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2
persistent = 0
[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = 9
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 40,2
persistent = 0

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 5
attr = S, NA
damage = 63, 0
getpower = ifelse(var(50)=0,70,0),13
givepower = 28,10
animtype = up;heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 10
guard.pausetime = 4, 6
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = 1, -46
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3,0
guard.velocity = -3
air.velocity = -4,-4
fall = 1
air.fall = 1
fall.recovertime = 30
envshake.time = 10
envshake.ampl = 2
p2stateno = 614

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 3

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 20
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

;---------------------------------------
[Statedef 240];うちあげ
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 240
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(45) % 100000 < 10000
var(45) = 100000
persistent = 0
[State 0, reverse]
type = null;Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200



[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.85
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [3,6]
Reversal.Attr = SA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 20,2

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 6
attr = S, NA
damage = ifelse(var(39)=1,60,57), 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = ifelse(var(37)=1,7,5), ifelse(var(37)=1,14,8)
;;guard.sparkno = S8003
sparkno = 1;S8004
sparkxy = -3, -65
hitsound = S101, 5
guardsound = S0, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -0.8,-7.6
air.velocity = -1.2,-8.5
air.fall = 1
fall = 1
fall.recovertime = 30

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 100, 2


[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,1
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 4
value = 1, 5
channel = 0


[state 0,0]
type = changestate
;trigger1 = time >= 30
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = movehit
trigger1 = var(59) = 1
trigger1 = time >= 4
trigger1 = random >= 820
value = 202

;---------------------------------------
[Statedef 251];ダスト相手
type    = A
movetype= H
physics = A
ctrl = 0
anim = 5030
sprpriority = 0

[state 0,0]
type = velset
trigger1 = time <= 80
y = -5

[state 0,0]
type = selfstate
trigger1 = time = 81
value = 5050



;---------------------------------------------------------------------------
; 5y ヒット後 ５Yにつなぐ
[Statedef 211];241]
type    = S
movetype= I
physics = S
ctrl = 0
sprpriority = 2

[State 2, BOOST]
type = Helper
triggerall = p2dist x >= 60
triggerall = Numhelper(2990) = 0
triggerall = var(48) >= 25
triggerall = roundstate = 2
trigger1 = time = 15
helpertype = normal
name = "boost"
pos = 0,0
stateno = 2990
ownpal = 1
id = 2990
keyctrl = 0

[state 0,0]
type = changeanim
trigger1 = animtime = 0
value = 0

[state 0,0]
type = changestate
trigger1 = p2dist x = [0,50]
trigger1 = p2dist y = [-100,0]
value = 240

[State 210, 3]
type = ChangeState
triggerall = anim = 0
;trigger1 = enemy,stateno != [5000,5050]
trigger1 = time >= 65
;trigger2 = var(48) < 25
value = 0
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 3
trigger1 = Numhelper(2990) = 0
trigger1 = var(48) < 25
value = 1050
ctrl = 0

[State 200, AI]
type = ChangeState
trigger1 = movehit
trigger1 = var(59) = 1
value = 421


;---------------------------------------------------------------------------
; 5B ヒット後 ５Yにつなぐ
[Statedef 241]
type    = S
movetype= I
physics = S
ctrl = 0
sprpriority = 2

[state 0,0]
type = changeanim
trigger1 = animtime = 0
value = 0

[state 0,0]
type = changestate
trigger1 = time = [30,65]
trigger1 = p2dist y = [-80,0]
value = 210

[State 210, 3]
type = ChangeState
;triggerall = anim = 0
trigger1 = enemy,stateno != [5000,5050]
trigger2 = time >= 65
trigger3 = p2dist x >= 110
value = 0
ctrl = 1

[state 0,0]
type = changestate
triggerall = Numhelper(1001) <= 1
trigger1 = time = 3
trigger1 = random >= 600
trigger1 = var(40) % 10 = 0
value = 1000
[state 0,0]
type = changestate
triggerall = Numhelper(1001) <= 1
trigger1 = time = 3
trigger1 = random >= 600
trigger1 = var(40) % 10000 < 1000
value = 1010

[state 0,0]
type = changestate
trigger1 = time = 10
trigger1 = power >= 3000
trigger1 = var(40) = 11111
value = 9910

;---------------------------------------------------------------------------
; Jump Start
[Statedef 242]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, 2]
type = VarSet
trigger1 = 1
sysvar(1) = 1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 243
ctrl = 1


;---------------------------------------------------------------------------
; Jump Up
[Statedef 243]
type    = A
physics = A

[State 0, 0]
type = ChangeAnim
triggerall = Numhelper(2990) >= 1
trigger1 = Anim != 101
value = 101

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
triggerall = prevstateno != 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 44, ifelse((vel x)>0, 45, 46))

[State 50, 2]
type = ChangeAnim
triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[state 0,0]
type = changestate
triggerall = enemy,gethitvar(hitcount) < 5
trigger1 = time >= 7
trigger1 = p2dist y = [-20,30]
trigger2 = time = 22
value = 640

[state 0,0]
type = changestate
triggerall = enemy,gethitvar(hitcount) >= 4
trigger1 = power >= 2000
trigger1 = time >= 7
trigger1 = p2dist y = [-50,50]
value = 2170

[state 0,0]
type = changestate
;triggerall = enemy,gethitvar(hitcount) >= 4
trigger1 = time >= 15
trigger1 = p2dist y = [-20,100]
value = 1090

[state 0,0]
type = changestate
trigger1 = time >= 30
trigger1 = enemy,movetype != H
value = 51
ctrl = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;屈み弱パンチ
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 7
ctrl = 0
anim = 400
poweradd = 0
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
trigger1 = var(46) % 10 = 0
var(46) = 1
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) > 1
trigger2 = var(46) > 1
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(45) >= 1
trigger2 = var(46) >= 1
fvar(5) = fvar(5)*0.94
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201



[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.75
persistent = 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = C, NA
damage = ifelse(var(39)=1,43,41), 0
getpower = ifelse(var(50)=0,20,0),4
givepower = 9,3
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 7, 7
guard.pausetime = 8, 7
sparkno = 0;S8000
sparkxy = 0, -50
hitsound = S101, 1
guardsound = S0, 0
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -3.4
air.velocity = -2.8,0
down.velocity = -2,-0.1

[State 0, 0]
type = PlaySnd
trigger1 = time = 2
value = 100, 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = enemy,statetype = C
trigger1 = moveguarded
trigger1 = var(59) = 1
trigger1 = random >= 860
trigger1 = p2bodydist x >= 5
trigger1 = time >= 12
value = 201

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = gametime % 2 = 0
trigger1 = p2bodydist x = [-3,16]
value = 400

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(45) % 1000 < 100
trigger1 = p2bodydist x = [10,75]
trigger1 = random >= 900
trigger1 = gametime % 2 = 0
value = 220

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = random >= 600
trigger1 = var(46) % 1000 < 100
trigger1 = p2bodydist x = [16,105]
value = 420

;---:::::::::::::::::::::::::::::::::::::::::::::
;屈みちゅう 
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 5
ctrl = 0
anim = 410
poweradd = 0
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = var(46) % 100 < 10
trigger1 = time = 1
var(46) = 10
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
scale = 0.5,0.5
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(45) >= 100
trigger2 = var(46) >= 100
fvar(5) = fvar(5)*0.94
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201


[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time = [2,3]
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 38,25

[State 200, HitDef]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = C, NA
damage = ifelse(var(39)=1,48,45), 0
getpower = ifelse(var(50)=0,50,0),6
givepower = 22,6
animtype = medium
guardflag = L
hitflag = MAFD
priority = 5, Hit
pausetime = 8, 12
guard.pausetime = 3, 6
sparkno = 1;S8000
sparkxy = 0, -5
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -1,-5
air.velocity = -1,-7
fall = 1
air.fall = 1
down.velocity = -3,-1

[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time >= 10
trigger1 = movehit
trigger1 = command = "holdup"
value = 40
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(46) % 1000 < 100
trigger1 = p2bodydist x = [-3,73]
value = 420

[State 200, AI]
type = ChangeState
trigger1 = movehit
trigger1 = var(59) = 1
trigger1 = time >= 4
trigger1 = random >= 820
value = 202

;---:::::::::::::::::::::::::::::::::::::::::::::
;屈み強パンチ
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 5
ctrl = 0
anim = 420
poweradd = 0
sprpriority = 2
[state 0, meltyblood]
type = varadd
trigger1 = var(46) % 1000 < 100
trigger1 = time = 1
var(46) = 100
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
scale = 0.5,0.5
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201



[state 0,reverse]
type = velset
trigger1 = time = [5,10]
x = 0.2

[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 8
fvar(5) = fvar(5)*0.7;45
persistent = 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = C, NA
damage = ifelse(var(39)=1,109,104), 0
getpower = ifelse(var(50)=0,120,0),24
givepower = 94,37
animtype = up;heavy
guardflag = L
hitflag = MAFD
priority = 5, Hit
pausetime = 3, ifelse(var(37)=1,20,14)
guard.pausetime = 2, 10
sparkno = 2;S8000
sparkxy = 0, -10
hitsound = S101, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2,-1.5
air.velocity = -2,0
fall = 1
down.velocity = -3,-1
guard.velocity = -4.4
envshake.time = 10
envshake.ampl = 2
;airjuggle = 14使えneeeeeeeeeeeeee

[State 0, 0]
type = PlaySnd
trigger1 = time = 4
value = 100, 3

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = random >= 940
trigger1 = var(45) % 100 < 10
value = 210

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(46) % 100 < 10
trigger1 = p2bodydist x = [10,40]
value = 410

[State 200, AI]
type = ChangeState
trigger1 = time >= 4
trigger1 = var(45) % 100000 < 10000
trigger1 = var(59) = 1
trigger1 = random >= 640
trigger1 = movecontact
value = 240



;---------------------------------------------------------------------------
; AI Jump Start
[Statedef 421]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = 1
sysvar(1) = 1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 240
y = -10

[State 40, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = prevstateno = 1012
trigger2 = prevstateno = 2000
value = 423
ctrl = 1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 422
ctrl = 0

;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 422]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 16
trigger1 = p2dist y = [-10,20]
value = 610

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 17
;trigger1 = p2dist y = [-15,25]
value = 630

[state 0,0]
type = ctrlset
trigger1 = time >= 19
value = 1
;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 423]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 3
trigger1 = random >= 500
value = 620
[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 4
;trigger1 = p2dist y = [-15,25]
trigger1 = random >= 500
value = 630



;---------------------------------------------------------------------------
; AI Jump Start
[Statedef 425]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = 1
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 240
y = -10

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 426
ctrl = 0

;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 426]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = random >= 800
value = 234
[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = random >= 900
value = 45

[state 0,0]
type = ctrlset
trigger1 = time >= 10
value = 1



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;  蛇
[Statedef 1000]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 1150
sprpriority = 2
poweradd = 0
;velset = 0,0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.04)
ignorehitpause = 1

[state 0,basuke]
type = varadd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
triggerall = var(37) >= 1
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time = 0
trigger1 = prevstateno = 7040
add = 90,5,5
time = 15
ignorehitpause = 1

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 1150


[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
trigger1 = hitpausetime <= 9
x = floor(enemy,gethitvar(hitcount)*-0.32)
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = animelemtime(2) = 3
value = 5, 43
channel = 0

[state 0,0]
type = playsnd
trigger1 = animelemtime(2) = 2
value = 31, 2

[State 0, 0]
type = Explod
trigger1 = animelemtime(3) = 1
postype = p1
pos = -15,0
anim = 7426
ownpal = 1
keyctrl = 0
sprpriority = 5
;scale = 0.5,0.5
;bindtime = -1

[State 0, 0]
type = Explod
trigger1 = prevstateno != 7040
trigger1 = time = 2
postype = p1
pos = 15,-55
anim = 7423
ownpal = 1
keyctrl = 0
sprpriority = 5
;scale = 0.5,0.5
bindtime = -1
[State 0, 0]
type = Explod
triggerall = var(27) = 0
trigger1 = time = 10
trigger1 = prevstateno != 7040
postype = p1
pos = 25,-44
anim = 7424
ownpal = 1
keyctrl = 0
sprpriority = 5
scale = 0.75,0.75
;bindtime = -1
vel = 8,0
[State 0, 0]
type = Explod
triggerall = var(27) >= 1
trigger1 = time = 10
trigger1 = prevstateno != 7040
postype = p1
pos = 25,-44
anim = 7424
ownpal = 1
keyctrl = 0
sprpriority = 5
scale = 0.75,0.75
;bindtime = -1
vel = 8 - enemy,gethitvar(hitcount) * 0.25,0

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelemtime(5) = 1
anim = 1234
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 3
pausemovetime = 100
supermovetime =100
bindtime = 15
removeongethit = 1
scale = const(size.xscale),const(size.yscale)


[State 0, 0]
type = Explod
trigger1 = prevstateno != 7040
trigger1 = time = 12
postype = p1
pos = 0,0
anim = 7766
scale = 0.5,0.5
ownpal = 1
keyctrl = 0
sprpriority = 4

[state 0,0]
type = velset
triggerall = var(27) = 0
trigger1 = prevstateno != 7040
trigger1 = time = [12,20]
trigger1 = frontedgedist >= 12
x = 8
[state 0,0]
type = velset
triggerall = var(27) >= 1
trigger1 = prevstateno != 7040
trigger1 = time = [12,20]
trigger1 = frontedgedist >= 29
x = 8 - (enemy,gethitvar(hitcount) * 0.25)

[state 0,0]
type = velset
triggerall = var(27) >= 1
trigger1 = time = [12,20]
trigger1 = frontedgedist < 29
trigger2 = movehit
x = 0

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,82,73), 4
getpower = ifelse(var(50)=0,120,0),24
givepower = 94,37
animtype = up;heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 10, ifelse(var(37)=1,20,13)
guard.pausetime = 6, 10
sparkno = -1;S8000
sparkxy = 0, -80
hitsound = S101, 3
guardsound = S0, 0
ground.type = high;trip 
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5,-8
air.velocity = -5,-7.9+(var(7)*0.6)
fall = 1
air.fall = 1
down.velocity = -3,-1
guard.velocity = -4.4
envshake.time = 10
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 38;28
ground.cornerpush.veloff = -2

[State 200, HitDef]
type = HitDef
triggerall = var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,90,90), 0
getpower = ifelse(var(50)=0,120,0),24
givepower = 94,37
animtype = up;heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 11, ifelse(var(37)=1,20,14)
guard.pausetime = 7, 10
sparkno = -1;S8000
sparkxy = 0, -80
hitsound = S101, 3
guardsound = S0, 0
ground.type = trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4,-7.5+(var(7)*0.5)
air.velocity = -5,-7+(var(7)*0.5)
fall = 1
down.velocity = -3,-1
guard.velocity = -4.4
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715

[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = command = "teikuu"
trigger1 = !var(38);AI用
value = 4043
ctrl = 1
[state 0,0]
type = changestate
trigger1 = time >= 2
trigger1 = movehit
trigger1 = command = "high2"
trigger1 = !var(38);AI用
value = 4041
ctrl = 1
[state 0,0]
type = changestate
trigger1 = var(59) = 0
trigger1 = time >= 8
trigger1 = movehit
trigger1 = command = "holdup" || var(38);AI用に変更
value = 40
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 200, AI]
type = ChangeState
;trigger1 = var(27) >= 1
trigger1 = var(59) = 1
trigger1 = movehit
value = 8233




;---------------------------------------
;せいえいこう
[Statedef 1010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1152
sprpriority = 2
;velset = 0,0

[State -2, BOOST];意地でも当ててやるｗ
type = Helper
triggerall = var(59) = 1
triggerall = Numhelper(2990) = 0
triggerall = var(48) >= 33 || var(26) >= 2
trigger1 = p2dist x >= 50
helpertype = normal
name = "boost"
pos = 0,0
stateno = 2990
ownpal = 1
id = 2990
keyctrl = 0
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = movehit
value = 90, 0
ignorehitpause = 1
persistent = 0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.14)
ignorehitpause = 1
[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
trigger1 = hitpausetime <= 5
x = floor(enemy,gethitvar(hitcount)*-0.32)
ignorehitpause = 1


[state 0,0]
type = varset
trigger1 = movehit
v = 49
value = 1200
ignorehitpause = 1

[state 0,0]
type = pause
trigger1 = movehit
trigger1 = Numhelper(2990) >= 1
persistent = 0
ignorehitpause = 1
time = 2

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 13
ignorehitpause = 1
anim = 1244
postype = p1
pos = 15,12
ownpal = 1
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = 2
;removeongethit = 1
scale = const(size.xscale),const(size.yscale)



[State 3000, effect]
type = Explod
persistent = 0
trigger1 = movehit
anim = 1245
postype = p2
pos = -10,-56
random = 20,20
ownpal = 1
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
;removeongethit = 1
scale = 0.5,0.5

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
trigger1 = var(44) % 1000 < 100
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 1000 < 100
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 1000 < 100
trigger1 = movehit
persistent = 0
v = 44
value = 100
ignorehitpause = 1


[State 210, 3]
type = targetstate
trigger1 = movehit
trigger1 = enemy,statetype = S || enemy,statetype = C
trigger1 = stateno != 8701
trigger1 = hitpausetime >=10
value = 8703
persistent = 0
ignorehitpause = 1

[State 0, 0]
type = PlaySnd
trigger1 = movehit
;trigger1 = enemy,stateno = 8703
value = 95,2
persistent = 0
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 3
value = 5, 13
channel = 0


[State 210, 2]
type = PlaySnd
trigger1 = time = 9
value = 100, 3

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,79,72), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,20,17)
guard.pausetime = 9, 14
sparkno = -1;S8000
sparkxy = -13, -80
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -5,-2+(var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 14
[State 200, HitDef]
type = HitDef
triggerall = var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,79,72), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,20,17)
guard.pausetime = 9, 14
sparkno = -1;S8000
sparkxy = -13, -80
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -5,-2+(var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 14
p2stateno = 8715


[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999


[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 210, 3]
type = ChangeState
triggerall = var(59) >= 1
trigger1 = movehit
trigger1 = var(48) >= 33 || var(26) >= 2
value = 8710




;---------------------------------------
;うじょうもうしょうは
[Statedef 1015]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1153
sprpriority = 2
;velset = 0,0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.14)
ignorehitpause = 1
[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
trigger1 = hitpausetime <= 5
x = floor(enemy,gethitvar(hitcount)*-0.32)
ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
trigger1 = var(44) % 100 < 10
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 100 < 10
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 100 < 10
trigger1 = movehit
persistent = 0
v = 44
value = 10
ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 1237
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 4
anim = 1239
ignorehitpause = 1
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 1238
ignorehitpause = 1
postype = p1
pos = 34,-100
ownpal = 1
sprpriority = 5
;bindtime = -1
;scale = 0.58 - (time*0.16),0.58 - (time*0.16);,const(size.yscale)
id = 123

[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 123
scale = 1.3 - (time*0.05),1.3 - (time*0.05);,const(size.yscale)
ignorehitpause = 1





[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 4
anim = 1238
postype = p1
pos = 8,-60
ownpal = 1
sprpriority = 5
;bindtime = -1
removetime = 10
scale = 0.7 - (time*0.05),0.7 - (time*0.05);,const(size.yscale)
id = 122

[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 122
scale = 0.7 - (time*0.05),0.7 - (time*0.05);,const(size.yscale)
ignorehitpause = 1


[state 0,0]
type = playsnd
trigger1 = time = 2
value = 5, 16
channel = 0

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,79,72), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 10, ifelse(var(37)=1,17,12)
guard.pausetime = 9, 14
sparkno = -1;S8000
sparkxy = -13, -83
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = ifelse(var(37)=1,-1,0),-9
air.velocity = ifelse(var(37)=1,-1,0),-4+(var(7)*0.25)
fall = 1
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 99

[State 200, HitDef]
type = HitDef
triggerall = var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,79,72), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,20,17)
guard.pausetime = 9, 14
sparkno = -1;S8000
sparkxy = -13, -80
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -5,-2+(var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 14
p2stateno = 8715


[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999


[state 0,0]
type = playsnd
trigger1 = animelemtime(2) = 2
value = 31, 2

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 1016
ctrl = 0

;---------------------------------------
;うじょうもうしょうはX 終了
[Statedef 1016]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1154
sprpriority = 1
;velset = 0,0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.16)
ignorehitpause = 1

[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 123
scale = 0.7 - (time*0.05),0.7 - (time*0.05);,const(size.yscale)
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------
;うじょうもうしょうは Y
[Statedef 1017]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1155
sprpriority = 2
;velset = 0,0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.14)
ignorehitpause = 1
[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
trigger1 = hitpausetime <= 5
x = floor(enemy,gethitvar(hitcount)*-0.32)
ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 1238
ignorehitpause = 1
postype = p1
pos = 34,-100
ownpal = 1
sprpriority = 5
;bindtime = -1
;scale = 0.58 - (time*0.16),0.58 - (time*0.16);,const(size.yscale)
id = 123

[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 123
scale = 1.3 - (time*0.05),1.3 - (time*0.05);,const(size.yscale)
ignorehitpause = 1





[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 4
anim = 1238
postype = p1
pos = 8,-60
ownpal = 1
sprpriority = 5
;bindtime = -1
removetime = 10
scale = 0.7 - (time*0.05),0.7 - (time*0.05);,const(size.yscale)
id = 122

[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 122
scale = 0.7 - (time*0.05),0.7 - (time*0.05);,const(size.yscale)
ignorehitpause = 1


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 13
anim = 1238
ignorehitpause = 1
postype = p1
pos = 36,-120
ownpal = 1
sprpriority = 5
;bindtime = -1
;scale = 0.58 - (time*0.16),0.58 - (time*0.16);,const(size.yscale)
id = 124
[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 124
scale = 1.39 - (time*0.03),1.39 - (time*0.03);,const(size.yscale)
ignorehitpause = 1


[State 1200, 9]
type = StateTypeSet
trigger1 = time >= 12
statetype = A
physics = N
;ignorehitpause = 1
[State 1200, 9]
type = StateTypeSet
trigger1 = movehit
trigger1 = animelem = 5
statetype = S
physics = N
ignorehitpause = 1
[State 1200, 9]
type = StateTypeSet
trigger1 = animelem = 6
statetype = A
physics = N
ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time = 12
x = 2.5
y = -11
[state 0,0]
type = velset
trigger1 = time = 35
x = 0.7
[state 0,0]
type = veladd
trigger1 = time > 12
y = 0.45



[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1



[state 0,0]
type = playsnd
trigger1 = time = 2
value = 5, 16
channel = 0

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = animelem = 3
trigger2 = animelem = 4
;persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,28,25), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,17,11)
guard.pausetime = 9, 13
sparkno = -1;S8000
sparkxy = -13, -83
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1,-9.2
air.velocity = 0,-6+(var(7)*0.25)
fall = 1
air.fall = 1
envshake.time = 12
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 99

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = animelem = 5
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,40,35), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,17,11)
guard.pausetime = 9, 13
sparkno = -1;S8000
sparkxy = -13, -83
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1,-9.6
air.velocity = 0,-9.2+(var(7)*0.23)
fall = 1
air.fall = 1
envshake.time = 12
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 99


[State 200, HitDef]
type = HitDef
triggerall = var(27) >= 1
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S, SA
damage = ifelse(var(39)=1,49,45), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,20,17)
guard.pausetime = 9, 14
sparkno = -1;S8000
sparkxy = -13, -80
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -5,-2+(var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 14
p2stateno = 8715


[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 2
name = "hit"
pos = Ceil(P2Dist X/2-15), -90-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 3
name = "hit"
pos = Ceil(P2Dist X/2-15), -100-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state 0,0]
type = playsnd
trigger1 = animelemtime(2) = 2
value = 31, 2

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 17 
value = 1018
ctrl = 0

;---------------------------------------
;うじょうもうしょうはY 終了
[Statedef 1018]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1156
sprpriority = 1
velset = 0,0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.14)
ignorehitpause = 1


[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(5) = 0

[State 210, 3]
type = posset
trigger1 = time >= 0
y = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------
;うじょうもうしょうは AIR
[Statedef 1014]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1155
sprpriority = 2
;velset = 0,0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.14)
ignorehitpause = 1
[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
trigger1 = hitpausetime <= 5
x = floor(enemy,gethitvar(hitcount)*-0.32)
ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 1238
ignorehitpause = 1
postype = p1
pos = 34,-100
ownpal = 1
sprpriority = 5
;bindtime = -1
;scale = 0.58 - (time*0.16),0.58 - (time*0.16);,const(size.yscale)
id = 123

[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 123
scale = 1.3 - (time*0.05),1.3 - (time*0.05);,const(size.yscale)
ignorehitpause = 1





[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 4
anim = 1238
postype = p1
pos = 8,-60
ownpal = 1
sprpriority = 5
;bindtime = -1
removetime = 10
scale = 0.7 - (time*0.05),0.7 - (time*0.05);,const(size.yscale)
id = 122

[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 122
scale = 0.7 - (time*0.05),0.7 - (time*0.05);,const(size.yscale)
ignorehitpause = 1


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 13
anim = 1238
ignorehitpause = 1
postype = p1
pos = 36,-120
ownpal = 1
sprpriority = 5
;bindtime = -1
;scale = 0.58 - (time*0.16),0.58 - (time*0.16);,const(size.yscale)
id = 124
[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 124
scale = 1.39 - (time*0.03),1.39 - (time*0.03);,const(size.yscale)
ignorehitpause = 1


[state 0,0]
type = velset
trigger1 = time <= 10
x = 0
y = 0

[state 0,0]
type = velset
trigger1 = time = 11
x = 2.3
y = -10
[state 0,0]
type = velset
trigger1 = time = 35
x = 0.62
[state 0,0]
type = veladd
trigger1 = time > 12
y = 0.45



[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 100 < 10
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 100 < 10
trigger1 = movehit
persistent = 0
v = 44
value = 10
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 5, 16
channel = 0

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = animelem = 3
trigger2 = animelem = 4
;persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,28,25), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,17,11)
guard.pausetime = 9, 13
sparkno = -1;S8000
sparkxy = -13, -83
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1,-9.2
air.velocity = 0,-6+(var(7)*0.25)
fall = 1
air.fall = 1
envshake.time = 12
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 99

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = animelem = 5
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,40,35), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,17,11)
guard.pausetime = 9, 13
sparkno = -1;S8000
sparkxy = -13, -83
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1,-10.6
air.velocity = 0,-9.7+(var(7)*0.26)
fall = 1
air.fall = 1
envshake.time = 12
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 99


[State 200, HitDef]
type = HitDef
triggerall = var(27) >= 1
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S, SA
damage = ifelse(var(39)=1,49,45), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,20,17)
guard.pausetime = 9, 14
sparkno = -1;S8000
sparkxy = -13, -80
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -5,-2+(var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 14
p2stateno = 8715

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 2
name = "hit"
pos = Ceil(P2Dist X/2-15), -90-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 3
name = "hit"
pos = Ceil(P2Dist X/2-15), -100-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state 0,0]
type = playsnd
trigger1 = animelemtime(2) = 2
value = 31, 2

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 17 
value = 1018
ctrl = 0


;---------------------------------------
;うじょうもうしょうは AIR 2
[Statedef 1019]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1155
sprpriority = 2
;velset = 0,0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.14)
ignorehitpause = 1
[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
trigger1 = hitpausetime <= 5
x = floor(enemy,gethitvar(hitcount)*-0.32)
ignorehitpause = 1


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 1238
ignorehitpause = 1
postype = p1
pos = 34,-100
ownpal = 1
sprpriority = 5
;bindtime = -1
;scale = 0.58 - (time*0.16),0.58 - (time*0.16);,const(size.yscale)
id = 123

[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 123
scale = 1.3 - (time*0.05),1.3 - (time*0.05);,const(size.yscale)
ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 4
anim = 1238
postype = p1
pos = 8,-60
ownpal = 1
sprpriority = 5
;bindtime = -1
removetime = 10
scale = 0.7 - (time*0.05),0.7 - (time*0.05);,const(size.yscale)
id = 122

[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 122
scale = 0.7 - (time*0.05),0.7 - (time*0.05);,const(size.yscale)
ignorehitpause = 1


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 13
anim = 1238
ignorehitpause = 1
postype = p1
pos = 36,-120
ownpal = 1
sprpriority = 5
;bindtime = -1
;scale = 0.58 - (time*0.16),0.58 - (time*0.16);,const(size.yscale)
id = 124
[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 124
scale = 1.39 - (time*0.03),1.39 - (time*0.03);,const(size.yscale)
ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time <= 10
x = 0
y = 0

[state 0,0]
type = velset
trigger1 = time = 11
x = 2.5
y = -11
[state 0,0]
type = velset
trigger1 = time = 35
x = 0.7
[state 0,0]
type = veladd
trigger1 = time > 12
y = 0.45



[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 100 < 10
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 100 < 10
trigger1 = movehit
persistent = 0
v = 44
value = 10
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 5, 16
channel = 0

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = animelem = 3
trigger2 = animelem = 4
;persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,28,25), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,17,11)
guard.pausetime = 9, 13
sparkno = -1;S8000
sparkxy = -13, -83
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1,-9.2
air.velocity = 0,-6+(var(7)*0.25)
fall = 1
air.fall = 1
envshake.time = 12
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 99

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = animelem = 5
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,40,35), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,17,11)
guard.pausetime = 9, 13
sparkno = -1;S8000
sparkxy = -13, -83
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1,-10.6
air.velocity = 0,-9.7+(var(7)*0.26)
fall = 1
air.fall = 1
envshake.time = 12
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 99


[State 200, HitDef]
type = HitDef
triggerall = var(27) >= 1
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S, SA
damage = ifelse(var(39)=1,49,45), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,20,17)
guard.pausetime = 9, 14
sparkno = -1;S8000
sparkxy = -13, -80
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -5,-2+(var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 14
p2stateno = 8715

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 2
name = "hit"
pos = Ceil(P2Dist X/2-15), -90-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 3
name = "hit"
pos = Ceil(P2Dist X/2-15), -100-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state 0,0]
type = playsnd
trigger1 = animelemtime(2) = 2
value = 31, 2

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 17 
value = 1018
ctrl = 0


;---------------------------------------
;うじょうもうしょうは Y'
[Statedef 1013]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1155
sprpriority = 2
;velset = 0,0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.14)
ignorehitpause = 1
[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
trigger1 = hitpausetime <= 5
x = floor(enemy,gethitvar(hitcount)*-0.32)
ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 1238
ignorehitpause = 1
postype = p1
pos = 34,-100
ownpal = 1
sprpriority = 5
;bindtime = -1
;scale = 0.58 - (time*0.16),0.58 - (time*0.16);,const(size.yscale)
id = 123

[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 123
scale = 1.3 - (time*0.05),1.3 - (time*0.05);,const(size.yscale)
ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 4
anim = 1238
postype = p1
pos = 8,-60
ownpal = 1
sprpriority = 5
;bindtime = -1
removetime = 10
scale = 0.7 - (time*0.05),0.7 - (time*0.05);,const(size.yscale)
id = 122

[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 122
scale = 0.7 - (time*0.05),0.7 - (time*0.05);,const(size.yscale)
ignorehitpause = 1


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 13
anim = 1238
ignorehitpause = 1
postype = p1
pos = 36,-120
ownpal = 1
sprpriority = 5
;bindtime = -1
;scale = 0.58 - (time*0.16),0.58 - (time*0.16);,const(size.yscale)
id = 124
[state 0, 0]
type = ModifyExplod
trigger1 = 1;time >= 11
id = 124
scale = 1.39 - (time*0.03),1.39 - (time*0.03);,const(size.yscale)
ignorehitpause = 1


[State 1200, 9]
type = StateTypeSet
trigger1 = time >= 12
statetype = A
physics = N
;ignorehitpause = 1
[State 1200, 9]
type = StateTypeSet
trigger1 = movehit
trigger1 = animelem = 5
statetype = S
physics = N
ignorehitpause = 1
[State 1200, 9]
type = StateTypeSet
trigger1 = animelem = 6
statetype = A
physics = N
ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time = 12
x = 2.5
y = -11
[state 0,0]
type = velset
trigger1 = time = 35
x = 0.7
[state 0,0]
type = veladd
trigger1 = time > 12
y = 0.45

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
trigger1 = animelem = 5
;trigger1 = var(44) % 100 < 10
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 100 < 10
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 100 < 10
trigger1 = movehit
persistent = 0
v = 44
value = 10
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 5, 16
channel = 0

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = animelem = 3
trigger2 = animelem = 4
;persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,28,25), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,17,11)
guard.pausetime = 9, 13
sparkno = -1;S8000
sparkxy = -13, -83
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1,-9.2
air.velocity = 0,-6+(var(7)*0.25)
fall = 1
air.fall = 1
envshake.time = 12
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 99

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = animelem = 5
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,40,35), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,17,11)
guard.pausetime = 9, 13
sparkno = -1;S8000
sparkxy = -13, -83
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -1,-10.6
air.velocity = 0,-9.7+(var(7)*0.26)
fall = 1
air.fall = 1
envshake.time = 12
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 99


[State 200, HitDef]
type = HitDef
triggerall = var(27) >= 1
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
attr = S, SA
damage = ifelse(var(39)=1,49,45), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 12, ifelse(var(37)=1,20,17)
guard.pausetime = 9, 14
sparkno = -1;S8000
sparkxy = -13, -80
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -5,-2+(var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 14
p2stateno = 8715


[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 2
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 3
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state 0,0]
type = playsnd
trigger1 = animelemtime(2) = 2
value = 31, 2

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 17 
value = 1018
ctrl = 0



;---------------------------------------
;てんはのかまえ
[Statedef 1020]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1157
sprpriority = 2
;velset = 0,0
poweradd = 65

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.11)
ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 4
anim = 1232
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 1
pausemovetime = 100
supermovetime =100
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)


[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = 3,6
[State 3000, effect]
type = Explod
trigger1 = time = 5
trigger2 = time = 15
trigger3 = time = 25
anim = 1233
random = 24,8
postype = p1
pos = 0,-80
velocity = 0,-1
ownpal = 1
sprpriority = 1
pausemovetime = 100
supermovetime =100
removeongethit = 1
scale = const(size.xscale)-(var(19)*0.09),const(size.yscale)



[state 0,0]
type = varadd
trigger1 = time = 0
var(48) = 3

[state 0,0]
type = varset
trigger1 = time >= 30
var(8) = 1

[state 0,0]
type = playsnd
trigger1 = time = 4
value = 31, 4

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 5, 15
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1



;---------------------------------------
;ひえいけん
[Statedef 1025]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1158
sprpriority = 2
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 90, 1

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.14)
ignorehitpause = 1
[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
trigger1 = hitpausetime <= 5
x = floor(enemy,gethitvar(hitcount)*-0.32)
ignorehitpause = 1


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 6
anim = 1236
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 4
bindtime = -1
removetime = 27
removeongethit = 1
scale = const(size.xscale),const(size.yscale)

[state 0,0]
type = velset
trigger1 = time = 3
x = 11
y = -9

[state 0,0]
type = velmul
trigger1 = time = [15,20]
x = 0.8
[state 0,0]
type = velset
trigger1 = time = 20
x = 0

[state 0,0]
type = veladd
trigger1 = time > 12
y = 0.45


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 10000 < 1000
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 10000 < 1000
trigger1 = movehit
persistent = 0
v = 44
value = 1000
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 3
value = 5, 14
channel = 0

[State 210, 3]
type = targetstate
trigger1 = movehit
trigger1 = var(37) = 1
trigger1 = hitpausetime >= 10
value = 8715
persistent = 0
ignorehitpause = 1
[state 0,0]
type = varset
trigger1 = movehit
trigger1 = var(37) = 1
trigger1 = hitpausetime >= 10
var(27) = 1
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
;triggerall = var(37) = 0
triggerall = var(27) = 0
trigger1 = time >= 3
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,78,75), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 12, ifelse(var(37)=1,17,12)
guard.pausetime = 9, 13
sparkno = -1;S8000
sparkxy = -13, -73
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -9,-6.8
air.velocity = -10,-6.5+(var(7)*0.25)
fall = 1
air.fall = 1
envshake.time = 12
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 50

[State 200, HitDef]
type = HitDef
triggerall = var(27) >= 1
trigger1 = time >= 2
trigger1 = !movecontact
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,79,75), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 12, ifelse(var(37)=1,20,17)
guard.pausetime = 9, 14
sparkno = -1;S8000
sparkxy = -13, -80
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -5,-2+(var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 14
p2stateno = 8715

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 2
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999



[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 5040
ctrl = 1



;---------------------------------------
;しちしきへいざん
[Statedef 1026]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1159
sprpriority = 2
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 90, 1

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.14)
ignorehitpause = 1
[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
trigger1 = hitpausetime <= 5
x = floor(enemy,gethitvar(hitcount)*-0.32)
ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time = 12
x = 10.8
y = 8.6

[state 0,0]
type = velset
trigger1 = movehit
x = 0
y = 0
ignorehitpause = 1
persistent = 0

[state 0,0]
type = veladd
trigger1 = time > 8
y = 0.45

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 12
anim = 1235
postype = p1
pos = 4,-10
ownpal = 1
sprpriority = 4
pausemovetime = 100
supermovetime =100
bindtime = -1
removetime = 300
removeongethit = 1
scale = const(size.xscale),const(size.yscale)
id = 1026


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 100000 < 10000
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 100000 < 10000
trigger1 = movehit
persistent = 0
v = 44
value = 10000
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 3
value = 5, 25
channel = 0

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = time >= 3
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,38,35), 3
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 12, ifelse(var(37)=1,47,32)
guard.pausetime = 9, 13
sparkno = -1;S8000
sparkxy = -13, -73
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -5
air.velocity = -5,-6.5+(var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 50
;p1stateno = 1027
;p2stateno = 1028

[State 200, HitDef]
type = HitDef
triggerall = var(27) >= 1
trigger1 = time >= 2
trigger1 = !movecontact
persistent = 0
attr = S, SA
damage = ifelse(var(39)=1,39,35), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 12, ifelse(var(37)=1,20,17)
guard.pausetime = 9, 14
sparkno = -1;S8000
sparkxy = -13, -80
hitsound = S101, 3
guardsound = S0, 0
ground.type = high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -4,-4+(var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 14
p2stateno = 8715


[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[State 210, 3]
type = ChangeState
trigger1 = movehit
;trigger1 = enemy,statetype = S || enemy,statetype = C
trigger1 = hitpausetime >= 10
value = 1027
ctrl = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 1028
ctrl = 0

;---------------------------------------
;しちしきへいざん2
[Statedef 1027]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1161
sprpriority = 2
velset = 0,0

[state 0,0]
type = removeexplod
trigger1 = 1
id = 1026

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.14)
ignorehitpause = 1
[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = movehit
trigger1 = hitpausetime <= 5
x = floor(enemy,gethitvar(hitcount)*-0.32)
ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time = 9
x = -1.5
y = -2.5
ignorehitpause = 1

[state 0,0]
type = veladd
trigger1 = time > 8
y = 0.45

[state 0,0]
type = posadd
trigger1 = movehit
trigger1 = Numhelper(2990) != 0
y = 4


[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1

[State 200, HitDef]
type = HitDef
triggerall = var(27) = 0
trigger1 = time >= 3
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,28,25), 9
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 12, ifelse(var(37)=1,27,20)
guard.pausetime = 9, 13
sparkno = -1;S8000
sparkxy = 3, -66
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 22
ground.hittime  = 22
ground.velocity = -6,-4
air.velocity = -6,-3.5+(var(7)*0.58)
fall = 1
air.fall = 1
envshake.time = 12
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = 50

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -66-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[State 210, 3]
type = Changeanim
trigger1 = anim != 44
trigger1 = animtime = 0
value = 44

;---------------------------------------
; 着地
[Statedef 1028]
type    = C
movetype= I
physics = C
ctrl = 0
anim = 1160
sprpriority = 1
velset = 0,0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.12)
ignorehitpause = 1

[state 0,0]
type = removeexplod
trigger1 = 1
id = 1026

[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(5) = 0

[State 210, 3]
type = posset
trigger1 = time >= 0
y = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 12
ctrl = 1



;---------------------------------------
;とうき陶器
[Statedef 1030]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1243
sprpriority = 2
;velset = 0,0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.14)
ignorehitpause = 1


[state 0,0]
type = playsnd
trigger1 = time = 6
value = 100, 3


[state 0,0]
type = playsnd
trigger1 = time = 3
value = 5, 40
channel = 0


[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


[State 0, 0]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "touki"
ID = 1031
stateno = 1031
postype = p1
pos = 30,-87
keyctrl = 0
ownpal = 1


;---------------------------------------
;陶器 本体
[Statedef 1031]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1241
sprpriority = 2
velset = 4.2,0

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = movehit
trigger1 = parent,var(8) > 0
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = movehit
trigger1 = parent,var(8) > 0
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(37) >= 1
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1


[State 200, HitDef]
type = HitDef
triggerall = parent,var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = S, SP
damage = 68, 4
getpower = 42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 1, 14
guard.pausetime = 4, 10
sparkno = -1;S8000
sparkxy = -13, -10
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -5,-4+(parent,var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(parent,var(7)>=25,(parent,var(7)*-0.25),-4.5)
fall.recovertime = 14
[State 200, HitDef]
type = HitDef
triggerall = parent,var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = S, SP
damage = 68, 4
getpower = ifelse(var(50)=0,120,0),42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 1, ifelse(parent,var(37)=1,20,12)
guard.pausetime = 4, 12
sparkno = -1;S8000
sparkxy = -13, -6
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -5,-4+(var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(parent,var(7)>=25,(parent,var(7)*-0.25),-4.5)
fall.recovertime = 14
p2stateno = 8715


[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -6-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999


[State 210, 3]
type = ChangeState
trigger1 = time = 20
trigger2 = movecontact
value = 1032
ignorehitpause = 1

[State 210, 3]
type = ChangeState
triggerall = enemy,authorname = "Drowin hokuto"
trigger1 = enemy,fvar(35) > 0
value = 1033
ignorehitpause = 1

;---------------------------------------
;陶器 本体
[Statedef 1032]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = 2
velset = 4.2,0

[State 3000, effect]
type = Explod
trigger1 = time >= 0
anim = 1242
postype = p1
pos = 0,0
ownpal = 0
sprpriority = 4
pausemovetime = 100
supermovetime =100
bindtime = -1
removeongethit = 1
scale = 0.5,0.5;const(size.xscale),const(size.yscale)

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 1
mul = 255 - (time*25),255 - (time*25),255 - (time*25)

[state 0,0]
type = destroyself
trigger1 = time = 10


;---------------------------------------
;陶器 本体
[Statedef 1033]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1241
sprpriority = 2
velset = 4.2,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1


[State 200, HitDef]
type = HitDef
;triggerall = parent,var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = S, SP
damage = 68, 4
getpower = 42
givepower = 94,37
animtype = heavy
guardflag = MA
hitflag = MAF
affectteam = F
priority = 5, Hit
pausetime = 1, 14
guard.pausetime = 4, 10
sparkno = 2;S8000
sparkxy = -13, -10
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4.2,0
air.velocity = -5,-4+(parent,var(7)*0.25)
air.fall = 1
envshake.time = 12
envshake.ampl = 3
fall.yvelocity = ifelse(parent,var(7)>=25,(parent,var(7)*-0.25),-4.5)
fall.recovertime = 14


[State 210, 3]
type = ChangeState
trigger1 = time = 20
trigger2 = movecontact
value = 1032
ignorehitpause = 1







;---------------------------------------------------------------------------
;AI ;壁コン中
[Statedef 1009]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 0;1051;7507
sprpriority = 2
velset = 0,0


[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(5) = 0

[state 0,0]
type = posset
trigger1 = time <= 1
y = 0

[State 210, 3]
type = Changeanim
trigger1 = animtime = 0
trigger1 = anim != 0
value = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 19
trigger2 = time >= 2
trigger2 = enemy,movetype != H
trigger3 = enemy,life = 0
value = 0
ctrl = 1

[State -1]
type = ChangeState
value = 8800
triggerall = p2dist y = [-100,-64]
triggerall = p2dist x = [0,65]
trigger1 = var(41) = 2
trigger1 = var(59) = 1
trigger1 = var(24) = 7
trigger1 = enemy,life >= 90 || life < 200

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 2
trigger1 = var(27) = 0
trigger1 = var(7) >= 1
trigger1 = p2dist y = [-75,-10]
trigger1 = random >= 60
value = 8226



[State 200, AI];壁コン
type = ChangeState
trigger1 = var(59) = 1
trigger1 = p2dist y = [-90,-42]
trigger1 = var(27) >= 1
trigger1 = enemy,gethitvar(hitcount) <= 9
trigger1 = p2dist x <= 30
trigger1 = random >= 100
value = 1000
[State 200, AI];壁コン
type = ChangeState
trigger1 = var(59) = 1
trigger1 = p2dist y >= -50
trigger1 = var(27) >= 1
trigger1 = enemy,gethitvar(hitcount) <= 9
trigger1 = p2dist x <= 30
trigger1 = random >= 700
value = 8226
[State 200, AI];壁コン
type = ChangeState
trigger1 = var(59) = 1
trigger1 = p2dist y >= -50
trigger1 = var(27) >= 1
trigger1 = enemy,gethitvar(hitcount) <= 9
trigger1 = p2dist x > 30
trigger1 = random >= 400
value = 8228
[State 200, AI];壁コン
type = ChangeState
trigger1 = var(59) = 1
;trigger1 = var(27) >= 1
trigger1 = power >= 1000
trigger1 = enemy,gethitvar(hitcount) >= 10 || var(7) >= 4 || p2dist x >= 50
value = 2000

[state 0,0]
type = turn
trigger1 = p2dist x < 0
persistent = 5


















;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
; とうけいこほう
[Statedef 1020]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1063
sprpriority = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 5, 14
channel = 0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.19)
ignorehitpause = 1

[state 0,hithitcount]
type = varadd
trigger1 = movehit
fv = 7
value = 0.9
persistent = 0
ignorehitpause = 1

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.96
persistent = 0

[State 0, 0]
type = Helper
trigger1 = time = 9
helpertype = normal
name = "houkei"
ID = 1021
stateno = 1021
postype = p1
pos = 8,5
keyctrl = 0
ownpal = 1


[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


; とうけいこほう---------------------
[Statedef 1021]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1064
sprpriority = 2
velset = 4.3,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 90, 0

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(37) >= 1
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = parentvaradd
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 100 < 10
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 100 < 10
trigger1 = movehit
persistent = 0
v = 44
value = 10


[state 0,0]
type = envshake
trigger1 = time = 0
time = 10
ampl = 3

[state 0,4]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, SP
damage = 68, 5
getpower = 60,20;ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,160)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,40))
givepower = 20,15
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, Hit
pausetime = 1, 15
sparkno = 3;S8000
sparkxy = -6, -8
hitsound = S101, 3
guardsound = S0, 0
ground.type = low;trip
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -2.6
air.velocity = -2.5,-1.3;+(var(7)*0.6)
air.fall = 1
down.velocity = -3,-0.2
guard.velocity = -2.2
envshake.time = 15
envshake.ampl = 2
;fall.yvelocity = -4.8
fall.recovertime = 15

[State 210, 3]
type = destroyself
trigger1 = frontedgedist <= -15
trigger2 = movecontact




;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
; 対飛び道具当て身
[Statedef 1030]
type    = S
movetype= I
physics = S
ctrl = 0
;anim = 1065
sprpriority = -1

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 90, 5

[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = prevstateno != 1033
value = 1065

[State 0, 0]
type = Helper
trigger1 = prevstateno != 1033
trigger1 = time = 1
helpertype = normal
name = "mirror"
ID = 1032
stateno = 1032
postype = p1
pos = 20,-75
keyctrl = 0
ownpal = 1

[State 3000, effect]
type = Explod
trigger1 = prevstateno != 1033
trigger1 = time = [1,10]
anim = 1148
postype = p1
pos = 20,-70
ownpal = 1
sprpriority = 5
pausemovetime = 1
supermovetime =1
bindtime = -1
removeongethit = 1
scale = 0.75+time*0.05,0.75+time*0.05
removetime = 1

[state 0,0]
type = reversaldef
trigger1 = time <= 52
Reversal.Attr = SCA,NP,SP,HP
pausetime = 1,16
hitsound = -1
numhits = 0
sparkno = -1
sparkxy = 0,0
p1stateno = 1031

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = 1
value = SCA,AP
time = 1
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = 1
value = SCA,AA,AT
time = 1

[State -2, shild]
type = HitOverride
;triggerall = movecontact = 0
trigger1 = 1;prevstateno != 1051
time = 1
attr = SCA, NA,SA,HA
stateno = 1033
IgnoreHitPause = 1


[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 対飛び道具当て身 hit
[Statedef 1031]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1066
sprpriority = -1

[state 2, critical]
type = palfx
trigger1 = time >= 1
time = 1
mul = 200,200,200
add = 20+time,80+(time*2),30+time

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = 1
value = SCA
time = 25

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;helper---------------------
[Statedef 1032]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1068
sprpriority = 0
velset = 0,0

[state 0,0]
type = trans
trigger1 = 1
Trans = Add

[state 0,0]
type = angleadd
trigger1 = time >= 0
value = 1
[state 0,0]
type = angledraw
trigger1 = time >= 0

[state 0,4]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = destroyself
trigger1 = time >= 1
trigger1 = parent,stateno != 1030

;---------------------------------------------------------------
;ハイパーアーマー
[Statedef 1033]
type = U
movetype = H
physics = U
ctrl = 0

[state 2, critical]
type = palfx
trigger1 = 1;time = 1
time = 10
add = 60,0,0


[state 0,0]
type = lifeadd
trigger1 = time = 0
value = floor(gethitvar(damage) * -0.8)

[State 2000, 1]
type = ChangeState
trigger1 = 1;time >= (gethitvar(Hittime)*0.5)
value = 1030
ctrl = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = life = 0
;trigger2 = animtime = 0
value = 5050
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = prevstateno != 1030
trigger2 = animtime = 0
value = 0
ctrl = 1





;---------------------------------------------------------------------------
;  てんしょーひゃくれつけｎ
[Statedef 1040]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1069
sprpriority = 2
velset = 0,0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = fvar(31) > 0
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 10 = 0
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 10 = 0
trigger1 = movehit
persistent = 0
v = 44
value = 10

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.09)
ignorehitpause = 1
[state 0,0]
type = posadd
trigger1 = var(27) >= 1
trigger1 = movehit
trigger1 = hitpausetime <= 3
trigger1 = hitpausetime <= 3
x = ceil(enemy,gethitvar(hitcount)*-0.22)
ignorehitpause = 1

[state 0,0]
type = veladd
trigger1 = anim = 5040
y = 0.45

[state 0,0]
type = playsnd
trigger1 = time = 3
value = 5, 23
channel = 0

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.35
persistent = 0

[state 0,0]
type = changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "236_x"
value = 1012
ctrl = 0

[State 200, HitDef]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
persistent = 1
attr = A, SA
damage = 38, 4
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,130)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,50))
givepower = 73,19
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 9, 9
guard.pausetime = 9, 8
sparkno = 2;S8000
sparkxy = -5+(random%10), -44+(random%10)
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1,-3
air.velocity = 0,-3.7+(var(7)*0.36)
fall = 1
air.fall = 1
envshake.time = 15
envshake.ampl = 2
fall.recovertime = 35

[State 0, 0]
type = Explod
trigger1 = time = 27
postype = p1
pos = 10,20
anim = 1145
scale = 0.5,0.5
ownpal = 1
sprpriority = 4
bindtime = -1
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 23
persistent = 0
attr = A, SA
damage = 40, 4
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,130)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,50))
givepower = 73,19
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 12, 15
guard.pausetime = 10, 8
sparkno = 2;S8000
sparkxy = -5+(random%10), -40+(random%10)
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -1,3
air.velocity = -1,-4.2+(var(7)*0.5)
fall = 1
air.fall = 1
envshake.time = 15
envshake.ampl = 2
fall.recovertime = 30

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = random >= 100
trigger1 = movecontact
trigger1 = var(7) = [5,9]
trigger1 = enemy,life >= 60
;trigger1 = enemy,gethitvar(hitcount) = [7,10]
value = 1012



;りゅうげきこ　当て身 地上・対地対空---------------------------------------
[Statedef 1050]
type    = S
movetype= I
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 1162
sprpriority = 1
velset = 0,0

[State 2, shild]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NP, SP, HP
stateno = 1052
IgnoreHitPause = 1
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AP
time = 2

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 32, 16

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 5, 39
channel = 0

[state 0,0]
type = reversaldef
trigger1 = time = [4,29];enemy,movetype = A
Reversal.Attr = SA, NA,SA
pausetime = 30,40;28,30
hitsound = S5,12
numhits = 0
sparkno = -1;S7109
sparkxy = 20,-30
p1stateno = 1051
persistent = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;当て身 地上・対地対空--成功-------------------------------------
[Statedef 1051]
type    = S
movetype= A
physics = S
poweradd= 100
ctrl = 0
anim = 1163
sprpriority = 1


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = time <= 3
value = SCA
time = 12


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 0
anim = 7444
postype = p1
pos = 0,ifelse(prevstateno = 1180,0,14)
ownpal = 1
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
removeongethit = 1


[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 2, 34


[state 0,0]
type = pause
trigger1 = time = 1
time = 10
movetime = 10

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 1
attr = S, SA
damage = 70, 6
getpower = ifelse(var(50)=0,140,0),13
givepower = 20,8
animtype = heavy
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 10, 7
sparkno = -1;S8004
sparkxy = -5, 0
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0,-6.9
guard.velocity = -5
fall = 1
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
p2stateno = 8715
envshake.time = 15
envshake.ampl = 2

[state a];ヒットエフェクト
type = Helper
trigger1 = UniqHitCount = 1 
name = "hit"
pos = Ceil(P2Dist X/2-15), -80-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[state 0,0]
type = varset
triggerall = var(41) != 0
trigger1 = movehit
trigger1 = var(25) <= 1
v = 27
value = 1;ifelse(var(27) = 0,1,0)
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time >= 10
trigger2 = Numhelper(2990) >= 1
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; toび道具当て身 hit
[Statedef 1052]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1164
sprpriority = 1

[state 2, critical]
type = palfx
trigger1 = time >= 1
time = 1
mul = 200,200,200
add = 120+time,180+(time),130+time

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 5, 12
channel = 0

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 1
value = SCA
time = 5
[state 0,0]
type = varset
trigger1 = time = 0
fv = 35
value = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1



;当て身 地上・対下段---------------------------------------
[Statedef 1052]
type    = C
movetype= I
physics = C
juggle  = 3
poweradd= 0
ctrl = 0
anim = 1072
sprpriority = 1
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 6, 10
channel = 0

[state 0,0]
type = reversaldef
trigger1 = time <= 18;enemy,movetype = A
Reversal.Attr = C, NA,SA
pausetime = 2,45;28,30
hitsound = S90,2
numhits = 0
sparkno = -1;S7109
sparkxy = 20,-30
p1stateno = 1053
persistent = 0


[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;当て身 地上・対下段--成功-------------------------------------
[Statedef 1053]
type    = C
movetype= A
physics = S
poweradd= 100
ctrl = 0
anim = 1073
sprpriority = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = fvar(31) > 0
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = fvar(31) > 0
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 5, 30
channel = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = time <= 35
value = SCA
time = 2


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 0
anim = 7444
postype = p1
pos = 0,ifelse(prevstateno = 1180,0,14)
ownpal = 1
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
removeongethit = 1


[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 2, 34

[state 0,0]
type = pause
trigger1 = time = 1
time = 10
movetime = 10

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 1
attr = S, SA
damage = 70, 6
getpower = ifelse(var(50)=0,48,0),13
givepower = 22,8
animtype = heavy
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 10, 7
sparkno = 0;S8004
sparkxy = -5, 0
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 22
ground.hittime  = 14
ground.velocity = -10,-8
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
envshake.time = 15
envshake.ampl = 2



[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 60, 6

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1





;当て身 AIR---------------------------------------
[Statedef 1055]
type    = A
movetype= I
physics = A
juggle  = 3
poweradd= 0
ctrl = 0
anim = 1074
sprpriority = 1

[state 0,0]
type = reversaldef
trigger1 = time >= 1;enemy,movetype = A
Reversal.Attr = SCA, NA,SA
pausetime = 2,45;28,30
hitsound = S90,2
numhits = 0
sparkno = -1;S7109
sparkxy = 20,-30
p1stateno = 1056
persistent = 0

[State 210, 3]
type = ChangeState
trigger1 = Time = 20
value = 5040
ctrl = 1


;当て身 AIR-成功-------------------------------------
[Statedef 1056]
type    = A
movetype= A
physics = A
poweradd= 100
ctrl = 0
anim = 1075
sprpriority = 1
velset = 0,0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = fvar(31) > 0
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = fvar(31) > 0
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 5, 25
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = time = 0
trigger1 = random >=500
value = 5, 27
channel = 0

[state 0,0]
type = velset
trigger1 = time <= 37
x = 0
y = 0

[state 0,0]
type = velset
trigger1 = time = 38
y = -2

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = time <= 35
value = SCA
time = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 2, 34

[state 0,0]
type = pause
trigger1 = time = 1
time = 10
movetime = 10

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = animelem = 2
attr = A, SA
damage = 30, 6
getpower = ifelse(var(50)=0,24,0),13
givepower = 22,8
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 10
sparkno = 0;S8004
sparkxy = -5, 0
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -1,2
fall = 1
air.fall = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
envshake.time = 15
envshake.ampl = 2

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = animelem = 4
attr = A, SA
damage = 40, 6
getpower = ifelse(var(50)=0,40,0),13
givepower = 35,8
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 13, 3
sparkno = 0;S8004
sparkxy = -5, 0
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -10,-5
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
envshake.time = 15
envshake.ampl = 2
p2stateno = 8715

[state 0,0]
type = varset
triggerall = var(41) != 0
trigger1 = movehit
trigger1 = var(25) <= 1
v = 27
value = 1;ifelse(var(27) = 0,1,0)
persistent = 0
ignorehitpause = 1

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 60, 6

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "236_x"
value = 1012
ctrl = 0





































;---------------------------------------------------------------------------
; Jump Land
[Statedef 1021]
type    = S
physics = S
ctrl = 0
anim = 1003

[state 0,0]
type = envshake
triggerall = prevstateno = [1020,1029]
trigger1 = time = 0
time = 10
ampe = 3
[state 0,0]
type = playsnd
triggerall = prevstateno = [1020,1029]
trigger1 = time = 0
value = 300, 7

[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(5) = 0

[state 0,0]
type = changestate
trigger1 = life = 0
value = 5050
ctrl = 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 210, 3]
type = ChangeState
triggerall = prevstateno = [1020,1029]
trigger1 = command = "holdfwd"
trigger1 = command = "x" || command = "y" || command = "z"
value = 1002
[State 210, 3]
type = ChangeState
triggerall = prevstateno = [1020,1029]
trigger1 = command = "holdback"
trigger1 = command = "x" || command = "y" || command = "z"
value = 1003



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;  れんかんたい
[Statedef 1030]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7409;1
sprpriority = 2
velset = 1,-2

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 2
value = 11, 5
channel = 0

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.95
persistent = 0

[State 0, 0]
type = Explod
trigger1 = prevstateno != 7040
trigger1 = anim != 5040
trigger1 = animelemtime(3) = 1
postype = p1
pos = 0,0
anim = 1013
;scale = 0.5,0.5
ownpal = 1
keyctrl = 0
sprpriority = 4
bindtime = -1
ignorehitpause = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = velset
triggerall = prevstateno != 7040
triggerall = anim != 5040
trigger1 = time <= 8
x = 1.2
y = -5
[state 0,0]
type = veladd
trigger1 = time >= 9
trigger2 = anim = 5040
y = 0.45

[state 0,0]
type = poweradd
trigger1 = time = 0
trigger1 = var(41) = 3
trigger1 = var(33) != 10
value = 50

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 1011
[state 0,0]
type = changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = time >= 2
trigger1 = pos y >= 0
value = 1021
ctrl = 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SA
damage = 45, 3
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,130)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,50))
givepower = 73,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 12, 12
guard.pausetime = 10, 10
sparkno = 2;S8000
sparkxy = -14, -50
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2,-8
air.velocity = -2,-8.5;+(var(7)*0.6)
fall = 1
air.fall = 1
down.velocity = -2,-0.1
guard.velocity = -2.2
envshake.time = 15
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = ifelse(fvar(7)>=34,1,34- floor(fvar(7)))
guard.kill = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "236_x" || command = "236_y" || command = "236_z"
value = 1035
ctrl = 0

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = movehit
trigger1 = random >= 30
value = 1035

;---------------------------------------------------------------------------
;  れんかんたいb
[Statedef 1031]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7409;1
sprpriority = 2
velset = 1,-2

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 2
value = 11, 5
channel = 0

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.95
persistent = 0

[State 0, 0]
type = Explod
trigger1 = prevstateno != 7040
trigger1 = anim != 5040
trigger1 = animelemtime(2) = 1
postype = p1
pos = 0,0
anim = 1013
;scale = 0.5,0.5
ownpal = 1
keyctrl = 0
sprpriority = 4
bindtime = -1
ignorehitpause = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = velset
triggerall = prevstateno != 7040
triggerall = anim != 5040
trigger1 = time <= 8
x = 1.6
y = -6
[state 0,0]
type = veladd
trigger1 = time >= 9
trigger2 = anim = 5040
y = 0.45

[state 0,0]
type = poweradd
trigger1 = time = 0
trigger1 = var(41) = 3
trigger1 = var(33) != 10
value = 50

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 1011
[state 0,0]
type = changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = time >= 2
trigger1 = pos y >= 0
value = 1021
ctrl = 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SA
damage = 45, 4
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,130)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,50))
givepower = 73,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12, 12
guard.pausetime = 10, 10
sparkno = 2;S8000
sparkxy = -14, -50
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2,-9
air.velocity = -2,-9;+(var(7)*0.6)
fall = 1
air.fall = 1
down.velocity = -2,-0.1
guard.velocity = -2.2
envshake.time = 15
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = ifelse(fvar(7)>=34,1,34- floor(fvar(7)))
guard.kill = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "236_x" || command = "236_y" || command = "236_z"
value = 1035
ctrl = 0

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = movehit
trigger1 = random >= 30
value = 1035

;---------------------------------------------------------------------------
;  れんかんたいc
[Statedef 1032]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7409;1
sprpriority = 2
velset = 1,-2

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 2
value = 11, 5
channel = 0

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = fvar(5) * 0.95
persistent = 0

[State 0, 0]
type = Explod
trigger1 = prevstateno != 7040
trigger1 = anim != 5040
trigger1 = animelemtime(3) = 1
postype = p1
pos = 0,0
anim = 1013
;scale = 0.5,0.5
ownpal = 1
keyctrl = 0
sprpriority = 4
bindtime = -1
ignorehitpause = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = velset
triggerall = prevstateno != 7040
triggerall = anim != 5040
trigger1 = time <= 8
x = 1.7
y = -7
[state 0,0]
type = veladd
trigger1 = time >= 9
trigger2 = anim = 5040
y = 0.45

[state 0,0]
type = poweradd
trigger1 = time = 0
trigger1 = var(41) = 3
trigger1 = var(33) != 10
value = 50

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 1011
[state 0,0]
type = changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = time >= 2
trigger1 = pos y >= 0
value = 1021
ctrl = 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SA
damage = 45, 5
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,130)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,50))
givepower = 73,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12, 12
guard.pausetime = 10, 10
sparkno = 2;S8000
sparkxy = -14, -50
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2,-11
air.velocity = -2,-11;+(var(7)*0.6)
fall = 1
air.fall = 1
down.velocity = -2,-0.1
guard.velocity = -2.2
envshake.time = 15
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = ifelse(fvar(7)>=34,1,34- floor(fvar(7)))
guard.kill = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "236_x" || command = "236_y" || command = "236_z"
value = 1035
ctrl = 0

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = movehit
trigger1 = random >= 30
value = 1035

;---------------------------------------------------------------------------
;  れんかんたい 追加A
[Statedef 1035]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7409;1
sprpriority = 2
velset = 1,-2

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 2
value = 11, 10
channel = 0

[State 0, 0]
type = Explod
trigger1 = prevstateno != 7040
trigger1 = anim != 5040
trigger1 = animelemtime(2) = 1
postype = p1
pos = 0,10
anim = 1014
;scale = 0.5,0.5
ownpal = 1
keyctrl = 0
sprpriority = 4
bindtime = -1
ignorehitpause = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = velset
triggerall = prevstateno != 7040
triggerall = anim != 5040
trigger1 = time <= 8
x = 1.2
y = -5.8
[state 0,0]
type = veladd
trigger1 = time >= 9
trigger2 = anim = 5040
y = 0.45

[state 0,0]
type = poweradd
trigger1 = time = 0
trigger1 = var(41) = 3
trigger1 = var(33) != 10
value = 50

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 1012
[state 0,0]
type = changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 210, 3]
type = ChangeState
trigger1 = time >= 2
trigger1 = pos y >= 0
value = 1021
ctrl = 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SA
damage = 48, 8
getpower = ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,130)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,50))
givepower = 73,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12, 12
guard.pausetime = 10, 10
sparkno = 3;S8000
sparkxy = -16, -50
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -2,-9.5
air.velocity = -2,-9.5;+(var(7)*0.6)
fall = 1
air.fall = 1
down.velocity = -2,-0.1
guard.velocity = -2.2
envshake.time = 15
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = ifelse(fvar(7)>=34,1,34- floor(fvar(7)))
guard.kill = 0

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 6
trigger1 = movehit
trigger1 = random >= 430
trigger1 = power >= 1100
value = 1036

;---------------------------------------------------------------------------
;  れんかんたい AB
[Statedef 1036]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7409;1
sprpriority = 2
velset = 1,-2

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 1
value = 12, 26
channel = 0

[state 0,0]
type = playsnd
trigger1 = prevstateno != 7040
trigger1 = time = 56
value = 11, 15
channel = 0

[state 0,reverse]
type = varset
trigger1 = movehit
fvar(5) = 0.8
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time <= 65
value = SCA
time = 2

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 55
movetime = 55
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
;triggerall = var(41) = 1
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1996
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1994;9
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5


[State 0, 0]
type = Explod
trigger1 = prevstateno != 7040
trigger1 = anim != 5040
trigger1 = animelemtime(3) = 1
postype = p1
pos = 0,0
anim = 1013
;scale = 0.5,0.5
ownpal = 1
keyctrl = 0
sprpriority = 4
bindtime = -1
ignorehitpause = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Explod
trigger1 = prevstateno != 7040
trigger1 = anim != 5040
trigger1 = animelemtime(6) = 1
postype = p1
pos = 0,10
anim = 1014
;scale = 0.5,0.5
ownpal = 1
keyctrl = 0
sprpriority = 4
bindtime = -1
ignorehitpause = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = velset
triggerall = prevstateno != 7040
triggerall = anim != 5040
trigger1 = time <= 2
x = 0
y = 0
[state 0,0]
type = velset
triggerall = prevstateno != 7040
triggerall = anim != 5040
trigger1 = time = [55,70]
x = 1
y = -2.8
[state 0,0]
type = veladd
trigger1 = time >= 82
trigger2 = anim = 5040
y = 0.45

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 1015
[state 0,0]
type = changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 210, 3]
type = ChangeState
triggerall = anim = 5040
trigger1 = pos y >= 0
value = 1021
ctrl = 0

[State 200, HitDef]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 4
persistent = 0
attr = A, HA
damage = 90, 7
getpower = 0;ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,130)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,50))
givepower = 42,13
animtype = heavy
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 12
guard.pausetime = 10, 10
sparkno = 2;S8000
sparkxy = -16, -40
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1,-7
air.velocity = -1,-7;+(var(7)*0.6)
fall = 1
air.fall = 1
down.velocity = -2,-0.1
guard.velocity = -2.2
envshake.time = 15
envshake.ampl = 2
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = ifelse(fvar(7)>=68,1,68- floor(fvar(7)))
guard.kill = 0

[State 200, HitDef]
type = HitDef
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
trigger4 = animelem = 9
persistent = 0
attr = A, HA
damage = 150, 12
getpower = 0;ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,130)),ifelse(fvar(12)=0.1,0,ifelse(var(33) = 10,0,50))
givepower = 82,33
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 27, 26
guard.pausetime = 15, 12
sparkno = 3;S8000
sparkxy = -15, -46
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 30
ground.hittime  = 28
ground.velocity = -2,-16
air.velocity = -2,-16;+(var(7)*0.6)
fall = 1
air.fall = 1
down.velocity = -2,-0.1
guard.velocity = -3.2
envshake.time = 20
envshake.ampl = 3
fall.yvelocity = ifelse(var(7)>=5,(var(7)*-0.25)-4.5,-4.5);25,(var(7)*-0.25),-4.5)
fall.recovertime = ifelse(fvar(7)>=98,1,98- floor(fvar(7)))
guard.kill = 0





;---------------------------------------------------------------------------
;　身代わりの術A
[Statedef 1040]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1017
sprpriority = 1
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = animelemtime(1) = 1
value = 12, 2
channel = 0

[state 0,0]
type = reversaldef
;trigger1 = enemy,movetype = A
trigger1 = time <= 10
Reversal.Attr = SCA,NA,SA,NP,SP
pausetime = 1,12
hitsound = S31,4
numhits = 0
sparkno = -1
sparkxy = 30,2
persistent = 0
p1stateno = 1045
[state 0,0]
type = reversaldef
trigger1 = enemy,authorname = "Toma"
trigger1 = time <= 10
Reversal.Attr = SCA,NA,SA,HA,NP,SP,HP
pausetime = 1,12
hitsound = S31,4
numhits = 0
sparkno = -1
sparkxy = 30,2
persistent = 0
p1stateno = 1045

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;　身代わりの術B
[Statedef 1041]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1017
sprpriority = 1
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = animelemtime(1) = 1
value = 12, 2
channel = 0

[state 0,0]
type = reversaldef
;trigger1 = enemy,movetype = A
trigger1 = time <= 10
Reversal.Attr = SCA,NA,SA,NP,SP
pausetime = 1,12
hitsound = S31,4
numhits = 0
sparkno = -1
sparkxy = 30,2
persistent = 0
p1stateno = 1046
[state 0,0]
type = reversaldef
trigger1 = enemy,authorname = "Toma"
trigger1 = time <= 10
Reversal.Attr = SCA,NA,SA,HA,NP,SP,HP
pausetime = 1,12
hitsound = S31,4
numhits = 0
sparkno = -1
sparkxy = 30,2
persistent = 0
p1stateno = 1046

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;　身代わりの術C
[Statedef 1042]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1017
sprpriority = 1
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = animelemtime(1) = 1
value = 12, 2
channel = 0

[state 0,0]
type = reversaldef
trigger1 = time <= 10
Reversal.Attr = SCA,NA,SA,NP,SP
pausetime = 1,12
hitsound = S31,4
numhits = 0
sparkno = -1
sparkxy = 30,2
persistent = 0
p1stateno = 1047
[state 0,0]
type = reversaldef
trigger1 = enemy,authorname = "Toma"
trigger1 = time <= 10
Reversal.Attr = SCA,NA,SA,HA,NP,SP,HP
pausetime = 1,12
hitsound = S31,4
numhits = 0
sparkno = -1
sparkxy = 30,2
persistent = 0
p1stateno = 1047

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1






;---------------------------------------------------------------------------
;服
[Statedef 1044]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1019
sprpriority = 4
velset = -1,-1.2

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 2, l]
type = palfx
trigger1 = time >= 55
time = 1
mul = 500 - (time*5),500 - (time*5),500 - (time*5)

[state 0,0]
type = veladd
trigger1 = time >= 1
y = 0.1

[state 0,0]
type = destroyself
trigger1 = time = 100

[state 0,0]
type = changeanim
trigger1 = time = 55
value = 1020



;---------------------------------------------------------------------------
;　身代わりの術hit A
[Statedef 1045]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1018
sprpriority = 2
velset = 0,0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 5

[State 1000, huku]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "huku"
pos = -5,40
postype = p1
stateno = 1044
ownpal = 1
id = 1044
pausemovetime = 999
keyctrl = 0

[state 0,0]
type = varrandom
trigger1 = time = 0
v = 19
range = 0,4
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 0
trigger1 = time = 1
value = 12, 25
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 1
trigger1 = time = 1
value = 12, 29
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 2
trigger1 = time = 1
value = 12, 28
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 3
trigger1 = time = 1
value = 12, 30
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 4
trigger1 = time = 1
value = 12, 31
channel = 0
ignorehitpause = 1


[state 0,0]
type = posadd
trigger1 = time = 1
x = floor(p2dist x) - 25

[state 0,0]
type = ctrlset
trigger1 = time >= 4
value = 1

[state 0,0]
type = assertspecial
trigger1 = time <= 2
flag = invisible

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;　身代わりの術hit B
[Statedef 1046]
type    = A
movetype= I
physics = A
ctrl = 0
anim = 5040
sprpriority = 2
velset = 0,0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 6

[state 0,0]
type = velset
trigger1 = time <= 4
x = 0
y = 0

[State 1000, huku]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "huku"
pos = -5,40
postype = p1
stateno = 1044
ownpal = 1
id = 1044
pausemovetime = 999
keyctrl = 0

[state 0,0]
type = varrandom
trigger1 = time = 0
v = 19
range = 0,4
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 0
trigger1 = time = 1
value = 12, 25
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 1
trigger1 = time = 1
value = 12, 29
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 2
trigger1 = time = 1
value = 12, 28
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 3
trigger1 = time = 1
value = 12, 30
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 4
trigger1 = time = 1
value = 12, 31
channel = 0
ignorehitpause = 1


[state 0,0]
type = posadd
trigger1 = time = 1
x = floor(p2dist x) - 20
y = floor(p2dist y) - 80

[state 0,0]
type = posadd
trigger1 = time = 0
y = -20

[state 0,0]
type = ctrlset
trigger1 = time >= 4
value = 1

[state 0,0]
type = assertspecial
trigger1 = time <= 2
flag = invisible

[State 210, 3]
type = ChangeState
trigger1 = time = 5
value = 50
ctrl = 1


;---------------------------------------------------------------------------
;　身代わりの術hit C
[Statedef 1047]
type    = A
movetype= I
physics = A
ctrl = 0
anim = 1018
sprpriority = 2
velset = 0,0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 1000, huku]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "huku"
pos = -5,40
postype = p1
stateno = 1044
ownpal = 1
id = 1044
pausemovetime = 999
keyctrl = 0

[state 0,0]
type = varrandom
trigger1 = time = 0
v = 19
range = 0,4
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 0
trigger1 = time = 1
value = 12, 25
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 1
trigger1 = time = 1
value = 12, 29
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 2
trigger1 = time = 1
value = 12, 28
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 3
trigger1 = time = 1
value = 12, 30
channel = 0
ignorehitpause = 1
[State 210, 2]
type = PlaySnd
trigger1 = prevstateno != 7040
trigger1 = var(19) = 4
trigger1 = time = 1
value = 12, 31
channel = 0
ignorehitpause = 1

[state 0,0]
type = posadd
trigger1 = time = 0
y = -20
[state 0,0]
type = posadd
trigger1 = time = 1
x = floor(p2dist x) + 50
y = floor(p2dist y) - 18

[state 0,0]
type = ctrlset
trigger1 = time >= 4
value = 1

[state 0,0]
type = assertspecial
trigger1 = time <= 2
flag = invisible

[State 210, 3]
type = ChangeState
trigger1 = animtime = 5
value = 50
ctrl = 1





;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
; いっくぞぉー！ どっかーん！！！せんしっぽ！
[Statedef 1050]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7409;1
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = prevstateno != 1051
trigger1 = time = 1
value = 11, 12
channel = 0


[state 0,reverse]
type = varset
trigger1 = prevstateno != 1051
trigger1 = movehit
fvar(5) = 0.8
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = prevstateno != 1051
trigger1 = Time <= 5
value = SCA
time = 2

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = prevstateno != 1051
trigger1 = time = 1
time = 55
movetime = 55
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
trigger1 = prevstateno != 1051
;triggerall = var(41) = 1
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = prevstateno != 1051
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = prevstateno != 1051
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1994;9
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[state 0,0]
type = palfx
trigger1 = time = 0
trigger1 = prevstateno = 1051
add = 90,5,5
time = 15

[State -2, shild]
type = HitOverride
;triggerall = movecontact = 0
trigger1 = 1;prevstateno != 1051
time = 1
attr = SCA, NA,SA,HA,NP,SP,HP
stateno = 1051
IgnoreHitPause = 1


[state 0,0]
type = changeanim
trigger1 = prevstateno != 1051
trigger1 = time = 0
value = 1021

[state 0,0]
type = playsnd
trigger1 = animelemtime(2) = 3
value = 11, 12
channel = 0

[state 0,0]
type = playsnd
trigger1 = prevstateno != 1051
trigger1 = time = 55
value = 300, 2

[State 0, 0];けむり 地面
type = Explod
trigger1 = time = 55
trigger1 = prevstateno != 1051
postype = p1
pos = -15,0
anim = 7426
ownpal = 1
keyctrl = 0
sprpriority = 5
;scale = 0.5,0.5
;bindtime = -1

[State 0, 0];hikari
type = Explod
trigger1 = prevstateno != 1051
trigger1 = time = 65
postype = p1
pos = 36,-48
anim = 7423
ownpal = 1
keyctrl = 0
sprpriority = 4
scale = 1.5,1.5
bindtime = -1
supermovetime = 999
[State 0, 0];めるぶら
type = Explod
trigger1 = time >= 45
trigger1 = animelemtime(11) = 1
postype = p1
pos = 0,0
anim = 1022
ownpal = 1
keyctrl = 0
sprpriority = 5
bindtime = -1
supermovetime = 999
[State 0, 0]
type = Explod
trigger1 = time = 55
trigger1 = prevstateno != 1051
postype = p1
pos = 25,-44
anim = 7424
ownpal = 1
keyctrl = 0
sprpriority = 5
scale = 0.75,0.75
;bindtime = -1
vel = 5,0

[state 0,0]
type = posset
trigger1 = time <= 1
y = 0

[State 0, 0]
type = Explod
trigger1 = prevstateno != 1051
trigger1 = time = 55
postype = p1
pos = 0,0
anim = 7766
scale = 0.5,0.5
ownpal = 1
keyctrl = 0
sprpriority = 4

[state 0,0]
type = velset
trigger1 = prevstateno != 1051
trigger1 = time = [55,59]
trigger1 = frontedgedist >= 12
trigger2 = animelem = 9
trigger3 = animelem = 10
x = 5

[state 0,0]
type = velset
trigger1 = movecontact
x = 0
ignorehitpause = 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, HA
damage = 178, 19
getpower = 0
givepower = 90,35
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 10, 10
guard.pausetime = 8, 13
sparkno = S1023
sparkxy = 0, -45
hitsound = S31, 0
guardsound = S0, 0
ground.type = high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4,-8
air.velocity = -5,-7+(var(7)*0.6)
fall = 1
air.fall = 1
down.velocity = -3,-1
guard.velocity = -15
envshake.time = 16
envshake.ampl = 4
fall.recovertime = 35
p2stateno = 9300
guard.kill = 0
ground.cornerpush.veloff = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1




[State -2, shild]
type = HitOverride
;triggerall = movecontact = 0
trigger1 = 1;prevstateno != 1051
time = 1
attr = SCA, NA,SA,HA,NP,SP,HP
stateno = 1051
IgnoreHitPause = 1


;---------------------------------------------------------------
;ハイパーアーマー
[Statedef 1051]
type = U
movetype = H
physics = U
ctrl = 0

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = floor(gethitvar(damage) * -0.9)

[State 2000, 1]
type = ChangeState
trigger1 = 1;time >= (gethitvar(Hittime)*0.5)
value = 1050
ctrl = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = prevstateno != 1050
trigger2 = animtime = 0
value = 0
ctrl = 1







;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
; 一撃！！！！！！！！！！！！！！
[Statedef 1052]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7409;1
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = prevstateno != 1051
trigger1 = time = 0
value = 13, 2
channel = 0
[state 0,0]
type = playsnd
trigger1 = movehit
value = 14, 1
channel = 0
persistent = 0
ignorehitpause = 1

[state 0,reverse]
type = varset
trigger1 = time = 0
fvar(12) = 0.2

[state 0,reverse]
type = varset
trigger1 = prevstateno != 1051
trigger1 = time = 0
var(18) = power

[state 0,reverse]
type = varset
trigger1 = prevstateno != 1051
trigger1 = movehit
fvar(5) = 0.8
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = prevstateno != 1051
trigger1 = Time <= 5
value = SCA
time = 2

[state 0,0]
type = BGpalfx
trigger1 = time = 0
time = 90
add = 200,-40,-40

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 77
movetime =77
pos = -14,-9
ownpal = 1
anim = -1
sound = S220,0
poweradd = -9000
[State 0, 0]
type = Helper
trigger1 = prevstateno != 1051
;triggerall = var(41) = 1
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = prevstateno != 1051
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = prevstateno != 1051
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1994;9
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[state 0,0]
type = palfx
trigger1 = time = 0
trigger1 = prevstateno = 1051
add = 90,5,5
time = 15

[state 0,0]
type = changeanim
trigger1 = prevstateno != 1051
trigger1 = time = 0
value = 1030

[state 0,0]
type = playsnd
trigger1 = prevstateno != 1051
trigger1 = time = 95
value = 300, 2

[State 0, 0];けむり 地面
type = Explod
trigger1 = time = 95
trigger1 = prevstateno != 1051
postype = p1
pos = -15,0
anim = 7426
ownpal = 1
keyctrl = 0
sprpriority = 5
;scale = 0.5,0.5
;bindtime = -1
[State 0, 0];けむり
type = Explod
trigger1 = time = 95
trigger1 = prevstateno != 1051
postype = p1
pos = 5,0
anim = 1028
ownpal = 1
keyctrl = 0
sprpriority = 5
;scale = 0.5,0.5
;bindtime = -1

[State 0, 0];hikari
type = Explod
trigger1 = prevstateno != 1051
trigger1 = time = 95
postype = p1
pos = 36,-48
anim = 7423
ownpal = 1
keyctrl = 0
sprpriority = 4
scale = 1.5,1.5
bindtime = -1
supermovetime = 999
[State 0, 0];めるぶら
type = Explod
trigger1 = time >= 95
trigger1 = animelemtime(11) = 1
postype = p1
pos = 0,0
anim = 1022
ownpal = 1
keyctrl = 0
sprpriority = 5
bindtime = -1
supermovetime = 999
[State 0, 0]
type = Explod
trigger1 = time = 95
trigger1 = prevstateno != 1051
postype = p1
pos = 25,-44
anim = 7424
ownpal = 1
keyctrl = 0
sprpriority = 5
scale = 0.75,0.75
;bindtime = -1
vel = 5,0

[State 0, 0]
type = Explod
trigger1 = time = 105
trigger1 = prevstateno != 1051
postype = p1
pos = 36,-48
anim = 1029
ownpal = 1
keyctrl = 0
sprpriority = 5
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time <= 1
y = 0

[State 0, 0]
type = Explod
trigger1 = prevstateno != 1051
trigger1 = time = 95
postype = p1
pos = 0,0
anim = 7766
scale = 0.5,0.5
ownpal = 1
keyctrl = 0
sprpriority = 4

[state 0,0]
type = velset
trigger1 = prevstateno != 1051
trigger1 = time = [95,104]
trigger1 = frontedgedist >= 12
trigger2 = animelem = 9
trigger3 = animelem = 10
x = 15


[State 100, 2]
type = Afterimage
trigger1 = Time = 95
time = 20
length = 25
Trans = Add
PalAdd = 4, 4, 4
FrameGap = 4
palcontrast = 120,120,120

[state 0,0]
type = velset
trigger1 = movecontact
x = 0
ignorehitpause = 0

[State 200, HitDef]
type = HitDef
trigger1 = time >= 5
persistent = 0
attr = S, HA
damage = floor(var(18)*0.26), 30 ;2400, 290
getpower = 0
givepower = 500,135
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 10, 10
guard.pausetime = 40, 33
sparkno = S1023
sparkxy = 0, -35
hitsound = S31, 0
guardsound = S0, 0
ground.type = high;trip
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -4,-8
air.velocity = -5,-7+(var(7)*0.6)
fall = 1
air.fall = 1
down.velocity = -3,-1
guard.velocity = -15
envshake.time = 16
envshake.ampl = 4
fall.recovertime = 35
p2stateno = 9300
guard.kill = 0
ground.cornerpush.veloff = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1












;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;斬鉄閃１
[Statedef 1060]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7446
sprpriority = 2
poweradd = 0

[state 0,0]
type = poweradd
trigger1 = time = 0
trigger1 = var(41) = 3
trigger1 = var(33) != 10
value = 35

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7446


[State 0, 1]
type = PlaySnd
trigger1 = animelemtime(3)=1
value = 2,11
channel = 0


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201



[State 0, 0]
type = Helper
trigger1 = animelemtime(3) = 1;time = 15
helpertype = normal
name = "zangeki"
ID = 1061
stateno = 1061
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 8 + floor((random % 10)*0.5)

[State -1]
type = ChangeState
value = 2040
triggerall = var(41) = 3
triggerall = power >= 1000
triggerall = Numhelper(1061) >= 1
triggerall = command = "236xy"
trigger1 = helper(1061),movecontact

[State 210, 3]
type = ChangeState
trigger1 = time >= 25
trigger1 = command = "236_y"
value = 1062

[State -1]
type = posadd
triggerall = Numhelper(1061) >= 1
trigger1 = helper(1061),movecontact
trigger1 = enemy,backedgedist <= 1
persistent = 2
x = -1


[State 200, AI]
type = ChangeState
triggerall = Numhelper(1061) >= 1
trigger1 = helper(1061),movecontact
trigger1 = time >= 10
trigger1 = var(59) = 1
trigger1 = var(41) = 3
trigger1 = power >= 1001
trigger1 = random >= 20
trigger1 = enemy,statetype != A
trigger1 = enemy,life > 0
value = 2040
[State 200, AI]
type = ChangeState
triggerall = Numhelper(1061) >= 1
trigger1 = helper(1061),movecontact
;trigger1 = time >= 8
trigger1 = var(59) = 1
trigger1 = var(16) >= 1
trigger1 = var(41) = 3
trigger1 = random >= 20
trigger1 = enemy,statetype = A
trigger1 = enemy,life > 0
value = 9160







;---------------------------------------------------------------------------
;攻撃判定
[Statedef 1061]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7447
sprpriority = 3

[state 0,0]
type = parentvarset
triggerall = parent,var(33) = 3
triggerall = parent,var(41) = 3
triggerall = parent,fvar(12) = 0.1
trigger1 = movehit
ignorehitpause = 1
fv = 20
value = 780

[State 0,111]
type = AttackMulSet
trigger1 = 1
value = (1 - (fvar(30))*fvar(5)) *0.8
ignorehitpause = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 7

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = A, SP
damage = ifelse(parent,var(39)=1,60,55), 4
getpower = ifelse(parent,var(41)=3,ifelse(parent,var(33) = 10,0,170),40),23
givepower = 6,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 5, 18
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 16
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recovertime = 26
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0;-3
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = A, SP
damage = ifelse(parent,var(39)=1,61,55), 3
getpower = ifelse(parent,var(50)=0,20,0),23
givepower = 6,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 5, 10
guard.pausetime = 6, 4
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0;-3
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -8.5
p2stateno = 8715


[state 0,0]
type = destroyself
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;攻撃判定B
[Statedef 1068]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7447
sprpriority = 3

[state 0,0]
type = parentvarset
triggerall = parent,var(33) = 3
triggerall = parent,var(41) = 3
triggerall = parent,fvar(12) = 0.1
trigger1 = movehit
ignorehitpause = 1
fv = 20
value = 780

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 7

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SP
damage = ifelse(parent,var(39)=1,61,55), 3
getpower = ifelse(parent,var(41)=3,ifelse(parent,var(33) = 10,0,200),60),23
givepower = 6,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 5, 10
guard.pausetime = 6, 4
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recovertime = 25
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0;-3
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -8.5
p2stateno = 9300


[state 0,0]
type = destroyself
trigger1 = animtime = 0



;---------------------------------------------------------------------------
;斬鉄閃２
[Statedef 1062]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7448
sprpriority = 2
poweradd = 0
velset = 4,-7

[state 0,0]
type = poweradd
trigger1 = time = 0
trigger1 = var(41) = 3
trigger1 = var(33) != 10
value = 35

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7448

[State 0, 1]
type = PlaySnd
triggerall = prevstateno = 1060
trigger1 = animelemtime(1) = 1
value = 2,6
channel = 0

[State 0, 1]
type = null;PlaySnd
trigger1 = time = 1
value = 2,6
channel = 0

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 5
trigger1 = pos y >= 0
value = 9929
ctrl = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201



[State 0, 0]
type = Helper
trigger1 = animelemtime(3) = 1;time=6
helpertype = normal
name = "zangeki2"
ID = 1061
stateno = 1063
postype = p1
pos = -12,-65
keyctrl = 0
ownpal = 1
pausemovetime = 8 + floor((random % 10)*0.5)


;---------------------------------------------------------------------------
;攻撃判2
[Statedef 1063]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7449
sprpriority = 3

[state 0,0]
type = parentvarset
triggerall = parent,var(33) = 3
triggerall = parent,var(41) = 3
triggerall = parent,fvar(12) = 0.1
trigger1 = movehit
ignorehitpause = 1
fv = 20
value = 780

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 7

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = A, SP
damage = ifelse(parent,var(39)=1,60,55), 4
getpower = ifelse(parent,var(41)=3,ifelse(parent,var(33) = 10,0,220),90),23
givepower = 6,3
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, hit
pausetime = 5, 10
guard.pausetime = 6, 4
sparkno = 2
sparkxy = -8, 14
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 23
ground.hittime  = 13
ground.velocity = 0,-3
air.velocity = -1,4
fall = 1
air.fall = 1
fall.recovertime = 80
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0;-3
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -8.5

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = A, SP
damage = ifelse(parent,var(39)=1,60,55), 3
getpower = ifelse(parent,var(50)=0,20,0),23
givepower = 6,3
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, hit
pausetime = 5, 10
guard.pausetime = 6, 4
sparkno = 2
sparkxy = -8, 14
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recovertime = 60
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0;-3
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -8.5
p2stateno = 8715


[state 0,0]
type = destroyself
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;攻撃判2B
[Statedef 1069]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7449
sprpriority = 3

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = parentvarset
triggerall = parent,var(33) = 3
triggerall = parent,var(41) = 3
triggerall = parent,fvar(12) = 0.1
trigger1 = movehit
ignorehitpause = 1
fv = 20
value = 780

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 7

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, SP
damage = ifelse(parent,var(39)=1,60,55), 4
getpower = ifelse(parent,var(41)=3,ifelse(parent,var(33) = 10,0,220),80),23
givepower = 6,3
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, hit
pausetime = 5, 10
guard.pausetime = 6, 4
sparkno = 2
sparkxy = -8, 14
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = 0,10
air.velocity = -1,12
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0;-3
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -5.5

[state 0,0]
type = destroyself
trigger1 = animtime = 0



;---------------------------------------------------------------------------
;斬鉄閃3
[Statedef 1064]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7453
sprpriority = 2
poweradd = 0

[state 0,0]
type = poweradd
trigger1 = time = 0
trigger1 = var(41) = 3
trigger1 = var(33) != 10
value = 35

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7453

[State 0, 1]
type = PlaySnd
trigger1 = time = 17
value = 2,11
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 18
value = 1062

[State 210, 3]
type = ChangeState
trigger1 = prevstateno = 7040
value = 1062


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;斬鉄閃１ air
[Statedef 1065]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7446
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,0]
type = poweradd
trigger1 = time = 0
trigger1 = var(41) = 3
trigger1 = var(33) != 10
value = 35

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7446


[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[State 0, 1]
type = PlaySnd
triggerall = anim = 7446
trigger1 = animelemtime(3)=1
value = 2,11
channel = 0


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 9929
ctrl = 0

[State 210, 3]
type = Changeanim
trigger1 = animtime = 0
trigger1 = anim != 5040
value = 5040

[State 0, 0]
type = Helper
triggerall = var(41) != 3
trigger1 = time = 15
helpertype = normal
name = "zangeki"
ID = 1061
stateno = 1061
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 8 + floor((random % 10)*0.5)
[State 0, 0]
type = Helper
triggerall = anim = 7446
triggerall = var(41) = 3
trigger1 = animelemtime(3) = 1;time = 15
helpertype = normal
name = "zangeki"
ID = 1061
stateno = 1068
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 8 + floor((random % 10)*0.5)

[State -1]
type = ChangeState
value = 1204
triggerall = var(41) = 3
triggerall = power >= 1000
triggerall = Numhelper(1061) >= 1
triggerall = command = "421xy"
trigger1 = helper(1061),movecontact

[State 210, 3]
type = ChangeState
trigger1 = time >= 17
trigger1 = command = "236_y"
value = 1066


[State -1, arcana]
type = velset
y = 0
triggerall = time <= 30
triggerall = var(41) = 3
triggerall = Numhelper(1061) >= 1
trigger1 = helper(1061),movecontact


;---------------------------------------------------------------------------
;斬鉄閃２
[Statedef 1066]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7448
sprpriority = 2
poweradd = 0
velset = 4,-7

[state 0,0]
type = poweradd
trigger1 = time = 0
trigger1 = var(41) = 3
trigger1 = var(33) != 10
value = 35

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7448


[State 0, 1]
type = PlaySnd
triggerall = prevstateno = 1065
trigger1 = animelemtime(1) = 1;time = 2
value = 2,6
channel = 0
persistent = 0


[State 0, 1]
type = null;PlaySnd
trigger1 = time = 1
value = 2,6
channel = 0

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 5
trigger1 = pos y >= 0
value = 9929
ctrl = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201



[State 0, 0]
type = Helper
triggerall = var(41) != 3
trigger1 = time = 6
helpertype = normal
name = "zangeki2"
ID = 1061
stateno = 1063
postype = p1
pos = -12,-65
keyctrl = 0
ownpal = 1
pausemovetime = 10
[State 0, 0]
type = Helper
triggerall = var(41) = 3
trigger1 = animelemtime(3) = 1;time = 6
helpertype = normal
name = "zangeki2"
ID = 1061
stateno = 1069
postype = p1
pos = -12,-65
keyctrl = 0
ownpal = 1
pausemovetime = 8 + floor((random % 10)*0.5)


;---------------------------------------------------------------------------
;斬鉄閃
[Statedef 1067]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7453
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,0]
type = poweradd
trigger1 = time = 0
trigger1 = var(41) = 3
trigger1 = var(33) != 10
value = 35

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7453


[State 0, 1]
type = PlaySnd
trigger1 = time = 9
value = 2,11
channel = 0

[state 0,0]
type = veladd
trigger1 = time >= 2
y = 0.45

[State 210, 3]
type = ChangeState
trigger1 = time >= 10
value = 1066
[State 210, 3]
type = ChangeState
trigger1 = prevstateno = 7040
value = 1066


[State -1]
type = ChangeState
value = 1204
triggerall = var(41) = 3
triggerall = power >= 1000
triggerall = Numhelper(1061) >= 1
triggerall = command = "421xy"
trigger1 = helper(1061),movecontact

[State 210, 3]
type = ChangeState
trigger1 = time >= 3
trigger1 = pos y >= 0
value = 9929
ctrl = 0

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;昇竜 雷鳴剣
[Statedef 1070]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7415;256
sprpriority = 2
poweradd = 0
velset = 1,0

[state 0,basuke]
type = varadd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 100 < 10
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 100 < 10
trigger1 = movehit
persistent = 0
v = 44
value = 10

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP,AT
time = 5

[State 701, Effect]
type = Explod
trigger1 = time = 5
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = velset
trigger1 = time = 5
x = 2
y = -5

[state 0,0]
type = velset
trigger1 = time = 21
x = 0.5

[state 0,0]
type = veladd
trigger1 = time >= 14
y = 0.45

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, SA
damage = ifelse(var(39)=1,36,30), 4
getpower = ifelse(var(50)=0,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 8, 9
guard.pausetime = 9, 7
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -4,-6
air.velocity = -4,-6.6
fall = 1
air.fall = 1
fall.recover= 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[state 0,0]
type = playsnd
trigger1 = time = 20
value = 2, 15
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 0
value = 9929

[State 1000, raimei]
type = Helper
trigger1 = time = 22
;trigger1 = numhelper(1069) = 0
helpertype = normal
name = "raimei"
pos = 70,0
postype = p1
stateno = 1072
ownpal = 1
id = 1069
keyctrl = 0
size.yscale = 2


;---------------------------------------------------------------------------
;昇竜 雷鳴剣エフェクト
[Statedef 1077]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7416
sprpriority = 5
poweradd = 0
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 230, 2

[state 0,0]
type = envcolor
trigger1 = 1
ignorehitpause = 1
value = 0,0,0
under = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = BGpalfx
trigger1 = 1
mul = 230,230,230
ignorehitpause = 1
time = 2

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(43) <= 3
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP
time = 11

[State 701, Effect]
type = Explod
trigger1 = time = 5
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75

[State 210, 3]
type = destroyself
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 4
persistent = 0
attr = A, HP
damage = ifelse(var(39)=1,126,120), 8
getpower = 0
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 9, 7
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -7,-2
air.velocity = -7,-2.6
fall = 1
air.fall = 1
fall.recovertime = 28
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 3



;---------------------------------------------------------------------------
;昇竜 雷鳴剣エフェクトjaku
[Statedef 1072]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7455
sprpriority = 5
poweradd = 0
velset = 0,0

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (240 - screenpos y)

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 230, 2

[state 2, hoshi];グレイブ
type = parentvaradd
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 100 < 10
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 100 < 10
trigger1 = movehit
persistent = 0
v = 44
value = 10

[state 0,basuke]
type = parentvaradd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = parent,var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = BGpalfx
trigger1 = 1
mul = 230,230,230
ignorehitpause = 1
time = 2

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(43) <= 3
trigger1 = parent,var(24) < 7
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP
time = 11

[State 701, Effect]
type = Explod
trigger1 = time = 5
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75

[State 210, 3]
type = destroyself
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 4
persistent = 0
attr = A, SP
damage = ifelse(parent,var(39)=1,66,60), 4
getpower = ifelse(parent,var(50)=0,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 9, 6
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -7,-2
air.velocity = -7,-2.6
fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 4
persistent = 0
attr = A, SP
damage = ifelse(parent,var(39)=1,66,60), 4
getpower = ifelse(parent,var(50)=0,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 9, 6
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -7,-2
air.velocity = -7,-2.6
fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715


;---------------------------------------------------------------------------
;昇竜 雷鳴剣エフェクトjaku
[Statedef 1073]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7455
sprpriority = 5
poweradd = 0
velset = 4,0
[state 0,0]
type = posadd
trigger1 = time >= 0
y = (240 - screenpos y)

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 230, 2

[state 2, hoshi];グレイブ
type = parentvaradd
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 100 < 10
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 100 < 10
trigger1 = movehit
persistent = 0
v = 44
value = 10

[state 0,basuke]
type = parentvaradd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = BGpalfx
trigger1 = 1
mul = 230,230,230
ignorehitpause = 1
time = 2

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(43) <= 3
trigger1 = parent,var(24) < 7
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP
time = 11

[State 701, Effect]
type = Explod
trigger1 = time = 5
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75

[State 210, 3]
type = destroyself
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 4
persistent = 6
attr = A, SP
damage = ifelse(parent,var(39)=1,46,40), 5
getpower = ifelse(parent,var(50)=0,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 5, 9
guard.pausetime = 5, 6
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,-9
air.velocity = -2,-9.6
fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 4
persistent = 0
attr = A, SP
damage = ifelse(parent,var(39)=1,66,60), 4
getpower = ifelse(parent,var(50)=0,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 9, 6
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -7,-2
air.velocity = -7,-2.6
fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715

;--------------------------------------------------------------------------
;昇竜 雷鳴剣2
[Statedef 1075]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7415;256
sprpriority = 2
poweradd = 0
velset = 3,0

[state 0,basuke]
type = varadd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[State 0,0]
type = nothitby
ignorehitpause = 1
trigger1 = time = 0
value = SCA;,AA,AP,AT
time = 18


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 100 < 10
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 100 < 10
trigger1 = movehit
persistent = 0
v = 44
value = 10


[State 701, Effect]
type = Explod
trigger1 = time = 5
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = velset
trigger1 = time = 5
x = 4.5
y = -7

[state 0,0]
type = velset
trigger1 = time = 21
x = 0.5

[state 0,0]
type = veladd
trigger1 = time >= 14
y = 0.45

[state 0,0]
type = playsnd
trigger1 = time = 20
value = 2, 15
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 0
value = 9929

[State 1000, raimei]
type = Helper
trigger1 = time = 22
;trigger1 = numhelper(1069) = 0
helpertype = normal
name = "raimei"
pos = 50,0
postype = p1
stateno = 1073
ownpal = 1
id = 1069
size.yscale = 2
keyctrl = 0

[State 1000, raimei]
type = Helper
trigger1 = time = 16
;trigger1 = numhelper(1069) = 0
helpertype = normal
name = "raimei"
pos = 40,0
postype = p1
stateno = 1072
ownpal = 1
id = 1069
size.yscale = 2
keyctrl = 0




;---------------------------------------------------------------------------
;昇竜 雷鳴剣EX
[Statedef 1076]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7415;256
sprpriority = 2
poweradd = 0
velset = 3,0



[state 0,0]
type = playsnd
trigger1 = time = 1
value = 2, 16
channel = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 40
;movetime = 49
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 2
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1995;9
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 2
anim = 7049
postype = p1
pos = -30,-10
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 2
anim = 7048
postype = p1
pos = -30,-10
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(43) <= 3
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP,AT
time = 25

[State 701, Effect]
type = Explod
trigger1 = time = 5
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = velset
trigger1 = time = 5
x = 6
y = -8.5

[state 0,0]
type = velset
trigger1 = time = 21
x = 0.5

[state 0,0]
type = veladd
trigger1 = time >= 14
y = 0.45

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, HA
damage = ifelse(var(39)=1,106,100), 4
getpower = ifelse(var(50)=0,60,0),28
givepower = 28,15
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 8, 9
guard.pausetime = 9, 7
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -6,-8
air.velocity = -6,-8.6
fall = 1
air.fall = 1
fall.recover= 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 0
value = 9929

[State 1000, raimei]
type = Helper
trigger1 = time = 22
;trigger1 = numhelper(1069) = 0
helpertype = normal
name = "raimei"
pos = 90,0
postype = p1
stateno = 1077
ownpal = 1
id = 1069
keyctrl = 0

[state 0,0]
type = envcolor
trigger1 = 1
ignorehitpause = 1
value = 0,0,0
under = 1

;---------------------------------------------------------------------------
;圧壊１
[Statedef 1080]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7257
sprpriority = 2
poweradd = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 800, 1]
type = HitDef
trigger1 = time >= 4
trigger1 = P2MoveType != H
persistent = 0
attr = S, ST
hitflag = M
priority = 2, Miss
sparkno = -1
air.juggle = 1
hitsound = S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
;p2facing = -1
p1stateno = 1081
p2stateno = 1082
fall = 1
air.fall = 1
fall.recovertime = 10

;---------------------------------------------------------------------------
;圧壊つかんだ
[Statedef 1081]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7258
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,reverse]
type = varset
trigger1 = time = 0
fvar(5) = 0.6
persistent = 0

[State 210, 3]
type = ChangeState
trigger1 = time = 80
value = 1085
ctrl = 0

[State 210, 3]
type = ChangeState
triggerall = power >= 1000 || var(50) >= 2
trigger1 = time <= 64
trigger1 = command = "623_z"
value = 1095

[State 210, AI]
type = ChangeState
triggerall = var(59) = 1
triggerall = var(49) <= 100
triggerall = power >= 1000 || var(50) >= 2
trigger1 = random >= 800
trigger1 = time = [15,50]
value = 1095


[State 210, 3]
type = ChangeState
trigger1 = time = 65
trigger1 = command = "holdback"
value = 1083
[State 210, 3]
type = ChangeState
trigger1 = time = 65
trigger1 = command = "holddown"
value = 1086

[state 0,0]
type = targetbind
trigger1 = time <= 1
pos = 40,-90

[state 0,0]
type = playsnd
trigger1 = time = 69
value = 31, 0
volume = -70
[State 3000, effect]
type = Explod
trigger1 = time = 69
anim = 7260
postype = p1
pos = 40,-90
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

[State 3000, effect]
type = Explod
persistent = 10
trigger1 = time <= 60
anim = 7261
random = 40,40
postype = p1
pos = 40,-90
ownpal = 1
sprpriority = 3
scale = 2,2


[State 1000, moeru]
type = Helper
trigger1 = time = 5
trigger1 = numhelper(1099) = 0
helpertype = normal
name = "fire"
pos = 0,0
postype = p2
stateno = 1099
ownpal = 1
id = 1099
keyctrl = 0
bindtime = -1

;---------------------------------------------------------------------------
; もえるカラダ
[Statedef 1099]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = -3

[State 1000, big]
type = null;Explod
trigger1 = random >= 150
trigger1 = numexplod(1) <= 6
anim = 7261
random = 55,90
pos = 0,-20
ownpal = 1
sprpriority = -3
scale = 1+var(3)*0.1,1+var(3)*0.1
id = 1

[State 180, 1]
type = VarRandom
trigger1 = Time >= 0
v = 1
range = -20,20

[State 180, 1]
type = VarRandom
trigger1 = Time >= 0
v = 2
range = -20,20

[State 180, 1];scale
type = VarRandom
trigger1 = Time >= 0
v = 3
range = 0,15

[State 180, 1];x
type = VarRandom
trigger1 = Time >= 0
v = 4
range = -2,2

[State 180, 1];y
type = VarRandom
trigger1 = Time >= 0
v = 5
range = -5,-1

[State 0,0]
type = PosAdd
trigger1 = P2Dist X >= 0
x = 5
[State 0,0]
type = PosAdd
trigger1 = P2Dist X <= 0
x = -5
[State 0,0]
type = PosAdd
trigger1 = P2Dist Y <= 50
y = -5
[State 0,0]
type = PosAdd
trigger1 = P2Dist Y >= 50
y = 5

[State 1000, mini]
type = Explod
trigger1 = random >= 600
trigger1 = numexplod(10) <= 16
anim = 7261
random = 55,90
pos = 0,30
removetime = 60
ownpal = 1
sprpriority = 1
scale = 0.1,0.1
id = 10
vel = var(4),var(5)

[state 0, 0]
type = ModifyExplod
trigger1 = 1
ID = 10
vel = var(4)

[state 0,0]
type = destroyself
trigger1 = time = 100


;---------------------------------------------------------------------------
;圧壊つかまれた
[Statedef 1082]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5000
sprpriority = -1
velset = 0,0

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = enemy,facing = facing

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = palfx
trigger1 = time >= 0
persistent = 10
time = 55
add = 150,30,0
mul = 200,200,200
[state 0,0]
type = palfx
trigger1 = time >= 5
persistent = 10
time = 5
add = 130,20,0
mul = 150,150,150

[state 0,0]
type = changeanim2
trigger1 = time >= 0
value = 7259

[state 0,0]
type = lifeadd
trigger1 = time = 70
value = -127
[state 0,0]
type = lifeadd
trigger1 = enemy,stateno = 1089
trigger1 = time = 70
value = -34

[state 0,0]
type = velset
trigger1 = time = 69
x = -1.3
y = -5

[state 0,0]
type = posset
trigger1 = time = 70
y = -35

[State 210, 3]
type = selfState
trigger1 = time = 70
value = 5050

[State 210, 3]
type = ChangeState
trigger1 = enemy,stateno = 1083
trigger2 = enemy,stateno = 1483
value = 1084
[State 210, 3]
type = ChangeState
trigger1 = enemy,stateno = 1086
trigger2 = enemy,stateno = 1486
value = 1087
[State 210, 3]
type = ChangeState
trigger1 = enemy,stateno = 1095
value = 1096

;---------------------------------------------------------------------------
;圧壊つかんだ 分岐　壁叩きつけ
[Statedef 1083]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7262
sprpriority = 2
poweradd = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 5
trigger1 = enemy,stateno != 1084
value = 1085
ctrl = 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time >= 2
trigger1 = enemy,frontedgedist <= 5
anim = 7260
postype = p2
pos = 0,-60
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

[State 3000, effect]
type = Explod
persistent = 10
trigger1 = time <= 40
anim = 7261
random = 40,40
postype = p2
pos = 0,-60
ownpal = 1
sprpriority = 3
scale = 2,2

;---------------------------------------------------------------------------
;圧壊つかんだ 分岐　壁叩きつけ lv2
[Statedef 1483]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7262
sprpriority = 2
poweradd = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 5
trigger1 = enemy,stateno != 1084
value = 1085
ctrl = 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time >= 2
trigger1 = enemy,frontedgedist <= 5
anim = 7260
postype = p2
pos = 0,-60
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

[State 3000, effect]
type = Explod
persistent = 10
trigger1 = time <= 40
anim = 7261
random = 40,40
postype = p2
pos = 0,-60
ownpal = 1
sprpriority = 3
scale = 2,2


;---------------------------------------------------------------------------
;あっかい　壁までふっとび
[Statedef 1084]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = palfx
trigger1 = time >= 0
persistent = 10
time = 5
add = 150,0,0
mul = 200,200,200
[state 0,0]
type = palfx
trigger1 = time >= 5
persistent = 10
time = 5
add = 130,0,0
mul = 150,150,150

[state 0,0]
type = posset
trigger1 = time = 0
y = -35

[state 0,0]
type = turn
triggerall = prevstateno != 901
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 612

[state 0,0]
type = velset
trigger1 = time = 0
x = 15
y = 0

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -20
;trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5200

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -1
trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5210


[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = lifeadd
trigger1 = frontedgedist <= 4
;trigger1 = time >= 2
persistent = 0
value = -176
[state 0,0]
type = lifeadd
trigger1 = enemy,stateno = 1483
trigger1 = frontedgedist <= 4
persistent = 0
value = -55

[state 0,0]
type = lifeadd
trigger1 = time = 0
persistent = 0
value = -2
kill = 0

[state 0,0]
type = changestate
trigger1 = frontedgedist <= 4
;trigger2 = time >= 90
value = 1093

;---------------------------------------------------------------------------
;圧壊つかんだ 終了隙
[Statedef 1085]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7263
sprpriority = 2


[state 0,0]
type = playsnd
triggerall = time = 0
trigger1 = prevstateno = 1083
trigger2 = prevstateno = 1483
value = 31, 0
volume = -20

[State 210, 3]
type = Changeanim
triggerall = time = 0
trigger1 = prevstateno = 1081
trigger2 = prevstateno = 1089
value = 7264

[State 210, 3]
type = Changeanim
triggerall = time = 0
trigger1 = prevstateno = 1091
value = 7268

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;壁バウンド

[Statedef 1093]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = -1

[state 0,0]
type = poweradd
trigger1 = time = 0
value = 10

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = F72
postype = p1
pos = -20,-50
ownpal = 1
sprpriority = 3

[state 0,0]
type = envshake
trigger1 = time = 0
time = 12

[state 0,0]
type = velset
trigger1 = time = 5
x = 0.4
y = -7.2

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 0,0]
type = changeanim
trigger1 = time = 6
trigger1 = selfanimexist(5050)
value = 5050

[state 0,0]
type = changeanim2
trigger1 = time = 4
;trigger1 = anim != 5050
value = 612

[state 0,0]
type = selfstate
triggerall = time >= 18
triggerall = Alive
triggerall = CanRecover
trigger1 = command = "recovery"
value = 5200

[state 0,0]
type = selfstate
trigger1 = vel y > 0 && pos y >= 0
value = 5100



;---------------------------------------------------------------------------
;圧壊つかんだ 分岐　地面叩きつけ
[Statedef 1086]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7262
sprpriority = 2
poweradd = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
value = 1085
ctrl = 0

[state 0,0]
type = playsnd
trigger1 = time = 5
value = 31, 0
volume = -80

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 7260
postype = p1
pos = -40,-15
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

;---------------------------------------------------------------------------
;圧壊つかんだ 分岐　地面叩きつけ lv2
[Statedef 1486]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7262
sprpriority = 2
poweradd = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
value = 1085
ctrl = 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 5
anim = 7260
postype = p1
pos = -40,-15
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

[state 0,0]
type = playsnd
trigger1 = time = 5
value = 31, 0
volume = -80

;---------------------------------------------------------------------------
;あっかい　地面までご案内
[Statedef 1087]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = palfx
trigger1 = time >= 0
persistent = 10
time = 55
add = 150,0,0
mul = 200,200,200
[state 0,0]
type = palfx
trigger1 = time >= 5
persistent = 10
time = 5
add = 130,0,0
mul = 150,150,150

[state 0,0]
type = posadd
trigger1 = time = 0
x = 10

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 5030

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[state 0,0]
type = velset
trigger1 = time = 0
x = 7
y = 15

[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = lifeadd
trigger1 = time = 4
persistent = 0
value = -145
[state 0,0]
type = lifeadd
trigger1 = enemy,stateno = 1486
trigger1 = time = 4
persistent = 0
value = -53

[state 0,0]
type = selfstate
trigger1 = time = 5
value = 5100




;---------------------------------------------------------------------------
;圧壊2
[Statedef 1088]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7265
sprpriority = 2
poweradd = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 800, 1]
type = HitDef
trigger1 = time >= 4
trigger1 = P2MoveType != H
persistent = 0
attr = S, ST
hitflag = M
priority = 2, Miss
sparkno = -1
air.juggle = 1
hitsound = S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
;p2facing = -1
p1stateno = 1089
p2stateno = 1082
fall = 1
air.fall = 1
fall.recovertime = 10

;---------------------------------------------------------------------------
;圧壊つかんだ2
[Statedef 1089]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7258
sprpriority = 2
poweradd = 0
velset = 0,0

[State 210, 3]
type = ChangeState
trigger1 = time = 80
value = 1085
ctrl = 0

[state 0,reverse]
type = varset
trigger1 = time = 0
fvar(5) = 0.6
persistent = 0

[State 210, 3]
type = ChangeState
triggerall = power >= 1000 || var(50) >= 2
trigger1 = time <= 64
trigger1 = command = "623_z"
value = 1095

[State 210, 3]
type = ChangeState
trigger1 = time = 65
trigger1 = command = "holdback"
value = 1483
[State 210, 3]
type = ChangeState
trigger1 = time = 65
trigger1 = command = "holddown"
value = 1486

[state 0,0]
type = targetbind
trigger1 = time <= 1
pos = 40,-90


[state 0,0]
type = playsnd
trigger1 = time = 69
value = 31, 0
volume = -80
[State 3000, effect]
type = Explod
trigger1 = time = 69
anim = 7260
postype = p1
pos = 40,-90
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

[State 3000, effect]
type = Explod
persistent = 10
trigger1 = time <= 60
anim = 7261
random = 40,40
postype = p1
pos = 40,-90
ownpal = 1
sprpriority = 3
scale = 2,2

[State 1000, moeru]
type = Helper
trigger1 = time = 5
trigger1 = numhelper(1099) = 0
helpertype = normal
name = "fire"
pos = 0,0
postype = p2
stateno = 1099
ownpal = 1
id = 1099
keyctrl = 0
bindtime = -1


;---------------------------------------------------------------------------
;圧壊ex
[Statedef 1090]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7267
sprpriority = 2
poweradd = 0
velset = 0,0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP
time = 65

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 200, 6
channel = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = animelem = 2
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
persistent = 0
trigger1 = animelem = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = animelem = 2
persistent = 0
helpertype = normal
name = "hokuto"
ID = 1996
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 2
anim = 7049
postype = p1
pos = 6,-65
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 2
anim = 7048
postype = p1
pos = 6,-65
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1


[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 800, 1]
type = HitDef
trigger1 = time >= 4
;airjuggle = 99
;trigger1 = enemy,stateno != [150,155]
persistent = 0
attr = S, HT
hitflag = MAF
priority = 2, Miss
sparkno = -1
air.juggle = 1
hitsound = S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
;p2facing = -1
p1stateno = 1091
p2stateno = 1092
fall = 1
air.fall = 1
fall.recover = 0


;---------------------------------------------------------------------------
;圧壊つかんだex
[Statedef 1091]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7258
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,star]
type = varadd
triggerall = var(41) = 2
trigger1 = var(44) % 1000 < 100
trigger1 = time = 2
persistent = 0
v = 44
value = 100
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = time = 1
trigger1 = var(44) % 1000 < 100
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 0,reverse]
type = varset
trigger1 = time = 0
fvar(5) = fvar(5)*0.05
persistent = 0

[state 0,0]
type = palfx
trigger1 = time >= 5
time = 2
add = 10,0,0
mul = 100,100,100
[state 0,0]
type = BGpalfx
trigger1 = time >= 5
time = 2
add = 100,0,0
color = 0
mul = 200,200,200

[State 210, 3]
type = ChangeState
trigger1 = time = 100
value = 1085
ctrl = 0

[state 0,0]
type = targetbind
trigger1 = time <= 1
pos = 40,-90

[state 0,0]
type = envshake
trigger1 = time = 5
time = 90

[state 0,0]
type = hitadd
trigger1 = time >= 5
persistent = 10
value = 1
[state 0,0]
type = hitadd
trigger1 = time = 99
value = 1

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 60, 1

[state 0,0]
type = playsnd
trigger1 = time = 99
value = 300, 2

[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7266
postype = p1
pos = 30,0
ownpal = 1
sprpriority = -5
scale = 2,2

[State 3000, effect]
type = Explod
trigger1 = time = 99
anim = 7260
postype = p1
pos = 40,-90
ownpal = 1
sprpriority = 5
scale = 1.5,1.5

;---------------------------------------------------------------------------
;圧壊つかまれたex
[Statedef 1092]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5000
sprpriority = -1
velset = 0,0

[state 0,0]
type = palfx
trigger1 = time >= 0
persistent = 8
time = 4
add = 150,0,0
mul = 90,90,90
[state 0,0]
type = palfx
trigger1 = time >= 4
persistent = 8
time = 4
add = 130,0,0
mul = 50,50,50

[state 0,0]
type = changeanim2
trigger1 = time >= 0
value = 7259

[state 0,0]
type = lifeadd
persistent = 10
triggerall = prevstateno != [150,155]
trigger1 = time >= 5
value = ifelse(gethitvar(hitcount) >= 5, ifelse(gethitvar(hitcount) >= 10,-6,-10), -18)
kill = 0
[state 0,0]
type = lifeadd
triggerall = prevstateno != [150,155]
trigger1 = time = 99
value = ifelse(gethitvar(hitcount) >= 2, ifelse(gethitvar(hitcount) >= 10,-43,-70), -200)


[state 0,0]
type = lifeadd
persistent = 10
triggerall = prevstateno = [150,155]
trigger1 = time >= 5
value = ifelse(gethitvar(hitcount) >= 5, ifelse(gethitvar(hitcount) >= 10,-3,-7), -12)
kill = 0
[state 0,0]
type = lifeadd
triggerall = prevstateno = [150,155]
trigger1 = time = 99
value = ifelse(gethitvar(hitcount) >= 2, ifelse(gethitvar(hitcount) >= 10,-26,-40), -150)


[state 0,0]
type = velset
trigger1 = time = 99
x = -1.3
y = -5

[state 0,0]
type = posset
trigger1 = time = 100
y = -35


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 99
value = SCA
time = 60

[State 210, 3]
type = selfState
trigger1 = time = 100
value = 5050

;---------------------------------------------------------------------------
;あっかい　EX追加 噛み噛みしtyaうお！
[Statedef 1095]
type    = S
movetype= A
physics = S
ctrl = 0
sprpriority = 2
anim = 7300
velset = 0,0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = animelem = 2
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
persistent = 0
trigger1 = animelem = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = animelem = 1
persistent = 0
helpertype = normal
name = "hokuto"
ID = 1996
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 1
anim = 7049
postype = p1
pos = 20,-25
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 1
anim = 7048
postype = p1
pos = 20,-25
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1


[state 0,0]
type = allpalfx
trigger1 = time = [70,80]
add = (time*3)-90,0,0
mul = 255,0,0
time = 1
;color = 0

[State 3000, effect]
type = Explod
trigger1 = time = 75
anim = 7297
;postype = p1
pos = -40,67
ownpal = 1
sprpriority = 5

[state 0,0]
type = playsnd
trigger1 = time = 75
value = 60, 3

[state 0,0]
type = varset
trigger1 = time = 75
v = 49
value = 1200

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 =var(24) < 7
trigger1 = time = 74
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = changestate
trigger1 = time = 100
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;あっかい　噛まれたお（；；）
[Statedef 1096]
type    = L
movetype= H
physics = C
ctrl = 0
sprpriority = -2
velset = 0,0

[state 0,0]
type = posset
trigger1 = time = 0
y = -15
[state 0,0]
type = posset
trigger1 = time >= 2
y = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7299

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[state 0,0]
type = lifeadd
trigger1 = time = 10
persistent = 0
value = -290

[state 0,0]
type = selfstate
trigger1 = time = 15
value = 5100







;---------------------------------------------------------------------------
;斬空掌  空中１
[Statedef 1110]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7411
sprpriority = 2
poweradd = 0
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 3
value = 2, 14
channel = 0

;[state 0,0]
;type = posadd
;triggerall = numhelper(1111) >= 1
;trigger1 = var(41) = 2
;trigger1 = var(27) >= 1
;trigger1 = enemy,gethitvar(hitcount)>=8;helper(1111),movehit
;x = floor(enemy,gethitvar(hitcount)*-0.09)
;ignorehitpause = 1

[State 0, 0]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "beam"
ID = 1111
stateno = 1111
postype = p1
pos = 8,-52
keyctrl = 0
ownpal = 1
;size.xscale = 0.75
;size.yscale = 0.75

[state 0,0]
type = veladd
trigger1 = time = 10
x = -0.5
y = -3

[state 0,0]
type = veladd
trigger1 = time >= 10
y = 0.45

[State 210, 3]
type = Changeanim
trigger1 = time = 9
value = 7412

[State 210, 3]
type = ChangeState
;triggerall = var(41) != 2
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = pos y >= 0
value = 1009
ctrl = 0

[State 210, 3]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = var(41) = 2
trigger1 = var(27) = 0
trigger1 = pos y >= 0
value = 52

;---------------------------------------------------------------------------
;斬空掌  空中2
[Statedef 1115]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7411
sprpriority = 2
poweradd = 0
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 8
value = 2, 14
channel = 0

;[state 0,0]
;type = posadd
;triggerall = numhelper(1111) >= 1
;trigger1 = var(41) = 2
;trigger1 = var(27) >= 1
;trigger1 = enemy,gethitvar(hitcount)>=8;helper(1111),movehit
;x = floor(enemy,gethitvar(hitcount)*-0.09)
;ignorehitpause = 1

[State 0, 0]
type = Helper
trigger1 = time = 21
helpertype = normal
name = "beam"
ID = 1111
stateno = 1116
postype = p1
pos = 8,-52
keyctrl = 0
ownpal = 1
;size.xscale = 0.75
;size.yscale = 0.75

[state 0,0]
type = veladd
trigger1 = time = 20
x = -0.5
y = -3

[state 0,0]
type = veladd
trigger1 = time >= 20
y = 0.45

[State 210, 3]
type = Changeanim
trigger1 = time = 19
value = 7412

[State 210, 3]
type = ChangeState
;triggerall = var(41) = 2
trigger1 = pos y >= 0
value = 52


[State 200, HitDef1]
type = HitDef
triggerall = var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = A, SA
damage = 30, 5
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 2, miss
pausetime = 9, 6
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3,0
air.velocity = -3.5,4.6
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
fall.recovertime = 32

[State 200, HitDef1]
type = HitDef
triggerall = var(27) = 1
trigger1 = time >= 2
persistent = 0
attr = A, SA
damage = 30, 5
getpower = ifelse(var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 2, miss
pausetime = 8, 7
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,0
air.velocity = -1,1
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715


;---------------------------------------------------------------------------
;ざんくうしょう本体1
[Statedef 1111]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7413
sprpriority = 3
velset = 1.5,1.5

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 31, 1
volume = -200

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = movehit
persistent = 0
v = 44
value = 100000
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = parentvaradd
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[State -2, max]
type = Explod
triggerall = ishelper
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1
persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;[state 0,0]
;type = destroyself
;trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
value = 1112

[State 210, 3]
type = ChangeState
trigger1 = time = 300
trigger2 = pos y >= -20
value = 1112


[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.8

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) = 0
trigger1 = time >= 6
persistent = 0
attr = A, SP
damage = ifelse(enemy,gethitvar(hitcount)>=10,20,40), 4
getpower = ifelse(parent,var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 2, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -3,0
air.velocity = -2,-3
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
fall.recovertime = 25

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) >= 1
trigger1 = time >= 6
persistent = 0
attr = A, SP
damage = ifelse(enemy,gethitvar(hitcount)>=10,30,60), 4
getpower = ifelse(parent,var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,-4.6
air.velocity = -3,-4.6
fall = 1
air.fall = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715


;---------------------------------------------------------------------------
;ざんくうしょう本体2
[Statedef 1116]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7413
sprpriority = 3
velset = 6,6

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 31, 1
volume = -200

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = movehit
persistent = 0
v = 44
value = 100000
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = parentvaradd
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[State -2, max]
type = Explod
triggerall = ishelper
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1
persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;[state 0,0]
;type = destroyself
;trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
value = 1112

[State 210, 3]
type = ChangeState
trigger1 = time = 300
trigger2 = pos y >= -20
value = 1112


[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.8

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) = 0
trigger1 = time >= 6
persistent = 0
attr = A, SP
damage = ifelse(enemy,gethitvar(hitcount)>=10,20,40), 4
getpower = ifelse(parent,var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 3, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -3,0
air.velocity = -3,7
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
air.fall = 1
fall.recovertime = 25

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) >= 1
trigger1 = time >= 6
persistent = 0
attr = A, SP
damage = ifelse(enemy,gethitvar(hitcount)>=10,30,60), 4
getpower = ifelse(parent,var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,-4.6
air.velocity = -3,-4.6
fall = 1
air.fall = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715



;---------------------------------------------------------------------------
;ざんくうしょう本体ex
[Statedef 1118]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7413
sprpriority = 3
velset = 6.5,5

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 31, 1
volume = -200

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = movehit
persistent = 0
v = 44
value = 100000
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = parentvaradd
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[State -2, max]
type = Explod
triggerall = ishelper
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1
persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;[state 0,0]
;type = destroyself
;trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
value = 1112

[State 210, 3]
type = ChangeState
trigger1 = time = 300
trigger2 = pos y >= -20
value = 1112


[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.8

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) = 0
trigger1 = time >= 6
persistent = 0
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=10,30,60), 4
getpower = 0,28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 3, 8
guard.pausetime = 6, 8
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -3,0
air.velocity = -2,-3
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
fall = 1
air.fall = 1
fall.recovertime = 30

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) >= 1
trigger1 = time >= 6
persistent = 0
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=10,30,60), 4
getpower = ifelse(parent,var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,-4.6
air.velocity = -3,-4.6
fall = 1
air.fall = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715


;---------------------------------------------------------------------------
;ざんくうしょう本体ex2
[Statedef 1113]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7413
sprpriority = 3
velset = 3,5


[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = movehit
persistent = 0
v = 44
value = 100000
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = parentvaradd
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[State -2, max]
type = Explod
triggerall = ishelper
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1
persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;[state 0,0]
;type = destroyself
;trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
value = 1112

[State 210, 3]
type = ChangeState
trigger1 = time = 300
trigger2 = pos y >= -20
value = 1112


[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.8

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) = 0
trigger1 = time >= 6
persistent = 0
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=10,40,60), 4
getpower = 0,28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 2, 11
guard.pausetime = 6, 8
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -3,0
air.velocity = -3.5,-8
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
fall = 1
air.fall = 1
fall.recovertime = 30

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) >= 1
trigger1 = time >= 6
persistent = 0
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=10,30,60), 4
getpower = ifelse(parent,var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,-4.6
air.velocity = -3,-4.6
fall = 1
air.fall = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715



;---------------------------------------------------------------------------
;ざんくうしょう本体ex3
[Statedef 1114]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7413
sprpriority = 3
velset = 9,5

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = movehit
persistent = 0
v = 44
value = 100000
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = parentvaradd
triggerall = parent,var(57) = 1
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 1000000 < 100000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[State -2, max]
type = Explod
triggerall = ishelper
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1
persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;[state 0,0]
;type = destroyself
;trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
value = 1112

[State 210, 3]
type = ChangeState
trigger1 = time = 300
trigger2 = pos y >= -20
value = 1112


[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.8

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) = 0
trigger1 = time >= 6
persistent = 0
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=10,20,40), 4
getpower = 0,28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 2, 11
guard.pausetime = 6, 8
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -3,0
air.velocity = -2,-6
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
fall = 1
air.fall = 1
fall.recovertime = 30

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) >= 1
trigger1 = time >= 6
persistent = 0
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=10,30,60), 4
getpower = ifelse(parent,var(50)=0,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -3,-4.6
air.velocity = -3,-4.6
fall = 1
air.fall = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715

;---------------------------------------------------------------------------
;空中ビームhit
[Statedef 1112]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7414
sprpriority = 3
velset = 0,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = animtime = 0



;---------------------------------------------------------------------------
;空中ビーム発射ex
[Statedef 1117]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7411
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,0]
type = posadd
triggerall = time >= 61
triggerall = numhelper(1118) >= 1
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = helper(1118),movehit
x = floor(enemy,gethitvar(hitcount)*-0.09)
;ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = 45,-50
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = 45,-50
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1995
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 1
persistent = 0
helpertype = normal
name = "hokuto"
ID = 1996
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 65

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)


[state 0,0]
type = velset
trigger1 = time <= 66
x = 0
y = 0
[state 0,0]
type = velset
trigger1 = time = 69
x = -3
y = -4

[state 0,0]
type = playsnd
trigger1 = time =68
value = 31, 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 2, 13
channel = 0

;[state 0,0]
;type = posadd
;triggerall = numhelper(1111) >= 1
;trigger1 = var(41) = 2
;trigger1 = var(27) >= 1
;trigger1 = enemy,gethitvar(hitcount)>=8;helper(1111),movehit
;x = floor(enemy,gethitvar(hitcount)*-0.09)
;ignorehitpause = 1

[State 0, 0]
type = Helper
trigger1 = time = 65
helpertype = normal
name = "beam"
ID = 1111
stateno = 1118
postype = p1
pos = 10,-52
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Helper
trigger1 = time = 65
helpertype = normal
name = "beam"
ID = 1111
stateno = 1113
postype = p1
pos = 3,-50
keyctrl = 0
ownpal = 1
;size.xscale = 0.75
;size.yscale = 0.75

[State 0, 0]
type = Helper
trigger1 = time = 65
helpertype = normal
name = "beam"
ID = 1111
stateno = 1114
postype = p1
pos = 8,-52
keyctrl = 0
ownpal = 1

[state 0,0]
type = veladd
trigger1 = time = 60
x = -0.5
y = -3

[state 0,0]
type = veladd
trigger1 = time >= 60
y = 0.45

[State 210, 3]
type = Changeanim
trigger1 = time = 60
value = 7412

[State 210, 3]
type = ChangeState
;triggerall = var(41) = 2
trigger1 = pos y >= 0
value = 52


;---------------------------------------------------------------------------
;空中ビームex
[Statedef 1118]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7291
sprpriority = 3
velset = 2,2

[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.5

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,star]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(44) % 10000 < 1000
trigger1 = movehit
persistent = 0
v = 44
value = 1000
[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 10000 < 1000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[State -2, max]
type = Explod
triggerall = ishelper
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1
;persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
;trigger1 = time = 69
trigger1 = pos y >= 0
value = 1119

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 6
persistent = 7
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=14,14,23), 4
getpower = 0
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 3, 7
guard.pausetime = 1, 2
sparkno = 2
sparkxy = -3, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,-0.6
fall = 1
air.fall = 1
fall.recovertime = 60
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 6
persistent = 7
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=14,14,23), 4
getpower = 0
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 3, 7
guard.pausetime = 1, 2
sparkno = 2
sparkxy = -3, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,-0.6
fall = 1
air.fall = 1
fall.recovertime = 60
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715
;---------------------------------------------------------------------------
;空中ビームex
[Statedef 1119]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7292
sprpriority = 3
velset = 2.3,0

[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.8

[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = time = 1
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[state 0,star]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(44) % 10000 < 1000
trigger1 = time = 1
persistent = 0
v = 44
value = 1000
[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = time = 1
trigger1 = parent,var(44) % 10000 < 1000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1




[State -2, max]
type = Explod
triggerall = ishelper
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1
;persistent = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = animtime = 0

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 6
persistent = 7
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=14,9,13), 4
getpower = 0
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 2, 7
guard.pausetime = 1, 2
sparkno = 2
sparkxy = -3, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,-0.6
fall = 1
air.fall = 1
fall.recovertime = 20
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 6
persistent = 7
attr = A, HP
damage = ifelse(enemy,gethitvar(hitcount)>=14,9,13), 4
getpower = 0
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 2, 7
guard.pausetime = 1, 2
sparkno = 2
sparkxy = -3, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,-0.6
fall = 1
air.fall = 1
fall.recovertime = 20
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2
p2stateno = 8715



;当て身 地上・対地対空---------------------------------------
[Statedef 1180]
type    = S
movetype= I
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 7443
sprpriority = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7444
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
removeongethit = 1

[state 0,0]
type = reversaldef
triggerall = var(41) = 2
trigger1 = time <= 14;enemy,movetype = A
Reversal.Attr = SA, NA,SA
pausetime = 2,2;28,30
hitsound = S30,2
numhits = 0
sparkno = -1;S7109
sparkxy = 20,-30
p1stateno = 1181
persistent = 0

[state 0,0]
type = reversaldef
triggerall = var(41) = 3
trigger1 = time <= 14;enemy,movetype = A
Reversal.Attr = SCA, NA,SA
pausetime = 35,52;28,30
hitsound = S30,2
numhits = 0
sparkno = -1;S7109
sparkxy = 20,-30
p1stateno = 9232
persistent = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;当て身 地上・対地対空--成功-------------------------------------
[Statedef 1181]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
;anim = 7451
sprpriority = 1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = time <= 35
value = SCA
time = 2


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 0
anim = 7444
postype = p1
pos = 0,ifelse(prevstateno = 1180,0,14)
ownpal = 1
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
removeongethit = 1


[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 2, 34

[state 0,0]
type = changeanim
trigger1 = time = 1
value = 7451

[state 0,0]
type = pause
trigger1 = time = 0
time = 35

[state 0,0]
type = pause
trigger1 = time = 1
time = 10
movetime = 10

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = var(41) = 2
trigger1 = time >= 1
attr = S, SA
damage = 70, 6
getpower = ifelse(var(50)=0,48,0),13
givepower = 19,8
animtype = heavy
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 1, 10
sparkno = 0;S8004
sparkxy = -5, 0
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0,-6.9
guard.velocity = -5
fall = 1
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0))
p2stateno = 8715

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = var(41) = 3
trigger1 = time >= 1
attr = S, SA
damage = 70, 6
getpower = ifelse(var(50)=0,48,0),13
givepower = 19,8
animtype = heavy
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 1, 10
sparkno = 0;S8004
sparkxy = -5, 0
hitsound = S101, 3
guardsound = S0, 0
ground.type = High
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = 0,-6.9
guard.velocity = -5
fall = 1
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0))
p2stateno = 9300


[state 0,0]
type = varset
triggerall = var(41) != 0
trigger1 = movehit
trigger1 = var(25) <= 1
v = 27
value = 1;ifelse(var(27) = 0,1,0)
persistent = 0
ignorehitpause = 1

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 60, 6

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;当て身 地上・対下段---------------------------------------
[Statedef 1182]
type    = C
movetype= I
physics = C
juggle  = 3
poweradd= 0
ctrl = 0
anim = 7452
velset = 0,0
sprpriority = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7444
postype = p1
pos = 0,17
ownpal = 1
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
removeongethit = 1

[state 0,0]
type = reversaldef
triggerall = var(41) = 2
trigger1 = time <= 14;enemy,movetype = A
Reversal.Attr = C, NA,SA
pausetime = 2,2;28,30
hitsound = S30,2
numhits = 0
sparkno = -1;S7109
sparkxy = 20,-40
p1stateno = 1181
persistent = 0
[state 0,0]
type = reversaldef
triggerall = var(41) = 3
trigger1 = time <= 14;enemy,movetype = A
Reversal.Attr = SC, NA,SA
pausetime = 35,52;28,30
hitsound = S30,2
numhits = 0
sparkno = -1;S7109
sparkxy = 20,-40
p1stateno = 9420
persistent = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;当て身 地上・対空---------------------------------------
[Statedef 1183]
type    = S
movetype= I
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 7538
sprpriority = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7539
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
removeongethit = 1

[state 0,0]
type = reversaldef
trigger1 = time <= 14;enemy,movetype = A
Reversal.Attr = SA, NA,SA
pausetime = 35,52;28,30
hitsound = S30,2
numhits = 0
sparkno = -1;S7109
sparkxy = 20,-30
p1stateno = 9427;9232;1181
persistent = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;当て身 空中・対地対空---------------------------------------
[Statedef 1184]
type    = A
movetype= I
physics = A
poweradd= 0
ctrl = 0
anim = 7540
sprpriority = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7444
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
removeongethit = 1


[state 0,0]
type = reversaldef
trigger1 = time <= 14;enemy,movetype = A
Reversal.Attr = SCA, NA
pausetime = 35,52;28,30
hitsound = S30,2
numhits = 0
sparkno = -1;S7109
sparkxy = 20,-30
p1stateno = 1185
persistent = 0

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1


;--------------------------------------------------
;空中反撃
[Statedef 1185]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 7541
sprpriority = 2
poweradd = 30

[state 0,0]
type = velset
trigger1 = time = 0
x = 5
y = -4

[state 0,0]
type = velset
trigger1 = time = [10,25]
x = 0
y = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = time <= 35
value = SCA
time = 2

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,3
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 4
value = 1, 0
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 4
value = 1, 2
channel = 0

[state 0,0]
type = varset
trigger1 = time = 0
trigger1 = var(27) = 0
trigger1 = var(41) = 2
v = 27
value = 1
[state 0,basuke]
type = varadd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.85
persistent = 0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
trigger1 = movehit
x = ceil(enemy,gethitvar(hitcount)*-0.5)
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 100,1

[State 200, HitDef1]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = A, NA
damage = ifelse(var(39)=1,34,31), ifelse(var(49)>0,4,0)
getpower = ifelse(var(50)=0,15,0)
givepower = 4
animtype = heavy
guardflag = HA
hitflag = MAFD
priority = 4, Hit
pausetime = 8, 12
guard.pausetime = 5, 11
sparkno = 0
sparkxy = -8, -55
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = ifelse(var(37)=1,12,8)
ground.hittime  = 7
air.slidetime = ifelse(var(37)=1,15,12)
air.hittime  = ifelse(var(37)=1,15,12)
ground.velocity = -5,5
air.velocity = -5,9
fall = 1
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = -3
fall.yvelocity = -8
envshake.time = 10
envshake.ampl = 2
p2stateno = 621

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = time = 25
value = 5040

[state 0,0]
type = ctrlset
trigger1 = time >= 25
trigger1 = anim = 5040
value = 1





;---------------------------------------------------------------------------
;斬空閃
[Statedef 1190]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7446
sprpriority = 2
poweradd = 0

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7446

[State 0, 1]
type = PlaySnd
trigger1 = animelemtime(2) = 4;time = 10
value = 2,12
channel = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31

[State 0, 0]
type = Helper
triggerall = var(41) != 3
trigger1 = time = 16
helpertype = normal
name = "zanku"
ID = 1191
stateno = 1191
postype = p1
pos = 0,-45
keyctrl = 0
ownpal = 1
[State 0, 0]
type = Helper
triggerall = var(41) = 3
trigger1 = animelemtime(4) = 1;time = 16
helpertype = normal
name = "zanku"
ID = 1191
stateno = 1197
postype = p1
pos = 0,-45
keyctrl = 0
ownpal = 1

[state 0,0]
type = posadd
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
x = floor(enemy,gethitvar(hitcount)*-0.09)
ignorehitpause = 1

[state 0,0]
type = posadd
triggerall = numhelper(1191) >= 1
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = helper(1191),movehit
x = floor(enemy,gethitvar(hitcount)*-0.12)
ignorehitpause = 1

;---------------------------------------------------------------------------
;攻撃判定
[Statedef 1191]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7482
sprpriority = 3
velset = 1,0

[state 0,basuke]
type = parentvaradd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = parent,var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 0,0]
type = playsnd
trigger1 =time = 2
value = 31, 2

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
;trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time = 0
time = 5
mul = 120,120,120

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 5
persistent = 0
attr = A, SP
damage = ifelse(parent,var(39)=1,80,70), 9
getpower = ifelse(parent,var(50)=0,17,0),23
givepower = 16,13
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 5, 18
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -14
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 16
ground.velocity = -8,0
air.velocity = -8,-2.6+(parent,var(7)*0.4)
;fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = -3
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 5
persistent = 0
attr = A, SP
damage = ifelse(parent,var(39)=1,81,75), 9
getpower = ifelse(parent,var(50)=0,20,0),23
givepower = 16,13
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 5, 10
guard.pausetime = 6, 4
sparkno = 2
sparkxy = -8, -14
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -2.5
p2stateno = 8715

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7630
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = time = 240
trigger2 = movecontact
value = 1192

;---------------------------------------------------------------------------
;攻撃判定kieru
[Statedef 1192]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7482
sprpriority = 3
velset = 0.4,0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


[state 0,0]
type = palfx
trigger1 = time >= 0
time = 1
mul = 255 - (time*10),255 - (time*10),255 - (time*10)

[state 0,0]
type = destroyself
trigger1 = time = 25




;---------------------------------------------------------------------------
;斬空閃
[Statedef 1193]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7534
sprpriority = 2
poweradd = 0


[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7534

[State 0, 1]
type = PlaySnd
trigger1 = animelemtime(3) = 1;time = 10
value = 2,12
channel = 0
[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 0, 0]
type = Helper
trigger1 = animelemtime(3) = 1;time = 19
helpertype = normal
name = "zanku"
ID = 1191
stateno = 1194
postype = p1
pos = 0,-45
keyctrl = 0
ownpal = 1


;---------------------------------------------------------------------------
;攻撃判定2
[Statedef 1194]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7482
sprpriority = 3
velset = 3,0

[state 0,0]
type = playsnd
trigger1 =time = 2
value = 31, 2

[state 0,basuke]
type = parentvaradd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = parent,var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
;trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time = 0
time = 5
mul = 120,120,120

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = varadd
trigger1 = movecontact
v = 20
value = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 5
persistent = 5
attr = A, SP
damage = 34, 5
getpower = ifelse(parent,var(50)=0,17,0),23
givepower = 16,13
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 5, 12
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -14
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 16
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = -3
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7630
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = time = 45
trigger2 = movecontact
trigger2 = var(20) >= 6
value = 1192


;---------------------------------------------------------------------------
;斬空閃3
[Statedef 1195]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7535
sprpriority = 2
poweradd = 0

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7535

[State 0, 1]
type = PlaySnd
trigger1 = animelemtime(3) = 1;time = 10
value = 2,12
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


[State 0, 0]
type = Helper
trigger1 = animelemtime(3) = 1;time = 26
helpertype = normal
name = "zanku"
ID = 1191
stateno = 1196
postype = p1
pos = 0,-45
keyctrl = 0
ownpal = 1


;--------------------------------------------------------------------------
;攻撃判定3
[Statedef 1196]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7482
sprpriority = 3
velset = 7,0

[state 0,basuke]
type = parentvaradd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = parent,var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 0,0]
type = playsnd
trigger1 =time = 2
value = 31, 2

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
;trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time = 0
time = 5
mul = 120,120,120

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = varadd
trigger1 = movecontact
v = 20
value = 1

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 5
persistent = 4
attr = A, SP
damage = 30, 7
getpower = ifelse(parent,var(50)=0,17,0),23
givepower = 16,13
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 5, 12
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -14
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 16
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = -3
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7630
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = time = 23
trigger2 = movecontact
trigger2 = var(20) >= 10
value = 1192


;---------------------------------------------------------------------------
;攻撃判定
[Statedef 1197]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7482
sprpriority = 3
velset = 2,0

[state 0,basuke]
type = parentvaradd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = parent,var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
;trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time = 0
time = 5
mul = 120,120,120

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 =time = 2
value = 31, 2

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 5
persistent = 0
attr = A, SP
damage = 50, 9
getpower = ifelse(parent,var(50)=0,17,0),23
givepower = 16,13
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 5, 16
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -14
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 16
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = -3
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5

[State 210, 3]
type = ChangeState
trigger1 = time = 52
trigger2 = movecontact
value = 1192

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7630
postype = p2
pos = 0,-50
random = 10,16
ownpal = 1
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
; 逝斬１
[Statedef 1200]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7536
sprpriority = 2
poweradd = ifelse(var(33)=10,0,50)
velset = 0,0
[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7536

[state 0,0]
type = veladd
trigger1 = time >= 35
trigger2 = anim = 5040
y = 0.45

[State 210, 2]
type = PlaySnd
triggerall = anim = 7536
trigger1 = animelemtime(1) = 10
value = 2, 53
channel = 0


[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 9929
ctrl = 0

[State 210, 3]
type = Changeanim
trigger1 = time = 40
trigger1 = anim != 5040
value = 5040

[State 0, 0]
type = Helper
triggerall = anim = 7536
trigger1 = animelemtime(1) = 12
helpertype = normal
name = "zangeki"
ID = 1201
stateno = 1201
postype = p1
pos = 0,25
keyctrl = 0
ownpal = 1

[State -1]
type = posfreeze
triggerall = Numhelper(1201) >= 1
trigger1 = helper(1201),movecontact
persistent = 0

[State 200, AI]
type = ChangeState
triggerall = Numhelper(1201) >= 1
trigger1 = helper(1201),movecontact
trigger1 = time >= 8
trigger1 = var(59) = 1
trigger1 = var(41) = 3
trigger1 = power >= 1001
trigger1 = random >= 20
trigger1 = enemy,life > 0
value = 1204
;---------------------------------------------------------------------------
;攻撃判定
[Statedef 1201]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7537
sprpriority = 3

[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 2.3
persistent = 0
ignorehitpause = 1

[state 0,0]
type = parentvarset
triggerall = parent,var(33) = 3
triggerall = parent,var(41) = 3
triggerall = parent,fvar(12) = 0.1
trigger1 = movehit
ignorehitpause = 1
fv = 20
value = 780

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 0,25

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 7

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
triggerall = parent,stateno = 1200
trigger1 = time >= 3
persistent = 0
attr = A, SP
damage = 65, 7
getpower = ifelse(parent,fvar(12)!=0.1,ifelse(parent,var(33) = 10,0,238),0)
givepower = 20,12
animtype = heavy
guardflag = HA
hitflag = MAFD
priority = 3, hit
pausetime = 8, 16
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -34
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -1,2
air.velocity = -1,8
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5

[State 200, HitDef1]
type = HitDef
triggerall = parent,stateno = 1202
trigger1 = time >= 3
persistent = 3
attr = A, SP
damage = 40, 7
getpower = ifelse(parent,fvar(12)!=0.1,ifelse(parent,var(33) = 10,0,100),0)
givepower = 20,12
animtype = heavy
guardflag = HA
hitflag = MAFD
priority = 3, hit
pausetime = 8, 16
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -34
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -1,2
air.velocity = -1,8
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5

[State 200, HitDef1]
type = HitDef
triggerall = parent,stateno = 1203
trigger1 = time >= 3
persistent = 2
attr = A, SP
damage = 35, 7
getpower = ifelse(parent,fvar(12)!=0.1,ifelse(parent,var(33) = 10,0,150),0)
givepower = 20,12
animtype = heavy
guardflag = HA
hitflag = MAFD
priority = 3, hit
pausetime = 8, 16
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -34
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -1,2
air.velocity = -1,8
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5



[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H

;---------------------------------------------------------------------------
; 逝斬2
[Statedef 1202]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7536
sprpriority = 2
poweradd = ifelse(var(33)=10,0,70)
velset = 2,-2
[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7536

[state 0,0]
type = velset
triggerall = anim = 7536
trigger1 = time = 12
x = 1
y = -1
[state 0,0]
type = velset
triggerall = anim = 7536
trigger1 = time = 20
x = 0.5

[state 0,0]
type = veladd
trigger1 = time >= 26
trigger2 = anim = 5040
y = 0.45

[State 210, 2]
type = PlaySnd
triggerall = anim = 7536
trigger1 = animelemtime(1) = 10
value = 2, 53
channel = 0



[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 9929
ctrl = 0


[State 210, 3]
type = Changeanim
trigger1 = time = 40
trigger1 = anim != 5040
value = 5040

[State 0, 0]
type = Helper
triggerall = anim = 7536
trigger1 = animelemtime(1) = 12
helpertype = normal
name = "zangeki"
ID = 1201
stateno = 1201
postype = p1
pos = 0,25
keyctrl = 0
ownpal = 1


[State -1]
type = posfreeze
triggerall = Numhelper(1201) >= 1
trigger1 = helper(1201),movecontact
persistent = 0

[State 200, AI]
type = ChangeState
triggerall = Numhelper(1201) >= 1
trigger1 = helper(1201),movecontact
trigger1 = time >= 8
trigger1 = var(59) = 1
trigger1 = var(41) = 3
trigger1 = power >= 1001
trigger1 = random >= 20
trigger1 = enemy,life > 0
value = 1204

;---------------------------------------------------------------------------
; 逝斬3
[Statedef 1203]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7536
sprpriority = 2
poweradd = ifelse(var(33)=10,0,90)
velset = 2.5,-2.5
[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7536

[state 0,0]
type = velset
triggerall = anim = 7536
trigger1 = time = 12
x = 1.6
y = -1.6
[state 0,0]
type = velset
triggerall = anim = 7536
trigger1 = time = 20
x = 0.9

[state 0,0]
type = veladd
trigger1 = time >= 25
trigger2 = anim = 5040
y = 0.45

[State 210, 2]
type = PlaySnd
triggerall = anim = 7536
trigger1 = animelemtime(1) = 10
value = 2, 53
channel = 0


[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 9929
ctrl = 0

[State 210, 3]
type = Changeanim
trigger1 = time = 40
trigger1 = anim != 5040
value = 5040

[State 0, 0]
type = Helper
triggerall = anim = 7536
trigger1 = animelemtime(1) = 12
helpertype = normal
name = "zangeki"
ID = 1201
stateno = 1201
postype = p1
pos = 0,25
keyctrl = 0
ownpal = 1


[State -1]
type = posfreeze
triggerall = Numhelper(1201) >= 1
trigger1 = helper(1201),movecontact
persistent = 0

[State 200, AI]
type = ChangeState
triggerall = Numhelper(1201) >= 1
trigger1 = helper(1201),movecontact
trigger1 = time >= 8
trigger1 = var(59) = 1
trigger1 = var(41) = 3
trigger1 = power >= 1001
trigger1 = random >= 20
trigger1 = enemy,life > 0
value = 1204

;---------------------------------------------------------------------------
; 逝斬ex
[Statedef 1204]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7536
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,0]
type = changeanim
trigger1 = time <= 46
value = 7536

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 70

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 7
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1994;9
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5
[State 0, 0]
type = Helper
;triggerall = var(41) = 2
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = -17,-50
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = -17,-50
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[state 0,0]
type = veladd
trigger1 = time >= 100
y = 0.45

[State 0, 1]
type = PlaySnd
trigger1 = time = 1
value = 2,52
channel = 0
[State 0, 1]
type = PlaySnd
trigger1 = time = 65
value = 2,53
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = time >= 90
trigger1 = anim = 5040
value = 50
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 9929
ctrl = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 210, 3]
type = Changeanim
trigger1 = time = 100
trigger1 = anim != 5040
value = 5040

[State 0, 0]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "zangeki"
ID = 1201
stateno = 1205
postype = p1
pos = 0,40
keyctrl = 0
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2


;---------------------------------------------------------------------------
;攻撃判定ex
[Statedef 1205]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7555
sprpriority = 3
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1.2
persistent = 0
ignorehitpause = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 7

;[state 0,0]
;type = assertspecial
;trigger1 = 1
;flag = invisible
;ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 2
add = 150,-100,0
ignorehitpause = 1

[State 0, 0]
type = null;Explod
persistent = 0
trigger1 = time = 0
anim = 7555
scale = 1.2,1.2
pos = 0,0
ownpal = 0
sprpriority = 5
bindtime = -1
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, HP
damage = 135, 17
getpower = 30
givepower = 20,12
animtype = heavy
guardflag = HA
hitflag = MAFD
priority = 3, hit
pausetime = 9, 12
guard.pausetime = 8, 8
sparkno = 2
sparkxy = -8, -34
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -1,2
air.velocity = -1,17
fall = 1
air.fall = 1
fall.recover = ifelse(enemy,gethitvar(hitcount)>=15,20,85)
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5
fall.yvelocity = -12.5 + (enemy,gethitvar(hitcount))*0.3

[state 0,0]
type = destroyself
trigger1 = animtime = 0
trigger2 = parent,movetype = H


;---------------------------------------------------------------------------
;斬空閃ex
[Statedef 1206]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7535
sprpriority = 2
poweradd = 0

[state 0,0]
type = changeanim
trigger1 = time <= 46
value = 7535

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 1
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
;triggerall = var(41) = 2
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1994;9
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = -17,-50
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = -17,-50
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1


[State 0, 1]
type = PlaySnd
trigger1 = time = 10
value = 2,12
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 0, 0]
type = Helper
trigger1 = time = 76
helpertype = normal
name = "zanku"
ID = 1191
stateno = 1207
postype = p1
pos = 0,-45
keyctrl = 0
ownpal = 1



;--------------------------------------------------------------------------
;攻撃判定ex
[Statedef 1207]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7482
sprpriority = 5
velset = 0,0

[state 0,0]
type = changestate
trigger1 = parent,movetype = H
value = 1209

[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 2
add = 150,-100,0
mul = 200,200,200
ignorehitpause = 1

[State 0, 0]
type = Explod
persistent = 0
trigger1 = time = 0
anim = 7482
scale = 1.2,1.2
pos = 0,0
ownpal = 0
sprpriority = 5
bindtime = -1
ignorehitpause = 1
removetime = -1
removeongethit = 1

[state 0,0]
type = changestate
trigger1 = time >= 3
trigger1 = parent,command != "holdx"
trigger1 = parent,command != "holdy"
value = 1208

;--------------------------------------------------------------------------
;攻撃判定ex
[Statedef 1208]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7482
sprpriority = 3
velset = 7,0

[state 0,0]
type = changestate
trigger1 = parent,movetype = H
value = 1209

[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 2
add = 150,-100,0
ignorehitpause = 1

[state 0,basuke]
type = parentvaradd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = parent,var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
;trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, HP
damage = 130, 10
getpower = ifelse(parent,var(50)=0,17,0),23
givepower = 16,13
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 5, 13
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -14
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 16
ground.velocity = -8,0
air.velocity = -8,-3.6
;fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = -3
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5

[State 210, 3]
type = ChangeState
trigger1 = frontedgedist <= -10
trigger2 = movecontact
value = 1209

[State 3000, effect]
type = Explod
trigger1 = movehit
anim = 7630
postype = p2
pos = 0,-50
random = 10,16
ownpal = 0
sprpriority = 5
persistent = 0
bindtime = -1
ignorehitpause = 1

;--------------------------------------------------------------------------
;攻撃判定exdest
[Statedef 1209]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = 5
velset = 0,0


[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1


[state 0,0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1


[state 0,0]
type = removeexplod
trigger1 = 1

[state 0,0]
type = destroyself
trigger1 = time = 2

;---------------------------------------------------------------------------
;アデアット  空中１
[Statedef 1210]
type    = A
movetype= A
physics = A
ctrl = 0
;anim = 7411
sprpriority = 2
poweradd = 0
velset = 2,-3

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7411

[State 210, 2]
type = PlaySnd
triggerall = anim = 7411
trigger1 = animelemtime(1) = 2
value = 2, 50
channel = 0

[State 0, 0]
type = Helper
triggerall = anim = 7411
trigger1 = animelemtime(3) = 1;time=5
helpertype = normal
name = "adeatto"
ID = 1211
stateno = 1211
postype = p1
pos = 13,-52
keyctrl = 0
ownpal = 1

[State 210, 3]
type = Changeanim
trigger1 = time = 9
trigger2 = prevstateno = 7040
trigger2 = time = 0
trigger2 = anim != 7412
value = 7412

[State 210, 3]
type = ChangeState
trigger1 = time = 20
value = 50
ctrl = 1

[State 210, 3]
type = ChangeState
;triggerall = var(41) = 2
trigger1 = pos y >= 0
value = 52
;---------------------------------------------------------------------------
;アデアット  空中2
[Statedef 1215]
type    = A
movetype= A
physics = A
ctrl = 0
;anim = 7411
sprpriority = 2
poweradd = 0
velset = 2,-3

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7411

[State 210, 2]
type = PlaySnd
triggerall = anim = 7411
trigger1 = animelemtime(1) = 2
value = 2, 50
channel = 0

[State 0, 0]
type = Helper
triggerall = anim = 7411
trigger1 = animelemtime(3) = 1
helpertype = normal
name = "adeatto"
ID = 1211
stateno = 1217
postype = p1
pos = 8,-52
keyctrl = 0
ownpal = 1

[State 210, 3]
type = Changeanim
trigger1 = time = 9
trigger2 = prevstateno = 7040
trigger2 = anim != 7412
trigger2 = time = 0
value = 7412

[State 210, 3]
type = ChangeState
trigger1 = time = 20
value = 50
ctrl = 1

[State 210, 3]
type = ChangeState
;triggerall = var(41) = 2
trigger1 = pos y >= 0
value = 52

;---------------------------------------------------------------------------
;アデアット  空中3
[Statedef 1216]
type    = A
movetype= A
physics = A
ctrl = 0
;anim = 7411
sprpriority = 2
poweradd = 0
velset = 2,-3

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7411

[State 210, 2]
type = PlaySnd
triggerall = anim = 7411
trigger1 = animelemtime(1) = 2
value = 2, 50
channel = 0

[State 0, 0]
type = Helper
triggerall = anim = 7411
trigger1 = animelemtime(3) = 1
helpertype = normal
name = "adeatto"
ID = 1211
stateno = 1218
postype = p1
pos = 8,-52
keyctrl = 0
ownpal = 1

[State 210, 3]
type = ChangeState
trigger1 = time = 20
value = 50
ctrl = 1

[State 210, 3]
type = Changeanim
trigger1 = time = 9
trigger2 = time = 0
trigger2 = prevstateno = 7040
trigger2 = anim != 7412
value = 7412

[State 210, 3]
type = ChangeState
;triggerall = var(41) = 2
trigger1 = pos y >= 0
value = 52


;---------------------------------------------------------------------------
;本体1
[Statedef 1211]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7542
sprpriority = 3
velset = 1.8,9
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1.1
persistent = 0
ignorehitpause = 1


[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 3

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;[state 0,0]
;type = destroyself
;trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
value = 1213

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 1212

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 6
persistent = 0
attr = A, SP
damage = ifelse(enemy,gethitvar(hitcount)>=10,20,40), 4
getpower = ifelse(parent,var(33)!=10,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 2, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -3,0
air.velocity = -2,-3
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
fall.recovertime = ifelse(parent,fvar(7)>=20,1,20- floor(parent,fvar(7)))
;ifelse(enemy,gethitvar(hitcount)<20, (20 - enemy,gethitvar(hitcount)), 1)


;---------------------------------------------------------------------------
;本体2
[Statedef 1217]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7565
sprpriority = 3
velset = 6.5,7
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1.1
persistent = 0
ignorehitpause = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 3

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;[state 0,0]
;type = destroyself
;trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
value = 1213

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 1212

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 6
persistent = 0
attr = A, SP
damage = ifelse(enemy,gethitvar(hitcount)>=10,20,40), 4
getpower = ifelse(parent,var(33)!=10,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 2, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -3,0
air.velocity = -2,-3
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
fall.recovertime = ifelse(parent,fvar(7)>=20,1,20- floor(parent,fvar(7)))
;ifelse(enemy,gethitvar(hitcount)<20, (20 - enemy,gethitvar(hitcount)), 1)

;---------------------------------------------------------------------------
;本体3
[Statedef 1218]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7544
sprpriority = 3
velset = 9,6
[state 0,hithitcount]
type = parentvaradd
trigger1 = movehit
fv = 7
value = 1.1
persistent = 0
ignorehitpause = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 3

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

;[state 0,0]
;type = destroyself
;trigger1 = animtime = 0

[State 210, 3]
type = ChangeState
trigger1 = movecontact
value = 1213

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 1212

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 6
persistent = 0
attr = A, SP
damage = ifelse(enemy,gethitvar(hitcount)>=10,20,40), 4
getpower = ifelse(parent,var(33)!=10,50,0),28
givepower = 28,19
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 2, 9
guard.pausetime = 6, 7
sparkno = -1;2
sparkxy = -8, -44
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -3,0
air.velocity = -2,-3
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,0);0
envshake.time = 10
envshake.ampl = 2
fall.recovertime = ifelse(parent,fvar(7)>=20,1,20- floor(parent,fvar(7)));ifelse(enemy,gethitvar(hitcount)<20, (20 - enemy,gethitvar(hitcount)), 1)


;---------------------------------------------------------------------------
;本体 地面
[Statedef 1212]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7548
sprpriority = 4
velset = 0,0

[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = prevstateno = 1218
value = 7549
[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = prevstateno = 1217
value = 7566

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = destroyself
trigger1 = time = 120

[state 0,0]
type = palfx
trigger1 = time = [100,120]
mul = 255-(time*2),255-(time*2),255-(time*2)
time = 1

[state 0,0]
type = posset
trigger1 = time >= 0
y = 0

;---------------------------------------------------------------------------
;本体 ヒット
[Statedef 1213]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = 3
anim = 7546
velset = 0,0

[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = prevstateno = 1218
value = 7547
[state 0,0]
type = changeanim
trigger1 = time = 0
trigger1 = prevstateno = 1217
value = 7567

[state 0,0]
type = palfx
trigger1 = time <= 50
mul = 255-(time*5),255-(time*5),255-(time*5)
time = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = destroyself
trigger1 = time = 49






;------------------------------------------------
;夢想転生 旋一閃
[Statedef 2070]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7622
sprpriority = 2
velset = 0,0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 83
movetime = 83
pos = -14,-9
ownpal = 1
anim = S8999
sound = S95,1
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 2
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = null;Explod
persistent = 0
trigger1 = time = 2
anim = 7049
postype = p1
pos = -30,-10
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = null;Explod
persistent = 0
trigger1 = time = 2
anim = 7048
postype = p1
pos = -30,-10
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[state 0,0]
type = varset
trigger1 = time = 2
v = 0
value = 1

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 2,49
channel = 0

[State 0, 0]
type = ChangeState
trigger1 = time = 81
value = 0
ctrl = 1


[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7625
postype = p1
pos = -55,0
vel = 0.9
accel = -0.005
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
removeongethit = 1
supermovetime = 100
[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7625
postype = p1
pos = -15,0
vel = 0.4
accel = -0.005
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
removeongethit = 1
supermovetime = 100
[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7625
postype = p1
pos = 55,0
vel = -0.9
accel = 0.005
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
removeongethit = 1
supermovetime = 100
[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7625
postype = p1
pos = 15,0
vel = -0.4
accel = 0.005
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
removeongethit = 1
supermovetime = 100




;------------------------------------------------
;ブロッキング 旋一閃
[Statedef 2071]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 7403
sprpriority = 2
velset = 0,0

[state 0,0]
type = varset
trigger1 = time = 0
v = 0
value = 0

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 2,46
channel = 0

[state -2]
type = varset
trigger1 = 1
v = 29
value = 0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7230;7038
postype = p1
pos = 28,-60
random = 2,2
ownpal = 1
sprpriority = 5
pausemovetime = 99

[state 0,0]
type = velset
trigger1 = time <= 10
x = 3

[State 205, 2]
type = PlaySnd
trigger1 = time = 0
value = 40, 1
volume = -20

[state 0,0]
type = palfx
trigger1 = time = 0
add = 10,10,10
time = 2

[state 0, 0]
type = Pause
trigger1 = Time = 0
time = 6
[state 0, 0]
type = Pause
trigger1 = Time = 1
time = 4
movetime = 4

[state 0, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time  = 5

[State 0, 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, HT
damage = 5, 1
;getpower = ifelse(var(50)=0,60,0)
givepower = 48,32
animtype = heavy
;guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 2, 5
sparkno = 2
sparkxy = -8, -64
hitsound = S101, 3
guardsound = S0, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2.6,0
air.velocity = -3,-2
air.fall = 1
fall.recovertime = 15
ground.cornerpush.veloff = 0
guard.kill = 0;ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
kill = 0
envshake.time = 10
envshake.ampl = 2
p1stateno = 2072
p2stateno = 2073;614

;------------------------------------------------
;旋一閃　自分
[Statedef 2072]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7404
sprpriority = 1
velset = 3,-9

[state 0,0]
type = playsnd
trigger1 = time = 5
value = 2,28
channel = 0
[state 0, 0]
type = Pause
trigger1 = Time = 30
time = 60
;movetime = 60

[State 0, critical]
type = Explod
persistent = 0
trigger1 = time = 29
anim = 7623
postype = left
pos = 20,90
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;scale = 0.5,0.5

[State 0, critical]
type = Explod
trigger1 = time >= 1
anim = 7624
postype = left
pos = 124,160
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
scale = 1 + (time*0.06),1 + (time*0.06)



[state 0,0]
type = posadd
trigger1 = time = 0
x = 30
y = -30

[state 0,0]
type = veladd
trigger1 = time >= 1
y = 0.45

[State 0, 0]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 0

[state 0,debug]
type = null;pause
trigger1 = gametime % 2 = 0
time = 1

[state 0,0]
type = varadd
trigger1 = time >= 1
v = 19
value = time * 22

[state 0,0]
type = angleset
trigger1 = 1
value = var(19);-22
[state 0,0]
type = angledraw
trigger1 = 1

[state 0,0]
type = targetbind
trigger1 = time >= 0
pos = 0,0;10,18

[State 0, 0]
type = Helper
trigger1 = time = 0
helpertype = normal
ignorehitpause = 1
name = "johansin"
;ID = 1001
stateno = 2074
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 0

;------------------------------------------------
;旋一閃　自分ヘルパー
[Statedef 2074]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7406
sprpriority = 5
velset = 3,-9

[state 0,0]
type = bindtoparent
trigger1 = 1
ignorehitpause = 1
pos = 0,0

[state 0,0]
type = veladd
trigger1 = time >= 1
y = 0.45

[state 0,0]
type = angleset
trigger1 = 1
value = parent,var(19);-22
[state 0,0]
type = angledraw
trigger1 = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 2072

;------------------------------------------------
;旋一閃　aite
[Statedef 2073]
type    = A
movetype= H
physics = N
ctrl = 0
;anim = 7404
sprpriority = 3
velset = 0,0

[state 0,0]
type = lifeadd
trigger1 = time >= 2
value = -1
kill = 0
[state 0,0]
type = lifeadd
trigger1 = time >= 5
trigger1 = pos y >= 0
value = -150

[state 0,0]
type = angleset
trigger1 = time >= 1;1
value =time*22
[state 0,0]
type = angledraw
trigger1 = 1

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7405

[State 0, 0]
type = selfState
trigger1 = time >= 5
trigger1 = pos y >= 0
value = 5050
ctrl = 0



;---:::::::::::::::::::::::::::::::::::::::::::::
;召喚-----直進----------------------------------------------------------------------
;
[Statedef 1030]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7433
sprpriority = 2

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,1
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 9
value = 2, 36
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 9
value = 2, 37
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 10
value = 300, 0

[State 0, 0]
type = Helper
trigger1 = time = 9
helpertype = normal
name = "chibi"
ID = 1031
stateno = 1031
postype = p1
pos = -10,-60
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Explod
trigger1 = time = 10
postype = p1
pos = 15,0
anim = 7023
ownpal = 1
keyctrl = 0
sprpriority = 5
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-直進--------------------------------------------------------------------------
;本体　
[Statedef 1031]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7434
sprpriority = 1
[State 2, shild]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 2083
IgnoreHitPause = 1
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AP
time = 2

[state 0,0]
type = playsnd
trigger1 = time = 83
trigger2 = time = 112
value = 300,5

[state 0,0]
type = velset
trigger1 = time = 0
x = -6
y = 3.2

[state 0,0]
type = veladd
trigger1 = time >= 5
y = -0.22

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 1032

;-直進--------------------------------------------------------------------------
;本体   変身〜前移動
[Statedef 1032]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7435
sprpriority = 1
velset = 0,0
[State 2, shild]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 2083
IgnoreHitPause = 1
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AP
time = 2

[State 0, 0]
type = Explod
trigger1 = time = 0
;postype = p1
pos = 0,-15
anim = 7442
ownpal = 1
keyctrl = 0
sprpriority = 5

[state 0,0]
type = velset
trigger1 = time = 10
x = 6

[State 0, 0]
type = Explod
trigger1 = time >= 10
persistent = 16
postype = p1
pos = 10,0
anim = 7775
keyctrl = 0
sprpriority = 5
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1


[State 210, 2]
type = PlaySnd
trigger1 = time = 10
value = 6, 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 10
trigger1 = p2dist x <= 60
trigger2 = time >= 300
value = 1033

;-直進--------------------------------------------------------------------------
;本体   敵前移動
[Statedef 1033]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7436
sprpriority = 2
velset = -3,-2
[State 2, shild]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 2083
IgnoreHitPause = 1
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AP
time = 2

[state 0,0]
type = velset
trigger1 = time = [2,9]
y = 0.5
[state 0,0]
type = velset
trigger1 = time = 10
y = 0

[state 0,0]
type = velset
trigger1 = time = 5
x = 9

[State 210, 2]
type = PlaySnd
trigger1 = time = 5
value = 6, 0

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 6
persistent = 0
attr = A, SA
damage = 40, 2
getpower = ifelse(parent,var(50)=0,30,0),38
givepower = 38,20
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 3, miss
pausetime = 8, 10
guard.pausetime = 6, 7
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 7
ground.hittime  = 40
ground.velocity = -2,-7
air.velocity = -3,-5
fall = 1
envshake.time = 10
envshake.ampl = 2
air.fall = 1
fall.recovertime = 30
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -7

[state 0,0]
type = changestate
trigger1 = time = 25
trigger2 = moveguarded
value = 1034
ignorehitpause = 0

;---------------------------------------------------------------------------
;本体 戻って終了
[Statedef 1034]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7437
sprpriority = 0
velset = 0,0

[State 0, 0]
type = Explod
trigger1 = time = 0
;postype = p1
pos = 0,-15
anim = 7442
ownpal = 1
keyctrl = 0
sprpriority = 5

[state 0,0]
type = velset
trigger1 = time = 13
x = 0.2
y = 1
[state 0,0]
type = veladd
trigger1 = time >= 13
y = 0.05

[state 0,0]
type = changestate;destroyself
trigger1 = pos y >= -2
value = 1035

;---------------------------------------------------------------------------
;本体 終了
[Statedef 1035]
type    = A
movetype= I
physics = N
ctrl = 0
;anim = 7437
sprpriority = 0
velset = 0,0

[state 0,0]
type = changeanim
trigger1 = prevstateno = 1044
value = 7441

[state 0,0]
type = posset
trigger1 = time = 0
y = -2

[state 0,0]
type = assertspecial
flag = invisible
trigger1 = time = [350,355]
trigger2 = time = [360,365]
trigger3 = time = [370,375]

[state 0,0]
type = destroyself
trigger1 = time = 380

[state 0,0]
type = destroyself
trigger1 = parentdist x = [-18,18]
trigger1 = parent,stateno = [10,12]

[state 0,0]
type = changestate;destroyself
trigger1 = parent,stateno = 1036
value = 1037
;---------------------------------------------------------------------------
;本体 終了
[Statedef 1037]
type    = A
movetype= I
physics = N
ctrl = 0
;anim = 7437
sprpriority = 0
velset = 0,0
[state 0,0]
type = destroyself
trigger1 = time = 9

;召喚---回収----------------------------------------------------------------
[Statedef 1036]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7486
sprpriority = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 9
value = 1, 3
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;召喚-----地面----------------------------------------------------------------------
;
[Statedef 1040]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7433
sprpriority = 2

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,1
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 9
value = 2, 36
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 9
value = 2, 37
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 10
value = 300, 0

[State 0, 0]
type = Helper
trigger1 = time = 9
helpertype = normal
name = "chibi"
ID = 1031
stateno = 1041
postype = p1
pos = -10,-60
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Explod
trigger1 = time = 10
postype = p1
pos = 15,0
anim = 7023
ownpal = 1
keyctrl = 0
sprpriority = 5
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;-地面--------------------------------------------------------------------------
;本体　
[Statedef 1041]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7434
sprpriority = 1
[State 2, shild]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 2083
IgnoreHitPause = 1
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AP
time = 2

[state 0,0]
type = playsnd
trigger1 = time = 83
trigger2 = time = 112
value = 300,5

[state 0,0]
type = velset
trigger1 = time = 0
x = -1.8
y = 2

[state 0,0]
type = veladd
trigger1 = time = [5,19]
y = -0.6

[state 0,0]
type = velset
trigger1 = time = 20
x = -1
y = 5

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 1042


;-地面--------------------------------------------------------------------------
;本体　地面待機
[Statedef 1042]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 1
velset = 0,0
[State 2, shild]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 2083
IgnoreHitPause = 1
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AP
time = 2


[State 0, 0]
type = Explod
trigger1 = time = 0
;postype = p1
pos = 0,0
anim = 7438
ownpal = 1
keyctrl = 0
sprpriority = 3

[State 210, 3]
type = ChangeState
trigger1 = time >= 8
trigger1 = p2dist x = [-50,50]
trigger2 = time = 360
value = 1043

;-地面--------------------------------------------------------------------------
;本体   上昇
[Statedef 1043]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7439
sprpriority = 2
velset = 0,-5
[State 2, shild]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 2083
IgnoreHitPause = 1
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AA,AP
time = 2

[State 0, 0]
type = Explod
trigger1 = time = 0
persistent = 16
postype = p1
pos = 0,-15
anim = 7776
keyctrl = 0
sprpriority = 5
supermovetime = 100
pausemovetime = 100
scale = 0.5,0.5
bindtime = -1

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 6, 2

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 6
persistent = 0
attr = A, SA
damage = 40, 2
getpower = ifelse(parent,var(50)=0,30,0),38
givepower = 38,20
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 3, miss
pausetime = 8, 10
guard.pausetime = 10, 7
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 7
ground.hittime  = 40
ground.velocity = 0,-9
air.velocity = -1,-9
fall = 1
envshake.time = 10
envshake.ampl = 2
air.fall = 1
fall.recovertime = 38
ground.cornerpush.veloff = 0
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -3

[state 0,0]
type = changestate
trigger1 = time = 50
trigger2 = moveguarded
value = 1044
ignorehitpause = 0


;---------------------------------------------------------------------------
;本体 戻って終了
[Statedef 1044]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7440
sprpriority = 0
velset = 0,0

[State 0, 0]
type = Explod
trigger1 = time = 0
;postype = p1
pos = 0,-15
anim = 7442
ownpal = 1
keyctrl = 0
sprpriority = 5

[state 0,0]
type = velset
trigger1 = time = 13
x = 0.2
y = 1
[state 0,0]
type = veladd
trigger1 = time >= 13
y = 0.02
[state 0,0]
type = velset
trigger1 = time >= 20
x = 0
y = 0.5
persistent = 45
[state 0,0]
type = veladd
trigger1 = time >= 20
x = 0.04

[state 0,0]
type = turn
trigger1 = time >= 20
persistent = 45

[state 0,0]
type = changestate;destroyself
trigger1 = pos y >= -2
value = 1035






;---------------------------------------------------------------------------
; HighJump Start
[Statedef 4040]
type    = S
physics = S
anim = 7334
ctrl = 0
sprpriority = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = time = 1
sysvar(1) = 1

[state 0,0]
type = playsnd
trigger1 = time = 6
value = 0,2

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = const(velocity.jump.fwd.x)+2.4
y = const(velocity.jump.y)-0.8

[State 100, 2]
type = Afterimage
trigger1 = Time = 1
time = 15
length = 25
Trans = Add
PalAdd = 4, 4, 4
FrameGap = 3
palcontrast = 120,120,120

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


;---------------------------------------------------------------------------
; HighJump Start
[Statedef 4041]
type    = S
movetype = I
physics = S
anim = 47
ctrl = 0
sprpriority = 1
[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.12)
ignorehitpause = 1

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[state 0,0]
type = playsnd
trigger1 = time = 7
value = 0,2

[State 40, 4]
type = VelSet
trigger1 = Time = 8
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)-3

[State 100, 2]
type = Afterimage
;triggerall = var(41) = 2
trigger1 = Time = 7
time = 15
length = 25
Trans = Add
PalAdd = 4, 4, 4
FrameGap = 3
palcontrast = 120,120,120

[State 40, 6]
type = ChangeState
trigger1 = Time = 8
value = 4042
ctrl = 1

;---------------------------------------
[Statedef 4042];追いジャンプ
type    = A
movetype= I
physics = A
ctrl = 1
anim = 41
sprpriority = 2
[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.05)
ignorehitpause = 1


[State 40, 1]
type = VarSet
;trigger1 = var(43) <= 3
trigger1 = Time = 0
v = 57
value = 1

[State 0, 0]
type = Explod
trigger1 = var(41) != 0
trigger1 = time = 0
;postype = p1
pos = 0,1
anim = 7800
ownpal = 1
keyctrl = 0
sprpriority = -5
scale = 0.5,0.75

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
;trigger1 = Time = 1
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
;trigger1 = Time = 1
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 3]
type = velmul
;trigger1 = Time = 1
trigger1 = command != "holdback"
trigger1 = command != "holdfwd"
x = 0.9

[State 40, 4]
type = VelSet
trigger1 = Numhelper(2990) = 0
trigger1 = Time >= 2
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, 3.3, -3.3))

[state 0,0]
type = null;changestate
trigger1 = time = 2
value = 51

[State 40, 3]
type = Varadd
triggerall = var(41) = 2
trigger1 = Time = 0
var(32) = 1


;---------------------------------------------------------------------------
; Jump Start 低空ダッシュ
[Statedef 4043]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
trigger1 = prevstateno = [8200,8900]
x = ceil(enemy,gethitvar(hitcount)*-0.49)
ignorehitpause = 1
[state 0,0]
type = posadd
trigger1 = var(27) >= 1
trigger1 = prevstateno = 1000
x = ceil(enemy,gethitvar(hitcount)*-0.65)
ignorehitpause = 1

[State 45, 3]
type = Varadd
triggerall = prevstateno = [9600,9629]
trigger1 = Time = 0
var(32) = 1



[State 0, 0]
type = Explod
trigger1 = var(41) = 2
trigger1 = time = 0
;postype = p1
pos = 0,1
anim = 7800
ownpal = 1
keyctrl = 0
sprpriority = -5
scale = 0.5,0.5

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 240
y = -10

[State 40, 6]
type = ChangeState
triggerall = var(59) = 0
trigger1 = AnimTime = 0
value = 4044
ctrl = 1
[State 40, 6]
type = ChangeState
triggerall = var(59) = 1
trigger1 = AnimTime = 0
value = 4044
ctrl = 0

;---------------------------------------------------------------------------
; Jump Up
[Statedef 4044]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.32)
ignorehitpause = 1

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[state 0,0]
type = ctrlset
trigger1 = prevstateno = 1040
trigger1 = time = 10
value = 1

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Numhelper(2990) >= 1
value = 100

[state 0,0]
type = velset
triggerall = prevstateno = 1041
trigger1 = command = "holdfwd"
x = 2
[state 0,0]
type = velset
triggerall = prevstateno = 1041
trigger1 = command = "holdback"
x = -2

[State 50, 2]
type = Changestate
trigger1 = time = 5
value = 234
ctrl = 1


;------------------------------------------------
;サーキットスパーク
[Statedef 1950]
type    = S
movetype= A
physics = S
poweradd= -3000
ctrl = 0
anim = 7407
sprpriority = 2
velset = 0,0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 2

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 2,31
channel = 0

[state 0,0]
type = envshake
trigger1 = time = 1
time = 20

[State 3000, effect]
type = null;Explod
trigger1 = time = 1
ignorehitpause = 1
persistent = 0
anim = 7089
postype = p1
pos = 0,-240
ownpal = 1
sprpriority = 5
ontop = 1
pausemovetime = 99

[state 0,0]
type = pause
trigger1 = gametime % 3 = 0
trigger1 = time <= 10
time = 2

[state 0,0]
type = pause
trigger1 = gametime % 2 = 0
trigger1 = time > 10
time = 1

[state 0,0]
type = bgpalfx
trigger1 = time = 0
time = 5
mul = 180,180,180

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 30,4

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = varset
trigger1 = time = 0
v = 50
value = 0

[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7058
postype = p1
pos = 0,5
ownpal = 1
sprpriority = 4
scale = 1.2,1.2
bindtime = -1

[State 240, 1]
type = HitDef
trigger1 = time >= 0
persistent = 0
attr = S, HA
animtype  = heavy
damage    = 15, 15
kill = 0
getpower = 0
givepower = 0
hitflag = MAF
priority = 9, Hit
pausetime = 1,1
guard.pausetime = 1,1
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0;ifelse(var(41) = 1, 0, 1);guard.sparkno = S8003
sparkno =-1
sparkxy = -2,-58
hitsound   = S101, 3
guardsound = -1
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2
p2stateno = 3501

[State 240, 3]
type = ChangeState
trigger1 = time = 28
value = 0
ctrl = 1



;------------------------------------------------
;ブラッドヒート覚醒
[Statedef 1951]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7407
sprpriority = 2
velset = 0,0

[State 5900, 2];ブーストゲージ
type = VarSet
trigger1 = time = 1
v = 48
value = 100

[state 0,0]
type = playsnd
trigger1 = time = 12
value = 5,5
channel = 0

[State -2, HEATafter]
type = null;AfterImage
trigger1 = time = 15
;trigger1 = var(50) = 4
;trigger1 = gametime % 25 = 0
length = 6
PalBright = 0, 0, 0
PalContrast = 75,75,170
PalAdd = 20, 20, -20
PalMul = .85,.85,.85
TimeGap  = 1
FrameGap = 1
;persistent = 25
Trans = add
time = 9999;250
ignorehitpause = 1

[State 1000, effect]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "effects"
postype = p1
pos = 0,0
stateno = 1955
ownpal = 1
keyctrl = 0
id = 1955

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,NT,ST,HT,NA,SA,HA,NP,SP,HP
time = 27

[state 0,0]
type = envshake
trigger1 = time = 15
time = 10

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 4

[state 0,0]
type = palfx
trigger1 = time = 15
time = 5
add = 230,230,230
[state 0,0]
type = palfx
trigger1 = time = 20
time = 5
add = 180,180,180
[state 0,0]
type = palfx
trigger1 = time = 25
time = 4
add = 50,50,50

[state 0,0]
type = playsnd
trigger1 = time = 16
value = 30,4

[state 0,0]
type = posset
trigger1 = time = 0
y = 0


[State 240, 1]
type = HitDef
trigger1 = time >= 15
persistent = 0
attr = S, HA
animtype  = heavy
damage    = 1, 1
kill = 0
getpower = 0
givepower = 0
hitflag = MAF
priority = 9, Hit
pausetime = 0,10
guard.pausetime = 1,1
guard.kill = ifelse(var(41) = 1, 0, 1);guard.sparkno = S8003
sparkno =-1
sparkxy = -2,-58
hitsound   = S101,3
guardsound = S10, 0
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2
p2stateno = 3501

[State 240, 3]
type = ChangeState
trigger1 = time = 30
value = 1953

[State 1000, timer]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "timer"
postype = p1
pos = 0,0
stateno = 1952
ownpal = 1
keyctrl = 0
id = 1952

;------------------------------------------------
;ブラッドヒート覚醒後、しばらくの間はゲージ減少しない
[Statedef 1952]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = -5
velset = 0,0

[state 0,0]
type = destroyself
trigger1 = time = 80


;---------------------------------------------------
;覚醒 完

[Statedef 1953]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 7408
sprpriority = 2

[State -1, 0]
type = ChangeState
trigger1 = time = 10;time15
value = 0
ctrl = 1

;------------------------------------------------
;ヒート 強制開放
[Statedef 1954]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7407;275
sprpriority = 2
velset = 0,0

[State 5900, 2];ブーストゲージ
type = VarSet
trigger1 = time = 1
v = 48
value = 100

[state 0,0]
type = playsnd
trigger1 = time = 12
value = 5,4
channel = 0

[State 1000, effect]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "effects"
postype = p1
pos = 0,0
stateno = 1955
ownpal = 1
keyctrl = 0
id = 1955

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,NT,ST,HT,NA,SA,HA,NP,SP,HP
time = 27

[state 0,0]
type = envshake
trigger1 = time = 15
time = 10

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 3

[state 0,0]
type = palfx
trigger1 = time = 15
time = 5
add = 230,230,230
[state 0,0]
type = palfx
trigger1 = time = 20
time = 5
add = 180,180,180
[state 0,0]
type = palfx
trigger1 = time = 25
time = 4
add = 50,50,50

[state 0,0]
type = playsnd
trigger1 = time = 16
value = 30,4

[state 0,0]
type = posset
trigger1 = time = 0
y = 0


[State 240, 1]
type = HitDef
trigger1 = time >= 15
persistent = 0
attr = S, HA
animtype  = heavy
damage    = 1, 1
kill = 0
getpower = 0
givepower = 0
hitflag = MAF
priority = 9, Hit
pausetime = 0,10
guard.pausetime = 1,1
guard.kill = ifelse(var(41) = 1, 0, 1);guard.sparkno = S8003
sparkno =-1
sparkxy = -2,-58
hitsound   = S101,3
guardsound = S101, 3
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,-2
p2stateno = 3501

[State 240, 3]
type = ChangeState
trigger1 = time = 30
value = 1953


;------------------------------------------------
;ヒート エフェクトヘルパー
[Statedef 1955]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 0
velset = 0,0

[state 0,0]
type = Playsnd
trigger1 = time = 1
value = 50,6

[State 3000, kemukemu]
type = Explod
trigger1 = time = [1,20]
anim = 7051
removetime = 1
postype = p1
pos = 5,-5
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.2+(time*0.05),0.2+(time*0.04)

[State 3000, dokaa]
type = Explod
trigger1 = time = [1,20]
anim = 7052
removetime = 1
postype = p1
pos = -10,-65
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.4+(time*0.05),0.4+(time*0.05)
[State 3000, dokaa]
type = Explod
trigger1 = time = [1,20]
anim = 7053
removetime = 1
postype = p1
pos = -10,-65
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200
scale = 0.4+(time*0.05),0.4+(time*0.05)
[State 3000, kirari]
type = Explod
trigger1 = time = 1
anim = 7054
postype = p1
pos = -12,-66
ownpal = 0
sprpriority = 5
ignorehitpause = 1
pausemovetime = 200

[state 0,0]
type = palfx
trigger1 = time >= 1
time = 1
mul = 240-(time*10),240-(time*10),240-(time*10)

[state 0,0]
type = destroyself
trigger1 = time = 20











;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットイン　AF
[Statedef 1989]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 0,0


[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7684
postype = left
pos = 160,240
ownpal = 1
sprpriority = -5
removetime = 80
supermovetime =80
bindtime = -1
removeongethit = 1
id = 7684
;scale = 4,1
pausemovetime = 100
supermovetime = 100

[state 0,0]
type = ModifyExplod
trigger1 = 1
ID = 7684
scale = 0.6+(time*0.12),0.1+(time*0.2)


[State 3000, effect]
type = Explod
trigger1 = time >= 1
anim = 7777
postype = p1
pos = 0,-50
ownpal = 0
sprpriority = 5
bindtime = -1
removeongethit = 1
scale = 0.1 + (time*0.2),0.1+ (time*0.2)
pausemovetime = 100
supermovetime = 100
[State 3000, effect]
type = Explod
trigger1 = time >= 1
anim = 7778
postype = p1
pos = 0,-50
ownpal = 0
sprpriority = 5
bindtime = -1
removeongethit = 1
scale = 0.4 + (time*0.03),0.4+ (time*0.03)
pausemovetime = 100
supermovetime = 100

[state 0,0]
type = palfx
trigger1 = time >= 0
trigger1 = parent,stateno != 9648
time = 1
mul = 255-(time*7),255-(time*7),255-(time*7)

[state 0,0]
type = palfx
trigger1 = parent,stateno = 9648
trigger1 = time >= 0
time = 1
add = 140,60,-20
mul = 255-(time*7),255-(time*7),255-(time*7)

[state 0,0]
type = destroyself
trigger1 = time = 35


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットイン　アルカナエフェクト
[Statedef 1991]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 0,0



[State 3000, effect]
type = Explod
trigger1 = time >= 1
anim = 7777
postype = p1
pos = 0,-50
ownpal = 0
sprpriority = 5
bindtime = -1
removeongethit = 1
scale = 0.1 + (time*0.2),0.1+ (time*0.2)
pausemovetime = 100
supermovetime = 100
[State 3000, effect]
type = Explod
trigger1 = time >= 1
anim = 7778
postype = p1
pos = 0,-50
ownpal = 0
sprpriority = 5
bindtime = -1
removeongethit = 1
scale = 0.4 + (time*0.03),0.4+ (time*0.03)
pausemovetime = 100
supermovetime = 100

[state 0,0]
type = palfx
trigger1 = time >= 0
trigger1 = parent,stateno != 9648
trigger1 = parent,stateno != 7771
time = 1
mul = 255-(time*7),255-(time*7),255-(time*7)

[state 0,0]
type = palfx
trigger1 = parent,stateno = 9648
trigger1 = parent,stateno != 7771
trigger1 = time >= 0
time = 1
add = 140,60,-20
mul = 255-(time*7),255-(time*7),255-(time*7)

[state 0,0]
type = varrandom
trigger1 = parent,stateno = 7771
v = 19
range = 0,250

[state 0,0]
type = palfx
trigger1 = parent,stateno = 7771
trigger1 = time >= 0
time = 1
add = var(19),var(19),var(19)
mul = 255-(time*7),255-(time*7),255-(time*7)

[state 0,0]
type = destroyself
trigger1 = time = 35

;---:::::::::::::::::::::::::::::::::::::::::::::

;---------------------------------------------------------------------------
;カットインarcana
[Statedef 1990]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (10 - screenpos y)

[state 0,0]
type = velset
trigger1 = time = 15
x = 0


[State 3000, Cut in]
type = Explod
trigger1 = time <= 35
anim = 7650+parent,var(33)
;pos = -150,4
ownpal = 1
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 2,2;0.75,0.75
[State 3000, Cut in]
type = Explod
trigger1 = time > 35
anim = 7700+parent,var(33)
;pos = -150,4
ownpal = 0
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = -1.5+(time*0.1),-1.5+(time*0.1)

[state 0,0]
type = palfx
trigger1 = time > 35
time = 1
mul = 255-(time*4),255-(time*4),255-(time*4)

[state 0,0]
type = destroyself
trigger1 = time = 58
trigger2 = parent,movetype = H

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットイン 魔方陣
[Statedef 1992]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 0,0



[State 3000, effect]
type = Explod
trigger1 = time >= 1
anim = 7639
postype = p1
pos = 0,0
ownpal = 0
sprpriority = -5
bindtime = -1
removeongethit = 1
scale = 0.5 + (time*0.05),0.25+ (time*0.01)
pausemovetime = 100
supermovetime = 100

[state 0,0]
type = palfx
trigger1 = time >= 0
trigger1 = parent,stateno != 9648
time = 1
mul = 255-(time*10),255-(time*10),255-(time*10)

[state 0,0]
type = palfx
trigger1 = parent,stateno = 9648
trigger1 = time >= 0
time = 1
add = 140,60,-20
mul = 255-(time*10),255-(time*10),255-(time*10)

[state 0,0]
type = destroyself
trigger1 = time = 25

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットイン itigeki
[Statedef 1993]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 0,0

[state 0,0]
type = posadd
trigger1 = time = 0
y = (200 - screenpos y) - 60

[State 3000, Cut in]
type = Explod
trigger1 = time <= 35
anim = 7492
;pos = -150,4
ownpal = 1
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
;scale = 0.75,0.75
[State 3000, Cut in]
type = Explod
trigger1 = time > 35
anim = 7493
;pos = -150,4
ownpal = 0
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.3+(time*0.02),0.3+(time*0.02)

[state 0,0]
type = palfx
trigger1 = time > 35
time = 1
mul = 255-(time*3),255-(time*3),255-(time*3)

[state 0,0]
type = destroyself
trigger1 = time = 75
trigger2 = parent,movetype = H


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットイン アルカナ
[Statedef 1994]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 18,0

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (200 - screenpos y)

[state 0,0]
type = velset
trigger1 = time = 10
x = 0

[State 3000, Cut in]
type = Explod
trigger1 = time <= 20
anim = 7345
pos = 0,30
ownpal = 1
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.3,0.3
[State 3000, Cut in]
type = Explod
trigger1 = time > 20
anim = 7346
pos = 0,30
ownpal = 0
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.3,0.3;05,0.05;+(time*0.01)

[state 0,0]
type = palfx
trigger1 = time > 20
time = 1
mul = 255-(time*4),255-(time*4),255-(time*4)

[state 0,0]
type = destroyself
trigger1 = time = 50
trigger2 = parent,movetype = H

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットイン メルブラ
[Statedef 1995]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = velset
trigger1 = time = 15
x = 0
[state 0,0]
type = velset
trigger1 = time = 35
x = 1

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (240 - screenpos y)

[State 3000, Cut in]
type = Explod
trigger1 = time <= 35
anim = 7345;36
;pos = -150,4
ownpal = 1
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.4,0.4
[State 3000, Cut in]
type = Explod
trigger1 = time > 35
anim = 7346;37
;pos = -150,4
ownpal = 0
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.05+(time*0.01),0.05+(time*0.01)

[state 0,0]
type = palfx
trigger1 = time > 35
time = 1
mul = 255-(time*4),255-(time*4),255-(time*4)

[state 0,0]
type = destroyself
trigger1 = time = 58
trigger2 = parent,movetype = H


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;北斗演出　縦
[Statedef 1996]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = 0,360

;[state 0,0]
;type = bgpalfx
;trigger1 = 1
;time = 2
;add = 0,0,150
;mul = 100,100,100

[State 3000, Cut in]
type = Explod
trigger1 = numexplod(1997) <= 20
;trigger1 = time <= 55
persistent = 5
anim = 7325
postype = back
pos = var(19),240
vel = 0,-9
ownpal = 1
sprpriority = -5
supermovetime =100
scale = 0.5,0.5
removetime = 65
id = 1997

[state 0,0]
type = destroyself
trigger1 = time >= 58
;trigger1 = parent,stateno != 2010
trigger2 = parent,movetype = H




;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;北斗演出　横
[Statedef 1997]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = 0,240

;[state 0,0]
;type = bgpalfx
;trigger1 = 1
;time = 2
;add = 0,0,150
;mul = 100,100,100

[State 3000, Cut in]
type = Explod
trigger1 = numexplod(1997) <= 20
;trigger1 = time <= 55
persistent = 5
anim = 7324
postype = back
pos = 0,var(19)
vel = 9,0
ownpal = 1
sprpriority = -5
supermovetime =100
scale = 0.5,0.5
removetime = 60
id = 1997

[state 0,0]
type = destroyself
trigger1 = time >= 58
;trigger1 = parent,stateno != 2010
trigger2 = parent,movetype = H


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットイン
[Statedef 1998]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = velset
trigger1 = time = 15
x = 0
[state 0,0]
type = velset
trigger1 = time = 45
x = 1

[State 3000, Cut in]
type = Explod
trigger1 = time <= 35
anim = 7083
;pos = -150,4
ownpal = 1
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.5,0.5
[State 3000, Cut in]
type = Explod
trigger1 = time > 35
anim = 7084
;pos = -150,4
ownpal = 0
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.2+(time*0.01),0.2+(time*0.01)

[state 0,0]
type = palfx
trigger1 = time > 35
time = 1
mul = 255-(time*4),255-(time*4),255-(time*4)

[state 0,0]
type = destroyself
trigger1 = time = 58
trigger2 = parent,movetype = H


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;カットイン　hokut
[Statedef 1999]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999;7044
sprpriority = 2
velset = 12,0

[state 0,0]
type = posadd
trigger1 = time >= 0
y = (200 - screenpos y)

[state 0,0]
type = velmul
trigger1 = time >= 5
x = 0.9

;[state 0,0]
;type = velset
;trigger1 = time = 15
;x = 0
;[state 0,0]
;type = velset
;trigger1 = time = 45
;x = 1

[State 3000, Cut in]
type = Explod
trigger1 = time <= 20
anim = 7322
pos = 0,40
ownpal = 1
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.5,0.5
[State 3000, Cut in]
type = Explod
trigger1 = time > 20
anim = 7323
pos = 0,40
ownpal = 0
sprpriority = -5
supermovetime =100
removeongethit = 1
bindtime = -1
scale = 0.3+(time*0.01),0.3+(time*0.01)

[state 0,0]
type = palfx
trigger1 = time > 20
time = 1
mul = 255-(time*6),255-(time*6),255-(time*6)

[state 0,0]
type = destroyself
trigger1 = time = 40
trigger2 = parent,movetype = H

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;----------------------------------------------------------------
[Statedef 2000]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1165
sprpriority = 2
velset = 0,0

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < 0
persistent = 0

[State -1]
type = posfreeze
trigger1 = time <= 45
;trigger1 = helper(1201),movecontact
;persistent = 0

[state 0,0]
type = veladd
triggerall = pos y < 0
trigger1 = time = 45
y = -6
persistent = 0
[state 0,0]
type = veladd
triggerall = pos y < 0
trigger1 = time >= 45
y = 0.45
[state 0,0]
type = velset
triggerall = pos y >= 0
trigger1 = time >= 45
y = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 10
anim = 1083
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 1
pausemovetime = 100
supermovetime =100
bindtime = -1
removeongethit = 1
scale = const(size.xscale),const(size.yscale)

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 5,20
channel = 0

[state 0,reverse]
type = varset
trigger1 = animelem = 1
fvar(5) = 0.4
persistent = 0


[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 10
time = 41
movetime = 41
pos = -14,-9
ownpal = 1
anim = S8999
sound = S95,1
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 10
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 10
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5


[State 0, 0]
type = Helper
persistent = 0
trigger1 = animelem = 4
helpertype = normal
name = "beam"
ID = 2001
stateno = 2001
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
size.xscale = 0.5
size.yscale = 0.5
[State 0, 0]
type = Helper
persistent = 0
trigger1 = animelem = 6
helpertype = normal
name = "effect"
ID = 2002
stateno = 2002
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 210, 2]
type = PlaySnd
trigger1 = time = 48
value = 90, 3

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 130
;trigger1 = var(27) = 0
;trigger1 = var(7) >= 5
trigger1 = p2dist y = [-135,-5]
trigger1 = p2dist x = [0,38]
trigger1 = random >= 260
value = 1015

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1



;判定----------------------------------------------------------------
[Statedef 2001]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1166
sprpriority = 5
velset = 0,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 90, 2

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = movehit
trigger1 = parent,var(8) > 0
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = movehit
trigger1 = parent,var(44) % 100000 < 10000
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 2, hoshi]
type =parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(37) >= 1
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = parentvaradd
trigger1 = parent,var(44) % 100000 < 10000
trigger1 = movehit
persistent = 0
v = 44
value = 100000
ignorehitpause = 1


[state 0,0]
type = bindtoparent
trigger1 = time >= 0
pos = 0,0
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[state 0,basuke]
type = parentvaradd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = parent,var(27) = 0
ignorehitpause = 1
v = 7
value = 6
persistent = 0

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) = 0
trigger1 = time >= 3
persistent = 3
attr = A, HP
damage = 34, 15
getpower = 0
givepower = 19,9
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 1, 50
guard.pausetime = 1, 15
sparkno = -1
sparkxy = -8+((random%10)*2), -80+((random%10)*2)
hitsound = S300, 9
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -4,-5
air.velocity = -4.4,-4.7
fall = 1
envshake.time = 15
envshake.ampl = 3
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.slidetime = 15
guard.velocity = -3
down.velocity = -4,-1.8
fall.yvelocity = ifelse(parent,var(7)>=5,(parent,var(7)*-0.25)-4.5,-4.5)

[State 200, HitDef1]
type = HitDef
triggerall = parent,var(27) = 1
trigger1 = time >= 3
persistent = 3
attr = A, HP
damage = 34, 15
getpower = 0
givepower = 19,9
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 1, 50
guard.pausetime = 1, 15
sparkno = -1
sparkxy = -8+((random%10)*2), -80+((random%10)*2)
hitsound = S300, 9
guardsound = S0, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 35
air.hittime  = 40
ground.velocity = -4,-5
air.velocity = -4.4,-4.7
fall = 1
envshake.time = 15
envshake.ampl = 3
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.slidetime = 15
guard.velocity = -3
down.velocity = -4,-1.8
p2stateno = 8715

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
name = "hit"
pos = -40+random%80, -40-random%80
Postype = p2
stateno = 16095
helpertype = normal
persistent = 4
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999


[State 0, 0]
type = PlaySnd
trigger1 = movehit = 1
persistent = 17
value = 101, 3

[State 3000, effect]
type = Explod
triggerall = movehit
trigger1 = time = 28
anim = 1169
;bindtime = -1
ignorehitpause = 1
postype = p2
pos = 0,-52
ownpal = 0
scale = 0.25,0.25
sprpriority = 5
removetime = 50


[State 210, 3]
type = destroyself
;trigger1 = time >= 30;animtime = 0
trigger1 = parent,movetype = H

[State 210, 3]
type = changestate
trigger1 = time >= 30
value = 2003

;effect----------------------------------------------------------------
[Statedef 2002]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0

[State 3000, effect]
type = Explod
trigger1 = time <= 25
anim = 1168
bindtime = -1
ignorehitpause = 1
postype = p1
pos = 20,-90
ownpal = 0
scale = 1+(time*0.04),1+(time*0.04)
sprpriority = 5
supermovetime = 1

[state 0,0]
type = palfx
trigger1 = time <= 25
time = 1
mul = 255-(time*10),255-(time*10),255-(time*10)


[State 210, 3]
type = destroyself
trigger1 = time >= 25
trigger2 = parent,movetype = H



;判定end----------------------------------------------------------------
[Statedef 2003]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 1170
bindtime = -1
ignorehitpause = 1
postype = p1
pos = 0,0
ownpal = 0
;scale = 1+(time*0.04),1+(time*0.04)
sprpriority = 5
supermovetime = 1
id = 2003
removetime = 24

[state 0,0]
type = palfx
trigger1 = time <= 25
time = 1
mul = 255-(time*10),255-(time*10),255-(time*10)

[state 0,0]
type = ModifyExplod
trigger1 = 1
ID = 2003
scale = 0.5,0.5-(time*0.02)

[state 0,0]
type = velset
trigger1 = time >= 1
y = -3.6

[State 210, 3]
type = destroyself
trigger1 = time >= 24;animtime = 0



;------------------------------------------------
;夢想転生
[Statedef 2010]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1171
sprpriority = 1
;velset = 0,0

[State -1]
type = posfreeze
trigger1 = time <= 3
;trigger1 = helper(1201),movecontact
;persistent = 0

[state 0,0]
type = veladd
triggerall = pos y < 0
trigger1 = time >= 10
y = 0.45
[state 0,0]
type = velset
triggerall = pos y >= 0
trigger1 = time >= 10
y = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 84
movetime = 84
pos = -14,-9
ownpal = 1
anim = S8999
sound = S95,1
poweradd = ifelse(var(50) = 4, -350, -1000)

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 2
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = null;Explod
persistent = 0
trigger1 = time = 2
anim = 7049
postype = p1
pos = -30,-10
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = null;Explod
persistent = 0
trigger1 = time = 2
anim = 7048
postype = p1
pos = -30,-10
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[state 0,0]
type = varset
trigger1 = time = 2
v = 0
value = 7

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 5,4
channel = 0

[State 0, 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 0, 0]
type = Helper
;triggerall = var(41) = 2
trigger1 = time = 1
helpertype = normal
name = "bunsin"
ID = 2011
stateno = 2011
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200



;------------------------------------------------
;夢想転生 effect
[Statedef 2011]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 9999
sprpriority = 1
velset = 0,0

[state 0,0]
type = palfx
trigger1 = time <= 80
time = 1
mul = 255-(time*3),255-(time*3),255-(time*3)

[state 0,0]
type = bindtoparent
trigger1 = time >= 0
pos = 0,0
ignorehitpause = 1

[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7625
postype = p1
pos = -55,0
vel = 0.9
accel = -0.005
ownpal = 0
sprpriority = 5
ontop = 1
removeongethit = 1
supermovetime = 100
;bindtime = -1
scale = const(size.xscale),const(size.yscale)
[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7625
postype = p1
pos = -15,0
vel = 0.4
accel = -0.005
ownpal = 0
sprpriority = 5
ontop = 1
removeongethit = 1
supermovetime = 100
;bindtime = -1
scale = const(size.xscale),const(size.yscale)
[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7625
postype = p1
pos = 55,0
vel = -0.9
accel = 0.005
ownpal = 0
sprpriority = 5
ontop = 1
removeongethit = 1
supermovetime = 100
;bindtime = -1
scale = const(size.xscale),const(size.yscale)
[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7625
postype = p1
pos = 15,0
vel = -0.4
accel = 0.005
ownpal = 0
sprpriority = 5
ontop = 1
removeongethit = 1
supermovetime = 100
;bindtime = -1
scale = const(size.xscale),const(size.yscale)

[state 0,0]
type = destroyself
trigger1 = time = 80

;------------------------------------------------
;夢想転生 回り込み
[Statedef 2012]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1173
sprpriority = -1
velset = 0,0

[state 0,0]
type = pause
trigger1 = time = 0
time = 25
movetime = 25

[State 3000, effect]
type = Explod
trigger1 = time = [7,25]
anim = 7625
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
ontop = 1
removeongethit = 1
pausemovetime = 100
supermovetime = 100
removetime = 1
scale = const(size.xscale),const(size.yscale)

[state 0,0]
type = varadd
trigger1 = time = 2
v = 0
value = -1

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 5,17
channel = 0

[state 0,0]
type = posadd
trigger1 = time = [10,25]
x = 5

[State 0, 0]
type = ChangeState
trigger1 = p2dist x < 0
value = 2013

[State 0, 0]
type = Changeanim
trigger1 = time = 25
value = 1175

[State 0, 0]
type = ChangeState
trigger1 = animtime = 0
trigger1 = anim = 1175
value = 0
ctrl = 1


;------------------------------------------------
;夢想転生 回り込み2
[Statedef 2013]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1174
sprpriority = -1
velset = 0,0

[state 0,0]
type = pause
trigger1 = time = 0
time = 15
movetime = 15

[state 0,0]
type = turn
trigger1 = time = 0

[State 3000, effect]
type = Explod
trigger1 = time = [2,18]
anim = 7625
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
ontop = 1
removeongethit = 1
pausemovetime = 100
supermovetime = 100
removetime = 1
scale = const(size.xscale),const(size.yscale)

[state 0,0]
type = posadd
trigger1 = time = [1,10]
x = -5

[State 0, 0]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1





;------------------------------------------------
;ざんかいけん
[Statedef 2020]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1176
sprpriority = 1
velset = 0,0

[State 3000, effect]
type = Explod
trigger1 = Numexplod(2020) = 0
trigger1 = time = 5
anim = 1184
id = 2020
postype = p1
pos = 3,0
ownpal = 1
sprpriority = 5
pausemovetime = 9990
supermovetime =9990
bindtime = -1
removetime = -1
scale = 0.75,0.75
removeongethit = ifelse(enemy,name = "RAOH",0,1)
[state 0,0]
type = removeexplod
trigger1 = time = 70
id = 2020

[State -1]
type = posfreeze
trigger1 = time <= 6
;trigger1 = helper(1201),movecontact
;persistent = 0

[state 0,0]
type = veladd
triggerall = pos y < 0
trigger1 = time >= 10
y = 0.45
[state 0,0]
type = velset
triggerall = pos y >= 0
trigger1 = time >= 10
y = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 3
time = 65
movetime = 65
pos = -14,-9
ownpal = 1
anim = S8999
sound = S95,1
poweradd = -2000

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 3
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 3
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 5,21
channel = 0

[State 0, 0]
type = ChangeState
trigger1 = animtime = 0
value = 2021
ctrl = 0

;------------------------------------------------
;ざんかいけん とんだ
[Statedef 2021]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1177
sprpriority = 1
velset = 1.2,-10

[state 0,0]
type = veladd
trigger1 = time >= 12
y = 0.44

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
trigger1 = var(8) > 0
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time >= 12
trigger1 = Numhelper(2990) = 0
trigger1 = vel x > 3
x = 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, HT
damage = 1
kill = 0
getpower = 0
givepower = 50,15
animtype = light
guardflag = MA
hitflag = MAF
priority = 2, miss
pausetime = 1, 15
guard.pausetime = 8, 15
sparkno = -1;
sparkxy = -8+((random%10)*2), -70+((random%10)*2)
hitsound = S300, 9
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,-1
air.velocity = -1,-1
fall = 1
envshake.time = 10
envshake.ampl = 2
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.slidetime = 14
guard.velocity = -3
p1stateno = 2023

[State 0, 0]
type = ChangeState
trigger1 = time >= 5
trigger1 = pos y >= -5
value = 2022
ctrl = 0


;---------------------------------------
; 着地
[Statedef 2022]
type    = C
movetype= I
physics = C
ctrl = 0
;anim = 1178
sprpriority = 1
velset = 0,0

[State 0, 0]
type = Changeanim
triggerall = time = 0
trigger1 = anim != [1178,1179]
value = 1178
persistent = 0

[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(5) = 0

[State 210, 3]
type = posset
trigger1 = time >= 0
y = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------------
;ざんかいけん あたったｗ
[Statedef 2023]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1179
sprpriority = 2
velset = 0,0

[state a];ヒットエフェクト
type = Helper
trigger1 = !time
name = "hit"
pos = 20, -60
Postype = p1
stateno = 16095
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 1180
postype = left
pos = 0,50
ownpal = 1
sprpriority = 5
ontop = 1
;removeongethit = 1
pausemovetime = 200
supermovetime = 200
scale = 0.5,0.5

[state 0,0]
type = envcolor
trigger1 = 1
ignorehitpause = 1
value = 0,0,0
under = 1

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 1181
postype = left
pos = 160,130
ownpal = 1
sprpriority = -5
pausemovetime = 200
supermovetime = 200
scale = 0.5,0.5
[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 1182
postype = left
pos = 160,130
ownpal = 1
sprpriority = -5
pausemovetime = 200
supermovetime = 200
removetime = 120
scale = 0.5,0.5

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = time = 0
v = 24
value = 1
persistent = 0

[state 0,0]
type = posadd
trigger1 = time = 0
x = floor(p2dist x)

[state 0,0]
type = pause
trigger1 = time = 0
time = 120
movetime = 120

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 5,18
channel = 0
[state 0,0]
type = playsnd
trigger1 = time = 120
value = 5,19

[state 0,0]
type = velset
trigger1 = time <= 120
x = 0
y = 0

[state 0,0]
type = veladd
trigger1 = time >= 120
y = 0.44

[State 0, 0]
type = Changeanim
trigger1 = time >= 142
value = 5040
[State 0, 0]
type = ChangeState
trigger1 = time >= 120
trigger1 = pos y >= -1
value = 52
ctrl = 1

[State 0, 0]
type = Helper
trigger1 = time = 120
helpertype = normal
name = "zankai"
ID = 2024
stateno = 2024
postype = left
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 500
supermovetime = 500


;zannkai-効果helper監視------------------------------------------------------------
[Statedef 2024]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = -5

[state 0,0]
type = posadd
trigger1 = floor(p2dist x) != 0
x = floor(p2dist x)
[state 0,0]
type = posadd
trigger1 = floor(p2dist y) != 0
y = floor(p2dist y)

[State 3000, effect];小数点第2位
type = Explod
trigger1 = gametime % 10 = 0
trigger1 = var(20) >= 0
anim = 1183
postype = left
pos = ifelse(teamside != 1,40,290),197; + parent,var(58);40,200
ownpal = 0
sprpriority = 5
ontop = 1
pausemovetime = 100
supermovetime =100
bindtime = -1
scale = 0.4,0.4
[State 3000, effect];1i
type = Explod
trigger1 = time >= 0
persistent = 10
anim = 1190 + var(20)%10;floor((var(20) / 40)*0.1)
postype = left
pos = ifelse(teamside != 1,24,274),197; + parent,var(58);24,200
ownpal = 0
sprpriority = 5
ontop = 1
pausemovetime = 100
supermovetime =100
bindtime = -1
scale = 0.4,0.4
[State 3000, effect];0の暗い
type = Explod
trigger1 = time >= 0
persistent = 10
anim = 1200 + (var(20)/10);floor((var(20) / 40)*0.1)
postype = left
pos = ifelse(teamside != 1,0,250),192; + parent,var(58);☆;0,195
ownpal = 0
sprpriority = 5
ontop = 1
pausemovetime = 100
supermovetime =100
bindtime = -1
scale = 0.5,0.5

[state 0,0]
type = varset
trigger1 = time = 0
v = 20
value = 30;1200
[state 0,0]
type = varadd
trigger1 = time > 0
;trigger1 = enemy,movetype != H
v = 20
value = -1
persistent = 60

[State 210, 3]
type = ChangeState
trigger1 = time > 5
trigger1 = var(20) < 0
trigger1 = enemy,name = "THOUTHER"
value = 2026
[State 210, 3]
type = ChangeState
trigger1 = time > 5
trigger1 = var(20) < 0
trigger1 = enemy,name != "THOUTHER"
value = 2025

[state 0,0]
type = destroyself
trigger1 = roundstate >= 3

[State 3, 0];-----------
type = DisplayToClipboard
;triggerall = ishelper = 0
trigger1 = 1
text = "VAR=%d"
params = var(20)
IgnoreHitPause = 1


;せっかっこー-効果helper監視--リバースカードオープン！罠カード発動---------
[Statedef 2025]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1135;9999
sprpriority = -5

[state 0,0]
type = posadd
trigger1 = floor(p2dist x) != 0
x = floor(p2dist x)
[state 0,0]
type = posadd
trigger1 = floor(p2dist y) != 0
y = floor(p2dist y)

[State 3000, effect]
type = Explod
trigger1 = time = 1
trigger2 = time = 9
anim = 1089
postype = p1
pos = 0,-10
ownpal = 0
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
random = 20,30
scale = 0.5,0.5
ignorehitpause = 1

[State 3000, effect]
type = Explod
trigger1 = time = 3
anim = 1059
postype = p1
pos = 0,-68
ownpal = 0
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
random = 20,20
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = S, HT
damage = 999999999
getpower = 0
givepower = 0
animtype = heavy
hitflag = MAFD
numhits = 0
priority = 5, hit
pausetime = 1, 32
sparkno = -1
sparkxy = -8, -54
hitsound = S95, 2
guardsound = S0, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,0
air.velocity = 0,0
air.fall = 1
fall.recover = 0

[state 0,0]
type = destroyself
trigger1 = roundstate >= 3



;せっかっこー-効果helper監視--リバースカードオープン！罠カード発動---------
[Statedef 2026];thouter
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1135;9999
sprpriority = -5

[state 0,0]
type = playsnd
trigger1 = time = 30
value = 5,29

[state 0,0]
type = posadd
trigger1 = floor(p2dist x) != 0
x = floor(p2dist x)
[state 0,0]
type = posadd
trigger1 = floor(p2dist y) != 0
y = floor(p2dist y)

[State 3000, effect]
type = Explod
trigger1 = time = 1
trigger2 = time = 9
anim = 1089
postype = p1
pos = 0,-10
ownpal = 0
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
random = 20,30
scale = 0.5,0.5
ignorehitpause = 1

[State 3000, effect]
type = Explod
trigger1 = time = 3
anim = 1059
postype = p1
pos = 0,-68
ownpal = 0
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
random = 20,20
ignorehitpause = 1

[state 0,0]
type = destroyself
trigger1 = time >= 60









;ほくと・さいはけん----------------------------------------------------------------
[Statedef 2010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1084
sprpriority = 2
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 5, 32
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = time = 2
trigger1 = random >= 500
value = 5, 33
channel = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(37) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(44) % 100000 < 10000
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 100000 < 10000
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 100000 < 10000
trigger1 = movehit
persistent = 0
v = 44
value = 10000

[state 0,0]
type = playsnd
trigger1 = time = 10
value = 2,8
channel = 0


[state 0,0]
type = varset
trigger1 = time = 0
v = 18
value = 0

[state 0,reverse]
type = varset
trigger1 = animelem = 1
fvar(5) = 0.4
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 210, 2]
type = PlaySnd
trigger1 = time = 49
value = 90, 1

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 8
time = 46
movetime = 46
pos = -14,-9
ownpal = 1
anim = S8999
sound = S95,1
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 8
helpertype = normal
name = "hokuto"
ID = 1996
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 8
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5



[state 0,0]
type = varset
trigger1 = time = 0
trigger1 = var(24) <= 6
v = 19
value = 1

[State 210, 3]
type = ChangeState
trigger1 = movehit
trigger1 = animelemtime(10) = 3
trigger1 = var(24) >= 7
value = 2011
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 0, 0]
type = Explod
trigger1 = time = 45
postype = p1
pos = 0,0
anim = 1144
scale = const(size.xscale),const(size.yscale)
ownpal = 1
sprpriority = 5
bindtime = -1
removeongethit = 1
ignorehitpause = 1
persistent = 0
supermovetime = 999

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = S, HA
damage = 168, 20
getpower = 0
givepower = 44,14
animtype = heavy
guardflag = M
hitflag = MAF
priority = 5, hit
pausetime = 12, 10
guard.pausetime = 10, 18
sparkno = 3
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = 0,ifelse(var(37) = 0,-7.6,-13)
air.velocity = 0,ifelse(var(37) = 0,-7,-13)
fall = 1
envshake.time = 10
envshake.ampl = 2
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.slidetime = 15
guard.velocity = -8
down.velocity = -5,-1


;ほくと・さいはけん-star---------------------------------------------------------------
[Statedef 2011]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1085
sprpriority = 2

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 5,34
channel = 0

[state 0,0]
type = pause
trigger1 = time = 10
time = 145
movetime = 145

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


















;せっかっこー-自分---------------------------------------------------------------
[Statedef 2020]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1086
sprpriority = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 5, 35
channel = 0

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "helper"
ID = 2022
stateno = 2022
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 60
supermovetime = 60

[state 0,0]
type = playsnd
trigger1 = time = 10
value = 2,8
channel = 0

[state 0,0]
type = varset
trigger1 = time = 50
fv = 31
value = 11

[state 0,0]
type = palfx
trigger1 = time = 50
time = 25
add = 10,80,45

[State 210, 2]
type = PlaySnd
trigger1 = time = 40
value = 90, 7

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 5
time = 72
movetime = 72
pos = -14,-9
ownpal = 1
anim = S8999
sound = S95,1
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 5
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 5
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5


[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


[State 3000, effect]
type = Explod
trigger1 = time = 45
anim = 1089
postype = p1
pos = 0,-5
ownpal = 1
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
scale = 0.5,0.5
ignorehitpause = 1
persistent = 0

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 50
helpertype = normal
name = "helper"
ID = 2023
stateno = 2023
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 60
supermovetime = 60



;せっかっこー-相手---------------------------------------------------------------
[Statedef 2021]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1087
sprpriority = 2

[State 210, 2]
type = PlaySnd
trigger1 = movehit
persistent = 0
ignorehitpause = 1
value = 90, 7

[state 0,0]
type = posadd
trigger1 = Numhelper(2990) != 0
x = 3

[State 210, 2]
type = PlaySnd
trigger1 = time = 45
value = 5, 0
channel = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(44) % 10000 < 1000
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
;trigger1 = var(44) % 10000 < 1000
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
;trigger1 = var(44) % 10000 < 1000
trigger1 = var(24) < 7
trigger1 = var(37) >= 1
;trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 10000 < 1000
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 10000 < 1000
trigger1 = movehit
persistent = 0
v = 44
value = 1000

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 44

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 43
helpertype = normal
name = "helper"
ID = 2026
stateno = 2026
postype = p1
pos = 62,-60
keyctrl = 0
ownpal = 1
pausemovetime = 60
supermovetime = 60
ignorehitpause = 1
size.xscale = 0.5
size.yscale = 0.5

[state 0,0]
type = playsnd
trigger1 = time = 10
value = 2,8
channel = 0

[state 0,0]
type = varset
trigger1 = movehit
fv = 32
value = 11
ignorehitpause = 1
persistent = 0
[state 0,reverse]
type = varset
trigger1 = var(37) >= 1
trigger1 = movehit
var(27) = 1
ignorehitpause = 1

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 5
time = 42
movetime = 42
pos = -14,-9
ownpal = 1
anim = S8999
sound = S95,1
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 5
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 5
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "helper"
ID = 2022
stateno = 2022
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 60
supermovetime = 60

[State 0, 0]
type = Helper
persistent = 0
trigger1 = movehit
helpertype = normal
name = "helper"
ID = 2023
stateno = 2023
postype = p2
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 60
supermovetime = 60
ignorehitpause = 1


[State 0, 0]
type = Helper
persistent = 0
triggerall = Numhelper(2024) = 0
trigger1 = movehit
helpertype = normal
name = "helper"
ID = 2024
stateno = 2024
postype = p2
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 60
supermovetime = 60
ignorehitpause = 1

[State -1]
type = ChangeState
value = 8800
trigger1 = animtime = 0
triggerall = movehit
trigger1 = var(41) = 2
trigger1 = var(37) != 0
trigger1 = var(59) = 1
trigger1 = var(24) = 7
trigger1 = enemy,life >= 90 || life < 100

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


[State 200, HitDef1]
type = HitDef
trigger1 = var(37) = 0
trigger1 = time >= 30
persistent = 0
attr = S, HA
damage = 100, 5
getpower = 0
givepower = 40,15
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 1, miss
pausetime = 14, 15
guard.pausetime = 5, 23
sparkno = 3
sparkxy = -8, -54
hitsound = S90, 6
guardsound = S0, 0
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3,0
air.velocity = -3,-2
envshake.time = 10
envshake.ampl = 2
air.fall = 1
fall.recovertime = 32
guard.slidetime = 19
guard.velocity = -3


[State 200, HitDef1]
type = HitDef
trigger1 = var(37) != 0
trigger1 = time >= 30
persistent = 0
attr = S, HA
damage = 105, 5
getpower = 0
givepower = 40,15
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 1, miss
pausetime = 12, 25
guard.pausetime = 5, 24
sparkno = 3
sparkxy = -8, -54
hitsound = S90, 6
guardsound = S0, 0
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3,0
air.velocity = -3,-2
envshake.time = 10
envshake.ampl = 2
air.fall = 1
fall.recover = 0
guard.slidetime = 15
guard.velocity = -3
p2stateno = 8715



;せっかっこー-helper---------------------------------------------------------------
[Statedef 2022]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = -5

[state 0,0]
type = palfx
trigger1 = 1
time = 1
mul = 255 - (time*5),255 - (time*5),255 - (time*5)

[State 3000, effect]
type = Explod
trigger1 = time >= 1
anim = 1132
postype = p1
pos = 0,-78
ownpal = 0
sprpriority = -2
pausemovetime = 10
supermovetime =10
bindtime = -1
removeongethit = 1
scale = time*0.02,time*0.02

[State 3000, effect]
type = Explod
trigger1 = time = [10,35]
anim = 1133
postype = p1
pos = 0,-78
ownpal = 0
sprpriority = -2
pausemovetime = 10
supermovetime =10
bindtime = -1
removeongethit = 1
scale = time*0.06,time*0.06


[state 0,0]
type = destroyself
trigger1 = time = 50
trigger2 = parent,movetype = H



;せっかっこー-効果helper---------------------------------------------------------------
[Statedef 2023]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = -5

[state 0,0]
type = palfx
trigger1 = 1
time = 1
mul = 255 - (time*5),255 - (time*5),255 - (time*5)

[State 3000, effect]
type = Explod
trigger1 = time >= 1
anim = 1134
postype = p1
pos = 0,time*-1
ownpal = 0
sprpriority = 4
pausemovetime = 10
supermovetime =10
bindtime = -1
removeongethit = 1
scale = 0.5,0.5

[state 0,0]
type = destroyself
trigger1 = time = 50
trigger2 = parent,movetype = H




;せっかっこー-効果helper監視------------------------------------------------------------
[Statedef 2024]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = -5

[state 0,0]
type = posadd
trigger1 = floor(p2dist x) != 0
x = floor(p2dist x)
[state 0,0]
type = posadd
trigger1 = floor(p2dist y) != 0
y = floor(p2dist y)

[State 3000, effect]
type = Explod
trigger1 = time = 5
anim = 1089
postype = p1
pos = 0,-5
ownpal = 0
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
scale = 0.5,0.5
ignorehitpause = 1
persistent = 0

[state 0,0]
type = varset
trigger1 = time = 1
trigger2 = enemynear,life < var(20)
trigger2 = enemynear,movetype = H
v = 20
value = enemynear,life

[State 210, 3]
type = ChangeState
trigger1 = time > 5
trigger1 = enemynear,life > var(20)
trigger1 = enemynear,movetype != H
value = 2025

[state 0,0]
type = destroyself
trigger1 = parent,fvar(32) <= 0


;せっかっこー-効果helper監視--リバースカードオープン！罠カード発動---------
[Statedef 2025]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1135;9999
sprpriority = -5


[State 3000, effect]
type = Explod
trigger1 = time = 1
trigger2 = time = 9
anim = 1089
postype = p1
pos = 0,-10
ownpal = 0
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
random = 20,30
scale = 0.5,0.5
ignorehitpause = 1

[State 3000, effect]
type = Explod
trigger1 = time = 3
anim = 1059
postype = p1
pos = 0,-68
ownpal = 0
sprpriority = 5
pausemovetime = 100
supermovetime =100
bindtime = -1
random = 20,20
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = S, HA
damage = 10
kill = 0
getpower = 0
givepower = 0
animtype = heavy
hitflag = MAFD
numhits = 0
priority = 1, miss
pausetime = 1, 45
sparkno = -1
sparkxy = -8, -54
hitsound = S95, 2
guardsound = S0, 0
ground.type = low
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0,0
air.velocity = 0,0
air.fall = 1
fall.recover = 0
palfx.time = 10
paalfx.add = 10,45,25

[state 0,0]
type = parentvarset
trigger1 = time = 1
fv = 32
value = 0

[state 0,0]
type = destroyself
trigger1 = time = 30


;せっかっこー-effect helper------------------------------------------------------------
[Statedef 2026]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1088
sprpriority = 5


[state 0,0]
type = trans
trigger1 = 1
Trans = Add

[state 0,0]
type = angleset
trigger1 = time >= 1;1
value = 65
[state 0,0]
type = angledraw
trigger1 = 1

[state 0,0]
type = palfx
trigger1 = 1
time = 1
mul = 255 - (time*25),255 - (time*25),255 - (time*25)

[state 0,0]
type = destroyself
trigger1 = animtime = 0









;帝王に逃走は無いのだ-----岩-----------------------------------------------------------
[Statedef 2010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7427
sprpriority = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 3
value = 2,1
channel = 0

[State 200, 3]
type = changestate
trigger1 = animtime = 0
value = 2011

;飛んだ！アッー！-------------------
[Statedef 2011]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7428
sprpriority = 1
velset = 2,-8

;[state 0,0]
;type = screenbound
;trigger1 = time <= 70
;value = 0

[state 0,0]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[state 0,0]
type = velset
trigger1 = time = 20
x = 0.7;1.4
y = -2;-4.2

[State 0, 0]
type = PlaySnd
trigger1 = time = 60
value = 2,10
channel = 0

[state 0,reverse]
type = varset
trigger1 = animelem = 1
fvar(5) = 0.4
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 6
value = SCA
time = 20

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 21
time = 49
movetime = 49
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 21
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 21
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 5
anim = 7049
postype = p1
pos = 96,-65
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 5
anim = 7048
postype = p1
pos = 96,-65
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 15
trigger1 = pos y >= 1
value = 2012

[state 0,0]
type = velset
trigger1 = time >= 65
x = 1.4
y = 11

[State 0, 0]
type = PlaySnd
trigger1 = time =66
value = 32,15

[state 0,0]
type = changeanim
trigger1 = time = 65
value = 7429

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(44) % 100000 < 10000
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
trigger1 = var(44) % 100000 < 10000
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 100000 < 10000
trigger1 = movehit
persistent = 0
v = 44
value = 10000


[State 200, HitDef1]
type = HitDef
trigger1 = anim = 7428
persistent = 0
attr = A, HA
damage = 35, 8
getpower = 0
givepower = 18,9
animtype = heavy
guardflag = M
hitflag = MAFD
priority = 5, hit
pausetime = 8, 9
guard.pausetime = 6, 5
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
;air.hittime  = 8
ground.velocity = -4,-8.6
air.velocity = -4.4,-7
fall = 1
envshake.time = 10
envshake.ampl = 2
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -8


[State 200, HitDef1]
type = HitDef
trigger1 = anim = 7429
persistent = 5
attr = A, HA
damage = 55, 8
getpower = 0
givepower = 18,9
animtype = heavy
guardflag = MA
hitflag = MAFD
priority = 5, hit
pausetime = 8, 5
guard.pausetime = 6, 5
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
;air.hittime  = 8
ground.velocity = -4,-3.6
air.velocity = -1,2
fall = 1
envshake.time = 10
envshake.ampl = 5
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -8


;---------------------------------------------------------------------------
; Jump Land
[Statedef 2012]
type    = S
movetype = I
physics = S
ctrl = 0
anim = 7432

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 32,9

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 31,0

[State 0, Effect]
type = Explod
trigger1 = time <= 5
anim = 7610 + (random%10)
random = 140,46
pos = 0,-20
accel = 0,0.45
vel = (0.5 - ((random%10)*0.1))*2,-6 + ((random%10)*0.1)
sprpriority = 2
ownpal = 1

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = animelem = 1
anim = 7416
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
supermovetime =100
;bindtime = -1
;removeongethit = 1

[state 0,0]
type = changeanim
trigger1 = time = 15
value = 7431

[state 0,0]
type = envshake
trigger1 = time = 1
time = 15
ampl = 6

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "buwa"
ID = 2013
stateno = 2013
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1


[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0


[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0]
type = changestate
trigger1 = life = 0
value = 5050
ctrl = 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = anim = 7431
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; ヘルパー
[Statedef 2013]
type    = S
physics = S
movetype = A
ctrl = 0
anim = 7487;9999

[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7430
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
ID = 2013

[state 0,0]
type = ModifyExplod
trigger1 = 1
ID = 2013
scale = 1+(time*0.2),1+(time*0.2)

[state 0,0]
type = destroyself
trigger1 = time = 100

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 4
persistent = 0
attr = S, HP
damage = 50, 9
getpower = 0
givepower = 18,9
animtype = heavy
guardflag = M
hitflag = MAFD
priority = 5, hit
pausetime = 1, 9
guard.pausetime = 1, 8
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
;air.hittime  = 8
ground.velocity = -4,-8.6
air.velocity = -4.4,-7
fall = 1
envshake.time = 10
envshake.ampl = 2
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -8

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;きりさけ
[Statedef 2010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7236
sprpriority = 2
juggle = 1

[state 0,0]
type = posadd
triggerall = numhelper(2012) >= 1
trigger1 = var(41) = 2
trigger1 = var(27) >= 1
trigger1 = helper(2012),movehit
x = floor(enemy,gethitvar(hitcount)*-0.08)
;ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 200, 9
channel = 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = -5,-80
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = -5,-80
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 8

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[state 0,reverse]
type = varset
trigger1 = time = 0
fvar(5) = 0.5
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = animelem = 1
persistent = 0
value = 200,19
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = animelem = 10
persistent = 0
value = 200,20
channel = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
ignorehitpause = 1
v = 24
value = 1
persistent = 0
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
;ignorehitpause = 1
persistent = 0

[State 0, 0]
type = Helper
persistent = 5
trigger1 = time = [60,150]
helpertype = normal
name = "cut"
ID = 2012
stateno = 2012
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
size.xscale = 1.5
size.yscale = 1.5

[state 0,0]
type = varset
trigger1 = time = 0
v = 19
value = 0

[state 0,0]
type = varadd
trigger1 = time >= 60
v = 19
value = ifelse(var(19) <= 7,1,-8)
persistent = 5

[State 210, 3]
type = ChangeState
trigger1 = time >= 160
trigger1 = Numhelper(2012) = 0
value = 2011
ctrl = 0

;------------------------------------------
;エフェクト
[Statedef 2012]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7238+parent,var(19)
sprpriority = 2

[State 2, reduce];
type = AttackMulSet
triggerall = root,var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value =  0.5

[state 0,star]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(44) % 100000 < 10000
trigger1 = movehit
persistent = 0
v = 44
value = 10000
[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = movehit
trigger1 = parent,var(44) % 100000 < 10000
trigger1 = parent,var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = movehit
v = 43
value = 1
persistent = 0
ignorehitpause = 1



[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 2, 0]
type = Explod
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1

[state 0,0]
type = null;changeanim
trigger1 = time = 1
value = anim + parent,var(19)

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = A, HA
damage = ifelse(enemy,gethitvar(hitcount) >= 13,ifelse(enemy,gethitvar(hitcount) >= 25, 8,13),20), 6
getpower = 0
givepower = 12,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 4
guard.pausetime = 2, 3
sparkno = 2
sparkxy = -8+(random%10), -54+(random%10)
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -2,-3
air.velocity = -3,0
envshake.time = 15
envshake.ampl = 2
fall = 1
air.fall = 1
fall.recovertime = 24
ground.cornerpush.veloff = 0
guard.kill = ifelse(root,var(49)>0,1,ifelse(root,var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -2



[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = A, HA
damage = ifelse(enemy,gethitvar(hitcount) >= 13,ifelse(enemy,gethitvar(hitcount) >= 25, 8,13),20), 5
getpower = 0
givepower = 12,5
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 4
guard.pausetime = 2, 3
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -2,-3
air.velocity = -3,0
envshake.time = 15
envshake.ampl = 2
fall = 1
air.fall = 1
fall.recovertime = 24
ground.cornerpush.veloff = 0
guard.kill = ifelse(root,var(49)>0,1,ifelse(root,var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -2
p2stateno = 8715

[state 0,0]
type = destroyself
trigger1 = animtime = 0





;おわり-----------------------
[Statedef 2011]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7237
sprpriority = 2

[State 210, 3]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;昇竜EX
[Statedef 2015]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7320
sprpriority = 2
poweradd = 0
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 200, 2
channel = 0

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = 15,-55
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = 15,-55
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 1
helpertype = normal
name = "hokuto"
ID = 1996
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 74
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 60
value = SCA
time = 20

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[state 0,reverse]
type = varset
trigger1 = time = 0
fvar(5) = 0.9
persistent = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 701, Effect]
type = Explod
trigger1 = time = 63
;trigger2 = time = 88
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75


[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = velset
trigger1 = time = 68
x = 0.8
y = -9

[state 0,0]
type = veladd
trigger1 = time >= 74
y = 0.45

[State 200, HitDef1]
type = HitDef
trigger1 = time < 63
persistent = 0
attr = A, HA
damage = ifelse(var(39)=1,46,40), 4
getpower = 0
givepower = 9,6
animtype = diagup
guardflag = M
hitflag = MAF
priority = 5, hit
pausetime = 20, 20
guard.pausetime = 15, 17
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5,-9
air.velocity = -5,-8.6
fall = 1
air.fall = 1
fall.recovertime = 3
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2


[State 200, HitDef1]
type = HitDef
trigger1 = time = [63,90]
persistent = 7
attr = A, HA
damage = ifelse(var(39)=1,68,65), 4
getpower = 0
givepower = 9,6
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 12, 16
guard.pausetime = 11, 11
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5,-8
air.velocity = -5,-8.6
fall = 1
air.fall = 1
fall.recovertime = 3
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 90
persistent = 4
attr = A, HA
damage = ifelse(var(39)=1,68,65), 4
getpower = 0
givepower = 9,6
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 12, 16
guard.pausetime = 11, 11
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5,-8
air.velocity = -5,-8.6
fall = 1
air.fall = 1
fall.recovertime = 8
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2


[State 210, 3]
type = ChangeState
trigger1 = time >= 75
trigger1 = pos y >= 0
value = 9929

;---------------------------------------------------------------------------
;昇竜EX
[Statedef 2016]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7320
sprpriority = 2
poweradd = 0
velset = 0,0


[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7049
postype = p1
pos = -5,-80
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 1
anim = 7048
postype = p1
pos = -5,-80
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 73

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[state 0,reverse]
type = varset
trigger1 = time = 0
fvar(5) = 0.9
persistent = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA,AA,AP
time = 5

[State 701, Effect]
type = Explod
trigger1 = time = 63
anim = 7276
postype = p1
pos = 16,-28
sprpriority = 3
ownpal = 0
bindtime = -1
ignorehitpause = 1
scale = 0.5,0.75

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200, 3
channel = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = velset
trigger1 = time = 68
x = 0.8
y = -9

[state 0,0]
type = veladd
trigger1 = time >= 74
y = 0.45

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 7
attr = A, HA
damage = ifelse(var(39)=1,66,60), 4
getpower = 0
givepower = 9,6
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 6, 9
guard.pausetime = 9, 7
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -5,-8
air.velocity = -5,-8.6
fall = 1
air.fall = 1
fall.recovertime = 3
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
envshake.time = 10
envshake.ampl = 2

[State 210, 3]
type = ChangeState
trigger1 = time >= 75
trigger1 = pos y >= 0
value = 9929




;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;百花繚乱
[Statedef 2020]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7458
sprpriority = 2
poweradd = 0


[state 0,0]
type = playsnd
trigger1 = time = 1
value = 2, 3
channel = 0

[state 0,0]
type = playsnd
trigger1 = time = 55
value = 2, 25
channel = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 2
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1995
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 2
anim = 7049
postype = p1
pos = -30,-10
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 2
anim = 7048
postype = p1
pos = -30,-10
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201



[State 0, 0]
type = Helper
trigger1 = time = 54
helpertype = normal
name = "zangeki"
ID = 2021
stateno = 2021
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
size.yscale = 1.5

;---------------------------------------------------------------------------
;攻撃判定
[Statedef 2021]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7457
sprpriority = 3
velset = 8,0

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) = 0
trigger1 = time >= 2
persistent = 0
attr = A, HP
damage = ifelse(parent,var(39)=1,75,70), 4
getpower = 0
givepower = 55,10
animtype = heavy
guardflag = M
hitflag = MAF
priority = 5, hit
pausetime = 3, 18
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -84
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 16
ground.velocity = -8,-6
air.velocity = -8,-6.6
fall = 1
air.fall = 1
fall.recovertime = 50
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = -3
envshake.ampl = 4
guard.slidetime = 12
guard.velocity = -5
p2stateno = 2022

[State 200, HitDef1]
type = HitDef
trigger1 = parent,var(27) >= 1
trigger1 = time >= 2
persistent = 0
attr = A, HP
damage = ifelse(parent,var(39)=1,81,75), 3
getpower = ifelse(parent,var(50)=0,20,0),23
givepower = 6,3
animtype = heavy
guardflag = M
hitflag = MAF
priority = 5, hit
pausetime = 5, 10
guard.pausetime = 6, 4
sparkno = 2
sparkxy = -8, -44
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,0
air.velocity = -8,-2.6
;fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = -3
envshake.ampl = 2
guard.slidetime = 13
guard.velocity = -8.5
p2stateno = 8715

[state 0,0]
type = palfx
trigger1 = 2
ignorehitpause = 1
add = 250,0,-150


[State 0,s]
type = VarRandom
trigger1 = time >= 0
v = 17
range = -10,10
[State 0,s]
type = VarRandom
trigger1 = time >= 0
v = 18
range = -12,12

[State 0,s]
type = VarRandom
trigger1 = time >= 0
v = 19
range = -9,2

[State 1000, shuttlecock]
type = Explod
trigger1 = time >= 10
trigger1 = Numexplod(7020) <= 18
anim = 7470 + random%10
vel = 0+(var(18)*0.1),-0.9+(var(17)*0.1)
id = 7020
postype = p1
pos = 0,-45
persistent = 3
random = 320,60
ownpal = 1
removetime = 50
sprpriority = 3
scale = 1+(var(19)*0.1),1+(var(19)*0.1)


[state 0,0]
type = destroyself
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;壁までふっとび
[Statedef 2022]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = posadd
trigger1 = enemy,stateno != 8200
trigger1 = enemy,stateno != 8420
trigger1 = pos y > -15
trigger1 = time = 0
y = -15

[state 0,0]
type = turn
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 5017

[state 0,0]
type = changeanim
trigger1 = selfanimexist(5017)
trigger1 = time >= 0
value = 5017
[state 0,0]
type = changeanim
trigger1 = selfanimexist(5017) = 0
trigger1 = time >= 0
value = 5012

[state 0,0]
type = velset
trigger1 = time = 0
x = -8.6
y = -5

[state 0,0]
type = null;screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 8716

[state 0,0]
type = playerpush
trigger1 = 1
value = 0



;---:::::::::::::::::::::::::::::::::::::::::::::
;浮雲・桜散華！
[Statedef 2030]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7459
sprpriority = 2
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 2,29
channel = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 2
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 2
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 2
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 2
anim = 7049
postype = p1
pos = 8,-40
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 2
anim = 7048
postype = p1
pos = 8,-40
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 800, 1]
type = HitDef
;trigger1 = command = "holdfwd" || command = "holdback"
trigger1 = time >= 0
attr = A, HT
;juggle = 30
hitflag = AF
priority = 3, Miss
sparkno = -1
hitsound = S101, 1
sprpriority = 1
;p1facing = ifelse (command = "holdback", -1, 1)
p2facing = 1
p1stateno = 2031
p2stateno = 2032
fall.recover = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 150, 0

[State 200, 3]
type = Changeanim
trigger1 = time = 75
value = 5040

[state 0,0]
type = veladd
trigger1 = time >= 70
y = 0.45

[State 200, 3]
type = Changestate
trigger1 = pos y >= 0
value = 52


;------------------------------------------------
;自分
[Statedef 2031]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7460
sprpriority = 5
velset = 0,0

[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi];グレイブ
type = varadd
triggerall = var(57) = 1
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = time = 1
trigger1 = var(44) % 10000 < 1000
trigger1 = var(43) <= 3
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = time = 1
trigger1 = var(43) <= 4
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 0,star]
type = varadd
trigger1 = var(44) % 10000 < 1000
trigger1 = time = 1
persistent = 0
v = 44
value = 1000

[state 0,0]
type = posadd
trigger1 = time = 0
x = 30
y = -30

[state 0,0]
type = veladd
trigger1 = time >= 20
y = 0.45



[State 0, 0]
type = ChangeState
trigger1 = pos y >= 0
value = 2034;9929
ctrl = 0

[state 0,debug]
type = null;pause
trigger1 = gametime % 2 = 0
time = 1

[state 0,0]
type = angleset
trigger1 = time >= 20
value = (time * 18) - 18
[state 0,0]
type = angledraw
trigger1 = time >= 20

[state 0,0]
type = targetbind
trigger1 = time >= 0
pos = 0,0;35,-46;10,18

;------------------------------------------------
;旋一閃　aite
[Statedef 2032]
type    = A
movetype= H
physics = N
ctrl = 0
;anim = 7404
sprpriority = 3
velset = 0,0

[state 0,0]
type = screenbound
trigger1 = 1
value = 0

[state 0,0]
type = lifeadd
trigger1 = time >= 5
trigger1 = pos y >= 0
value = -180

[state 0,0]
type = null;angleset
trigger1 = time >= 19;1
value =time*-18
[state 0,0]
type = null;angledraw
trigger1 = 1

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7461

[State 0, 0]
type = null;selfState
trigger1 = time >= 5
trigger1 = pos y >= 0
value = 5050
ctrl = 0
[State 0, 0]
type = changeState
trigger1 = time >= 5
trigger1 = pos y >= 0
value = 2033
ctrl = 0

;------------------------------------------------
;旋一閃　aite 地上
[Statedef 2033]
type    = S
movetype= H ;ヒット数が継続しない…がIにしないと空中やられになる…
physics = S
ctrl = 0
anim = 5012
sprpriority = 0
velset = 0,0

[state 0,0]
type = posset
trigger1 = time <= 10
y = 0

[state 0,0]
type = posadd
trigger1 = time = 0
x = -15

[State 0, 0]
type = changeanim2
trigger1 = time = 0
value = 7552
[State 0, 0]
type = changeanim
trigger1 = time >= 32
value = 5020

[State 0, 0]
type = selfState
trigger1 = life = 0
value = 5050
ctrl = 0

[State 0, 0]
type = selfState
trigger1 = time >= 55
value = 0
ctrl = 1

[state 0,0]
type = posadd
trigger1 = time >= 18
x = 1
persistent = 2
[state 0,0]
type = posadd
trigger1 = time >= 19
x = -1
persistent = 2

;------------------------------------------------
;旋一閃　サイ
[Statedef 2034]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7550
sprpriority = 2
velset = 0,0

[state 0,0]
type = envshake
trigger1 = time = 0
time = 25
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0,7
[State 0, 0]
type = PlaySnd
trigger1 = time = 16
value = 101,5
[State 0, 0]
type = PlaySnd
trigger1 = time = 18
value = 101,3

[state 0,0]
type = posadd
trigger1 = time = 0
x = -40

[state 0,0]
type = varset
trigger1 = time = 0
v = 7
value = 0

[state 0,0]
type = posset
trigger1 = time <= 10
y = 0

[State 3000, effect]
type = Explod
trigger1 = time = 16
anim = 7551
postype = p1
pos = 43,0
ownpal = 1
sprpriority = 5
supermovetime =100

[state 0,0]
type = posadd
trigger1 = animtime = 0
x = 20
[State 0, 0]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1







;アルカナ236ab----------------------------------------------------------------
[Statedef 2040]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7553
sprpriority = 2

[state 0,0]
type = changeanim
trigger1 = time = 90
value = 7554

[state 0,0]
type = playsnd
trigger1 = time = 10
value = 2,8
channel = 0

[State 0, 0]
type = PlaySnd
persistent = 0
trigger1 = animelem = 5
value = 200,15
channel = 0

[state 0,reverse]
type = varset
trigger1 = animelem = 1
fvar(5) = 0.4
persistent = 0

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 7
time = 59
movetime = 59
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
;triggerall = var(41) = 2
trigger1 = time = 7
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 7
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 7
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1994;9
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5




;[state 0,0]
;type = varset
;trigger1 = time = 80
;v = 8
;value = 600

[state 0,0]
type = velset
triggerall = p2dist x >= 20
trigger1 = time = [30,45]
x = 1
[state 0,0]
type = velset
triggerall = p2dist x >= 20
trigger1 = time = [46,60]
x = 2.5
[state 0,0]
type = velset
;triggerall = p2dist x >= 20
trigger1 = time = [60,80]
x = 9

[State 210, 3]
type = ChangeState
trigger1 = time >= 120
value = 0
ctrl = 1

[State 210, 3]
type = ChangeState
triggerall = time >= 60
trigger1 = movehit
value = 2041


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 68
persistent = 0
attr = S, HA
damage = 5, 5
getpower = 0
givepower = 18,9
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 1, 6
guard.pausetime = 1, 6
sparkno = 2
sparkxy = -8, -54
hitsound = S300, 9
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
kill = 0
ground.velocity = -3,-7.6
air.velocity = -4.4,-8
fall = 1
envshake.time = 10
envshake.ampl = 2
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -8
down.velocity = -5,-1
p2stateno = 2042

[state 0,0]
type = playerpush
trigger1 = time = [70,100]
value = 0

;hit----------------------------------------------------------------
[Statedef 2041]
type    = S
movetype= A
physics = S
ctrl = 0
sprpriority = 2
velset = 4,0

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = velset
trigger1 = time <= 20
x = 4

[State 0, 1]
type = PlaySnd
trigger1 = time = 4
value = 2,19
channel = 0

[State 0, 0]
type = Explod
trigger1 = time = 0
postype = p1
pos = floor(p2dist x),-45
anim = 7425
ownpal = 1
keyctrl = 0
sprpriority = 5
;ontop = 1
scale = 2,1
;bindtime = -1

[State 210, 3]
type = ChangeState
trigger1 = time >= 150
value = 0
ctrl = 1


[State 3000, effect]
type = Explod
trigger1 = time = 100
anim = f3
postype = p2
pos = 0,-60
random = 10,30
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100

[state 0,0]
type = hitadd
trigger1 = time = 100
value = 1


;------------------------------------------------
;相手ヒット状態
[Statedef 2042]
type    = A
movetype= H
physics = N
ctrl = 0
;anim = 7404
sprpriority = 3
velset = 0,0

[state 0,0]
type = posadd
trigger1 = time = 0
y = -10

[state 0,0]
type = lifeadd
trigger1 = time = 100
value = -185


[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 5010

[state 0,0]
type = velset
trigger1 = time = 100
y = -5

[State 0, 0]
type = selfState
trigger1 = time >= 101
value = 5050
ctrl = 0



;拳法殺し----------------------------------------------------------------
[Statedef 2049]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7750
sprpriority = 2

[state 0,0]
type = changestate
trigger1 = time = 40
value = 2050

[State 0, 0]
type = PlaySnd
persistent = 0
trigger1 = time = 1
value = 2,2
channel = 0

;拳法殺し----------------------------------------------------------------
[Statedef 2050]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7750
sprpriority = 2

[state 0,0]
type = changeanim
trigger1 = time = 90
value = 7554

[state 0,0]
type = changeanim
trigger1 = time = 200
value = 7762

[state 0,0]
type = playsnd
trigger1 = time = 50
value = 2,42
channel = 0

[state 0,reverse]
type = varset
trigger1 = animelem = 1
fvar(5) = 0.4
persistent = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 225

[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 12
time = 218
movetime = 218
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 12
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 12
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 12
anim = 7049
postype = p1
pos = 5,-65
ownpal = 1
sprpriority = 5
;ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
persistent = 0
trigger1 = time = 12
anim = 7048
postype = p1
pos = 5,-65
ownpal = 1
sprpriority = 5
;ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1



[state 0,0]
type = varset
trigger1 = time = 0
v = 19
value = 0
[state 0,0]
type = varadd
trigger1 = time >= 60
v = 19
value = -1

[State 210, 3]
type = ChangeState
trigger1 = time >= 260
value = 0
ctrl = 1







[State 1000,0]
type = projectile
trigger1 = time = 50
persistent = 0
velocity = 5,(var(19))*0.2
remvelocity = 5,(var(19))*0.2
projanim = 7757
projremovetime = 180;7607
projhitanim = 7757
offset = 55 - floor(time*0.4),30 - time
attr = A,HP
animtype = heavy
damage = 35,25
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
;guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2


[State 1000,0]
type = projectile
trigger1 = time = 58
persistent = 0
velocity = 5,(var(19))*0.2 - 1
remvelocity = 5,(var(19))*0.2 - 1
projanim = 7751
projremovetime = 180;7607
projhitanim = 7751
offset = 50 - floor(time*0.4),30 - time
attr = A,HP
animtype = heavy
damage = 70,30
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
;guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2


[State 1000,0]
type = projectile
trigger1 = time = [66,74]
persistent = 8
velocity = 5,(var(19))*0.2
remvelocity = 5,(var(19))*0.2
projanim = 7752
projremovetime = 180;7607
projhitanim = 7752
offset = 50 - floor(time*0.4),30 - time
attr = A,HP
animtype = heavy
damage = 35,25
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
;guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 1000,0]
type = projectile
trigger1 = time = [82,90]
persistent = 8
velocity = 5,(var(19))*0.2
remvelocity = 5,(var(19))*0.2
projanim = 7753
projremovetime = 180;7607
projhitanim = 7753
offset = 50 - floor(time*0.4),30 - time
attr = A,HP
animtype = heavy
damage = 35,25
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
;guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 1000,0]
type = projectile
trigger1 = time = [98,106]
persistent = 8
velocity = 5,(var(19))*0.2
remvelocity = 5,(var(19))*0.2
projanim = 7754
projremovetime = 180;7607
projhitanim = 7754
offset = 50 - floor(time*0.4),30 - time
attr = A,HP
animtype = heavy
damage = 35,25
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
;guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 1000,0]
type = projectile
trigger1 = time = [114,122]
persistent = 8
velocity = 5,(var(19))*0.2
remvelocity = 5,(var(19))*0.2
projanim = 7755
projremovetime = 180;7607
projhitanim = 7755
offset = 50 - floor(time*0.4),30 - time
attr = A,HP
animtype = heavy
damage = 35,25
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
;guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 1000,0]
type = projectile
trigger1 = time = [130,146]
persistent = 8
velocity = 5,(var(19))*0.2
remvelocity = 5,(var(19))*0.2
projanim = 7759
projremovetime = 180;7607
projhitanim = 7759
offset = 55 - floor(time*0.5),30 - time
attr = A,HP
animtype = heavy
damage = 35,25
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
;guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 1000,0]
type = projectile
trigger1 = time = 154
persistent = 0
velocity = 5,(var(19))*0.2
remvelocity = 5,(var(19))*0.2
projanim = 7756
projremovetime = 180;7607
projhitanim = 7756
offset = 45 - floor(time*0.5),30 - time
attr = A,HP
animtype = heavy
damage = 35,25
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
;guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2


[State 1000,0]
type = projectile
trigger1 = time = 162
persistent = 0
velocity = 5,(var(19))*0.2
remvelocity = 5,(var(19))*0.2
projanim = 7761
projremovetime = 180;7607
projhitanim = 7761
offset = 35 - floor(time*0.5),40 - time
attr = A,HP
animtype = heavy
damage = 35,25
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
;guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[State 1000,0]
type = projectile
trigger1 = time = 170
persistent = 0
velocity = 5,(var(19))*0.2
remvelocity = 5,(var(19))*0.2
projanim = 7758
projremovetime = 180;7607
projhitanim = 7758
offset = 25 - floor(time*0.5),50 - time
attr = A,HP
animtype = heavy
damage = 35,25
guardflag = MA
pausetime = 6,13
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -4
air.velocity = -4,-1
air.fall = 1
fall.recovertime = 20
;guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2


[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 180
helpertype = normal
name = "rakka"
ID = 2051
stateno = 2051
postype = p1
pos = floor(p2dist x),0
keyctrl = 0
ownpal = 1
;size.xscale = 0.5
;size.yscale = 0.5

;拳法殺し--落下編--------------------------------------------------------------
[Statedef 2051]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 2

[state 0,0]
type = posadd
trigger1 = 1
persistent = 10
x = floor(p2dist x)
y = floor(p2dist y)


[State 1000,0]
type = projectile
trigger1 = time >= 100
persistent = 35
velocity = 0,9
remvelocity = 0,0
projanim = 7763
projremovetime = 230;7607
projhitanim = 7763
offset = (random%10) - 5,-340
attr = A,HP
animtype = heavy
damage = 15,5
guardflag = HA
hitflag = MAFD
pausetime = 6,6
sparkno =-1
sparkky =0,0
hitsound = S101, 5
guardsound =S0,0
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -2
air.velocity = -2,5
air.fall = 1
fall.recovertime = 10
guard.kill = 0;ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = 0
envshake.ampl = 2

[state 0,0]
type = destroyself
trigger1 = time = 250




;---------------------------------------------------------------------------
;斬空閃ex 改
[Statedef 2060]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7750
sprpriority = 2
poweradd = 0

[state 0,0]
type = changeanim
trigger1 = prevstateno != 7040
trigger1 = time = 0
value = 7750

[state 0,0]
type = changeanim
triggerall = anim = 7750
trigger1 = animelemtime(1) = 40
value = 7762


[State 3500, 1]
type = SuperPause
persistent = 0
triggerall = anim = 7750
trigger1 = animelemtime(1) = 1
time = 70
movetime = 70
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
;triggerall = var(41) = 2
triggerall = anim = 7750
trigger1 = animelemtime(1) = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
[State 0, 0]
type = Helper
persistent = 0
triggerall = anim = 7750
trigger1 = animelemtime(1) = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1991
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
triggerall = anim = 7750
trigger1 = animelemtime(1) = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1994;9
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 0, 1]
type = PlaySnd
triggerall = anim = 7750
trigger1 = animelemtime(1) = 10
value = 2,38
channel = 0


[State 210, 3]
type = ChangeState
triggerall = anim = 7762
trigger1 = animelemtime(4) >= 100
value = 0
ctrl = 1

[State 0, 0]
type = Helper
triggerall = anim = 7762
trigger1 = animelemtime(4) >= 30
persistent = 12
helpertype = normal
name = "zanku"
ID = 2061
stateno = 2061
postype = p1
pos = 85 - floor(time*0.5),40 - time
keyctrl = 0
ownpal = 0

;--------------------------------------------------------------------------
;攻撃判定ex
[Statedef 2061]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7785;51
sprpriority = 5
velset = 0,0

[state 0,0]
type = changestate
trigger1 = parent,movetype = H
value = 2063

[state 0,0]
type = changestate
trigger1 = time >= 8
trigger1 = parent,command != "holdx"
trigger1 = parent,command != "holdy"
value = 2062

;--------------------------------------------------------------------------
;攻撃判定ex
[Statedef 2062]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7751
sprpriority = 3
;velset = 7,0

[state 0,0]
type = reversaldef
;trigger1 = enemy,movetype = A
trigger1 = 1;time <= 12
Reversal.Attr = SCA;, NP,SP,HP
pausetime = 1,1
hitsound = S30,2
numhits = 0
sparkno = -1
sparkxy = 30,2
persistent = 0
p1stateno = 2063

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 32, 3

[state 0,0]
type = veladd
trigger1 = time <= 13
x = 0.5

[state 0,0]
type = changestate
trigger1 = parent,movetype = H
value = 2063

[state 0,0]
type = palfx
trigger1 = time >= 0
time = 2
add = 150,-100,0
ignorehitpause = 1

[state 0,basuke]
type = parentvaradd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = parent,var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 2, hoshi]
type = parentvaradd
triggerall = parent,var(41) = 2
trigger1 = parent,var(24) < 7
trigger1 = parent,var(43) <= 3
;trigger1 = parent,Numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, limitstar]
type = parentvaradd
triggerall = parent,var(41) = 2
triggerall = parent,var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1


[State 210, 3]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = A, HP
damage = 27, 3
getpower = 0
givepower = 16,13
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 5, hit
pausetime = 5, 13
guard.pausetime = 4, 4
sparkno = 2
sparkxy = -8, -14
hitsound = S101, 5
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 16
ground.velocity = -8,0
air.velocity = -8,-3.6
;fall = 1
air.fall = 1
fall.recovertime = 20
guard.kill = ifelse(parent,var(49)>0,1,ifelse(parent,var(41)=2,1,0));0
envshake.time = 10
ground.cornerpush.veloff = -3
envshake.ampl = 2
guard.slidetime = 12
guard.velocity = -5

[State 210, 3]
type = ChangeState
trigger1 = frontedgedist <= -10
trigger2 = movecontact
value = 2063


;--------------------------------------------------------------------------
;攻撃判定exdest
[Statedef 2063]
type    = A
movetype= I
physics = N
ctrl = 0
sprpriority = 5
;velset = 0,0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 2
ignonrehitpause = 1

[state 0,0]
type = velmul
trigger1 = vel x >= 1
x = 0.7

[state 0,0]
type = veladd
trigger1 = pos y <= 0
y = 0.45

[state 0,0]
type = changestate
trigger1 = pos y >= 0
value = 2064

;--------------------------------------------------------------------------
;攻撃判定exdestjimen
[Statedef 2064]
type    = S
movetype= I
physics = N
anim = 7786
ctrl = 0
sprpriority = 3
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 0,1

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = assertspecial
trigger1 = time >= 50
flag = invisible
ignorehitpause = 1
persistent = 5

[state 0,0]
type = destroyself
trigger1 = time = 70








;---:::::::::::::::::::::::::::::::::::::::::::::
;召喚-----
[Statedef 2080]
type    = U
movetype= A
physics = U
ctrl = 0
anim = 7556
sprpriority = 2
velset = 0,0

[state 0,0]
type = velset
trigger1 = time <= 50
x = 0
y = 0

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,1
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 0
trigger1 = time = 9
value = 2, 36
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 9
value = 2, 37
channel = 0


[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 0
time = 50
movetime = 50
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)
[State 0, 0]
type = Helper
;triggerall = var(41) = 2
triggerall = anim = 7750
trigger1 = animelemtime(1) = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1997
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200


[State 0, 0]
type = Helper
persistent = 0
triggerall = anim = 7750
trigger1 = animelemtime(1) = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5


[State 0, 0]
type = PlaySnd
trigger1 = time = 10
value = 300, 0

[State 0, 0]
type = Helper
trigger1 = time = 49
helpertype = normal
name = "chibi"
ID = 1031
stateno = 2081
postype = p1
pos = 50,-60
keyctrl = 0
ownpal = 1

[State 0, 0]
type = Explod
trigger1 = time = 10
postype = p1
pos = 15,0
anim = 7023
ownpal = 1
keyctrl = 0
sprpriority = 5
removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = time = 60
trigger1 = statetype = A
value = 50
ctrl = 1
[State 210, 3]
type = ChangeState
trigger1 = time = 60
trigger1 = statetype != A
value = 0
ctrl = 1


;--------1030------------------------------------------------------------------
;本体   固定
[Statedef 2081]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7821
sprpriority = -2

[State 0, 0]
type = Explod
triggerall = parent,stateno = 2080
trigger1 = time = 0
;postype = p1
pos = 0,-15
anim = 7442
ownpal = 1
keyctrl = 0
sprpriority = 5

[State 2, shild]
type = null;HitOverride
trigger1 = 1
time = 2
attr = SCA, NA, SA, HA
stateno = 2083
IgnoreHitPause = 1
[State 2, shild]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NP, SP, HP
stateno = 2082
IgnoreHitPause = 1
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA,AA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 0
value = SCA,AP
time = 2


[state 0,0]
type = turn
trigger1 = p2dist x < -1

[state 0,0]
type = changestate
trigger1 = var(20) >= 600
value = 1034
ignorehitpause = 0


[state 0,0]
type = palfx
trigger1 = time >= 10
time = 5
add = 20,20,0
persistent = 10

[state 0,reverse]
type = varadd
trigger1 = time >= 1
var(20) = 1

;[State 210, 3]
;type = ChangeState
;triggerall = time >= 30
;trigger1 = parent,movetype = H
;trigger1 = parent,stateno != [120,155]
;value = 2082

;--------1030------------------------------------------------------------------
;本体   で、出るっ
[Statedef 2082]
type    = A
movetype= A
physics = N
ctrl = 0
;anim = 7821
sprpriority = -2

[state 0,0]
type = palfx
trigger1 = time = 0
time = 55
add = 120,100,100

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 6,4
channel = 2
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
trigger1 = random >= 600
value = 6,1
channel = 2


[State 2, shild]
type = HitOverride
trigger1 = 1
time = 2
attr = SCA, NA, SA, HA,AP
stateno = 2083
IgnoreHitPause = 1
[State 2, shild]
type = null;HitOverride
trigger1 = 1
time = 2
attr = SCA, NP, SP, HP
stateno = 2082
IgnoreHitPause = 1
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time <= 5
value = SCA
time = 2
[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 5
value = SCA,AT
time = 2
[State 0,0]
type = hitby
ignorehitpause = 1
trigger1 = time >= 5
value = SCA,AA,AP
time = 2

[State 1000, r]
type = Helper
triggerall = roundstate = 2
triggerall = parent,Numhelper(9879) <= 2
trigger1 = time = 5
helpertype = normal
name = "ai"
pos = 0,-30
postype = p1
stateno = 9879
ownpal = 1
id = 9879
keyctrl = 0
size.xscale = 0.5
size.yscale = 0.5

[State 210, 3]
type = ChangeState
trigger1 = time = 60
value = 2081


;---------------------------------------------------------------------------
;本体 やられて終了
[Statedef 2083]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 7437
sprpriority = 0
velset = 0,0

[State 210, 2]
type = PlaySnd
trigger1 = time = 0
value = 6, 3

[State 0, 0]
type = Explod
trigger1 = time = 0
;postype = p1
pos = 0,-15
anim = 7442
ownpal = 1
keyctrl = 0
sprpriority = 5
[state 0,0]
type = velset
trigger1 = time = 13
x = 0.2
y = 1
[state 0,0]
type = veladd
trigger1 = time >= 13
y = 0.02
[state 0,0]
type = velset
trigger1 = time >= 20
x = 0
y = 0.5
persistent = 45
[state 0,0]
type = veladd
trigger1 = time >= 20
x = 0.04

[state 0,0]
type = turn
trigger1 = time >= 20
persistent = 45

[state 0,0]
type = changestate;destroyself
trigger1 = pos y >= -2
value = 1035


;---:::::::::::::::::::::::::::::::::::::::::::::
;北斗 砕破拳
[Statedef 2090]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7824
sprpriority = 1

[State 210, 2]
type = PlaySnd
trigger1 = time = 1
value = 2, 44
channel = 0
[State 210, 2]
type = PlaySnd
trigger1 = time = 130
value = 2, 45
channel = 0


[State 3500, 1]
type = SuperPause
persistent = 0
trigger1 = time = 0
time = 130
movetime = 130
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = -2000
[State 0, 0]
type = Helper
;triggerall = var(41) = 2
trigger1 = animelemtime(1) = 1
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Helper
persistent = 0
trigger1 = animelemtime(1) = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5
[State 0, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = time = 21
helpertype = normal
name = "hokuto"
ID = 1997
stateno = 1996
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 0, 0]
type = Explod
trigger1 = time = 136
postype = p1
pos = 5,0
anim = 7825
ownpal = 1
keyctrl = 0
sprpriority = -5

[State 0, 0]
type = Explod
trigger1 = time = 136
postype = p1
pos = 0,0
anim = 7826
ownpal = 1
keyctrl = 0
sprpriority = 5
scale = 1.25,1.25

[State 0, 0]
type = Explod
trigger1 = time = 140
postype = p1
pos = 5,0
anim = 7853
ownpal = 1
keyctrl = 0
sprpriority = 4

[State 210, 3]
type = ChangeState
trigger1 = time >= 205
value = 0
ctrl = 1



[State 200, HitDef1]
type = HitDef
triggerall = var(27) = 0
trigger1 = time >= 100
persistent = 0
attr = S, HA
damage = 85, 10
getpower = 0
givepower = 100
animtype = heavy
guardflag = M
hitflag = MAF
priority = 6, hit
pausetime = 15, 35
guard.pausetime = 13, 12
sparkno = 3
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = 14
;air.hittime  = 8
ground.velocity = -1,ifelse(Numhelper(9055)>=1,-12.5,-7)
air.velocity = -0.6,ifelse(Numhelper(9055)>=1,-12.5,-7)
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 1;ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 10
guard.velocity = -2
forcestand = 1

[State 200, HitDef1]
type = HitDef
triggerall = var(27) >= 1
trigger1 = time >= 100
persistent = 0
attr = S, HA
damage = 85, 10
getpower = 0
givepower = 100
animtype = heavy
guardflag = M
hitflag = MAF
priority = 6, hit
pausetime = 15, 35
guard.pausetime = 13, 12
sparkno = 3
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = 14
;air.hittime  = 8
ground.velocity = -1,ifelse(Numhelper(9055)>=1,-12.5,-7)
air.velocity = -0.6,ifelse(Numhelper(9055)>=1,-12.5,-7)
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = 1;ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 10
guard.velocity = -2
forcestand = 1
p2stateno = 8715


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = time <= 140
value = SCA,AA
time = 1
[State 3900, NotHitBy]
type = HitBy
trigger1 = time <= 140
value = SCA,AP,AT
time = 1

[state 0,basuke]
type = varadd
triggerall = movehit
trigger1 = enemy,statetype = A
trigger1 = var(27) = 0
;;tt
v = 7
value = 1
persistent = 0

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = numhelper(9055) >= 1
trigger1 = movehit
v = 24
value = 1
persistent = 0
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1
[state 2, limitstar]
type = varadd
triggerall = var(41) = 2
triggerall = var(43) <= 3
trigger1 = time = 2
v = 43
value = 1
persistent = 0
ignorehitpause = 1
[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;ちょうきゃくぅー…ほうおうしょおー！！！！
;溜め
[Statedef 2020]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7039
sprpriority = 2

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 200,16
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
trigger1 = random >= 500
value = 200,14
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time = 6
anim = 7049
postype = p1
pos = -5,-72
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 6
anim = 7048
postype = p1
pos = -5,-72
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = !moveguarded
trigger1 = time <= 90
value = SCA
time = 2

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = -1
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[state 0,0]
type = changeanim
trigger1 = time = 53
value = 2040

[state 0,0]
type = velset
trigger1 = time >= 60
x = 10

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
ignorehitpause = 1
persistent = 0

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 60
persistent = 0
attr = S, HA
damage = 1, 1
getpower = 0
givepower = 1,1
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 15, ifelse(enemy,statetype != A,28,25)
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = 0,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1
forcestand = 1

[State 210, 3]
type = ChangeState
trigger1 = movehit
value = 2021

[State 210, 3]
type = ChangeState
trigger1 = time >= 100
value = 101
ctrl = 0


;---------------------------------------------------------------------------
;ヒット後メッタメタのギッタギタにしてやるぜ
[Statedef 2021]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 7041
sprpriority = 2
velset = 1.4,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 12
value = 200,17
channel = 0

[State 200, HitDef1];肘鉄砲
type = HitDef
trigger1 = animelem = 5
persistent = 0
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 12
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -50
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[State 200, HitDef2];けり１
type = HitDef
trigger1 = animelem = 13
persistent = 0
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 12
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -20
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[State 200, HitDef3];けり２
type = HitDef
trigger1 = animelem = 18
persistent = 0
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 12
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -54
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[State 200, HitDef4];けり3
type = HitDef
trigger1 = animelem = 22
persistent = 0
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 12
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -70
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[State 200, HitDef5];くるくる
type = HitDef
trigger1 = time >= 54
persistent = 7
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 2, 12
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -6, -51
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 2022
ctrl = 0


;---------------------------------------------------------------------------
;まだだ！蹴り上げ
[Statedef 2022]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7042
sprpriority = 2
velset = 0,0

[state 0,0]
type = posadd
trigger1 = time <= 15
y = -2

[state 0,0]
type = veladd
trigger1 = time >= 25
y = 0.45

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 3
persistent = 0
attr = S, HA
damage = 23, 2
getpower = 0
givepower = 15,3
animtype = heavy
guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 10, 10
guard.pausetime = 10, 12
sparkno = 2
sparkxy = -8, -64
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
;air.hittime  = 8
ground.velocity = -1,0
air.velocity = -1,-3
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1
palfx.add = 0,-100,-200
palfx.time = 30
palfx.invertall = 1
palfx.sinadd = 200,80,0,5
p2stateno = 2023

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = time >= 20
value = 52
ctrl = 1

[State 210, 3]
type = ChangeState
trigger1 = movehit
trigger1 = time >= 22
value = 2024
ctrl = 0


;---------------------------------------------------------------------------
;鳳凰
[Statedef 2025]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = -5
velset = 0,0

[state 0,0]
type = bgpalfx
trigger1 = time = 0
time = 5
mul = 210,210,210
[state 0,0]
type = bgpalfx
trigger1 = time = 5
time = 5
mul = 120,120,120
[state 0,0]
type = bgpalfx
trigger1 = time = [10,90]
time = 1
mul = 0,0,0
[state 0,0]
type = bgpalfx
trigger1 = time = 90
time = 5
mul = 50,50,50
[state 0,0]
type = bgpalfx
trigger1 = time = 95
time = 5
mul = 190,190,190

[State 3000, effect]
type = Explod
trigger1 = time < 20
anim = 7044
postype = p1
pos = 36,-62
ownpal = 1
removetime = 1
sprpriority = -5
supermovetime =100
bindtime = -1
scale = 0.6*(time*0.05),0.6

[State 3000, effect]
type = Explod
trigger1 = time = [20,59]
anim = 7044
postype = p1
pos = 36,-62
ownpal = 1
removetime = 1
sprpriority = -5
supermovetime =100
bindtime = -1
scale = 0.6,0.6

[State 3000, effect]
type = Explod
trigger1 = time = [60,89]
anim = 7044
postype = p1
pos = 36,-62
ownpal = 1
removetime = 1
sprpriority = -5
supermovetime =100
bindtime = -1
scale = 0.6,0.01+((time*0.02)-0.2)

[State 3000, effect]
type = Explod
trigger1 = time >= 90
anim = 7044
postype = p1
pos = 36,-62
ownpal = 1
removetime = 1
sprpriority = -5
supermovetime =100
bindtime = -1
scale = 0.6-time*0.0058,0.01+((time*0.02)-0.2)


[State 3000, effect];縦棒
type = Explod
trigger1 = time <= 90
trigger1 = random >= 800
trigger1 = Numexplod(7045) <= 8
anim = 7045
postype = left
pos = 160,120
random = 360,0
ownpal = 1
removetime = 100
sprpriority = 5
;ontop = 1
supermovetime =100
;bindtime = -1
scale = 0.5,6
id = 7045

[State 3000, effect];爆発
type = Explod
trigger1 = time >= 8
trigger1 = random >= 500
persistent = 6
anim = 7046
postype = left
pos = 160,120
random = 300,300
ownpal = 1
sprpriority = 3
supermovetime =100
;bindtime = -1
scale = 0.5,0.5

[state 0,0]
type = playsnd
trigger1 = time >= 8
trigger1 = random >= 700
value = 230,3
channel = 4

[state 0,0]
type = removeexplod
trigger1 = time = 99
id = 7045

[state 0,0]
type = destroyself
trigger1 = time = 100

;---------------------------------------------------------------------------
;んっ…フィニッシュアル…
[Statedef 2024]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7043
sprpriority = 2
velset = 0,-18

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(24) < 7
trigger1 = movehit
v = 24
value = 1
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 8
value = 200,18
channel = 0

[State 0, 0]
type = Helper
trigger1 = time = 12
helpertype = normal
name = "houou"
ID = 2025
stateno = 2025
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200


[state 0,0]
type = velset
trigger1 = time = 12
y = -1

[state 0,0]
type = veladd
trigger1 = time = 70
y = 0.45

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 15
persistent = 0
attr = S, HA
damage = 150, 10
getpower = 0
givepower = 60,9
animtype = heavy
;guardflag = MA
hitflag = MAF
priority = 8, hit
pausetime = 1, 14
guard.pausetime = 1, 12
sparkno = 2
sparkxy = -8, -54
hitsound = S230, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 20
ground.hittime  = 20
;air.hittime  = 8
ground.velocity = -5,-12
air.velocity = -5,-15
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -1

[state 0,0]
type = changestate
trigger1 =animtime = 0
value = 5040
ctrl = 0

;---------------------------------------------------------------------------
;蹴り上げられた
[Statedef 2023]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5030
sprpriority = 2
velset = 0,-7

[state 0,0]
type = selfstate
trigger1 = time >= 40
value = 5050

[state 0,0]
type = screenbound
trigger1 = 1
value = 0








;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;LD いなつるびのかたま
[Statedef 4000]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7750
sprpriority = 1
velset = 0,0
[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.3
persistent = 0


[state 0,0]
type = powerset
trigger1 = time <= 2
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 2,39
channel = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 65

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 63
movetime = 63
pos = -14,-9
ownpal = 1
anim =-1
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7049
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7048
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[state 0,0]
type = changeanim
trigger1 = time = 63
value = 7554

[State 210, 3]
type = ChangeState
trigger1 = time >= 130
value = 4001
;ctrl = 1

[State 0, 0]
type = Helper
trigger1 = time = 61
helpertype = normal
name = "hikari"
ID = 4002
stateno = 4002
postype = p1
pos = floor(p2dist x),0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[State 3000, effect]
type =null; Explod
trigger1 = time = 60
anim = 7769
postype = p1
pos = floor(p2dist x),0
ownpal = 1
sprpriority = 5
;ontop = 1
supermovetime =200
bindtime = -1
;removeongethit = 1

;---------------------------------------------------------------------------
;LD いなつるびのかたま2
[Statedef 4001]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7770
sprpriority = 1
velset = 12,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 2,51
channel = 0

[state 0,0]
type = posadd
trigger1 = time = 16
x = floor(p2dist x) + 60

[State 3000, effect]
type = Explod
trigger1 = time = 16
anim = 7768
postype = left
pos = 0,-5
ownpal = 1
sprpriority = 5
;ontop = 1
supermovetime =200
bindtime = -1
;removeongethit = 1

[State 210, 3]
type = ChangeState
trigger1 = time >= 85
value = 0
ctrl = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 5
persistent = 0
attr = S, HP
damage = 250
numhits = 31
getpower = 0
animtype = heavy
hitflag = MAF
priority = 5, hit
pausetime = 0, 15
sparkno = -1
sparkxy = -8, -64
hitsound = S60,3
guardsound = -1
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0,0
air.velocity = 0,0
fall = 1
air.fall = 1
fall.recover = 0


;---------------------------------------------------------------------------
;LD いなつるびのかたま hikari
[Statedef 4002]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7769
sprpriority = 4
velset = 0,0

[State 3000, effect]
type = Explod
trigger1 = time = 6
trigger2 = time = 31
anim = 7595
postype = p1
random = 38,38
pos = 0,-45
ownpal = 1
sprpriority = 5
;ontop = 1
supermovetime =200
;bindtime = -1
;removeongethit = 1

[State 3000, effect]
type = Explod
trigger1 = time = 9
trigger2 = time = 25
anim = 7596
postype = p1
random = 38,38
pos = 0,-45
ownpal = 1
sprpriority = 5

[State 3000, effect]
type = Explod
trigger1 = time = 16
trigger2 = time = 40
anim = 7597
postype = p1
random = 38,38
pos = 0,-45
ownpal = 1
sprpriority = 5

[state 0,0]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 210, 3]
type = SprPriority
trigger1 = 1
value = 4
ignorehitpause = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 5
persistent = 10
attr = S, HP
damage = 65
kill = 0
getpower = 0
animtype = heavy
hitflag = MAF
priority = 5, hit
pausetime = 0, 25
sparkno = -1
sparkxy = -8, -64
hitsound = S60,3
guardsound = -1
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 0,-4
air.velocity = 0,-3
fall = 1
air.fall = 1
fall.recover = 0

[State 210, 3]
type = destroyself
trigger1 = animtime = 0



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;LD
[Statedef 4000]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7254
sprpriority = 1
velset = 0,0
[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.3
persistent = 0


[state 0,0]
type = powerset
trigger1 = time <= 2
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 200,21
channel = 0

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 65

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 63
movetime = 63
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1995
postype = back
pos = -220,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7049
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7048
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "asakura"
ID = 3900
stateno = 3900
postype = p1
pos = -30,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = changeanim
trigger1 = time = 160
value = 7331

[State 210, 3]
type = ChangeState
trigger1 = time >= 165
trigger1 = Numhelper(3900) = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;LD 朝倉
[Statedef 3900]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7338
sprpriority = 1
velset = -0.5,0

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 60, 0

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 410, 1

[state 0,0]
type = palfx
trigger1 = time <= 25
time = 1
mul = time*10,time*10,time*10

[state 0,0]
type = bgpalfx
trigger1 = time <= 25
time = 1
mul = 100,100,100

[state 0,0]
type = changeanim
trigger1 = time = 50
value = 7294

[state 0,0]
type = velset
trigger1 = time = 50
x = 0

[state 0,0]
type = posadd
trigger1 = time = 52
x = p2dist x - 60


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 50
persistent = 0
attr = S, HA
damage = 1, 1
kill = 0
getpower = 0
animtype = heavy
hitflag = MAF
priority = 5, hit
pausetime = 1, 1
guard.pausetime = 1, 1
sparkno = -1
sparkxy = -8, -64
hitsound = S60,3
guardsound = -1
ground.type = high
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = -8,-5
air.velocity = -8,-5
fall = 1
air.fall = 1
fall.recover = 0
p1stateno = 3901
p2stateno = 3902



[state 0,0]
type = changestate
trigger1 = time = 60
value = 3903

;---------------------------------------------------------------------------
;朝倉
[Statedef 3901]
type    = S
movetype= A
physics = N
ctrl = 0
sprpriority = 2
velset = 0,0

[state 0,0]
type = changeanim
trigger1 = time = 15
value = 7296
[State 3000, effect]
type = Explod
trigger1 = time = 15
anim = 7349
;postype = p1
pos = 0,0
ownpal = 0
sprpriority = 5

[state 0,0]
type = playsnd
trigger1 = time = 70
value = 410, 0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7298
;postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
;ontop = 1
;supermovetime =100
;bindtime = -1
;removeongethit = 1

[State 3000, effect]
type = Explod
trigger1 = time = 51
trigger2 = time = 151
trigger3 = time = 230
anim = 7297
;postype = p1
pos = -7,0
ownpal = 1
sprpriority = 5

[state 0,0]
type = playsnd
trigger1 = time = 51
trigger2 = time = 151
trigger3 = time = 230
value = 60, 4

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 3903


;---------------------------------------------------------------------------
;朝倉osimai
[Statedef 3903]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 7293
sprpriority = 2
velset = 0,0

[State 0, 0]
type = PlaySnd
triggerall = prevstateno = 3901
trigger1 = time = 0
value = 410, 2
[State 0, 0]
type = PlaySnd
triggerall = prevstateno != 3901
trigger1 = time = 0
value = 410, 3

[state 0,0]
type = palfx
trigger1 = time <= 25
time = 1
mul = 255-(time*10),255-(time*10),255-(time*10)

[state 0,0]
type = bgpalfx
trigger1 = time <= 25
time = 1
mul = 100,100,100

[state 0,0]
type = destroyself
trigger1 = time = 25

;---------------------------------------------------------------------------
;朝倉　さされた方
[Statedef 3902]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority =2
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 0
value = 11, 0
channel = 0

[state 0,0]
type = lifeadd
trigger1 = time = 1
value = -380
kill = 0

[state 0,0]
type = lifeadd
trigger1 = time = 51
trigger2 = time = 151
trigger3 = time = 230
value = -40
kill = 0

[state 0,0]
type = changeanim2
trigger1 = time = 51
trigger2 = time = 151
trigger3 = time = 230
value = 7330

[state 0,0]
type = lifeadd
trigger1 = time = 235
value = -20

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7295

[state 0,0]
type = velset
trigger1 = time = 299
x = -2
y = -2

[state 0,0]
type = selfstate
trigger1 = time = 300
value = 5100


;---------------------------------------------------------------------------
;LD 自分
[Statedef 4001]
type    = S
movetype= A
physics = S
ctrl = 0
;anim = 7096
sprpriority = 5
velset = 0,0

[state 0,0]
type = playsnd
trigger1 = time = 10
value = 200, 10
channel = 0

[state 0,0]
type = removeexplod
trigger1 = time = 1
id = 8800

[state 0,0]
type = assertspecial
trigger1 = var(41) = 2
flag = nomusic

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(41) = 2
value = 1000,0
loop = 1
channel = 2
volume = 50

[state 0,0]
type = varset
trigger1 = time = 0
trigger1 = var(41) = 2
v = 23
value = 1

[state 0,0]
type = allpalfx
trigger1 = time <= 10
time = 1
add = time*25,time*25,time*25
[state 0,0]
type = allpalfx
trigger1 = time = [10,20]
time = 1
add = 255,255,255
[state 0,0]
type = allpalfx
trigger1 = time = [20,63]
time = 1
add = 255-(time*4),255-(time*4),255-(time*4)

[state 0,0]
type = assertspecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 3500, 1]
type = SuperPause
trigger1 = time = 0
time = 320
movetime = 320
pos = -14,-9
ownpal = 1
anim = S8999
sound = -1;S20,0
poweradd = 0

[State 3000, effect];背景
type = Explod
trigger1 = time = 20
anim = 7252
postype = left
pos = -90,-40
ownpal = 1
sprpriority = -5
;ontop = 1
scale = 0.8,0.8
supermovetime =9000
bindtime = -1
;removeongethit = 1

[State 0, 0]
type = Helper
trigger1 = time = 101
helpertype = normal
name = "back"
ID = 4010
stateno = 4010
postype = left
pos = 140,120
keyctrl = 0
ownpal = 1
pausemovetime = 2200
supermovetime = 2200
;size.xscale = 0.5
;size.yscale = 0.5

[state 0,0]
type = changeanim
trigger1 = time = 11
value = 7254

[state 0,0]
type = posset
trigger1 = facing = 1
trigger1 = time = 11
x = -30
y = 0
[state 0,0]
type = posset
trigger1 = facing = -1
trigger1 = time = 11
x = 30
y = 0

[state 0,0]
type = varset
trigger1 = time = 280
v = 24
value = 0

[state 0,0]
type = targetbind
trigger1 = time = 11
pos = 50,0

[state 0,0]
type = changestate
trigger1 = time = 320;320
value = 0
ctrl = 1



;---------------------------------------------------------------------------
;LD aいて
[Statedef 4002]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5030
sprpriority = -2
velset = 0,0

[state 0,0]
type = lifeadd
trigger1 = time = 1
value = -580

[state 0,0]
type = changeanim
trigger1 = 1
value = 5030

[state 0,0]
type = selfstate
trigger1 = time = 2
value = 5150


;---------------------------------------------------------------------------
;天
[Statedef 4010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,0
channel = 0

[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 19
range = -6,-1
[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 18
range = 1,6
[state 0,0]
type = varrandom
trigger1 = time >= 0
v = 17
range = 1,10

[State 701, Effect]
type = Explod
persistent = 10
trigger1 = random >= 450
;trigger1 = Time = [0,300]
anim = 7255
postype = left
pos = 250,-30
random = 240,40
sprpriority = 5
ownpal = 1
ignorehitpause = 1
scale = 0.1+(var(17)*0.1),0.1+(var(17)*0.1)
vel = var(19)*0.4,var(18)*0.4
removetime = 220
supermovetime = 300
ontop = 1

[State 3000, effect];背景
type = Explod
trigger1 = time = 20
anim = 7253
postype = left
pos = -90,-40
ownpal = 1
sprpriority = 5
;ontop = 1
scale = 0.8,0.8
supermovetime =9000
bindtime = -1
removetime = -1
id = 8801

[state 0,0]
type = removeexplod
trigger1 = time >= 300
trigger1 = roundstate = 2
id = 8801


[state 0,0]
type = null;destroyself
trigger1 = time >= 200

;---------------------------------------------------------------------------
;上
[Statedef 4011]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,1
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7099
postype = left
pos = 160-(time*4),120-(time)
ownpal = 1
sprpriority = 6
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7099
removetime = 290
postype = left
pos = 160-(time*4),120-(time)
ownpal = 1
sprpriority = 6
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;天2
[Statedef 4012]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,2
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7098
postype = left
pos = 160-(time*4),120+(time)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7098
removetime = 250
postype = left
pos = 160-(time*4),120+(time)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;下
[Statedef 4013]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,3
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7100
postype = left
pos = 160-(time*4),120+(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7100
removetime = 210
postype = left
pos = 160-(time*4),120+(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;唯
[Statedef 4014]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,4
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7101
postype = left
pos = 160+(time*4),120-(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7101
removetime = 170
postype = left
pos = 160+(time*4),120-(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;我
[Statedef 4015]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,5
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7102
postype = left
pos = 160+(time*4),120-(time)
ownpal = 1
sprpriority = 6
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7102
removetime = 130
postype = left
pos = 160+(time*4),120-(time)
ownpal = 1
sprpriority = 6
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;独
[Statedef 4016]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,6
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7103
postype = left
pos = 160+(time*4),120+(time)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7103
removetime = 90
postype = left
pos = 160+(time*4),120+(time)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = destroyself
trigger1 = parent,stateno != 4001

;---------------------------------------------------------------------------
;尊
[Statedef 4017]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 9999
sprpriority = 5
velset = 0,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 700,7
channel = 0

[State 3000, effect]
type = Explod
trigger1 = time <= 30
anim = 7104
postype = left
pos = 160+(time*4),120+(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 1-(time*0.02),1-(time*0.02)
supermovetime =900
bindtime = -1

[State 3000, effect]
type = Explod
trigger1 = time = 30
anim = 7104
removetime = 50
postype = left
pos = 160+(time*4),120+(time*3)
ownpal = 1
sprpriority = 5
ontop = 1
scale = 0.4,0.4
supermovetime =9000
bindtime = -1
removeongethit = 1

[state 0,0]
type = pause
trigger1 = time = 30
time = 20
movetime = 20

[state 0,0]
type = assertspecial
trigger1 = parent,var(41) = 2
flag = nomusic

[state 0,0]
type = destroyself
trigger1 = time >= 120











;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;AD
[Statedef 3000]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7480
sprpriority = 2
velset = 0,0
[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.4
persistent = 0

[state 0,0]
type = powerset
trigger1 = time <= 2
trigger1 = var(50) = 2
value = 1000

[state 0,0]
type = powerset
trigger1 = time = 0
trigger1 = var(50) >= 3
value = 0


[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0




[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 75

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 55
movetime = 55
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = playsnd
trigger1 = time = 16
value = 2, 26
channel = 0
[state 0,0]
type = playsnd
trigger1 = time = 66
value = 60, 1

[State 0, 0]
type = Helper
trigger1 = time = 66
helpertype = normal
name = "beam"
ID = 3005
stateno = 3005
postype = p1
pos = 80,50
keyctrl = 0
ownpal = 1
;size.xscale = 2
[State 0, 0]
type = Helper
trigger1 = time = 66
helpertype = normal
name = "beam"
ID = 3005
stateno = 3006
postype = p1
pos = -60,50
keyctrl = 0
ownpal = 1
;size.xscale = 2
[State 0, 0]
type = Helper
trigger1 = time = 66
helpertype = normal
name = "beam"
ID = 3005
stateno = 3007
postype = p1
pos = -10,50
keyctrl = 0
ownpal = 1
[State 0, 0]
type = Helper
trigger1 = time = 66
helpertype = normal
name = "beam"
ID = 3005
stateno = 3008
postype = p1
pos = -20,50
keyctrl = 0
ownpal = 1

[State 0, 0]
type = PlaySnd
trigger1 = movehit
value = 101,3
channel = 3
persistent = 2

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

[state 0,0]
type = envshake
trigger1 = time = 66
time = 35


[State 0,s]
type = VarRandom
trigger1 = time >= 0
v = 17
range = -10,10
[State 0,s]
type = VarRandom
trigger1 = time >= 0
v = 18
range = -12,12

[State 0,s]
type = VarRandom
trigger1 = time >= 0
v = 19
range = -9,2

[State 1000, shuttlecock]
type = Explod
trigger1 = time >= 60
trigger1 = Numexplod(7020) <= 18
anim = 7470 + random%10
vel = 0+(var(18)*0.1),-0.9+(var(17)*0.1)
id = 7020
postype = p1
pos = 0,-5
random = 320,20
ownpal = 1
removetime = 50
sprpriority = 3
scale = 1+(var(19)*0.1),1+(var(19)*0.1)


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;AD
[Statedef 3010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7462
sprpriority = 2
velset = 0,0
[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.4
persistent = 0

[state 0,0]
type = powerset
trigger1 = time <= 2
trigger1 = var(50) = 2
value = 1000

[state 0,0]
type = powerset
trigger1 = time = 0
trigger1 = var(50) >= 3
value = 0


[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0




[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 75

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 55
movetime = 55
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
persistent = 0
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,0
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200

[state 0,0]
type = playsnd
trigger1 = time = 11
value = 2, 26
channel = 0
[state 0,0]
type = playsnd
trigger1 = time = 60
value = 60, 1

[State 0, 0]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "beam"
ID = 3005
stateno = 3005
postype = p1
pos = 99,30
keyctrl = 0
ownpal = 1
;size.xscale = 2
[State 0, 0]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "beam"
ID = 3005
stateno = 3006
postype = p1
pos = -80,30
keyctrl = 0
ownpal = 1
;size.xscale = 2
[State 0, 0]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "beam"
ID = 3005
stateno = 3007
postype = p1
pos = -10,30
keyctrl = 0
ownpal = 1
[State 0, 0]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "beam"
ID = 3005
stateno = 3008
postype = p1
pos = -20,30
keyctrl = 0
ownpal = 1

[State 0, 0]
type = PlaySnd
trigger1 = movehit
value = 101,3
channel = 3
persistent = 2

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

[state 0,0]
type = envshake
trigger1 = time = 60
time = 35


[State 0,s]
type = VarRandom
trigger1 = time >= 0
v = 17
range = -10,10
[State 0,s]
type = VarRandom
trigger1 = time >= 0
v = 18
range = -12,12

[State 0,s]
type = VarRandom
trigger1 = time >= 0
v = 19
range = -9,2

[State 1000, shuttlecock]
type = null;Explod
trigger1 = time >= 60
trigger1 = Numexplod(7020) <= 18
anim = 7470 + random%10
vel = 0+(var(18)*0.1),-0.9+(var(17)*0.1)
id = 7020
postype = p1
pos = 0,-5
random = 320,20
ownpal = 1
removetime = 50
sprpriority = 3
scale = 1+(var(19)*0.1),1+(var(19)*0.1)

;---------------------------------------------------------------------------
;本体
[Statedef 3005]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7463
sprpriority = 4
velset = 0.5,0


[State 210, 3]
type = SprPriority
trigger1 = 1
ignorehitpause = 1
value = 5

[state 0,0]
type = assertspecial
trigger1 = 1
ignorehitpause = 1
flag = noshadow


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 8
attr = A, HP
damage = ifelse(parent,stateno = 3000,22,25), 6
getpower = 0
givepower = 3
animtype = heavy
hitflag = MAF
guardflag = M
priority = 5, hit
pausetime = 2, 9
guard.pausetime = 2, 6
sparkno = -1
sparkxy = 38+(random%10), -4+(random%10)
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5+(random%10),-4
air.velocity = -5+(random%10),-3
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -7
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = 0
;p2stateno = 614


[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
name = "hit"
pos = Ceil(P2Dist X/2+38+(random%10)), -4+(random%10)-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 10
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999


[State 210, 3]
type = destroyself
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;本体
[Statedef 3006]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7464
sprpriority = 4
velset = 0,0

[State 210, 3]
type = SprPriority
trigger1 = 1
ignorehitpause = 1
value = 5


[state 0,0]
type = assertspecial
trigger1 = 1
ignorehitpause = 1
flag = noshadow


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 8
attr = A, HP
damage = 22, 6
getpower = 0
givepower = 3
animtype = heavy
hitflag = MAF
guardflag = M
priority = 5, hit
pausetime = 2, 5
guard.pausetime = 2, 6
sparkno = -1
sparkxy = 38+(random%10), -4+(random%10)
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5+(random%10),-4
air.velocity = -5+(random%10),-3
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = 0
;p2stateno = 614

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
name = "hit"
pos = Ceil(P2Dist X/2+38+(random%10)), -4+(random%10)-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 10
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[State 210, 3]
type = destroyself
trigger1 = animtime = 0



;---------------------------------------------------------------------------
;本体
[Statedef 3007]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7465
sprpriority = 4
velset = 0,0

[State 210, 3]
type = SprPriority
trigger1 = 1
ignorehitpause = 1
value = 5


[state 0,0]
type = assertspecial
trigger1 = 1
ignorehitpause = 1
flag = noshadow


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 8
attr = A, HP
damage = ifelse(parent,stateno = 3000,22,25), 6
getpower = 0
givepower = 3
animtype = heavy
hitflag = MAF
guardflag = M
priority = 5, hit
pausetime = 2, 5
guard.pausetime = 2, 6
sparkno = -1
sparkxy = 38+(random%10), -4+(random%10)
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5+(random%10),-4
air.velocity = -5+(random%10),-3
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = 0
;p2stateno = 614

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
name = "hit"
pos = Ceil(P2Dist X/2+38+(random%10)), -4+(random%10)-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 10
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[State 210, 3]
type = destroyself
trigger1 = animtime = 0



;---------------------------------------------------------------------------
;本体
[Statedef 3008]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7466
sprpriority = 4
velset = 0,0

[State 210, 3]
type = SprPriority
trigger1 = 1
ignorehitpause = 1
value = 5


[state 0,0]
type = assertspecial
trigger1 = 1
ignorehitpause = 1
flag = noshadow


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 8
attr = A, HP
damage = ifelse(parent,stateno = 3000,22,25), 6
getpower = 0
givepower = 3
animtype = heavy
hitflag = MAF
guardflag = M
priority = 5, hit
pausetime = 2, 5
guard.pausetime = 2, 6
sparkno = -1
sparkxy = 38+(random%10), -4+(random%10)
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5+(random%10),-4
air.velocity = -5+(random%10),-3
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = 0
;p2stateno = 614

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit = 1
name = "hit"
pos = Ceil(P2Dist X/2+38+(random%10)), -4+(random%10)-Ceil(P2BodyDist Y)
Postype = p2
stateno = 16095
helpertype = normal
persistent = 10
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = .5
size.yscale = .5
supermovetime = 999999
pausemovetime = 999999

[State 210, 3]
type = destroyself
trigger1 = animtime = 0



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;AAD
[Statedef 3010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7281
sprpriority = 2
velset = 0,0
[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = 0.3
persistent = 0

[state 0,0]
type = powerset
trigger1 = time <= 2
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 200,21
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 65
value = 200,26
channel = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 75

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,50
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[state 0,0]
type = playsnd
trigger1 = time = 61
value = 200, 8
channel = 0

[state 0,0]
type = playsnd
trigger1 = time = 75
value = 60, 1

[State 0, 0]
type = Helper
trigger1 = time = 72
helpertype = normal
name = "nagatobeam"
ID = 3002
stateno = 3006
postype = p1
pos = 34,-80
keyctrl = 0
ownpal = 1
size.xscale = 2

[State 0, 0]
type = PlaySnd
trigger1 = movehit
value = 101,3
channel = 3
persistent = 2

[State 210, 3]
type = ChangeState
trigger1 = time >= 130
trigger1 = Numhelper(3002) = 0
value = 3001
ctrl = 0

[state 0,0]
type = envshake
trigger1 = time = 70
time = 35


;---------------------------------------------------------------------------
;AD終了
[Statedef 3001]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7283
sprpriority = 2
velset = 0,0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;ビームほんたい
[Statedef 3002]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7282
sprpriority = 4
velset = 0,0

[State 2, 0]
type = Explod
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1

[state 0,0]
type = bindtoparent
trigger1 = time <= 99
ignorehitpause = 1
pos = 34,-80

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7282
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
bindtime = -1
scale = 2,0.1
id = 3002
removetime = 9

[state 0,0]
type = ModifyExplod
trigger1 = time = [0,9]
id = 3002
scale = 2,0.1+(time*0.1)


[State 210, 3]
type = SprPriority
trigger1 = 1
ignorehitpause = 1
value = 5

[state 0,0]
type = assertspecial
trigger1 = time <= 9
flag = invisible
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = 1
ignorehitpause = 1
flag = noshadow


[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 8
attr = A, HP
damage = 22, 6
getpower = 0
givepower = 3
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 5, hit
pausetime = 2, 5
guard.pausetime = 2, 6
sparkno = -1
sparkxy = 38+(random%10), -4+(random%10)
hitsound = -1;S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,-4
air.velocity = -8,0
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -7
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = 0
;p2stateno = 614

[State 210, 3]
type = destroyself
trigger1 = time = 100
trigger2 = parent,stateno != 3000

;---------------------------------------------------------------------------
;ビームほんたい
[Statedef 3006]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 7282
sprpriority = 4
velset = 0,0

[State 2, 0]
type = Explod
triggerall = parent,var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1

[state 0,0]
type = bindtoparent
trigger1 = time <= 99
ignorehitpause = 1
pos = 34,-80

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7282
postype = p1
pos = 0,0
ownpal = 1
sprpriority = 5
bindtime = -1
scale = 2,0.1
id = 3002
removetime = 9

[state 0,0]
type = ModifyExplod
trigger1 = time = [0,9]
id = 3002
scale = 2,0.1+(time*0.1)


[State 210, 3]
type = SprPriority
trigger1 = 1
ignorehitpause = 1
value = 5

[state 0,0]
type = assertspecial
trigger1 = time <= 9
flag = invisible
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = 1
ignorehitpause = 1
flag = noshadow


[State 200, HitDef1]
type = HitDef
trigger1 = time <= 100
persistent = 8
attr = A, HP
damage = 30, 9
getpower = 0
givepower = 3
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 5, hit
pausetime = 2, 5
guard.pausetime = 2, 6
sparkno = -1
sparkxy = 38+(random%10), -4+(random%10)
hitsound = -1;S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,-4
air.velocity = -8,0
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -7
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = 0
;p2stateno = 614

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 100
persistent = 8
attr = A, HP
damage = 8, 6
getpower = 0
givepower = 3
animtype = heavy
hitflag = MAF
guardflag = M
priority = 5, hit
pausetime = 2, 5
guard.pausetime = 2, 6
sparkno = -1
sparkxy = 38+(random%10), -4+(random%10)
hitsound = -1;S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -8,-4
air.velocity = -8,0
fall = 1
air.fall = 1
fall.recover = 0
kill = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -7
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = 0
p2stateno = 614


[State 210, 3]
type = destroyself
trigger1 = time = 160
trigger2 = parent,stateno != 3010




;---------------------------------------------------------------------------
;AD 自分　終了
[Statedef 3003]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 0
sprpriority = 4
velset = 0,0

[State 210, 3]
type = ChangeState
trigger1 = time = 1
value = 105

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;AAD
[Statedef 3010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7093
sprpriority = 2
velset = 0,0

[state 0,reverse]
type = varset
trigger1 = time = 129
fvar(5) = fvar(5)*0.3
persistent = 0

[state 0,0]
type = powerset
trigger1 = time = 0
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 1
value = 200,22
channel = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 75

[State 0, 0]
type = PlaySnd
trigger1 = time = 65
value = 200,26
channel = 0

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 64
movetime = 64
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[state 0,0]
type = envshake
trigger1 = time = 60
time = 35

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7049
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 2
anim = 7048
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 3000, effect]
type = Explod
trigger1 = movehit
trigger1 = time <= 120
trigger1 = random >= 550
persistent = 6
anim = 7046
postype = p1
pos = 75,-55
random = 32,32
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
scale = 0.8,0.8

[State 5101, 3]
type = MoveHitReset
trigger1 = time >= 2
persistent = 3

[State 0, 0]
type = PlaySnd
trigger1 = movehit
value = 101,3
channel = 3
persistent = 1


[State 200, HitDef1]
type = HitDef
;trigger1 = enemy,statetype != A
trigger1 = time <= 128
persistent = 4
attr = S, HA
damage = 22, 8
getpower = 0
givepower = 13
animtype = heavy
hitflag = MAFD
guardflag = MA
priority = 5, hit
pausetime = 3, 15
guard.pausetime = 5, 7
sparkno = -1
sparkxy = -8, -64
hitsound = -1;S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -8,-5
air.velocity = -8,-5
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -1
envshake.time = 15
envshake.ampl = 3
ground.cornerpush.veloff = -0.4

[State 200, HitDef1]
type = HitDef
trigger1 = enemy,stateno = [120,155]
trigger1 = time >= 129
persistent = 0
attr = S, HA
damage = 22, 13
getpower = 0
givepower = 13
animtype = heavy
hitflag = MAFD
priority = 5, hit
pausetime = 3, 60
sparkno = S7095
sparkxy = -8, -64
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 50
ground.hittime  = 50
ground.velocity = 0,0
air.velocity = 0,0
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -8
envshake.time = 50
envshake.ampl = 6
ground.cornerpush.veloff = -0.4
palfx.add = 150,0,0
palfx.time = 15

[State 5101, 3]
type = MoveHitReset
trigger1 = time >= 130

[State 210, 3]
type = ChangeState
trigger1 = time = 130
value = 3001
ctrl = 0


;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;AAD
[Statedef 3010]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7054
sprpriority = 2
velset = 0,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 86
value = 200, 24
channel = 0

[state 0,0]
type = powerset
trigger1 = time = 0
trigger1 = var(50) = 2
value = 0

[state 0,0]
type = powerset
trigger1 = time = 0
trigger1 = var(50) >= 3
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 200,28
channel = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 87

[State 3500, 1]
type = SuperPause
trigger1 = time = 15
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = 0;ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
trigger1 = time = 21
anim = 7047
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 21
anim = 7046
postype = p1
pos = 4,-86
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 200, HitDef1]
type = HitDef
;trigger1 = enemy,statetype != A
trigger1 = time >= 2
persistent = 0
attr = S, HT
damage = 1, 0
getpower = 0
givepower = 18
animtype = heavy
hitflag = MA
priority = 5, hit
pausetime = 8, 9
guard.pausetime = 5, 6
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,0
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -8
kill = 0
p1stateno = 3011
p2stateno = 3012

[State 200, HitDef1]
type = null;HitDef
trigger1 = enemy,statetype = A
trigger1 = enemy,pos y >= -15
trigger1 = time >= 2
persistent = 0
attr = S, HT
damage = 1, 0
getpower = 46
givepower = 18
animtype = heavy
hitflag = MA
priority = 5, hit
pausetime = 8, 9
guard.pausetime = 5, 6
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,0
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 15
guard.velocity = -8
kill = 0
p1stateno = 3001
p2stateno = 3002

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;AD 自分　がぶがぶ
[Statedef 3011]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7051
sprpriority = 4
velset = 0,0

[State 200, 2]
type = PlaySnd
trigger1 = time = 1
value = 200, 22
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 29
value = 101,5

[State 0, 0]
type = PlaySnd
trigger1 = time = 30
value = 300,4

[State 3000, effect]
type = Explod
trigger1 = time = 31
anim = 7053
postype = p1
pos = 0,-5
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1

[state 0,0]
type = allpalfx
trigger1 = time >= 31
add = (time*3)-90,0,0
mul = 255,0,0
time = 1
;color = 0

[State 0, 0]
type = Explod
trigger1 = time >= 30
anim = 7059
postype = left
pos = 160,120
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
scale = time*0.04,time*0.04

[State 210, 3]
type = ChangeState
trigger1 = time = 65
value = 3003

[state 0,0]
type = lifeadd
trigger1 = time = [31,41]
value = 3
[state 0,0]
type = lifeadd
trigger1 = time = [42,52]
value = 4
[state 0,0]
type = lifeadd
trigger1 = time = 53
value = 12

[state 0,0]
type = targetbind
trigger1 = time = 0
pos = 24,0
[state 0,0]
type = targetbind
trigger1 = time = 2
pos = 22,0


;------------------------------------------
; ad相手
[Statedef 3012]
type    = S
movetype= H
physics = N
ctrl = 0
sprpriority = 0
velset = 0,0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 7052

[state 0,0]
type = turn
trigger1 = time = 0
trigger1 = facing = enemy,facing

[state 0,0]
type = playerpush
trigger1 = 1
value = 0

[state 0,0]
type = velset
trigger1 = time >= 60
x = -1
y = -0.8

[state 0,0]
type = changeanim
trigger1 = time = 61
value = 5050

[state 0,0]
type = lifeadd
trigger1 = time = 36
value = -395

[state 0,0]
type = selfstate
trigger1 = time >= 62
value = 5050



;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;
[Statedef 3100]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7076
sprpriority = 2
velset = 0,0

[state 0,0]
type = velset
trigger1 = time = [58,73]
x = 13
[state 0,0]
type = velset
trigger1 = movecontact
x = 0

[State 100, 2]
type = Afterimage
trigger1 = Time = 58
time = 15
length = 25
Trans = Add
PalAdd = 4, 4, 4
FrameGap = 3
palcontrast = 120,120,120

[State 0, 0]
type = PlaySnd
trigger1 = time = 8
value = 200,18
channel = 0


[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 65

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 60
movetime = 60
pos = -14,-9
ownpal = 1
anim = S8999
sound = S20,0
poweradd = ifelse(var(50) = 4, -350, -1000)

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1999
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7047
postype = p1
pos = -15,-60
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 1
anim = 7046
postype = p1
pos = -15,-60
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
bindtime = -1
removeongethit = 1

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 60
persistent = 0
attr = S, HA
damage = 200, 10
getpower = 0
givepower = 24
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 5, hit
pausetime = 40, 49
guard.pausetime = 45, 35
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -10,-9
air.velocity = -10,-9
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -3
;p2stateno = 612
envshake.time = 20
envshake.ampl = 3

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 210, 2]
type = PlaySnd
trigger1 = movehit
persistent = 0
value = 200, 30
channel = 0

[State 2, shild]
type = HitOverride
triggerall = !movehit
trigger1 = time = [55,70]
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 3101
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;
[Statedef 3101]
type    = S
movetype= H
physics = S
ctrl = 0
sprpriority = 2

[State 1200, 9]
type = StateTypeSet
trigger1 = time >= 5
movetype = A

[state 0,0]
type = palfx
trigger1 = time = 0
time = 10
add = 90,0,0

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = S, HA
damage = 210, 10
getpower = 0
givepower = 24
animtype = heavy
hitflag = MAF
guardflag = MA
priority = 5, hit
pausetime = 4, 9
guard.pausetime = 45, 35
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -10,-9
air.velocity = -10,-9
fall = 1
air.fall = 1
fall.recover = 0
guard.kill = ifelse(var(49)>0,1,ifelse(var(41)=2,1,0));0
guard.slidetime = 5
guard.velocity = -3
;p2stateno = 612
envshake.time = 20
envshake.ampl = 3

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---:::::::::::::::::::::::::::::::::::::::::::::
;---------------------------------------------------------------------------
;LD
[Statedef 3500]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7060
sprpriority = 2
velset = 0,0

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7047
postype = p1
pos = 5,-56
ownpal = 1
sprpriority = 5
ontop = 1
supermovetime =100
pausemovetime =100
bindtime = -1
removeongethit = 1
[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = 7046
postype = p1
pos = 5,-56
ownpal = 1
sprpriority = 5
ontop = 1
pausemovetime =100
supermovetime =100
bindtime = -1
removeongethit = 1

[state 0,0]
type = velset
triggerall = p2bodydist x >= 100
trigger1 = time = [60,110]
x = 4

[state 0,0]
type = velset
triggerall = p2bodydist x <= 100
trigger1 = time = [60,110]
x = 1.5

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 50
value = 0,2

[state 0,0]
type = powerset
trigger1 = time = 0
value = 0

[state 0,0]
type = varset
trigger1 = time = 1
v = 50
value = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 20,0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 200,19
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 20
value = 200,20
channel = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 19
value = 300,0
[State 0, 0]
type = PlaySnd
trigger1 = time = 65
value = 300,2
[State 0, 0]
type = PlaySnd
trigger1 = time = 90
value = 300,3

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 70

[state 0,0]
type = BGpalfx
trigger1 = time >= 0
mul = 100,100,100
time = 16

[State 3500, 1]
type = Pause
trigger1 = time = 0
time = 15

[State 3500, 1]
type = SuperPause
trigger1 = time = 1
time = 64
movetime = 64
pos = -14,-9
ownpal = 1
anim = -1
sound = -1
poweradd = 0;ifelse(var(50) = 4, -350, -1000)
darken = 0

[State 0, 0]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "cutin"
ID = 1999
stateno = 1998
postype = back
pos = -180,-130
keyctrl = 0
ownpal = 1
pausemovetime = 200
supermovetime = 200
;size.xscale = 0.5
;size.yscale = 0.5

[state 0,0]
type = varset
trigger1 = time <= 1
v = 19
value = 0

[state 0,0]
type = varadd
trigger1 = movehit
v = 19
value = 1

[State 200, HitDef1]
type = HitDef
triggerall = var(19) <= 16
;trigger1 = enemy,statetype != A
trigger1 = time >= 2
persistent = 3
attr = S, HA
damage = 60, 60
getpower = 0
givepower = -10000
animtype = heavy
hitflag = MAFD
priority = 5, hit
pausetime = 8, 20
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -8,0
air.velocity = -8,0
fall = 1
air.fall = 1
fall.recover = 0

[State 200, HitDef1]
type = HitDef
triggerall = var(19) > 16
;trigger1 = enemy,statetype != A
trigger1 = time >= 2
persistent = 7
attr = S, HA
damage = 80, 80
getpower = 0
givepower = -3000
animtype = heavy
hitflag = MAFD
priority = 5, hit
pausetime = 5, 20
sparkno = -1
sparkxy = -8, -24
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -8,0
air.velocity = -8,0
fall = 1
air.fall = 1
fall.recover = 0
p2stateno = 3501

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 2
ignorehitpause = 1

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;壁までふっとび LA
[Statedef 3501]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = turn
triggerall = prevstateno != 901
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 612

[state 0,0]
type = velset
trigger1 = time = 0
x = -8.6
y = 0

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -20
;trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5200

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -1
trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5210


[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 613







;-------------------------------------
;シールドバンカー
[Statedef 9880]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
anim = 316;7270
sprpriority = 2

[state 0,0]
type = poweradd
trigger1 = prevstateno = [120,151]
trigger1 = time = 2
value = -500

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = 30, 3

[state 0,0]
type = reversaldef
;trigger1 = enemy,movetype = A
trigger1 = time <= 12
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 0,18
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 30,2
persistent = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 2
anim = 7028
postype = p1
pos = 0,-45
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 27
attr = S, NA
damage = 63, 0
getpower = ifelse(var(50)=0,70,0)
givepower = 3
animtype = up;heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 10
guard.pausetime = 4, 6
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = 1, -46
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10,-2
guard.velocity = -4
air.velocity = -10,-2
fall = 1
air.fall = 1
fall.recovertime = 20
envshake.time = 10
envshake.ampl = 2

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;-------------------------------------
;シールドバンカー
[Statedef 9881]
type    = S
movetype= A
physics = S
juggle  = 10
poweradd= 0
ctrl = 0
sprpriority = 2

[State 701, Effect]
type = Explod
trigger1 = Time = 2
anim = 7058
postype = p1
pos = 6,0
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 0
attr = S, NA
damage = 63, 0
getpower = ifelse(var(50)=0,70,0)
givepower = 3
animtype = up;heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 10
guard.pausetime = 4, 6
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = 1, -46
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,-10
guard.velocity = -4
air.velocity = 0,-9
fall = 1
air.fall = 1
fall.recovertime = 30
envshake.time = 10
envshake.ampl = 2

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------------
;ガードキャンセル
[Statedef 9884]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
anim = 1185
sprpriority = 2

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(8) >= 1
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 1186
postype = p1
pos = 0,3
sprpriority = 1
supermovetime = 5
pausemovetime = 5
removetime = 3
ignorehitpause = 1
scale = const(size.xscale)+0.1,const(size.yscale)+0.1

[State 0,0]
type = nothitby
trigger1 = time <= 5
value = SCA
time = 1

[state 0,0]
type = palfx
trigger1 = time = 1
time = 6
add = 100,100,100

[state 0,0]
type = pause
trigger1 = time = 0
time = 5

[state 0,0]
type = pause
trigger1 = time = 1
time = 24
movetime = 24

[state 0,0]
type = poweradd
trigger1 = time = 1
value = -1000

[State 200, HitDef]
type = HitDef
persistent = 0
trigger1 = time >= 7
attr = S, SA
damage = 10, 0
kill = 0
getpower = ifelse(var(50)=0,70,0)
givepower = 3
animtype = up;heavy
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 4, 10
guard.pausetime = 4, 6
;;guard.sparkno = S8003
sparkno = 2;S8004
sparkxy = 1, -46
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -12,-2
guard.velocity = -4
air.velocity = -12,-2
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 10
envshake.ampl = 2

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 100, 2

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;standシールド
[Statedef 9900];2040
type     = S
movetype = I
physics  = S
velset   = 0,0
ctrl = 0
anim = 7013

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 30,3

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7028
postype = p1
pos = 10,-40
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[state 0,0]
type = palfx
trigger1 = time = 0
time = 4
add = 50,50,50

[State 2, shild]
type = HitOverride
trigger1 = time <= 12
time = 1
attr = SA, NA, SA, HA, NP, SP, HP, AP
stateno = 9905
IgnoreHitPause = 1

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
triggerall = var(59) = 0
trigger1 = time = [9,12]
trigger1 = power >= 25
trigger1 = command = "holda"
value = 9901
ctrl = 0

[state 0,0]
type = changestate
triggerall = var(59) = 1
trigger1 = random >= 950
trigger1 = time = [9,12]
trigger1 = power >= 1025
trigger1 = command = "holda"
trigger1 = gametime % 6 = 0
value = 9901
ctrl = 0

;---------------------------------------------------------------------------
;シールドおしっぱ
[Statedef 9901]
type     = S
movetype = I
physics  = S
velset   = 0,0
ctrl = 0
anim = 7014

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[State 701, Effect]
type = Explod
trigger1 = Time >= 1
persistent = 5
anim = 7029
postype = p1
pos = 10,-40
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 7014

[State 2, shild]
type = HitOverride
trigger1 = time >= 0
time = 1
attr = SA, NA, SA, HA, NP, SP, HP, AP
stateno = 9906
IgnoreHitPause = 1

[state 0,0]
type = poweradd
trigger1 = time >= 0
value = -9

[state 0,0]
type = changestate
triggerall = prevstateno = 9905 || prevstateno = 9907
trigger1 = time <= 10
trigger1 = command != "holda"
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = power <= 10
trigger2 = command != "holda"
trigger3 = time >= 96;200
value = 9902
ctrl = 0

[state 0,0]
type = changestate
triggerall = var(59) = 1
trigger1 = enemy,movetype = H
trigger2 = p2dist x >= 105
trigger3 = power <= 900
trigger4 = random >= 500
trigger5 = time >= 96
value = 9902
ctrl = 0


;---------------------------------------------------------------------------
;シールドおしっぱ 話して終了
[Statedef 9902]
type     = S
movetype = I
physics  = S
velset   = 0,0
ctrl = 0
anim = 7014

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;シールド  EX 成立
[Statedef 9905]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 0
anim = 7014

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,6
[state 0,0]
type = playsnd
trigger1 = time = 1
trigger1 = var(19) = 0
value = 12,25
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 1
value = 12, 30
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 2
trigger1 = time = 1
value = 12, 31
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 3
trigger1 = time = 1
value = 12, 26
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 4
trigger1 = time = 1
value = 12, 28
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 5
trigger1 = time = 1
value = 12, 29
channel = 0

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
anim = 7062
postype = left
pos = ifelse(teamside = 1,5,270),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
supermovetime = 100
id = 200
ignorehitpause = 1
scale = 0.5,0.5

[State 200, 4]
type = CtrlSet
trigger1 = time >= 10;5
value = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9907
IgnoreHitPause = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2

[state 0,0]
type = Pause
trigger1 = time = 0
time = 15
movetime = 15

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3000, h]
type = Explod
trigger1 = time = 0
persistent = 0
anim = 7030
postype = p1
random = 16,16
pos = 10,-40
ownpal = 1
sprpriority = 5
ignorehitpause = 1
pausemovetime = 99
supermovetime = 100

[state 0,0]
type = changestate
trigger1 = time = 17
;trigger1 = pos y = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time = 15
trigger1 = var(59) = 1
trigger1 = enemy,statetype = A
value = 210
ctrl = 0

[state 0,0]
type = changestate
trigger1 = time = 9
trigger1 = var(50) = 4
value = 4000
ctrl = 0

;---------------------------------------------------------------------------
;シールド  おしっぱ受け取り
[Statedef 9906]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,60,0)
velset   = 0,0
ctrl = 0
anim = 7014

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
anim = 7063
ignorehitpause = 1
postype = left
pos = ifelse(teamside = 1,5,270),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
scale = 0.5,0.5

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,1]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,2

[state 0,2]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,1

[state 0,3]
type = Pause
trigger1 = time = 0
time = 9
movetime = 9

[state 0,0]
type = null;ctrlset
trigger1 = time >= 11
value = 1

[state 0,4]
type = null;Pause
trigger1 = time = 1
time = 1
movetime = 1

[State 0,5]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
postype = p1
pos = 10,-40
random = 16,16
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.6,0.6

[state 0,0]
type = changestate
trigger1 = time = 15
;trigger1 = pos y = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;シールド  EX loop
[Statedef 9907]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 0
anim = 7014

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
scale = 0.5,0.5
anim = 7062
postype = left
pos = ifelse(teamside = 1,5,270),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 200, 4]
type = CtrlSet
trigger1 = time >= 5
value = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9905
IgnoreHitPause = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2

[state 0,0]
type = Pause
trigger1 = time = 0
time = 15
movetime = 15

[State 0,0]
type = Playsnd
trigger1 = Time = 0
value = 160,9

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
random = 18,18
postype = p1
pos = 10,-44
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1

[state 0,0]
type = changestate
trigger1 = time = 17
trigger1 = pos y = 0
value = 0
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time = 0
;trigger1 = pos y = 0
value = 9905
ctrl = 1




;---------------------------------------------------------------------------
;crouchシールド
[Statedef 9910];2040
type     = C
movetype = I
physics  = C
velset   = 0,0
ctrl = 0
anim = 7015

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 30,3

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7028
postype = p1
pos = 10,-22
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[state 0,0]
type = palfx
trigger1 = time = 0
time = 4
add = 50,50,50

[State 2, shild]
type = HitOverride
trigger1 = time <= 12
time = 1
attr = SC, NA, SA, HA, NP, SP, HP, AP
stateno = 9915
IgnoreHitPause = 1

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = 1

[state 0,0]
type = changestate
triggerall = var(59) = 0
trigger1 = time = [9,12]
trigger1 = power >= 25
trigger1 = command = "holda"
value = 9911
ctrl = 0

[state 0,0]
type = changestate
triggerall = var(59) = 1
trigger1 = random >= 950
trigger1 = time = [9,12]
trigger1 = power >= 1025
trigger1 = command = "holda"
trigger1 = gametime % 6 = 0
value = 9911
ctrl = 0

;---------------------------------------------------------------------------
;シールドおしっぱ
[Statedef 9911]
type     = C
movetype = I
physics  = C
velset   = 0,0
ctrl = 0
anim = 7015

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[State 701, Effect]
type = Explod
trigger1 = Time >= 1
persistent = 5
anim = 7029
postype = p1
pos = 10,-22
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[state 0,0]
type = changeanim
trigger1 = time >= 0
value = 7015

[State 2, shild]
type = HitOverride
trigger1 = time >= 0
time = 1
attr = SC, NA, SA, HA, NP, SP, HP, AP
stateno = 9916
IgnoreHitPause = 1

[state 0,0]
type = poweradd
trigger1 = time >= 0
value = -9

[state 0,0]
type = changestate
triggerall = prevstateno = 9905 || prevstateno = 9907
trigger1 = time <= 10
trigger1 = command != "holda"
value = 11
ctrl = 1

[state 0,0]
type = changestate
trigger1 = power <= 10
trigger2 = command != "holda"
trigger3 = time >= 96
value = 9912
ctrl = 0

[state 0,0]
type = changestate
triggerall = var(59) = 1
trigger1 = enemy,movetype = H
trigger2 = p2dist x >= 105
trigger3 = power <= 900
trigger4 = random >= 500
trigger5 = time >= 96
value = 9912
ctrl = 0


;---------------------------------------------------------------------------
;シールドおしっぱ 話して終了
[Statedef 9912]
type     = C
movetype = I
physics  = C
velset   = 0,0
ctrl = 0
anim = 7015

[state 0,0]
type = changestate
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;シールド  EX 成立
[Statedef 9915]
type     = C
movetype = I
physics  = C
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 0
anim = 7015

[state 0,0]
type = changestate
trigger1 = time = 9
trigger1 = var(50) = 4
value = 4000
ctrl = 0

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,6
[state 0,0]
type = playsnd
trigger1 = time = 1
trigger1 = var(19) = 0
value = 12,25
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 1
value = 12, 30
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 2
trigger1 = time = 1
value = 12, 31
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 3
trigger1 = time = 1
value = 12, 26
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 4
trigger1 = time = 1
value = 12, 28
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 5
trigger1 = time = 1
value = 12, 29
channel = 0


[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
scale = 0.5,0.5
anim = 7062
postype = left
pos = ifelse(teamside = 1,5,270),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 200, 4]
type = CtrlSet
trigger1 = time >= 10;5
value = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9917
IgnoreHitPause = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2

[state 0,0]
type = Pause
trigger1 = time = 0
time = 15
movetime = 15

[State 0,0]
type = Playsnd
trigger1 = Time = 0
value = 160,9

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3000, h]
type = Explod
trigger1 = time = 0
persistent = 0
anim = 7030
postype = p1
random = 16,16
pos = 10,-22
ownpal = 1
sprpriority = 5
ignorehitpause = 1
pausemovetime = 99

[state 0,0]
type = changestate
trigger1 = time = 17
;trigger1 = pos y = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;シールド  おしっぱ受け取り
[Statedef 9916]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,60,0)
velset   = 0,0
ctrl = 0
anim = 7015

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
scale = 0.5,0.5
anim = 7063
ignorehitpause = 1
postype = left
pos = ifelse(teamside = 1,5,270),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,1]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,2

[state 0,2]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,1

[state 0,3]
type = Pause
trigger1 = time = 0
time = 9
movetime = 9

[state 0,0]
type = null;ctrlset
trigger1 = time >= 11
value = 1

[state 0,4]
type = null;Pause
trigger1 = time = 1
time = 1
movetime = 1

[State 0,5]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
postype = p1
pos = 10,-22
random = 18,18
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.6,0.6

[state 0,0]
type = changestate
trigger1 = time = 15
;trigger1 = pos y = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;シールド  EX loop
[Statedef 9917]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 0
anim = 7015

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
scale = 0.5,0.5
anim = 7062
postype = left
pos = ifelse(teamside = 1,5,270),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 200, 4]
type = CtrlSet
trigger1 = time >= 5
value = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9905
IgnoreHitPause = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2

[state 0,0]
type = Pause
trigger1 = time = 0
time = 15
movetime = 15

[State 0,0]
type = Playsnd
trigger1 = Time = 0
value = 160,9

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
random = 16,16
postype = p1
pos = 10,-22
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1

[state 0,0]
type = changestate
trigger1 = time = 17
trigger1 = pos y = 0
value = 11
ctrl = 1

[state 0,0]
type = changestate
trigger1 = time = 0
;trigger1 = pos y = 0
value = 9005
ctrl = 1




;---------------------------------------------------------------------------
;くーちうシールド
[Statedef 9920]
type     = A
movetype = I
physics  = N
ctrl = 0
anim = 7017

[state 0,0]
type = veladd
trigger1 = time >= 0
y = 0.45

[state 0,0]
type = playsnd
trigger1 = time = 1
value = 30,3


[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7028
postype = p1
pos = 10,-48
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ignorehitpause = 1
scale = 0.5,0.5
bindtime = -1

[state 0,0]
type = palfx
trigger1 = time = 0
time = 4
add = 50,50,50

[State 2, shild]
type = HitOverride
trigger1 = time <= 14
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9925
IgnoreHitPause = 1

[state 0,0]
type = changestate
trigger1 = pos y >= 0
value = 9929
ctrl = 0

[state 0,0]
type = changestate
trigger1 = time = [9,12]
trigger1 = power >= 25
trigger1 = command = "holda"
value = 9921
ctrl = 0

;---------------------------------------------------------------------------
;シールドおしっぱ
[Statedef 9921]
type     = A
movetype = I
physics  = N
ctrl = 0
anim = 7017

[State 701, Effect]
type = Explod
trigger1 = Time >= 1
persistent = 5
anim = 7029
postype = p1
pos = 10,-48
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
bindtime = -1
ontop = 1
ignorehitpause = 1
scale = 0.5,0.5

[state 0,0]
type = changeanim
trigger1 = 1
value = 7017

[State 2, shild]
type = HitOverride
trigger1 = time >= 0
time = 1
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9926
IgnoreHitPause = 1

[state 0,0]
type = poweradd
trigger1 = time >= 0
value = -9

[state 0,0]
type = veladd
trigger1 = time >= 0
y = 0.45

[state 0,0]
type = changestate
trigger1 = pos y >= 0
value = 9929
ctrl = 0

[state 0,0]
type = changestate
trigger1 = power <= 10
trigger2 = command != "holda"
value = 9922
ctrl = 0


;---------------------------------------------------------------------------
;シールドおしっぱ
[Statedef 9922]
type     = A
movetype = I
physics  = N
ctrl = 0
anim = 7017

[state 0,0]
type = changeanim
trigger1 = time = 20
value = 44

[state 0,0]
type = veladd
trigger1 = time >= 0
y = 0.45

[state 0,0]
type = changestate
trigger1 = pos y >= 0
value = 9929
ctrl = 0

;---------------------------------------------------------------------------
;シールド  EX
[Statedef 9925]
type     = A
movetype = I
physics  = A
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 1
anim = 7017

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,6
[state 0,0]
type = playsnd
trigger1 = time = 1
trigger1 = var(19) = 0
value = 12,25
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 1
trigger1 = time = 1
value = 12, 30
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 2
trigger1 = time = 1
value = 12, 31
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 3
trigger1 = time = 1
value = 12, 26
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 4
trigger1 = time = 1
value = 12, 28
channel = 0
[State 0, 0]
type = PlaySnd
trigger1 = var(19) = 5
trigger1 = time = 1
value = 12, 29
channel = 0


[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
scale = 0.5,0.5
anim = 7062
postype = left
pos = ifelse(teamside = 1,5,270),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 190,1]
type = posfreeze
trigger1 = time <= 14

[State 190,1]
type = veladd
trigger1 = time = 8
y = -3

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2


[state 0,0]
type = Pause
trigger1 = time = 0
time = 8
Persistent = 1

[state 0,0]
type = Pause
trigger1 = time = 1
time = 15
movetime = 15
Persistent = 1

[State 0,0]
type = Playsnd
trigger1 = Time = 0
value = 160,9

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
postype = p1
pos = 10,-48
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9927
IgnoreHitPause = 1

[state 0,0]
type = changestate
trigger1 = time = 15
value = 51
ctrl = 1


;---------------------------------------------------------------------------
;シールド  EX loop
[Statedef 9927]
type     = A
movetype = I
physics  = A
poweradd = ifelse(var(50) = 0,100,0)
velset   = 0,0
ctrl = 1
anim = 7017

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
scale = 0.5,0.5
anim = 7062
postype = left
pos = ifelse(teamside = 1,5,270),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 190,1]
type = posfreeze
trigger1 = time <= 14

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,2

[state 0,0]
type = Pause
trigger1 = time = 0
time = 8
Persistent = 1

[state 0,0]
type = Pause
trigger1 = time = 1
time = 15
movetime = 15
Persistent = 1

[State 0,0]
type = Playsnd
trigger1 = Time = 0
value = 160,9

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
postype = p1
pos = 10,-48
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 2, shild]
type = HitOverride
trigger1 = time <= 17
time = 2
attr = SCA, NA, SA, HA, NP, SP, HP, AP
stateno = 9926
IgnoreHitPause = 1


[state 0,0]
type = changestate
trigger1 = time = 15
value = 51
ctrl = 1


;---------------------------------------------------------------------------
;シールド  
[Statedef 9926]
type     = U
movetype = I
physics  = U
poweradd = ifelse(var(50) = 0,60,0)
velset   = 0,0
ctrl = 1
anim = 7017

[State 0, effect]
type = Explod
triggerall = Numexplod(200) = 0
trigger1 = time = 0
scale = 0.5,0.5
anim = 7063
postype = left
pos = ifelse(teamside = 1,5,270),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 200
ignorehitpause = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) <= 1
value = 30,2

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(19) = 2
value = 30,1

[state 0,0]
type = Pause
trigger1 = time = 0
time = 9

[state 0,0]
type = Pause
trigger1 = time = 1
time = 1
movetime = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 701, Effect]
type = Explod
trigger1 = Time = 0
anim = 7030
postype = p1
pos = 10,-48
random = 16,16
sprpriority = 5
supermovetime = 50
pausemovetime = 50
ownpal = 1
ontop = 1
ignorehitpause = 1
scale = 0.6,0.6

[state 0,0]
type = changestate
trigger1 = time = 15
value = 51
ctrl = 1

[state 0,0]
type = null;changestate
trigger1 = time >= 10
trigger1 = power >= 20
trigger1 = command = "holda"
value = 9921
ctrl = 0

;------------------------------------------
;避け

[Statedef 9930]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 7107
sprpriority = -1


[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0,0]
type = nothitby
trigger1 = time <= 22
value = SCA, NA, SA, HA, NP, SP, HP
time = 1

[state 0,0]
type = palfx
trigger1 = time <= 22
time = 1
add = 30-time,30-time,30-time

[State 52, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 190,1]
type = VarRandom
trigger1 = time = 0
v = 19
range = 0,3
[state 0,0]
type = playsnd
trigger1 = time = 1
trigger1 = var(19) = 1
value = 5,0
[state 0,0]
type = playsnd
trigger1 = time = 1
trigger1 = var(19) = 2
value = 5,1




















































;------------------------------------------------------
;JX 
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 600
sprpriority = 2
poweradd = 0
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
var(47) = 1
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(47) > 1
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(47) >= 1
fvar(5) = fvar(5)*0.94
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
scale = 0.5,0.5
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = playsnd
trigger1 = time = 2
value = 100,1

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.78
persistent = 0

[State 200, HitDef1]
type = HitDef
persistent = 0
trigger1 = time >= 2
attr = A, NA
damage = ifelse(var(39)=1,34,31), 0
getpower = ifelse(var(50)=0,15,0)
givepower = 4
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 4, ifelse(var(37)=1,9,7)
guard.pausetime = 5, 11
sparkno = 0
sparkxy = -8, -55
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = ifelse(var(37)=1,12,8)
ground.hittime  = ifelse(enemy,gethitvar(hitcount) >= 3,7,8)
air.slidetime = ifelse(var(37)=1,15,12)
air.hittime  = ifelse(var(37)=1,15,12)
ground.velocity = -2,0
air.velocity = -1,-3
ground.cornerpush.veloff = -3

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 200, AI]
type = ChangeState
trigger1 = movehit
trigger1 = var(59) = 1
trigger1 = var(32) = 0
trigger1 = p2bodydist y = [-150,15]
value = 633

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(47) % 100 < 10
;trigger1 = p2bodydist x = [0,55]
value = 610

;------------------------------------------------------
;J2Y 蹴り落ち
[Statedef 605]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 625
sprpriority = 2
poweradd = 0
velset = 0,0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[state 0,0]
type = varrandom
trigger1 = time = 1
v = 19
range = 0,4

[state 0,0]
type = velset
trigger1 = time <= 6
x = 0
y = 0
[state 0,0]
type = velset
trigger1 = time >= 7
x = 2.5
y = 10

[state 0,0]
type = playsnd
trigger1 = time = 3
value = 100,1

[State 200, HitDef1]
type = HitDef
persistent = 0
triggerall = anim = 625
trigger1 = time >= 2
attr = A, NA
damage = 50, 0
getpower = ifelse(var(50)=0,70,0)
givepower = 18
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 15, 18
guard.pausetime = 10, 8
sparkno = 2
sparkxy = -8, -25
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = ifelse(enemy,statetype = C,15,12)
ground.velocity = -2,0
air.velocity = -2,-4
ground.cornerpush.veloff = -3

[State 200, HitDef1]
type = HitDef
persistent = 3
triggerall = anim = 626
trigger1 = time >= 2
attr = A, NA
damage = 18, 0
getpower = ifelse(var(50)=0,10,0)
givepower = 2
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 1, 4
guard.pausetime = 4, 6
sparkno = 2
sparkxy = -8, -25
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 12
ground.hittime  = ifelse(enemy,statetype = C,15,12)
ground.velocity = -2,0
air.velocity = -2,2
ground.cornerpush.veloff = -3

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 626
trigger1 = movehit
value = 626



;------------------------------------------------------
;JY けり
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 610
sprpriority = 2
poweradd = 0
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
var(47) = 10
persistent = 0
[State 0, reverse]
type = Explod
persistent = 0
triggerall = time = 1
triggerall = Numexplod(200) = 0
trigger1 = var(47) >= 100
anim = 7059
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,232),50
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
[state 0,reverse]
type = varset
triggerall = time = 0
trigger1 = var(47) >= 100
fvar(5) = fvar(5)*0.88
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201
scale = 0.5,0.5



[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.88
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 2

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 6
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 35,-10

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 4
persistent = 0
attr = A, NA
damage = ifelse(var(39)=1,44,41), 0
getpower = ifelse(var(50)=0,70,0)
givepower = 15
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 6, ifelse(var(37)=1,10,7)
guard.pausetime = 6, 7
sparkno = 1
sparkxy = -8, -55
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = ifelse(var(37)=1,14,11)
ground.hittime  =  ifelse(enemy,gethitvar(hitcount) >= 3,10,18)
air.slidetime = ifelse(var(37)=1,17,13)
air.hittime  = ifelse(var(37)=1,17,13)
ground.velocity = -1.6,0
air.velocity = -1,-6.5
;fall = 1
air.fall = 1
;p2stateno = 621

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040


[State 200, AI]
type = ChangeState
trigger1 = movehit
trigger1 = var(59) = 1
trigger1 = var(32) = 0
trigger1 = p2bodydist y = [-150,15]
value = 633

[State 200, AI]
type = ChangeState
trigger1 = movecontact
trigger1 = var(59) = 1
trigger1 = var(47) % 1000 < 100
;trigger1 = p2bodydist x = [0,55]
trigger1 = random >= 600
value = 620


;------------------------------------------------------
;JZ 　けり
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 620
sprpriority = 2
poweradd = 0
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
var(47) = 100
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201


[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 3
fvar(5) = fvar(5)*0.9
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 6
persistent = 0
attr = A, NA
damage = ifelse(var(39)=1,56,52), 0
getpower = ifelse(var(50)=0,100,0)
givepower = 18
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = ifelse(var(37)=1,12,8), ifelse(var(37)=1,22,11)
guard.pausetime = 8, 8
sparkno = 2
sparkxy = 0, -55
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = ifelse(enemy,gethitvar(hitcount) >= 3,12,23)
ground.velocity = -3,0
air.slidetime = ifelse(var(37)=1,20,15)
air.hittime  = ifelse(var(37)=1,20,15)
air.velocity = -4.5,-5.8
air.fall = 1
fall.recovertime = ifelse(var(37)=1,140,30)
envshake.time = 10
envshake.ampl = 2

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 5
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 35,-10

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 4
;trigger1 = p2dist y = [-15,25]
trigger1 = random >= 500
trigger1 = var(47) % 10000 < 1000
value = 630

[State 200, AI]
type = ChangeState
trigger1 = movehit
trigger1 = var(59) = 1
trigger1 = var(32) = 0
trigger1 = p2bodydist y = [-150,15]
value = 633




;------------------------------------------------------
;JZ きゅうそくるくるけん
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 8
ctrl = 0
anim = 630
sprpriority = 2
poweradd = 0
[state 0, meltyblood]
type = varadd
trigger1 = time = 1
var(47) = 1000
persistent = 0

[state 2, critical]
type = varrandom
trigger1 = time <= 1
v = 39
range = 0,31
[state 2, critical]
type = bgpalfx
triggerall = var(39) = 1
trigger1 = movehit
time = 4
mul = 200,200,200
add = 122,0,0
persistent = 0
[State 0, critical]
type = Explod
persistent = 0
triggerall = Numexplod(201) = 0
triggerall = var(39) = 1
trigger1 = movehit
anim = 7060
scale = 0.5,0.5
postype = left
pos = ifelse(teamside = 1,0,260),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201

[State 0, 0]
type = null;Helper
trigger1 = time = 4
helpertype = normal
name = "effect"
ID = 625
stateno = 625
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.85
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 6
persistent = 0
attr = A, NA
damage = ifelse(var(39)=1,35,32), 0
getpower = ifelse(var(50)=0,30,0)
givepower = 18
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = ifelse(var(37)=1,12,8), ifelse(var(37)=1,22,11)
guard.pausetime = 8, 13
sparkno = 2
sparkxy = -8, -50
hitsound = S101, 3
guardsound = S0, 0
ground.type = high
ground.slidetime = 14
ground.hittime  = ifelse(enemy,gethitvar(hitcount) >= 3,12,23)
ground.velocity = -2,0
air.slidetime = ifelse(var(37)=1,20,15)
air.hittime  = ifelse(var(37)=1,20,15)
air.velocity = -3,2.8
air.fall = 1
fall.recovertime = ifelse(var(37)=1,40,30)
envshake.time = 10
envshake.ampl = 2
p2stateno = 621

[state 0,0]
type = reversaldef
trigger1 = enemy,movetype = A
trigger1 = time <= 5
Reversal.Attr = SCA, NA,SA,NP,SP
pausetime = 14,15
hitsound = S30,2
numhits = 0
sparkno = S7109
sparkxy = 35,-10

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 210, 3]
type = null;Changestate
triggerall = var(59) = 1
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 626

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 626]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
triggerall = prevstateno != 3550
triggerall = prevstateno != 2170
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = ChangeState
triggerall = prevstateno = 905
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 9929;JUMPLAND

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND


;------------------------------------------
; 空中ダッシュaiair dash
[Statedef 631]
type    = A
movetype= I
physics = N
ctrl = 1
anim = 107
sprpriority = 2

[State 701, Effect]
type = Explod
trigger1 = Time = 1
anim = 7066
postype = p1
pos = 10,-65
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[State 105, 1]
type = VelSet
trigger1 = Time <= 8
x = 5.5
y = -1.8

[state 0,0]
type = varadd
trigger1 = time = 1
var(5) = 1

[state 0,0]
type = velset
trigger1 = time <= 1
x = 7

[state 0,0]
type = veladd
trigger1 = time >= 1
y = 0.45

[State 1000, 3]
type = ChangeState
trigger1 = time >= 20
value = 51
ctrl = 1

[State 1000, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 9
value = 620

;---------------------------------------------------------------------------
; AiAirJump Start
[Statedef 633]
type    = A
physics = N
ctrl = 0
velset = 0,0

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

;方向転換
[State 1510, Turn]
type = Turn
Trigger1 = P2Dist X < 0


[State 45, 3]
type = VarSet
trigger1 = Time = 0
var(32) = 1

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = 1
sysvar(1) = 1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 634
ctrl = 1

;---------------------------------------------------------------------------
; AI Jump Up
[Statedef 634]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
;triggerall = prevstateno = 45
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 3
trigger1 = random >= 760
trigger1 = p2dist y = [-30,30]
value = 600
[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 3
trigger1 = p2dist y = [-130,30]
value = 610
[State 200, AI]
type = ChangeState
trigger1 = var(59) = 1
trigger1 = time >= 4
trigger1 = p2dist y = [0,50]
value = 630

;------------------------------------------------------
;JZ エフェクト
[Statedef 625]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 622
sprpriority = 3

[state 0,0]
type = bindtoparent
trigger1 = time >= 0
pos = -30,0

[State 210, 3]
type = destroyself
trigger1 = parent,stateno != 620
trigger2 = animtime = 0

;------------------------------------------------------
;相手
[Statedef 621]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5070;60
velset = -2,10

[State 5100, 11]
type = PosFreeze
trigger1 = Time <= floor(GetHitVar(hittime)*0.5)

[state 0,0]
type = veladd
trigger1 = time >= 0
y = 0.45

[state 0,0]
type = selfstate
triggerall = pos y >= -1
;triggerall = gethitvar(hitcount) >= 20
trigger1 = command = "down"
trigger2 = command = "up"
value = 5100

[state 0,0]
type = changestate
trigger1 = pos y >= 0
;trigger2 = statetype != A
value = 622

[state 0,0]
type = velset
trigger1 = prevstateno = 622
y = ifelse(gethitvar(hitcount)<=4,-8,-5)

;------------------------------------------------------
;あ痛(イテ)２
[Statedef 622]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5070
velset = 0,-7;ifelse(gethitvar(hitcount)<35,-8 + gethitvar(hitcount)*0.2, -1)

[state 0,0]
type = playsnd
trigger1 = time = 0
value = F7,2

[state 0,0]
type = null;velset
trigger1 = time = 0
;trigger1 = gethitvar(hitcount) <= 1
x = -5

[state 0,0]
type = veladd
trigger1 = time >= 2
y = 0.45

[state 0,0]
type = selfstate
trigger1 = time >= 5
trigger1 = pos y >= 0
value = 5110


;---------------------------------------------------------------------------
; 復帰　真上
[Statedef 623]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = 0
y = -7

[State 10050, 0]
type = Veladd
trigger1 = Time >= 2
y = 0.3

[State 10050, 2]
type = selfState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52

;---------------------------------------------------------------------------
; 復帰　うしろ

[Statedef 624]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = -4
y = -6.5

[State 10050, 2]
type = selfState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52

;---------------------------------------------------------------------------
; 復帰　

[Statedef 625]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = -4
y = -6.5

[State 10050, 2]
type = selfState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52

;------------------------------------------------------
;JY
[Statedef 615]
type    = A
movetype= A
physics = A
juggle  = 5
ctrl = 0
anim = 615
sprpriority = 2
poweradd = 29

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = fvar(5)*0.9
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, NA
damage = 61, 0
getpower = 45
givepower = 12
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 10, 10
guard.pausetime = 5, 5
sparkno = 1
sparkxy = -8, -25
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1,-9
air.velocity = -1,11
fall = 1
air.fall = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52



;------------------------------------------------------
;JY 普通パンチら
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 600
sprpriority = 2
poweradd = 29

[state 0,reverse]
type = varset
trigger1 = time = 0
trigger1 = enemy,gethitvar(hitcount) >= 2
fvar(5) = 0.9
persistent = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 5
value = 100, 3

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, NA
damage = 55, 0
getpower = 45
givepower = 12
animtype = heavy
guardflag = HA
hitflag = MAF
priority = 5, Hit
pausetime = 8, 10
guard.pausetime = 5, 5
sparkno = 1
sparkxy = -8, -25
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = -3,0
air.velocity = -1,-2
air.fall = 1

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52




;------------------------------------------------------
;JA
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 630
sprpriority = 2
poweradd = 29

[State 0, 0]
type = PlaySnd
trigger1 = time = 2
value = 100, 1

[State 210, 3]
type = Changeanim
trigger1 = anim != 5040
trigger1 = animtime = 0
value = 5040

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 2
persistent = 0
attr = A, NA
damage = 34, 0
getpower = 25
givepower = 12
animtype = medium
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 6
guard.pausetime = 5, 3
sparkno = 1
sparkxy = -8, -25
hitsound = S101, 1
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,0
air.velocity = -2,-4
air.fall = 1
p2stateno = 621

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52


;------------------------------------------------------
;JB
[Statedef 640]
type    = A
movetype= A
physics = A
;juggle  = 5
ctrl = 0
anim = 630
sprpriority = 2
poweradd = 29

[state 0,0]
type = veladd
trigger1 = time <= 5
y = -0.2

[State 200, HitDef1]
type = HitDef
trigger1 = time >= 1
persistent = 0
attr = A, NA
damage = 60, 0
getpower = 5
givepower = 2
animtype = medium
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 5
guard.pausetime = 2, 3
sparkno = 1
sparkxy = -8, -25
hitsound = S101, 2
guardsound = S0, 0
ground.type = high
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -2,-12
air.velocity = -2.5,-4
ground.cornerpush.veloff = -3
fall = 1
air.fall = 1
fall.recovertime = 42
p2stateno = 621

[State 210, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52


[State 0, 0]
type = PlaySnd
trigger1 = time = 7
value = 100, 1




;---------------------------------------------------------------------------
; RUN_BACK
[Statedef 105]
type    = S
physics = N
ctrl = 0
anim = 106
sprpriority = 1
velset = 0,0


[State 20, 1]
type = changestate
triggerall = enemy,name = "JAGI"
trigger1 = enemy,Numhelper(1001) >= 1
value = 0
ctrl = 1

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 52
ctrl = 1


[State 1000, r]
type = Helper
triggerall = fvar(15) <= 0
triggerall = var(33) = 7
triggerall = var(41) = 3
trigger1 = time = 5
helpertype = normal
name = "maborosi"
pos = 12,0
postype = p1
stateno = 9662
ownpal = 1
id = 9662
keyctrl = 0



[State 105, 1]
type = VelSet
trigger1 = Time < 8
x = -5
[State 105, 1]
type = VelSet
trigger1 = Time = 8
x = -3.6

[State 105, 2]
type = CtrlSet
trigger1 = Time = 28
value = 1

[State 3900, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 8

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

;---------------------------------------------------------------------------
; RUN_BACK2
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 106
sprpriority = 1
velset = 0,0

[State 1000, Snd1]
type = PlaySnd
trigger1 = time = 1
value = 0,1

[State 105, 1]
type = posset
trigger1 = Time >= 0
y = 0

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;壁までふっとび

[Statedef 612]
type    = A
movetype= H
physics = N
ctrl = 0
sprpriority = 2

[state 0,0]
type = posadd
trigger1 = prevstateno = 906
trigger1 = time = 0
y = 55

[state 0,0]
type = turn
triggerall = prevstateno != 901
trigger1 = facing = enemy,facing
trigger1 = time = 0

[state 0,0]
type = changeanim2
trigger1 = time = 0
value = 612

[state 0,0]
type = velset
trigger1 = time = 0
x = -8.6
y = 0

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -20
;trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5200

[state 0,0]
type = selfstate
trigger1 = time >= 300
trigger1 = pos y >= -1
trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5210


[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = changestate
trigger1 = backedgedist <= 3
value = 613


;---------------------------------------------------------------------------
;壁バウンド

[Statedef 613]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2

[state 0,0]
type = lifeadd
trigger1 = time = 0
value = -8
kill = 0

[state 0,0]
type = lifeadd
triggerall = enemy,numhelper(2011) >= 1
trigger1 = time = 0
value = -15

[state 0,0]
type = poweradd
trigger1 = time = 0
value = 10

[State 3000, effect]
type = Explod
trigger1 = time = 0
anim = F72
postype = p1
pos = -20,-50
ownpal = 1
sprpriority = 3

[state 0,0]
type = envshake
trigger1 = time = 0
time = 12

[state 0,0]
type = velset
triggerall = prevstateno != 3501
trigger1 = time = 5
x = 0.4
y = -7.2
[state 0,0]
type = velset
triggerall = prevstateno = 3501
trigger1 = time = 5
x = 0.4
y = -4.2

[State 3900, NotHitBy]
type = NotHitBy
triggerall = prevstateno = 3501
trigger1 = Time >= 0
value = SCA
time = 2

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 0,0]
type = changeanim
trigger1 = time = 6
trigger1 = selfanimexist(5050)
value = 5050

[state 0,0]
type = changeanim2
trigger1 = time = 4
;trigger1 = anim != 5050
value = 612

[state 0,0]
type = selfstate
trigger1 = vel y > 0 && pos y >= 0
value = 5100


;---------------------

[Statedef 1405]
type    = A
physics = A
ctrl = 1

[State 1405, 1a]
type = VelAdd
triggerall = Vel X >= -2
trigger1 = command = "holdback"
trigger1 = Anim != 43
x = -0.1

[State 1405, 1b]
type = VelAdd
triggerall = Vel X <= 2.5
trigger1 = command = "holdfwd"
trigger1 = Anim != 42
x = 0.25



;------------------------------------------
; 空中ダッシュair dash
[Statedef 234]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 1055;102
sprpriority = 2

[State 45, 3]
type = Varadd
trigger1 = Time = 0
var(32) = 1

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.26)
ignorehitpause = 1

;[state 0,0]
;type = changeanim
;trigger1 = time = 0
;trigger1 = var(41) != 0
;value = 7508

[State 105, 2]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 701, Effect]
type = Explod
triggerall = var(41) = 0
trigger1 = Time = 1
anim = 7445
postype = p1
pos = 10,-65
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1
scale = 0.5,0.5

[state 0,0];メルティコンボリセット
type = varset
trigger1 = time >= 0
var(47) = 0

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[State 105, 1]
type = VelSet
trigger1 = Time = [2,15]
x = 5.7;4.8
y = 0
[state 0,0]
type = velset
trigger1 = time = 16
x = 3.6

[State 1000, 3]
type = Changeanim
trigger1 = time >= 17
value = 43
ctrl = 1

[state 0,0]
type = varadd
trigger1 = time = 1
var(5) = 1

[state 0,0]
type = varadd
triggerall = var(41) = 3
triggerall = var(33) = 2
;triggerall = var(32) >= 2
trigger1 = time = 1
var(32) = 1

[state 0,0]
type = velset
trigger1 = time <= 1
x = 7

[State 3000, Cut in]
type = Explod
triggerall = var(41) = 3
trigger1 = numexplod(1997) <= 4
trigger1 = time <= 20
persistent = 5
anim = 7324
postype = p1
pos = (random %10),((random %10)*2)-45
vel = -3,0
ownpal = 1
sprpriority = -5
supermovetime =100
scale = 0.25,0.25
removetime = 20
id = 1997

[state 0,0]
type = veladd
trigger1 = time >= 17
y = 0.45

[State 1000, 3]
type = ChangeState
trigger1 = time >= 17
value = 51
ctrl = 1

[State 1000, 3]
type = ChangeState
trigger1 = pos y >= 0
value = 52
ctrl = 1

[State 100, 9]
type = AssertSpecial
trigger1 = var(41) = 3
flag = noairguard
ignorehitpause = 1


[State 200, AI]
type = ChangeState
triggerall = prevstateno = 4043
trigger1 = time = 2
trigger1 = var(59) = 1
trigger1 = var(41) = 3
trigger1 = random >= 120
;trigger1 = enemy,statetype = A
trigger1 = enemy,life > 0
value = 9610
[State 200, AI]
type = ChangeState
triggerall = prevstateno = 4043
trigger1 = time = 2
trigger1 = var(59) = 1
trigger1 = var(41) = 3
trigger1 = random >= 340
;trigger1 = enemy,statetype = A
trigger1 = enemy,life > 0
value = 9620
[State 200, AI]
type = ChangeState
triggerall = prevstateno = 4043
trigger1 = time = 2
trigger1 = var(59) = 1
trigger1 = var(41) = 3
trigger1 = random >= 220
;trigger1 = enemy,statetype = A
trigger1 = enemy,life > 0
value = 9600

[State 200, AI]
type = ChangeState
trigger1 = p2dist x = [1,50]
trigger1 = var(59) = 1
trigger1 = var(41) = 3
trigger1 = random >= 340
;trigger1 = enemy,statetype = A
trigger1 = enemy,life > 0
value = 9620
[State 200, AI]
type = ChangeState
trigger1 = p2dist x < 0
trigger1 = var(59) = 1
trigger1 = var(41) = 3
trigger1 = random >= 340
;trigger1 = enemy,statetype = A
trigger1 = enemy,life > 0
value = 9610

;---------------------------------------------------------------------------
; AIR=RUN_BACK
[Statedef 235]
type    = A
physics = N
ctrl = 0
anim = 105
sprpriority = 1

[State 45, 3]
type = Varadd
trigger1 = Time = 0
var(32) = 1

[State 0, 0]
type = PlaySnd
trigger1 = time = 0
value = 0, 2

[State 0, 0]
type = Explod
triggerall = var(41) = 0
trigger1 = time = 1
anim = 7445
postype = p1
pos = -34,-50
ownpal = 1
facing = -1
sprpriority = 3
scale = 0.5,0.5
bindtime = 3


[State 3000, Cut in]
type = Explod
triggerall = var(41) = 3
trigger1 = numexplod(1997) <= 4
trigger1 = time <= 17
persistent = 5
anim = 7324
postype = p1
pos = (random %10)-20,((random %10)*3)-45
vel = 3,0
ownpal = 1
sprpriority = -5
supermovetime =100
scale = 0.25,0.25
removetime = 15
id = 1997

[State 105, 1]
type = VelSet
trigger1 = Time = [2,8]
x = -4
y = 0

[State 105, 2]
type = CtrlSet
trigger1 = Time = 8
value = 1

[State 0,0]
type = nothitby
trigger1 = time = 0
value = SCA
time = 5

[State 105, 3]
type = ChangeState
trigger1 = time = 20
value = 5040
ctrl = 1

[state 0,0]
type = varadd
trigger1 = time = 1
var(5) = 1

[state 0,0]
type = varadd
triggerall = var(41) = 3
triggerall = var(33) = 2
;triggerall = var(32) >= 2
trigger1 = time = 1
var(32) = 1


;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 210, AI]
type = ChangeState
trigger1 = prevstateno = 8630
trigger1 = power >= 1000
trigger1 = var(7) >= 7
trigger1 = var(59) >= 1
trigger1 = random >= 200
value = 2000
ctrl = 0
[State 210, AI]
type = ChangeState
trigger1 = var(59) >= 1
trigger1 = prevstateno = 8630 || prevstateno = 8610
;trigger1 = random >= 200
value = 1009
ctrl = 0

[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[State 12, 1]
type = Changeanim
trigger1 = var(21) = 1
trigger1 = anim != 2001
value = 2001

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(5) = 0

[state 0,0]
type = changestate
trigger1 = life = 0
value = 5050
ctrl = 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
trigger1 = prevstateno != [9920,9929]
trigger2 = Time = 12
trigger2 = prevstateno = [9920,9929]
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 12, 1]
type = Changeanim
trigger1 = prevstateno = 1081
trigger1 = time = 0
value = 7077


;---------------------------------------------------------------------------
; Jump Land
[Statedef 9929]
type    = S
physics = S
ctrl = 0
anim = 7019

[State 12, 1]
type = null;Changeanim
trigger1 = prevstateno = [9921,9922]
trigger1 = time = 0
value = 7077

[State 50, 1]
type = VarSet
trigger1 = Time = 0
var(32) = 0

[State 12, 1]
type = Changeanim
trigger1 = var(21) = 1
trigger1 = anim != 2001
value = 2001

[State 12, 1]
type = Changeanim
trigger1 = prevstateno = 1062
trigger1 = time = 0
value = 7450
[State 12, 1]
type = Changeanim
trigger1 = prevstateno = [1070,1076]
trigger1 = time = 0
value = 7454

[state 0,0];リセット
type = varset
trigger1 = time >= 0
var(15) = 0

[state 0,0]
type = changestate
trigger1 = life = 0
value = 5050
ctrl = 0

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 52, 4]
type = ChangeState
trigger1 = prevstateno = 1110
trigger1 = time = 4
value = 0
ctrl = 1

[state 0,0]
type = envshake
triggerall = time = 0
trigger1 = prevstateno = 905
;trigger2 = prevstateno = 1062
trigger2 = prevstateno = 2031
time = 25









;---------------------------------------------------------------------------
; AI コンボ用dash
[Statedef 213]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = time = 16
trigger2 = p2dist x <= 60
value = 211



;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5100, 2]
type = Changestate
triggerall = var(41) = 3
triggerall = var(33) = 3
triggerall = alive
triggerall = CanRecover
trigger1 = command = "214_a"
trigger1 = time >= 5
value = 9840
[State 5100, 2]
type = Changestate
triggerall = var(41) = 3
triggerall = var(33) = 3
triggerall = alive
triggerall = CanRecover
trigger1 = command = "236_a"
trigger1 = time >= 5
value = 9841

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
triggerall = Numexplod(8999) = 0
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
;triggerall = Numexplod(8999) = 0
trigger1 = AnimTime = 0
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, -2, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
trigger2 = command = "a"
trigger2 = var(41) != 3
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
trigger2 = command = "a"
trigger2 = var(41) != 3
trigger3 = command = "b"
trigger3 = var(41) != 3
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

[State 5100, 2]
type = Changestate
triggerall = var(41) = 0
triggerall = alive
triggerall = CanRecover
triggerall = pos y = [-8,0]
trigger1 = command = "up"
value = 10050

[State 5100, 2]
type = Changestate
triggerall = var(41) = 0
triggerall = alive
triggerall = CanRecover
triggerall = pos y = [-8,0]
trigger1 = command = "back"
value = 10051

[State 5100, 2]
type = Changestate
triggerall = var(41) = 0
triggerall = alive
triggerall = CanRecover
triggerall = pos y = [-8,0]
trigger1 = command = "fwd"
value = 10052



;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type    = L
movetype= H
physics = N


[State 5100, 7]
type = ChangeState
triggerall = alive
triggerall = CanRecover
trigger1 = var(41) = 3
trigger1 = var(16) >= 1
trigger1 = command = "holda"
value = 5202

[State 5110, 1]
type = ChangeAnim
persistent = 0
trigger1 = prevstateno = 5071
trigger2 = enemy,name = "Nagato Yuki"
trigger2 = prevstateno = 8716
value = 5075
[State 5110, 1]
type = ChangeAnim
trigger1 = anim != 5075
trigger1 = enemy,name = "Nagato Yuki"
trigger1 = prevstateno = 8716
value = 5075


[State 5100, 2]
type = Changestate
triggerall = CanRecover
triggerall = alive
triggerall = var(41) <= 1
trigger1 = command = "up"
value = 10050

[State 5100, 2]
type = Changestate
triggerall = CanRecover
triggerall = alive
triggerall = var(41) <= 1
trigger1 = command = "back"
value = 10051

[State 5100, 2]
type = Changestate
triggerall = CanRecover
triggerall = alive
triggerall = var(41) <= 1
trigger1 = command = "fwd"
value = 10052

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = prevstateno != 5071
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = prevstateno != 5071
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100+var(31) + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 12]
type = ChangeState
trigger1 = Time = 20
value = 5101

[State 5100, 7]
type = ChangeState
trigger1 = Time >= 0
trigger1 = anim = 7069
value = 5150

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 11]
type = PosFreeze
trigger1 = 1


[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20



;---------------------------------------------------------------------------
; 復帰　真上

[Statedef 10050]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0,1

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = 0
y = -7

[State 10050, 0]
type = Veladd
trigger1 = Time >= 2
y = 0.3

[State 10050, 2]
type = ChangeState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52

;---------------------------------------------------------------------------
; 復帰　うしろ

[Statedef 10051]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0,1

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = -4
y = -6.5

[State 10050, 2]
type = ChangeState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52


;---------------------------------------------------------------------------
; 復帰　fwd

[Statedef 10052]
type    = A
movetype= I
physics = A
anim = 41
ctrl = 1

[State 0,0]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0,1

[State 0,0]
type = nothitby
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 10050, 0]
type = Velset
trigger1 = Time = 0
x = 4
y = -6.5

[State 10050, 2]
type = ChangeState
trigger1 = pos Y >= 0
trigger1 = time >= 10
value = 52

;------------------------------------------
;その場受身　
[Statedef 10053]
type    = C
movetype= I
physics = S
ctrl = 0
anim = 7131
sprpriority = 0

[State 3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0,1

[state 0,0]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 0,0]
type = nothitby
trigger1 = time = 0
value = SCA, NT, ST, HT
time = 25

[state 0,0]
type = posset
trigger1 = time <= 10
y = 0

[state 0,0]
type = velset
trigger1 = time <= 10
x = -0.5

[State 52, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;------------------------------------------
;うしろに受身
[Statedef 10054]
type    = C
movetype= I
physics = S
ctrl = 0
anim = 7131
sprpriority = 0
[state 0,0]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 3, Landing Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0,1

[state 0,0]
type = posset
trigger1 = time <= 10
y = 0

[State 0,0]
type = nothitby
trigger1 = time = 0
value = SCA, NT, ST, HT
time = 25

[state 0,0]
type = velset
trigger1 = time <= 10
x = -4.9

[State 52, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1








;------------------------------------------
;特殊ゲージ アルカナ　ブースト　var9
[Statedef 9040]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 5

[State 0,0]
type = RemoveExplod
trigger1 = parent,var(9) >= 33
id =7503
[State 0,0]
type = RemoveExplod
trigger1 = parent,var(9) >= 66
id =7513
[State 0,0]
type = RemoveExplod
trigger1 = parent,var(9) >= 99
id =7523
[State 0,0]
type = RemoveExplod
triggerall = Numexplod(7790) = 0
trigger1 = parent,stateno = 195
trigger2 = parent,var(48) != 3
trigger3 = parent,stateno = 7074

[State 0,0]
type = RemoveExplod
trigger1 = parent,var(16) <= 3
trigger1 = parent,command = "a"
id =7522

[State 0,0]
type = RemoveExplod
trigger1 = parent,command = "b"
trigger2 = parent,command = "c"
id =7550

[State 0, bg];黒背景 1ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
triggerall = Numexplod(7502) = 0
trigger1 = parent,var(41) = 3
;trigger1 = roundstate >= 2
anim = 7502
postype = left
pos = ifelse(teamside = 1,40,185),217 + parent,var(58);☆
ownpal = 1
;ontop = 1
sprpriority = 4
bindtime = -1
pausemovetime = 100
id = 7502
ignorehitpause = 1
scale = 0.5,0.5

[State 0, effect];オレンジ 1ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
;triggerall = Numexplod(7503) = 0
trigger1 = parent,var(41) = 3
trigger1 = parent,var(9) <= 32
trigger1 = parent,var(30) <=99;0
anim = 7503
postype = left
pos = ifelse(teamside = 1,40,185),217 + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 7503
ignorehitpause = 1
scale = (parent,var(9)*0.03)*0.5,0.5
[State 0, effect];溜まった 1ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
triggerall = Numexplod(7504) = 0
trigger1 = parent,var(41) = 3
trigger1 = parent,var(9) >= 33
trigger1 = parent,var(16) >= 1
anim = 7501
postype = left
pos = ifelse(teamside = 1,40,185),217 + parent,var(58);☆
ownpal = 0
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 7504
ignorehitpause = 1
scale = 0.5,0.5
removetime = -1

[State 0, effect];× 1ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
;triggerall = Numexplod(7503) = 0
trigger1 = parent,var(41) = 3
trigger1 = parent,var(9) <= 32
trigger1 = parent,var(30) > 100
anim = 7511
postype = left
pos = ifelse(teamside = 1,40,185),217 + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 7503
ignorehitpause = 1
scale = 0.5,0.5


;[state 0,0]
;type = palfx
;triggerall = parent,var(41) = 3
;trigger1 = gametime % 60 = 0
;add = 200,200,200
;time = 10





[State 0, bg];黒背景 2ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
triggerall = Numexplod(7512) = 0
trigger1 = parent,var(41) = 3
;trigger1 = roundstate >= 2
anim = 7502
postype = left
pos = ifelse(teamside = 1,70,215),217 + parent,var(58);☆
ownpal = 1
;ontop = 1
sprpriority = 4
bindtime = -1
pausemovetime = 100
id = 7512
ignorehitpause = 1
scale = 0.5,0.5

[State 0, effect];オレンジ 2ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
trigger1 = parent,var(41) = 3
trigger1 = parent,var(9) = [33,65]
trigger1 = parent,var(30) <= 99;0
anim = 7503
postype = left
pos = ifelse(teamside = 1,70,215),217 + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 7503
ignorehitpause = 1
scale = ((parent,var(9)*0.03)*0.5)-0.5,0.5
[State 0, effect];溜まった 2ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
triggerall = Numexplod(7514) = 0
trigger1 = parent,var(41) = 3
trigger1 = parent,var(9) >= 66
trigger1 = parent,var(16) >= 2
anim = 7501
postype = left
pos = ifelse(teamside = 1,70,215),217 + parent,var(58);☆
ownpal = 0
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 7514
ignorehitpause = 1
scale = 0.5,0.5
removetime = -1

[State 0, effect];× 2ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
trigger1 = parent,var(41) = 3
trigger1 = parent,var(9) <= 65
trigger1 = parent,var(30) > 100;0
anim = 7511
postype = left
pos = ifelse(teamside = 1,70,215),217 + parent,var(58);
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 7503
ignorehitpause = 1
scale = 0.5,0.5







[State 0, bg];黒背景 3ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
triggerall = Numexplod(7522) = 0
trigger1 = parent,var(41) = 3
;trigger1 = roundstate >= 2
anim = ifelse(var(16)<=2,7502,7511)
postype = left
pos = ifelse(teamside = 1,100,245),217 + parent,var(58);☆
ownpal = 1
;ontop = 1
sprpriority = 4
bindtime = -1
pausemovetime = 100
id = 7522
ignorehitpause = 1
scale = 0.5,0.5

[State 0, effect];オレンジ3ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
trigger1 = parent,var(41) = 3
trigger1 = parent,var(9) = [66,98]
trigger1 = parent,var(30) <= 99;0
anim = 7503
postype = left
pos = ifelse(teamside = 1,100,245),217 + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 7503
ignorehitpause = 1
scale = ((parent,var(9)*0.03)*0.5)-1,0.5
[State 0, effect];溜まった 3ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
triggerall = Numexplod(7524) = 0
trigger1 = parent,var(41) = 3
trigger1 = parent,var(9) >= 99
trigger1 = parent,var(16) >= 3
anim = 7501
postype = left
pos = ifelse(teamside = 1,100,245),217 + parent,var(58);☆
ownpal = 0
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 7524
ignorehitpause = 1
scale = 0.5,0.5
removetime = -1

[State 0, effect];×3ゲージ目
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
trigger1 = parent,var(41) = 3
trigger1 = parent,var(9) <= 98
trigger1 = parent,var(30) > 100;0
anim = 7511
postype = left
pos = ifelse(teamside = 1,100,245),217 + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 100
id = 7503
ignorehitpause = 1
scale = 0.5,0.5







[state 0,0]
type = parentvaradd
triggerall = parent,var(59) = 0
triggerall = parent,movetype != H
triggerall = parent,var(41) = 3
trigger1 = parent,command = "b"
trigger1 = parent,command != "c"
v = 33
value = ifelse(parent,var(33)>=10,-10,1)

[state 0,0]
type = parentvaradd
triggerall = parent,var(59) = 0
triggerall = parent,movetype != H
triggerall = parent,var(41) = 3
trigger1 = parent,command = "c"
trigger1 = parent,command != "b"
v = 33
value = ifelse(parent,var(33)<=0,10,-1)

[state 0,0]
type = parentvarset
triggerall = parent,var(59) = 0
triggerall = parent,movetype != H
triggerall = parent,var(41) = 3
trigger1 = parent,command = "c"
trigger1 = parent,command = "b"
v = 33
value = 11




[State 0, 0];アルカナ
type = Explod
triggerall = Numexplod(7550) = 0
trigger1 = parent,stateno != 7074
trigger1 = parent,var(41) = 3
;trigger1 = rou
anim = 7650 + parent,var(33)
postype = left
pos = ifelse(teamside = 1,0,305),210; + parent,var(58);☆ ; 15*30
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 100
id = 7550
scale = 0.25,0.25
removetime = -1










[State 0, effect];簡易タイムバー
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
;triggerall = Numexplod(7503) = 0
trigger1 = parent,var(41) = 3
trigger1 = parent,var(33) = 7
trigger1 = parent,fvar(15) > 0
anim = 7789;7120
postype = left
pos = 0,238; + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 10
supermovetime = 10
;id = 7503
ignorehitpause = 1
scale = (parent,fvar(15))*0.015,0.5

[State 0, effect];簡易タイムバー
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
;triggerall = Numexplod(7503) = 0
trigger1 = parent,var(41) = 3
;trigger1 = parent,var(33) = 0
trigger1 = parent,fvar(14) > 0
anim = 7789;7120
postype = left
pos = 0,238; + parent,var(58);☆
ownpal = 0
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 10
supermovetime = 10
;id = 7503
ignorehitpause = 1
scale = (parent,fvar(14))*0.005,0.5
[state 0,0]
type = palfx
triggerall = parent,var(41) = 3
trigger1 = parent,fvar(14) > 0
mul = 100,100,100
time = 1

[state -2,0]
type = playsnd
triggerall = enemy,var(24) = 7
trigger1 = enemy,authorname = "Drowin" && enemy,name = "Nagato Yuki"
trigger2 = enemy,authorname = "Drowin" && enemy,name = "Q-drowin"
trigger3 = enemy,authorname = "Drowin" && enemy,name = "Jam-D"
trigger4 = enemy,authorname = "Drowin arcana" && enemy,name = "Setsuna Sakurazaki"
trigger5 = enemy,authorname = "Drowin arcana" && enemy,name = "Miyako Arima"
trigger6 = enemy,authorname = "Drowin hokuto"
trigger7 = enemy,authorname = "Drowin arcana"
value = 12,22
persistent = 0
[State 0, effect];星0つ
type = Explod
triggerall = enemy,var(24) = 7
trigger1 = enemy,authorname = "Drowin" && enemy,name = "Nagato Yuki"
trigger2 = enemy,authorname = "Drowin" && enemy,name = "Q-drowin"
trigger3 = enemy,authorname = "Drowin" && enemy,name = "Jam-D"
trigger4 = enemy,authorname = "Drowin arcana" && enemy,name = "Setsuna Sakurazaki"
trigger5 = enemy,authorname = "Drowin arcana" && enemy,name = "Miyako Arima"
trigger6 = enemy,authorname = "Drowin hokuto"
trigger7 = enemy,authorname = "Drowin arcana"
anim = 7790
persistent = 0
postype = left
pos = 0,65
ownpal = 1
sprpriority = -5
bindtime = -1
ID = 7790
scale = 0.5,0.5

;------------------------------------------
;特殊ゲージ
[Statedef 9050]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 5

[state 0,0]
type = palfx
triggerall = parent,var(41) = 2
trigger1 = parent,var(48) < 33
;trigger1 = gametime % 30 = 0
add = -120,-140,200
mul = 200,200,200
time = 1

[state 0,0]
type = palfx
;triggerall = parent,stateno != 8001
triggerall = parent,var(41) = 2
trigger1 = parent,var(48) = [33,66]
;trigger1 = gametime % 30 = 0
add = 45,-100,150
time = 1

[state 0,0]
type = palfx
triggerall = parent,var(41) = 2
trigger1 = parent,var(48) >= 100
;trigger1 = gametime % 30 = 0
add = -120,100,0
time = 1

[State 0, effect];オレンジ
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
trigger1 = parent,var(41) = 2
;trigger1 = roundstate >= 2
;trigger1 = parent,var(48) <= 99
anim = 7120
postype = left
pos = ifelse(teamside = 1,5,185),217 + parent,var(58);☆
ownpal = 0
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 100
id = 9060
ignorehitpause = 1
scale = (parent,var(48)*0.01)*0.5,0.5

[State 0, fg];枠
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
trigger1 = parent,var(41) = 2
;trigger1 = roundstate >= 2
;triggerall = Numexplod(200) = 0
anim = 7121
postype = left
pos = ifelse(teamside = 1,5,185),217 + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 100
id = 9060
ignorehitpause = 1
scale = 0.5,0.5

[State 0, effect]
type = Explod
triggerall = parent,var(41) = 2
triggerall = gametime % 16 = 0
;trigger1 = parent,var(8) > 0;てんはの構え
trigger1 = parent,var(0) > 0;むそーてんせい
anim = 1090
postype = left
pos = ifelse(teamside = 1,120,180),207 + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 1000
;id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect]
type = Explod
triggerall = parent,var(41) = 2
triggerall = gametime % 16 = 0
trigger1 = parent,var(8) > 0;てんはの構え
;trigger1 = parent,var(0) > 0;むそーてんせい
anim = 1090
postype = left
pos = ifelse(teamside = 1,0,305),207 + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 1000
;id = 9061
ignorehitpause = 1
scale = 0.5,0.5

[State 0, effect];1P表示
type = Explod
;triggerall = gametime % 16 = 0
trigger1 = parent,fvar(31) > 0;自分用
anim = 1100 + (11 - floor(parent,fvar(31)))
postype = left
pos = ifelse(teamside = 1,18,288),200 + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 1000
removetime = 1
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];2P表示
type = Explod
;triggerall = gametime % 16 = 0
trigger1 = parent,fvar(32) > 0
anim = 1120 + (11 - floor(parent,fvar(32)))
postype = left
pos = ifelse(teamside = 1,18,288),210 + parent,var(58);☆
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
pausemovetime = 1000
removetime = 1
ignorehitpause = 1
scale = 0.5,0.5

;------------------------------------------
;特殊ゲージ 北斗七星ゲージ
[Statedef 9051]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 5

[State 0, effect]
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 7
trigger1 = gametime % 50 = 0
anim = 7030
postype = left
pos = ifelse(teamside = 1,280,25),50 + parent,var(52)
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 900
id = 9061
ignorehitpause = 1
scale = 0.1,0.1

[State 0, effect];星７つ
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 0
anim = 7137
postype = left
pos = ifelse(teamside = 1,260,5),35 + parent,var(52)
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 900
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星6つ
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 1
anim = 7136
postype = left
pos = ifelse(teamside = 1,260,5),35 + parent,var(52)
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星5つ
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 2
anim = 7135
postype = left
pos = ifelse(teamside = 1,260,5),35 + parent,var(52)
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星4つ
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 3
anim = 7134
postype = left
pos = ifelse(teamside = 1,260,5),35 + parent,var(52)
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星3つ
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 4
anim = 7133
postype = left
pos = ifelse(teamside = 1,260,5),35 + parent,var(52)
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星2つ
type = Explod
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 5
anim = 7132
postype = left
pos = ifelse(teamside = 1,260,5),35 + parent,var(52)
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星1つ
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 6
anim = 7131
postype = left
pos = ifelse(teamside = 1,260,5),35 + parent,var(52)
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 100
id = 9061
ignorehitpause = 1
scale = 0.5,0.5
[State 0, effect];星0つ
type = Explod
triggerall = parent,stateno != [4000,4001]
triggerall = parent,stateno != 8800
triggerall = parent,stateno != 8821
trigger1 = parent,var(41) = 2
trigger1 = parent,var(24) = 7
anim = 7130
postype = left
pos = ifelse(teamside = 1,260,5),35 + parent,var(52)
ownpal = 0
ontop = 1
sprpriority = 5
bindtime = -1
;pausemovetime = 900
id = 9061
ignorehitpause = 1
scale = 0.5,0.5

[state -2,0]
type = playsnd
triggerall = enemy,gethitvar(hitcount) = 25
trigger1 = enemy,movetype = H
trigger1 = parent,var(41) = 2
;trigger1 = random >= 250
value = 6,21
persistent  = 0
[state -2,0]
type = playsnd
trigger1 = parent,var(24) = 7
value = 5,7
persistent  = 0
[state -2,0]
type = playsnd
trigger1 = parent,var(24) = 7
value = 95,4
persistent  = 0

[state -2,0]
type = playsnd
triggerall = enemy,var(24) = 7
trigger1 = enemy,authorname = "Drowin" && enemy,name = "Nagato Yuki"
trigger2 = enemy,authorname = "Drowin" && enemy,name = "Q-drowin"
trigger3 = enemy,authorname = "Drowin" && enemy,name = "Jam-D"
trigger4 = enemy,authorname = "Drowin arcana" && enemy,name = "Setsuna Sakurazaki"
trigger5 = enemy,authorname = "Drowin arcana" && enemy,name = "Miyako Arima"
trigger6 = enemy,authorname = "Drowin hokuto"
trigger7 = enemy,authorname = "Drowin arcana"
value = 6,18
persistent = 0
[State 0, effect];星0つ
type = Explod
triggerall = enemy,var(24) = 7
trigger1 = enemy,authorname = "Drowin" && enemy,name = "Nagato Yuki"
trigger2 = enemy,authorname = "Drowin" && enemy,name = "Q-drowin"
trigger3 = enemy,authorname = "Drowin" && enemy,name = "Jam-D"
trigger4 = enemy,authorname = "Drowin arcana" && enemy,name = "Setsuna Sakurazaki"
trigger5 = enemy,authorname = "Drowin arcana" && enemy,name = "Miyako Arima"
trigger6 = enemy,authorname = "Drowin hokuto"
trigger7 = enemy,authorname = "Drowin arcana"
anim = 7790
persistent = 0
postype = left
pos = 0,45
ownpal = 1
sprpriority = -5
bindtime = -1
scale = 0.5,0.5





[state 0,0]
type = varrandom
trigger1 = parent,life = 0
v = 20
range = 0,1
[state 0,0]
type = varset
triggerall = parent,life = 0
trigger1 = enemy,name = "TOKI"
v = 20
value = 10
[state 0,0]
type = varset
triggerall = parent,life = 0
triggerll = random >= 450
trigger1 = enemy,name = "REI"
trigger2 = enemy,name = "JUDA"
trigger3 = enemy,name = "YUDA"
trigger4 = enemy,name = "SHIN"
trigger5 = enemy,name = "THOUTHER"
v = 20
value = 11

[state -2,0]
type = playsnd
triggerall = parent,life = 0
trigger1 = var(20) = 0
value = 6,15
persistent  = 0
[state -2,0]
type = playsnd
triggerall = parent,life = 0
trigger1 = var(20) = 1
value = 6,13
persistent  = 0
[state -2,0]
type = playsnd
triggerall = parent,life = 0
trigger1 = var(20) = 10
value = 6,14
persistent  = 0
[state -2,0]
type = playsnd
triggerall = parent,life = 0
trigger1 = var(20) = 11
value = 6,12
persistent  = 0




;---------------------
;music-box
;「Battle of Rose」
[Statedef 10800]
type = S
movetype = I
ctrl = 0
velset = 0,0
anim = 9999

[State 0, 0]
type = AssertSpecial
trigger1 = 1
flag = nomusic
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

[state 0,0]
type = playsnd
trigger1 = time = 0
trigger1 = var(12) <= 1
value = 1000,1
loop = 1
channel = 8
volume = 50

[state 0,0]
type = stopsnd
trigger1 = enemy,name = "Setsuna Sakurazaki"
trigger1 = enemy,Numhelper(10800) != 0
trigger1 = teamside = 2
channel = 8

[state 0,0]
type = destroyself
trigger1 = enemy,name = "Setsuna Sakurazaki"
trigger1 = enemy,Numhelper(10800) != 0
trigger1 = teamside = 2

[state 0,0]
type = changestate
trigger1 = parent,life = 0
value = 10801

;---------------------
;music-box
;stop
[Statedef 10801]
type = A
movetype = I
ctrl = 0
velset = 0,0
anim =9999

[state 0,0]
type = stopsnd
trigger1 = time = 1
channel = 8

[state 2,0]
type = removeexplod
trigger1 = time = 2
id = 10

[state 0,0]
type = destroyself
trigger1 = time = 2

;---------------------
;music-box
;stopping
[Statedef 10802]
type = A
ctrl = 0
velset = 0,0

[State 3000, effect]
type = Explod
trigger1 = Numexplod(10) = 0
anim = 7030
postype = left
pos = 0,0
bindtime = -1
ownpal = 1
sprpriority = 5
removetime = 1600
ignorehitpause = 1
ontop  = 1
id = 10

[state 0,0]
type = stopsnd
trigger1 = time = 0
channel = 5

[state 0,0]
type = parentvarset
trigger1 = parent,var(42) != 1
v = 42
value = 2

[state 0,0]
type = changestate
trigger1 = enemy,var(42) != 1
;trigger1 = enemy,name = "Hinaichigo-D"
;trigger1 = enemy,var(40) != 11111
value = 10800

[state 0,0]
type = destroyself
trigger1 = roundstate = 2
trigger1 = parent,var(40) != 11111
trigger1 = parent,stateno != 9910


;------------------------------------------
;カウンター表示
[Statedef 9055]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 5

[State 2, counter];
type = parentvarset
trigger1 = time >= 2
trigger1 = enemy,movetype != A;parent,var(37) != 0
v = 37
;ignorehitpause = 1
value = 0

[State 0, counter];COUNTER
type = null;Explod
persistent = 0
triggerall = time = 0
trigger1 = Numexplod(201) = 0
anim = 7061
postype = left
pos = ifelse(parent,teamside = 1,0,250),74
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 201
pausemovetime = 100
supermovetime = 100
scale = 0.5,0.5

[state 0,0]
type = destroyself
trigger1 = time = 5



;----------------------------------------------------------------------------
;(HELPER)弱攻撃ヒット
[Statedef 16000]
type = A
ctrl = 0
anim = 16001
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[透過]
[State 1540, 4]
type = null;palfx
trigger1 = 1
time = 1
add = -150+time * -5,-256,-256;+time * -10,0+time * -10
ignorehitpause = 1

[state a]
type = Trans
trigger1 = 1
trans = add
;alpha = 256,256
;---------------------[エフェクト]
[State explod]
type = Explod
trigger1 = time = 0
anim = 16000
id = 16000
sprpriority = 9
postype = p1
pos = 0,0
bindtime = -1
supermove = 1
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

;---------------------[拡縮・回転]

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 14


;----------------------------------------------------------------------------
;(HELPER)斬撃攻撃ヒット
[Statedef 16020]
type = A
ctrl = 0
anim = 16020
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = random%179

[state a]
type = varset
trigger1 = time = 0
v = 2
value = 20

[state a]
type = varadd
trigger1 = time<=5
v = 2
value = -3

[state a]
type = varadd
trigger1 = time>5
v = 2
value = 1
;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*7,256

;---------------------[ヘルパー]
[state b]
type = Helper
trigger1 = time = 0
id = 16021
name = "hit"
pos = 20 , 0
postype = p1
stateno = 16021
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
facing = ifelse(random%2=1,1,-1)
supermovetime = 999999
pausemovetime = 999999

[state b]
type = Helper
trigger1 = time = 4
id = 16022
name = "hit"
pos = -20 , -40
postype = p1
stateno = 16021
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0
facing = ifelse(random%2=1,1,-1)
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

;---------------------[エフェクト]
;---------------------[拡縮・回転]
[state a]
type = angleset
trigger1 = time = 0
value = var(1)

[state a]
type = angledraw
trigger1 = 1
scale = 1-var(2)*0.05,0.3+time*0.4

;---------------------[]
[state a]
type = destroyself
trigger1 = var(2) >= 20


;----------------------------------------------------------------------------
[Statedef 16021]
type = A
ctrl = 0
anim = 16021
velset = 0,4
movetype = I
physics = N
sprpriority = 9

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = parent,var(1)

[state a]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state a]
type = varadd
trigger1 = 1
v = 2
value = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*18,256

;---------------------[エフェクト]
;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = ishelper(16021)
scale = 1,1+var(2)*0.1

[state a]
type = angledraw
trigger1 = ishelper(16022)
scale = 1,.8+var(2)*0.1
;---------------------[]
[state a]
type = destroyself
trigger1 = var(2) >= 20

;----------------------------------------------------------------------------
;(HELPER)必殺技ヒット
[Statedef 16095]
type = A
ctrl = 0
anim = 16096
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = random%180


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = add

;---------------------[ヘルパー]
[state a];必殺技ヒット2
type = Helper
trigger1 = time = 1
id = 16097
name = "hit"
pos = 0 , 0
postype = p1
stateno = 16097
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 1
id = 0
name = "hit"
pos = 0 , 0
postype = p1
stateno = 16096
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 1
id = 1
name = "hit"
pos = 0 , 0
postype = p1
stateno = 16096
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 1
id = 2
name = "hit"
pos = 0 , 0
postype = p1
stateno = 16096
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 1
id = 3
name = "hit"
pos = 0 , 0
postype = p1
stateno = 16096
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 1
id = 4
name = "hit"
pos = 0 , 0
postype = p1
stateno = 16096
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 1
id = 5
name = "hit"
pos = 0 , 0
postype = p1
stateno = 16096
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

;---------------------[エフェクト]
[state a]
type = angledraw
trigger1 = 1
scale = 1.2-time*0.08,1.2-time*0.08

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15

;----------------------------------------------------------------------------
[Statedef 16097]
type = A
ctrl = 0
anim = 16097
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*18,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 0.15+time*0.1,0.15+time*0.1

;---------------------[]
[state a]
type = destroyself
trigger1 = time >= 16

;----------------------------------------------------------------------------
;(HELPER)必殺技ヒット3
[Statedef 16096]
type = A
ctrl = 0
anim = 16095
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = parent,var(1)

[state a]
type = varset
trigger1 = ishelper(0)
v = 2
value = 0

[state a]
type = varset
trigger1 = ishelper(1)
v = 2
value = 1

[state a]
type = varset
trigger1 = ishelper(2)
v = 2
value = 2

[state a]
type = varset
trigger1 = ishelper(3)
v = 2
value = 3

[state a]
type = varset
trigger1 = ishelper(4)
v = 2
value = 4

[state a]
type = varset
trigger1 = ishelper(5)
v = 2
value = 5

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = add

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = ishelper(0)
trigger2 = ishelper(1)
trigger3 = ishelper(2)
trigger4 = ishelper(3)
trigger5 = ishelper(4)
trigger6 = ishelper(5)
value = 60*var(2) + var(1)

[state a]
type = velset
trigger1 = time = 0
y = -cos((60*var(2) + var(1))*pi/180)*6
x = -sin((60*var(2) + var(1))*pi/180)*6

[state a]
type = angledraw
trigger1 = ishelper(0)
trigger2 = ishelper(1)
trigger3 = ishelper(2)
trigger4 = ishelper(3)
trigger5 = ishelper(4)
trigger6 = ishelper(5)
scale = 1.1-time*0.073,1

;---------------------[]
[state a]
type = destroyself
trigger1 = time >= 15

;----------------------------------------------------------------------------
;ブーストエフェクト
[Statedef 16300]
type = A
ctrl = 0
anim = 16300
velset = 0,0
movetype = I
physics = N
sprpriority = 6

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3000, 0]
type = Explod
trigger1 = time = 0
anim = 16302
ID = 16302
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = -4.9,0
accel = -0.12,0
removetime = -2
supermovetime = 9999999999
pausemovetime = 9999999999
scale = .5,0.5
sprpriority = 5
ownpal = 1


[State 3000, 0]
type = Explod
trigger1 = time = 0
anim = 16302
ID = 16302
pos = -35,-20
postype = p1
facing = 1
vfacing = -1
bindtime = 1
vel = -3.9,0
accel = -0.42,0
removetime = -2
supermovetime = 9999999999
pausemovetime = 9999999999
scale = .5,0.5
sprpriority = 5
ownpal = 1

;---------------------[ヘルパー]
[state a];ブーストエフェクト2
type = Helper
trigger1 = time = 0
id = 16301
name = "boost"
pos = -60 , -100
postype = p1
stateno = 16301
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ブーストエフェクト2
type = Helper
trigger1 = time = 0
id = 16302
name = "boost"
pos = -80 , -45
postype = p1
stateno = 16301
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ブーストエフェクト2
type = Helper
trigger1 = time = 0
id = 16303
name = "boost"
pos = -90 , 4
postype = p1
stateno = 16301
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ブーストエフェクト2
type = Helper
trigger1 = time = 0
id = 16304
name = "boost"
pos = -70 , 64
postype = p1
stateno = 16301
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ブーストエフェクト2
type = Helper
trigger1 = time = 0
id = 16305
name = "boost"
pos = -40 , 114
postype = p1
stateno = 16301
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - time*17,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 4.75,4.75

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15

;----------------------------------------------------------------------------
;(HELPER)ブーストエフェクト2
[Statedef 16301]
type = A
ctrl = 0
anim = 16301
velset = 0,0
movetype = I
physics = N
sprpriority = -2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[移動関係]
;---------------------[速度]
[state a]
type =velset
trigger1 = time = 0
trigger1 = ishelper(16301)
x = -2
y = -3

[state a]
type =velset
trigger1 = time = 0
trigger1 = ishelper(16302)
x = -3.5
y = -1.6

[state a]
type =velset
trigger1 = time = 0
trigger1 = ishelper(16303)
x = -4.5
y = 0.6

[state a]
type =velset
trigger1 = time = 0
trigger1 = ishelper(16304)
x = -3.5
y = 1.6

[state a]
type =velset
trigger1 = time = 0
trigger1 = ishelper(16305)
x = -2
y = 3

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - time*17,256

;---------------------[拡縮・回転]
[state a]
type = angleset
trigger1 = ishelper(16301)
value = -60

[state a]
type = angleset
trigger1 = ishelper(16302)
value = -30

[state a]
type = angleset
trigger1 = ishelper(16303)
value = 0

[state a]
type = angleset
trigger1 = ishelper(16304)
value = 30

[state a]
type = angleset
trigger1 = ishelper(16305)
value = 60

[state a]
type = angledraw
trigger1 = 1
scale = 2-time*0.06,1.5-time*0.06

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15

;----------------------------------------------------------------------------
[Statedef 16303]
type = S
ctrl = 0
anim = 16303
velset = 0,0
movetype = I
physics = N
sprpriority = -2

[state a]
type = BindToRoot
trigger1 = 1
time = 1

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = varset
trigger1 = !time
var(1)=0

[state a]
type = varadd
trigger1 = time > 50
var(1)=1

[state a]
type = destroyself
trigger1 = var(1)*16 >=255
trigger2 = parent,movetype = H

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - var(1)*16,256

[state a]
type = angledraw
trigger1 = 1
scale = ifelse(time<10,time*0.1,1),9


;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]


;------------------------------------------------------------------
;ダメージ音声
[State -2, 0];
type = VarRandom
triggerall = Alive = 1
triggerall = Time = 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
trigger4 = stateno = 8715
v = 18
range = 0,7
ignorehitpause = 1

[State -2, 0]
type = PlaySnd
triggerall = random < 500
triggerall = Alive = 1
triggerall = Time = 1
triggerall = Var(18) = 2
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
trigger4 = stateno = 8715
value = 6,0
channel = 0
ignorehitpause = 1
[State -2, 0]
type = PlaySnd
triggerall = random < 750
triggerall = Alive = 1
triggerall = Time = 1
triggerall = Var(18) = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
trigger4 = stateno = 8715
value = 6,1
channel = 0
ignorehitpause = 1
[State -2, 0]
type = PlaySnd
triggerall = random < 740
triggerall = Alive = 1
triggerall = Time = 1
triggerall = Var(18) = 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
trigger4 = stateno = 8715
value = 6,2
channel = 0
ignorehitpause = 1
[State -2, 0]
type = PlaySnd
triggerall = random < 720
triggerall = Alive = 1
triggerall = Time = 1
triggerall = Var(18) = 4
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
trigger4 = stateno = 8715
value = 6,3
channel = 0
ignorehitpause = 1
[State -2, 0]
type = PlaySnd
triggerall = random < 590
triggerall = Alive = 1
triggerall = Time = 1
triggerall = Var(18) = 5
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
trigger4 = stateno = 8715
value = 6,4
channel = 0
ignorehitpause = 1
[State -2, 0]
type = PlaySnd
triggerall = random < 650
triggerall = Alive = 1
triggerall = Time = 1
triggerall = Var(18) = 6
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
trigger4 = stateno = 8715
value = 6,6
channel = 0
ignorehitpause = 1
[State -2, 0]
type = PlaySnd
triggerall = random < 840
triggerall = life >= 500
triggerall = Time = 1
triggerall = gethitvar(hitcount) = 13
triggerall = Var(18) = [1,3]
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
trigger4 = stateno = 8715
value = 6,5
channel = 0
ignorehitpause = 1




[state -2]
type = removeexplod
triggerall = var(40) != 1111
trigger1 = roundstate <= 2
id = 10

[State -2, VarSet]
type = VarSet
trigger1 = StateNo = 0
trigger2 = StateNo = 52
v = 10
value = 0

[State -2, konjou];根性値補正
type = varSet
trigger1 = life >= 750
value = 1
fv = 19
ignorehitpause = 1
[State -2, konjou];根性値補正
type = varSet
trigger1 = life = [501,750]
value = 0.93
fv = 19
ignorehitpause = 1
[State -2, konjou];根性値補正
type = varSet
trigger1 = life = [251,500]
fv = 19
value = 0.85
ignorehitpause = 1
[State -2, konjou];根性値補正
type = varSet
trigger1 = life <= 250
fv = 19
value = 0.66
ignorehitpause = 1

[State -2, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = Numhelper(9050) = 0
;trigger1 = var(41) = [2,3]
helpertype = normal
name = "kenki"
postype = left
pos = 0,0
stateno = 9050
ownpal = 1
sprpriority = 5
id = 9050
keyctrl = 0
pausemovetime = 200
bindtime = -1

[State -2, 0]
type = Helper
triggerall = var(41) = 3
trigger1 = Numhelper(9040) = 0
;trigger1 = var(41) = [2,3]
helpertype = normal
name = "arcana"
postype = left
pos = 0,0
stateno = 9040
ownpal = 1
sprpriority = 5
id = 9040
keyctrl = 0
pausemovetime = 9990
bindtime = -1

[state -2,kenki];回復
type = varadd
triggerall = roundstate = 2
triggerall = enemy,movetype != H
triggerall = Numhelper(2990) <= 2
triggerall = movetype != A
triggerall = var(41) = 3
triggerall = var(26) <= 0
trigger1 = var(48) <= 99
trigger1 = ifelse(var(48) <= 20,gametime % 22 = 0,ifelse(var(48) <= 60,gametime % 20 = 0,gametime % 18 = 0))
var(48) = 1
ignorehitpause = 1

[state -2,kenki];回復
type = varadd
triggerall = roundstate = 2
triggerall = var(41) = 2
triggerall = var(27) = 0
triggerall = var(26) <= 0
triggerall = Numhelper(2990) = 0
;triggerall = stateno != 51
;triggerall = stateno != [3000,3001]
;triggerall = stateno != 218
;triggerall = stateno != 248
trigger1 = var(48) <= 99
trigger1 = movecontact
trigger1 = gametime % 10 = 0
trigger2 = var(48) <= 99
trigger2 = movetype = H
trigger2 = stateno != [5100,5150]
trigger2 = gametime % 10 = 0
var(48) = 1
ignorehitpause = 1

[state -2,kenki]
type = varset
trigger1 = var(48) <= 0
trigger2 = var(41) = 0
trigger2 = var(48) != 1
var(48) = 1
ignorehitpause = 1
[state -2,kenki]
type = varset
trigger1 = var(48) > 100
var(48) = 100
ignorehitpause = 1


[State -2, BOOST]
type = Helper
triggerall = !var(38);AI用
triggerall = var(41) = 2
triggerall = var(59) = 0
triggerall = movetype != H
triggerall = Numhelper(2990) <= 2
triggerall = var(48) >= 33 || var(26) >= 2
triggerall = stateno != 3000;[3000,3002]
triggerall = stateno != 1101
triggerall = stateno != [2000,2020]
triggerall = stateno != [900,999]
triggerall = stateno != 2170
triggerall = roundstate = 2
triggerall = stateno != [900,999]
triggerall = stateno != [1061,1099]
triggerall = stateno != [9900,9929]
triggerall = stateno != 5120
triggerall = stateno != [8800,8822]
triggerall = stateno != [1117,1119]
triggerall = stateno != [4000,4002]
triggerall = stateno != [1500,1599]
triggerall = stateno != 9884
triggerall = stateno != 1184
trigger1 = command = "c" || command = "z"
helpertype = normal
name = "boost"
pos = 0,0
stateno = 2990
ownpal = 1
id = 2990
keyctrl = 0


[state -2, BOOST]
type = velset
;triggerall = statetype != A
trigger1 = Numhelper(2990) >= 1
x = 9;9.5

[state -2, BOOST]
type = null;velset
triggerall = statetype = A
triggerall = pos y <= -12
trigger1 = Numhelper(2990) >= 1
x = 9.5

[state -2, BOOST]
type = assertspecial
trigger1 = Numhelper(2990) >= 1
flag = nowalk
flag2 = noautoturn



[State -2, reduce];強→弱の時の補正 リバースビート
type = AttackMulSet
triggerall = var(41) = 0
triggerall = ishelper = 0
trigger1 = 1
value = (1 - fvar(30))*fvar(5) - (var(41)*0.05); * ifelse(var(27) = 0,1,0.1)
[State -2, reduce]
type = AttackMulSet
triggerall = var(41) = 2;2
triggerall = ishelper = 0
triggerall = var(27) = 0
triggerall = fvar(31) <= 0
triggerall = enemy,stateno != [5100,5110]
trigger1 = 1
value = (1 - fvar(30))*fvar(5) * 0.9; - (var(41)*0.05)
[State -2, reduce]
type = AttackMulSet
triggerall = var(41) = 2;2
triggerall = ishelper = 0
triggerall = var(27) = 0
triggerall = fvar(31) > 0
triggerall = enemy,stateno != [5100,5110]
trigger1 = 1
value = (1 - fvar(30))*fvar(5) * 0.9 * 1.3

[State -2, hosei];MBコンボ補正
type = varset
triggerall = var(41) != 3
triggerall = enemy,movetype = H
trigger1 = enemy,gethitvar(hitcount) = [2,98]
fv = 30
ignorehitpause = 1
value = enemy,gethitvar(hitcount) * 0.01
[State -2, hosei];コンボ補正 arcana
type = varset
triggerall = var(41) = 3
triggerall = enemy,movetype = H
trigger1 = fvar(7) <= 29
fv = 30
ignorehitpause = 1
value = fvar(7) * 0.03
[State -2, hosei];MBコンボ補正
type = varset
triggerall = enemy,movetype = H
trigger1 = enemy,gethitvar(hitcount) >= 99
trigger2 = fvar(7) >= 30
fv = 30
ignorehitpause = 1
value = 0.99
[State -2, hosei];MBコンボ補正
type = varset
triggerall = fvar(30) != 0
trigger1 = fvar(10) <= 0
trigger1 = enemy,movetype != H
trigger1 = Numhelper(1001) = 0
trigger1 = Numhelper(2001) = 0
trigger2 = stateno = [9010,9039]
fv = 30
ignorehitpause = 1
value = 0
[State -2, hosei];コンボ補正
type = varset
triggerall = fvar(5) != 1
trigger1 = fvar(10) <= 0
trigger1 = enemy,movetype != H
trigger1 = movetype != A
trigger1 = Numhelper(1001) = 0
trigger1 = Numhelper(2001) = 0
fv = 5
value = 1
[State -2, hosei];アルカナコンボ補正
type = varset
triggerall = fvar(5) < 0.75
trigger1 = stateno = [9010,9039]
fv = 5
value = 0.75

[state -2, HEAT];徐々に減少 メルティ
type = poweradd
trigger1 = var(50) >= 2
trigger1 = Numhelper(1952) = 0
value = -3
ignorehitpause = 1
[state -2, HEAT];2000にセット
type = powerset
trigger1 = var(50) = 1
value = 2000
ignorehitpause = 1
[state -2, HEAT];ライフ回復
type = lifeadd
triggerall = var(50) >= 3
trigger1 = var(51) = [60,99]
trigger1 = life = [1,999]
trigger1 = gametime % 5 = 0
value = 1
[state -2, HEAT];ライフ回復大
type = lifeadd
triggerall = var(50) >= 3
trigger1 = var(51) > 99
trigger1 = life = [1,999]
trigger1 = gametime % 4 = 0
value = 2



[state -2, HEAT];自動的にヒート状態
type = varset
triggerall = roundstate = 2
triggerall = var(50) = 0
triggerall = var(41) = 0
trigger1 = power >= 3000
trigger2 = var(42) = 2 && life = [1,160]
v = 50
value = 2
[state -2, HEAT];ヒーﾄ状態後、ゲージが０になったら
type = varset
triggerall = var(50) = 2
trigger1 = power = 0
v = 50
value = 1
ignorehitpause = 1
[state -2, HEAT];bloodヒーﾄ状態後、ゲージが０になったら
type = varset
triggerall = var(50) >= 3
trigger1 = power = 0
trigger2 = var(41) != 0
v = 50
value = 0
ignorehitpause = 1
[state -2, HEAT];０になったら２０００にしてリセット
type = varset
triggerall = var(50) = 1
trigger1 = power != 0
v = 50
value = 0
ignorehitpause = 1
[state -2, HEAT];BLOOD HEATライフ回復量調整
type = varadd
trigger1 = var(50) >= 2
trigger1 = var(51) <= 110
v = 51
value = 1
[state -2, HEAT];BLOOD HEATライフ回復量調整
type = varset
triggerall = var(50) >= 2
trigger1 = movetype = H
v = 51
value = 0

[State -2, heat]
type = Explod
triggerall = ishelper = 0
trigger1 = Numexplod(8010) = 0
trigger1 = var(50) = 3
id = 8010
anim = 7065
postype = left
pos = ifelse(teamside = 1,5,290),226
ownpal = 1
sprpriority = 5
ontop = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
[State -2, bloodheat]
type = Explod
triggerall = ishelper = 0
trigger1 = Numexplod(8011) = 0
trigger1 = var(50) = 4
id = 8011
anim = 7066
postype = left
pos = ifelse(teamside = 1,5,255),226
ownpal = 1
sprpriority = 5
ontop = 1
bindtime = -1
removetime = -1
supermovetime = 9999
pausemovetime = 9999
scale = 0.5,0.5
[state -2, destroy]
type = removeexplod
triggerall = ishelper = 0
trigger1 = var(50) != 3
id = 8010
[state -2, destroy]
type = removeexplod
triggerall = ishelper = 0
trigger1 = var(50) != 4
id = 8011
[State -2, max]
type = Explod
triggerall = var(41) = 0
triggerall = life <= 999;トレーニングモード対策
triggerall = ishelper = 0
triggerall = power >= 2985
triggerall = var(50) = 2
triggerall = Numexplod(200) = 0
trigger1 = roundstate = 2
;trigger1 = time = 1
anim = 7064
postype = left
scale = 0.5,0.5
pos = ifelse(teamside = 1,5,280),60
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 200
ignorehitpause = 1

[State -2, counter];技あり（カウンター
type = varset
triggerall = var(37) != 1
trigger1 = enemy,movetype = A
v = 37
ignorehitpause = 1
value = 1
;[State -2, counter];技あり（カウンター
;type = varset
;triggerall = var(37) != 0
;trigger1 = enemy,movetype != A
;v = 37
;value = 0
;ignorehitpause = 1
[State -2, counter];技あり（カウンター
type = null;varset
triggerall = var(37) != 0
trigger1 = gametime % 3= 0;movehit
v = 37
;ignorehitpause = 1
value = 0
[State -2, counter]
type = Helper
triggerall = NumHelper(9055) = 0
trigger1 = var(37) = 1
;trigger1 = movehit
;trigger1 = enemy,movetype = H
helpertype = normal
name = "counter"
ID = 9055
stateno = 9055
postype = left
pos = 0,0;ifelse(teamside = 1,0,200),60
keyctrl = 0
ignorehitpause = 1
ownpal = 1

[State -2, invalid]
type = null;Explod
;persistent = 190
triggerall = Numexplod(203) = 0
triggerall = enemy,gethitvar(fall) = 1
;triggerall = enemy,gethitvar(fall.recover) = 1; && enemy,gethitvar(fall.recovertime) = 0
triggerall = enemy,hitshakeover = 0;hitover = 1;gethitvar(hitcount) >= 2
trigger1 = enemy,alive
trigger1 = enemy,CanRecover
trigger1 = movehit
trigger1 = teamside = 1
;trigger1 = stateno != 610
;trigger1 = stateno != 420
anim = 7041
postype = left
pos = 2,70
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 203
ignorehitpuase = 1
scale = 0.8,0.8
[State -2, invalid]
type = null;Explod
;persistent = 190
triggerall = Numexplod(203) = 0
triggerall = enemy,gethitvar(fall) = 1
;triggerall = enemy,gethitvar(fall.recover) = 1; && enemy,gethitvar(fall.recovertime) = 0
triggerall = enemy,hitshakeover = 0;hitover = 1;gethitvar(hitcount) >= 2
trigger1 = enemy,alive
trigger1 = enemy,CanRecover
trigger1 = movehit
trigger1 = teamside != 1
;trigger1 = enemy,stateno = 5050
anim = 7041
postype = left
pos = 270,70
ownpal = 1
ontop = 1
sprpriority = 5
bindtime = -1
id = 203
scale = 0.8,0.8
ignorehitpuase = 1

[state -2,4]
type = null;assertspecial
trigger1 = Numhelper(2990) >= 1
flag = nojugglecheck
[state -2,4]
type = null;assertspecial
triggerall = ishelper
trigger1 = parent,Numhelper(2990) >= 1
flag = nojugglecheck

[State -2, counter]
type = null;Helper
trigger1 = NumHelper(2991) = 0
;trigger1 = enemy,movetype = H
helpertype = normal
name = "icon"
ID = 2991
stateno = 2991
postype = left
pos = 0,0;ifelse(teamside = 1,0,200),60
keyctrl = 0
ignorehitpause = 1
ownpal = 1

[state -2]
type = varset
triggerall = win
trigger1 = stateno != 181
trigger1 = enemy,stateno != 5150
v = 28
value = ceil(p2dist x)


[state -2,0];ブースト時間差減少
type = varadd
;triggerall = gametime % 10 = 0
trigger1 = var(26) > 0
v = 26
value = -1
[state -2,0];ブースト時間差減少
type = varadd
triggerall = gametime % 10 = 0
trigger1 = var(26) > 0
v = 48
value = -1
[state -2,0];ブースト時間差減少
type = varset
triggerall = var(26) = [1,316]
trigger1 = var(48) = 34
trigger2 = var(48) = 67
trigger3 = var(48) <= 1
trigger4 = roundstate >= 3
v = 26
value = 0


[state -2,0];バニシング
type = varset
triggerall = var(27) != 0
triggerall = var(25) != 2
trigger1 = enemy,stateno = [5100,5150]
trigger2 = enemy,movetype != H
v = 27
value = 0

[state -2,0];魚住
type = varset
triggerall = var(7) != 0
;triggerall = var(25) != 2
;trigger1 = enemy,stateno = [5100,5150]
trigger1 = enemy,movetype != H
v = 7
value = 0
[state -2,0];魚住
type = varset
triggerall = var(7) > 90
;triggerall = var(25) != 2
;trigger1 = enemy,stateno = [5100,5150]
trigger1 = enemy,movetype = H
v = 7
value = 90
[state -2,0];アルカナの受身不能時間短縮システム
type = varset
triggerall = fvar(7) != 0
;triggerall = var(25) != 2
;trigger1 = enemy,stateno = [5100,5150]
trigger1 = enemy,movetype != H
trigger2 = stateno = [9010,9039]
fv = 7
value = 0

[State 100,***]
type = AssertSpecial
trigger1 = var(41) = 2
flag = nojugglecheck

[state -2,0];自動ブーストしたかしてないかどっちかはっきりしてください
type = varset
;triggerall = var(27) != 0
;triggerall = var(25) != 2
trigger1 = enemy,stateno = [5100,5150]
trigger2 = enemy,movetype != H
v = 36
value = 0


[state -2,0];DEBUG
type = varset
triggerall = var(25) >= 1
trigger1 = var(48) < 100
v = 48
value = 100
[state -2,0];DEBUG
type = varset
triggerall = var(25) >= 1
trigger1 = var(9) < 99
v = 9
value = 99
[state -2,0];DEBUG
type = varset
triggerall = var(25) = 2
trigger1 = var(27) != 1
v = 27
value = 1
[state -2,0];DEBUG
type = varset
triggerall = var(25) >= 2
trigger1 = fvar(12) != 0.1
fv = 12
value = 0.1

[State -2, 0]
type = Helper
triggerall = var(41) = 2
trigger1 = Numhelper(9051) = 0
;trigger1 = var(41) = [2,3]
helpertype = normal
name = "hokuto"
postype = left
pos = 0,0
stateno = 9051
ownpal = 1
sprpriority = 5
id = 9051
keyctrl = 0
pausemovetime = 200
bindtime = -1

[state -2,0]
type = varset
trigger1 = var(41) != 0
trigger1 = var(41) != 3
trigger1 = var(50) != 0
v = 50
value = 0

;[state -2,0]
;type = assertspecial
;trigger1 = var(23) = 1
;flag = nomusic
;ignorehitpause = 1

[state -2,0]
type = varadd
trigger1 = statetype != A
trigger1 = var(41) = 2
trigger1 = movetype != H
trigger1 = life <= 950
v = 22
value = 1

[state -2,0]
type = varadd
trigger1 = var(22) >= 20
trigger1 = statetype = A
v = 22
value = -1
[state -2,0]
type = varset
trigger1 = var(41) != 2
trigger2 = movetype = H
trigger3 = life > 950
v = 22
value = 0

[state -2,0]
type = lifeadd
trigger1 = var(22) = [150,1000]
trigger1 = statetype != A
trigger1 = var(41) = 2
trigger1 = movetype != H
trigger1 = life <= 950
trigger1 = gametime % 3 = 0
value = 1

[State 210, 3]
type = SprPriority
triggerall = ishelper = 0
trigger1 = Numhelper(4010) = 1
value = 5
ignorehitpause = 1

[state -2,0];ナノマシンlimit
type = varadd
trigger1 = var(49) > 0
v = 49
value = -1

[state -2,0];ナノマシンlimit
type = varset
trigger1 = var(49) > 0
trigger1 = roundstate <= 1
v = 49
value = 0

[State -2, max]
type = Explod
triggerall = var(49) > 0
triggerall = Numexplod(7301) = 0
trigger1 = moveguarded
trigger1 = stateno != [200,999]
anim = 7301
postype = p2
pos = 0,-50
random = 20,20
ownpal = 1
sprpriority = 5
bindtime = -1
id = 7301
ignorehitpause = 1


[state -2,0]
type = varset
;trigger1 = time = 1
trigger1 = var(41) != 2
v = 41
value = 2

[state -2,0]
type = varset
trigger1 = enemy,movetype != H
trigger1 = var(44) != 0
persistent = 0
;ignorehitpause = 1
v = 44
value = 0
[state -2,0]
type = varset
trigger1 = enemy,movetype != H
trigger1 = var(43) != 0
persistent = 0
;ignorehitpause = 1
v = 43
value = 0

[state -2, 0]
type = varadd
trigger1 = var(56) >= 1
v = 56
value = -1
ignorehitpause = 1
[state -2, 0]
type = varset
trigger1 = stateno != [1500,1530]
v = 56
value = 0
ignorehitpause = 1

[state -2, 0]
type = poweradd
trigger1 = gametime % 2 = 0
trigger1 = stateno = [1500,1530]
value = -3
ignorehitpause = 1


[State -2,0]
type = nothitby
trigger1 = var(56) >= 1
value = SCA
time = 2
[state -2,0]
type = assertspecial
trigger1 = var(56) >= 1
trigger1 = gametime % 3 = 0
flag = invisible

[State 40, 1]
type = VarSet
trigger1 = var(57) = 1
trigger1 = statetype != A
v = 57
value = 0

[State -2, reduce];
type = AttackMulSet
triggerall = var(41) = 2
triggerall = var(27) >= 1
;triggerall = ishelper = 0
trigger1 = 1
value = (1 - fvar(30))*fvar(5) * 0.6




[state -2,arcana];回復
type = varadd
triggerall = roundstate = 2
triggerall = Numhelper(2990) <= 2
;triggerall = movetype != A
triggerall = var(41) = 3
;triggerall = var(26) <= 0
triggerall = var(30) <= 0
trigger1 = var(9) <= 98
trigger1 = stateno != [9010,9039]
trigger1 = ifelse(var(33)=7,gametime % 10 = 0,gametime % 5 = 0);ifelse(var(48) <= 20,gametime % 22 = 0,ifelse(var(48) <= 60,gametime % 20 = 0,gametime % 18 = 0))
var(9) = 1
ignorehitpause = 1

[state -2,arcana];回復
type = varadd
triggerall = roundstate = 2
triggerall = var(33) = 11
triggerall = fvar(12) = 0.1
;triggerall = movetype != A
triggerall = var(41) = 3
;triggerall = var(26) <= 0
triggerall = var(30) <= 0
trigger1 = var(9) <= 98
trigger1 = stateno != [9010,9039]
trigger1 = gametime % 2 = 0
var(9) = 1
ignorehitpause = 1

[state -2,arcana]
type = varset
trigger1 = var(9) > 99
var(9) = 99
ignorehitpause = 1
[state -2,arcana]
type = varset
trigger1 = var(9) < 0
var(9) = 0
ignorehitpause = 1

[state -2,arcana]
type = varset
;triggerall = stateno != [9010,9039]
trigger1 = var(9) = [33,65]
trigger1 = var(16) < 1
var(16) = 1
[state -2,arcana]
type = varset
;triggerall = stateno != [9010,9039]
trigger1 = var(9) = [66,98]
trigger1 = var(16) < 2
var(16) = 2
[state -2,arcana]
type = varset
;triggerall = stateno != [9010,9039]
trigger1 = var(9) >= 99
trigger1 = var(16) < 3
var(16) = 3
[state 0, 0]
type = varadd
triggerall = var(30) < 350
trigger1 = var(41) = 3
trigger1 = var(30) > 0
v = 30
value = -1
[state 0, 0]
type = varadd
triggerall = var(30) >= 350
trigger1 = var(41) = 3
trigger1 = var(30) > 0
trigger1 = enemy,movetype != H || enemy,stateno = [5100,5150]
v = 30
value = -1
[state 0, 0]
type = varadd
trigger1 = var(41) = 3
trigger1 = var(33) = 11
trigger1 = fvar(12) = 0.1
trigger1 = var(30) > 0
v = 30
value = -1

[State -2, 0]
type = VarAdd
trigger1 = command = "holdup"
v= 2
value = 1
ignorehitpause = 1

[State -2, 0]
type = VarSet
triggerall = var(2) != 0
trigger1 = command != "holdup"
var(2) = 0

[State -2, 0];ギーァ
type = Helper
triggerall = var(41) = 3
triggerall = var(33) = 9
trigger1 = Numhelper(9770) = 0
helpertype = normal
name = "gier"
ID = 9770
stateno = 9770
postype = p1
pos = 0,0
keyctrl = 0
ownpal = 1
;size.xscale = 1.25
;size.yscale = 1.25

[state -2,0]
type = assertspecial
trigger1 = Numhelper(9770) >= 1
flag = noshadow

[state -2, 0];限界
type = powerset
triggerall = var(41) = 0
trigger1 = stateno != 195
trigger1 = power > 3000
trigger1 = gametime % 2 = 0
value = 3000
[state -2, 0];限界
type = powerset
triggerall = var(41) = 2
trigger1 = stateno != 195
trigger1 = power > 2000
trigger1 = gametime % 2 = 0
value = 2000

[State -2];鋼defUP
Type = varset
triggerall = var(41) = 3
triggerall = var(33) = 10
Trigger1 = fvar(12) != 0.1
IgnoreHitPause = 1
fv = 18
Value = ifelse(fvar(10)>0,0.75,1)
[State -2];鋼defUP
Type = varset
triggerall = var(41) = 3
triggerall = var(33) = 10
Trigger1 = fvar(12) = 0.1
IgnoreHitPause = 1
fv = 18
Value = ifelse(fvar(10)>0,0.45,0.7)
[State -2];水闇
Type = varset
triggerall = var(41) = 3
;trigger1 = var(33) = 10 && fvar(10) != 0.8
trigger1 = var(33) = 0
trigger2 = var(33) = 9
IgnoreHitPause = 1
fv = 18
Value = 0.92
[State -2, 0];土
type = varset
triggerall = var(41) = 3
trigger1 = var(33) = 6
IgnoreHitPause = 1
fv = 18
value = ifelse(fvar(12)=1.1,0.3,0.8)
[State -2];雷時樹風
Type = varset
triggerall = var(41) = 3
Trigger1 = var(33) = 2
Trigger2 = var(33) = 8
Trigger3 = var(33) = 5
Trigger4 = var(33) = 7
IgnoreHitPause = 1
fv = 18
Value = 1.18
[State -2];
Type = varset
triggerall = var(41) = 3
Triggerall = fvar(18) != 1
Trigger1 = var(33) = 1
Trigger2 = var(33) = 4
Trigger3 = var(33) = 8
Trigger4 = var(33) = 9
Trigger5 = var(33) = 3
Trigger6 = var(33) = 11
IgnoreHitPause = 1
fv = 18
Value = 1
[State -2];
Type = varset
triggerall = var(41) != 3
Trigger1 = fvar(18) != 1
IgnoreHitPause = 1
fv = 18
Value = 1


[State -2, reduce]
type = defenceMulSet
trigger1 = 1;ishelper = 0
value = fvar(18) * fvar(19)
ignorehitpause = 1





[state -2,0]
type = pause
triggerall = Numhelper(9665) = 1
trigger1 = helper(9665),stateno = 9667
;trigger1 = gametime % 2 = 0
time = 120
movetime = 120

[state -2,0]
type = poweradd
trigger1 = stateno != 7010
trigger1 = fvar(12) = 0.1
value = -5
[state -2,0]
type = varset
triggerall = fvar(12) = 0.1
trigger1 = power = 0
trigger2 = var(41) != 3
fv = 12
value = 0.2

[state -2,0];風樹
type = palfx
triggerall = var(41) = 3
;triggerall = gametime % 10 = 0
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 2
trigger2 = var(33) = 8
time = 5
add = 20,70,20
ignorehitpause = 1
[state -2,0];魔
type = palfx
triggerall = var(41) = 3
;triggerall = gametime % 10 = 0
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 3
time = 5
add = 80,0,60
ignorehitpause = 1
[state -2,0];火
type = palfx
triggerall = var(41) = 3
;triggerall = gametime % 10 = 0
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 1
time = 5
add = 140,60,60
ignorehitpause = 1
[state -2,0];土
type = palfx
triggerall = var(41) = 3
;triggerall = gametime % 10 = 0
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 6
time = 5
add = 90,90,90
ignorehitpause = 1
[state -2,0];愛
type = palfx
triggerall = var(41) = 3
;triggerall = gametime % 10 = 0
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 4
time = 5
add = 180,50,130
ignorehitpause = 1
[state -2,0];時
type = palfx
triggerall = var(41) = 3
;triggerall = gametime % 10 = 0
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 7
trigger2 = var(33) = 11
time = 5
add = 150,150,0
ignorehitpause = 1
[state -2,0];水闇雷
type = palfx
triggerall = var(41) = 3
;triggerall = gametime % 10 = 0
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 0
trigger2 = var(33) = 5
trigger3 = var(33) = 9
time = 5
add = 0,0,150
ignorehitpause = 1



[state 0,0]
type = palfx
triggerall = var(41) = 3
triggerall = var(33) = 10
trigger1 = fvar(12) = 0.1
time = 5
add = 40,120,80
ignorehitpause = 1
[state 0,0]
type = palfx
triggerall = var(41) = 3
triggerall = var(33) = 10
trigger1 = fvar(10) > 0
time = 5
ignorehitpause = 1
add = 0,70,90
[state 0,0]
type = palfx
triggerall = var(41) = 3
triggerall = var(33) = 10
trigger1 = fvar(17) > 0
time = 5
add = 90,40,0
ignorehitpause = 1



[state -2,0]
type = varset
triggerall = fvar(13) = 0.1
trigger1 = statetype != A
fv = 13
value = 0

[state -2,0];水
type = bgpalfx
trigger1 = fvar(14) > 0
time = 5
add = 0,0,150
ignorehitpause = 1
[state -2,0]
type = varadd
trigger1 = fvar(14) > 0
fv = 14
value = -1
[state -2,0]
type = varset
trigger1 = movetype = H
fv = 14
value = 0
[state -2,0]
type = powerset
trigger1 = fvar(14) = 1
value = 0
[state -2,0]
type = pause
triggerall = gametime % 4 = 0
trigger1 = fvar(14) > 0
time = 3
movetime = 3

[state -2,0];時AB
type = varadd
trigger1 = fvar(15) > 0
fv = 15
value = -1
[state -2,0]
type = powerset
trigger1 = fvar(15) = 1
value = 0
[state -2,0]
type = pause
trigger1 = fvar(15) > 0
time = floor(fvar(15))
movetime = floor(fvar(15))
ignorehitpause = 1
[state -2,0]
type = assertspecial
trigger1 = fvar(15) > 0
trigger1 = stateno != 7026
time = floor(fvar(15))
flag = noBG
flag2 = noFG
flag3 = timerfreeze
ignorehitpause = 1

[state 0,0]
type = assertspecial
trigger1 = fvar(12) = 0.1
trigger1 = var(33) = 7
trigger2 = var(53) >= 1
flag = timerfreeze
ignorehitpause = 1

[state 0,0]
type = lifeadd
triggerall = var(33) = 8
triggerall = gametime % 8 = 0
trigger1 = fvar(12) = 0.1
trigger2 = stateno = 7030
value = 1
[state 0,0]
type = lifeadd
triggerall = var(33) = 11
triggerall = gametime % 6 = 0
trigger1 = fvar(12) = 0.1
value = 1

[state -2,0];土AB
type = varset
triggerall = stateno != 7040
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 6
v = 34
value = stateno
[state -2,0];土AB
type = varset
triggerall = stateno != 7040
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 6
v = 35
value = ctrl
[state -2,0];土AB
type = null;varset
triggerall = stateno != 7040
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 6
fv = 16
value = ctrl
[State -2, shild]
type = HitOverride
triggerall = stateno != 7040
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 6
time = 2
attr = SCA, NA,SA,HA,NP,SP,HP
stateno = 7040
IgnoreHitPause = 1
[State 100, 9]
type = AssertSpecial
triggerall = fvar(12) = 0.1
trigger1 = var(33) = 6
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1

[state -2, 0]
type = varadd
trigger1 = fvar(20) >= 0
fv = 20
value = -1
[state -2, 0]
type = varset
triggerall = fvar(20) >= 0
trigger1 = movetype = H
trigger1 = stateno != [120,155]
fv = 20
value = 0
ignorehitpause = 1






[state -2, 0]
type = varadd
trigger1 = fvar(17) > 0
fv = 17
value = -1
[state -2, 0]
type = varset
triggerall = fvar(17) >= 0
trigger1 = var(41) != 3
fv = 17
value = 0
[state -2, 0]
type = varadd
trigger1 = fvar(10) > 0
fv = 10
value = -1
[state -2, 0]
type = varset
triggerall = fvar(10) >= 0
trigger1 = var(41) != 3
fv = 10
value = 0


[state -2,0]
type = varrandom
triggerall = roundstate = 2
triggerall = var(59) = 1
triggerall = movetype != H
triggerall = var(41) = 3
trigger1 = gametime % 300 = 0
trigger1 = random >= 550
v = 33
range = 0,11


;[state -2, 0]
;type = poweradd
;triggerall = Numhelper(7090) > 0
;triggerall = fvar(6) > 0
;trigger1 = power > 0
;value = -2

;[state -2, 0]
;type = varadd
;triggerall = Numhelper(7090) > 0
;trigger1 = fvar(6) > 0
;value = -1

[state 0,0]
type = varadd
trigger1 = fvar(31) > 0
fv = 31
value = -0.01
[state 0,0]
type = varadd
trigger1 = fvar(32) > 0
fv = 32
value = -0.01






;-------------------------------------
;毒効果
[state -2, 0]
type = poweradd
triggerall = enemy,authorname = "Drowin arcana"
triggerall = enemy,fvar(20) > 0
trigger1 = power > 0
value = -1
[state -2, 0]
type = lifeadd
triggerall = enemy,authorname = "Drowin arcana"
triggerall = enemy,fvar(20) > 0
trigger1 = gametime % 7 = 0
value = -1
kill = 0
[State -2,0]
type = Palfx
triggerall = enemy,authorname = "Drowin arcana"
trigger1 = enemy,fvar(20) > 0
add = 100,0,110
mul = 220,220,220
time = 5
ignorehitpause = 1

[state -2,0]
type = varset
triggerall = var(59) = 1
trigger1 = var(52) != 0
v = 52
value = 0
[state -2,0]
type = varset
triggerall = var(59) = 1
trigger1 = var(58) != 0
v = 58
value = 0
[state 0,0]
type = varset
triggerall = var(33) = 3
triggerall = var(41) = 3
triggerall = fvar(12) = 0.1
trigger1 = movehit
ignorehitpause = 1
fv = 20
value = 780

;---------------------------------------------------------------------------
;獣を焦がす　相手用
[State -2]
Type = LifeAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Akiha_Vermilion"
Trigger1 = Enemy,Var(47) = 1
Value = -5
Kill = 0

[State -2]
Type = PowerAdd
TriggerAll = Enemy,AuthorName = "H" && Enemy,Name = "Akiha_Vermilion"
Trigger1 = Enemy,Var(47) = 1
Value = -26





[State 3000, effect]
type = Explod
trigger1 = var(49) > 0
trigger1 = moveguarded
trigger1 = hitpausetime >= 3
trigger1 = Numexplod(1059) = 0
persistent = 0
anim = 1059
bindtime = -1
ignorehitpause = 1
postype = p2
pos = 0,ifelse(enemy,statetype = S,-62,ifelse(enemy,statetype = C,-25,-77))
random = 10,30
ownpal = 1
scale = 1,1
id = 1059
sprpriority = 5

[state -2,tenha]
type = varset
triggerall = stateno != 9884
trigger1 = var(8) = 1
trigger1 = movetype = A
v = 8
value = 2
[state -2,tenha]
type = varset
triggerall = var(8) = 2
triggerall = stateno != 9884
trigger1 = movetype != A
trigger2 = movecontact
v = 8
value = 3
ignorehitpause = 1

[state 2, hoshi]
type = varadd
triggerall = var(41) = 2
trigger1 = var(8) = 3
trigger1 = var(24) < 7
trigger1 = var(43) <= 3
trigger1 = movehit
v = 24
value = 1
persistent = 0
ignorehitpause = 1


[state -2,tenha]
type = varset
trigger1 = var(8) = 3
v = 8
value = 0
ignorehitpause = 1


[state -2]
type = varset
triggerall = command = "fwd"
trigger1 = StateType = S
trigger1 = ctrl = 1
trigger1 = var(29) = 0
v = 29
value = 30
[state -2]
type = varadd
trigger1 = var(29) > 0
v = 29
value = -1
[state -2]
type = varset
triggerall = var(29) > 0
trigger1 = command = "back"
v = 29
value = 0


[state -2]
type = varset
trigger1 = enemy,life != 0
trigger1 = fvar(2) != 0
fv = 2
value = 0

[state -2]
type = varset
triggerall = win
trigger1 = stateno != [183,184]
trigger1 = enemy,stateno != 5150
v = 28
value = ceil(p2dist x)


;[State 210, 3]
;type = targetstate
;trigger1 = enemy,stateno = 5100
;trigger1 = var(7) >= 10
;;trigger1 = 
;value = 8625
;ignorehitpause = 1


[State -1, Blocking]
type = HitOverride
triggerall = var(59) = 0
triggerall = !var(38);AI用
triggerall = life < 150
trigger1 = ifelse((enemy,name="RAOH"),random >= 200,random >= 850)
;trigger1 = gametime % 5 = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 8910
time = 1


[state -2,0]
type = varset
trigger1 = fvar(35) > 0
fv = 35
value = -1

[State -2, gasoline]
type = velmul
triggerall = facing = 1
triggerall = enemy,name = "JAGI"
triggerall = enemy,Numhelper(1061) >= 1
trigger1 = enemy,var(55) = [floor(p2dist x)-40,floor(p2dist x)+40]
trigger1 = vel x != [-1,1]
trigger1 = pos y >= -1
x = 0.7
[State -2, gasoline]
type = velmul
triggerall = facing = -1
triggerall = enemy,name = "JAGI"
triggerall = enemy,Numhelper(1061) >= 1
trigger1 = (enemy,var(55))*-1 = [floor(p2dist x)-40,floor(p2dist x)+40]
trigger1 = vel x != [-1,1]
trigger1 = pos y >= -1
x = 0.7

[state -2]
type = varset
triggerall = var(23) = 0
trigger1 = enemy,var(23) >= 1
trigger1 = enemy,authorname = "Drowin hokuto"
;trigger1 = enemy,name = "RAOH" || enemy,name = "KENOH"
v = 23
value = 1


[state 2, 0]
type = varset
trigger1 = var(25) > 0
trigger1 = var(59) = 1
v = 25
value = 0

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52
trigger1 = prevstateno != 621
value = 0,1


[State 1200, 9]
type = StateTypeSet
triggerall = stateno != [2000,2010]
triggerall = stateno != 1025
triggerall = stateno != [8800,8805]
trigger1 = pos y < 0
trigger1 = statetype != A
trigger1 = statetype != L
;statetype = A
physics = A
ignorehitpause = 1
[State 1200, 9]
type = StateTypeSet
triggerall = stateno != 1025
triggerall = stateno != [8800,8805]
trigger1 = pos y >= 0
trigger1 = statetype = A
;statetype = A
physics = S
ignorehitpause = 1
[State 1200, 9]
type = posset
;triggerall = stateno != 2010; && time <= 29
trigger1 = pos y > 0
trigger1 = statetype != A
trigger1 = stateno != [5100,5120]
y = 0
ignorehitpause = 1
[State 1200, 9]
type = null;posset
triggerall = stateno = 2010 && time >= 3
trigger1 = pos y > 0
trigger1 = statetype != A
trigger1 = stateno != [5100,5120]
y = 0
ignorehitpause = 1



[State -3, 0];-------------------==================================================================
type = DisplayToClipboard
triggerall = ishelper = 0
trigger1 = 1
text = "VAR=%f,VAR2=%d, X =%.0f, Y =%.0f, combo=%f"
params = var(35),sysvar(1),p2bodydist x,p2bodydist y,fvar(5);(1 - fvar(30))*fvar(5)
IgnoreHitPause = 1
