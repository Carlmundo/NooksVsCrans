[Data]
life = 400
attack = 150
defence = 80
fall.defence_up = 0
liedown.time = 60
airjuggle = 10
sparkno = 2
guard.sparkno = 40
KO.echo = 1
volume = 255
IntPersistIndex = 59
FloatPersistIndex = 40

[Size]
xscale = 0.40            ;Horizontal scaling factor.
yscale = 0.40           ;Vertical scaling factor.
ground.back = 7     ;Player width (back, ground)
ground.front = 7    ;Player width (front, ground)
air.back = 7        ;Player width (back, air)
air.front = 7       ;Player width (front, air)
height = 32      ;Height of player (for opponent to jump over)
attack.dist = 60    ;Default attack distance
proj.attack.dist = 60 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -30   ;Approximate position of head
mid.pos = -5, -15    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 3.5      ;Walk forward
walk.back = -3.0     ;Walk backward
run.fwd  = 4.6, 0    ;Run forward (x, y)
run.back = -4.5,-3.8 ;Hop backward (x, y)
jump.neu = 1,-7.4    ;Neutral jumping velocity (x, y)
jump.back = -1.55    ;Jump back Speed (x, y)
jump.fwd = 1.5       ;Jump forward Speed (x, y)
runjump.back = -3.55,-5.1 ;Running jump speeds (opt)
runjump.fwd = 5,-4.1      ;.
airjump.neu = 5,-4.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .24         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching
;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 805, 1]
type = Playsnd
trigger1 = Time = 0
value = 6, 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

; Win pose 1 - Bow
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[state 200, Win1]
type = playsnd
trigger1 = Time = 50
value = 12, 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

; Introduction
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[state 200, Do Your Best]
type = playsnd
trigger1 = Time = 40
value = 9, 0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Stand Shoot 
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 0
sprpriority = 2

[State 200, 1]
type = VelSet
trigger1 = command = "holdfwd"
trigger2 = command = "diagup"
trigger2 = vel x > 0
trigger3 = command = "diagdown"
trigger3 = vel x > 0
x = const(velocity.walk.fwd.x)

[State 200, 3]
type = AssertSpecial
trigger1 = command = "holdfwd"
trigger2 = command = "diagup"
trigger3 = command = "diagdown"
flag = noautoturn

[State 200, Anim Walk Fwd]
type = ChangeAnim
trigger1 = command = "holdfwd"
trigger1 = anim != 206
value = 206

[State 200, Anim Walk Diag Fwd]
type = ChangeAnim
trigger1 = command = "diagup"
trigger1 = anim != 201
trigger1 = vel x > 0
value = 201

[State 200, Anim Walk Diag Down Fwd]
type = ChangeAnim
trigger1 = command = "diagdown"
trigger1 = anim != 211
trigger1 = vel x > 0
value = 211

[State 200, Anim Shoot Up]
type = ChangeAnim
trigger1 = command = "holdup"
trigger1 = anim != 212
value = 212

[State 200, Anim Shoot Diag Up]
type = ChangeAnim
trigger1 = command = "diagup"
trigger1 = anim != 200
trigger1 = vel x = 0
value = 200

[State 200, Anim Shoot Diag Down]
type = ChangeAnim
trigger1 = command = "diagdown"
trigger1 = anim != 210
trigger1 = vel x = 0
value = 210

[State 200, Anim Shoot Normal]
type = ChangeAnim
trigger1 = vel x = 0
trigger1 = command != "holdup"
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "hold_b"
trigger1 = command != "diagdown"
trigger1 = command != "diagup"
trigger1 = anim != 205
value = 205

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command != "diagup"
var(0) = 0

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "diagup"
var(0) = -1

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagdown"
var(0) = 1

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command != "diagup"
var(2) = 0

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "diagup"
var(2) = -14

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "diagdown"
var(2) = 12

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command != "holdup"
var(3) = 14

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command = "holdup"
var(3) = 3

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command = "diagdown"
var(3) = 12

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command = "holdup"
var(1) = 0

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command != "holdup"
var(1) = 1

[State 200, 1]
type = Projectile
trigger1 = time % 11 = 0
projanim = 300
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1200
offset = var(3),-24+var(2)
velocity = 2.5*var(1),2.5*var(0)
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 2,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,5
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6, -5*var(6)
air.velocity = -6.5,-5
fall = 1*var(6)
fall.recover = 0
air.juggle = 2
ignorehitpause = 1

[state 200, Shoot]
type = playsnd
trigger1 = Time = 1
value = 4, 4

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Stand Machine Gun Shoot
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2

[State 200, 1]
type = VelSet
trigger1 = command = "holdfwd" || (var(58) = 020506)
trigger2 = command = "diagup"
trigger2 = vel x > 0
trigger3 = command = "diagdown"
trigger3 = vel x > 0
x = const(velocity.walk.fwd.x)

[State 200, 3]
type = AssertSpecial
trigger1 = command = "holdfwd"
trigger2 = command = "diagup"
trigger3 = command = "diagdown"
flag = noautoturn

[State 200, Anim Walk Fwd]
type = ChangeAnim
trigger1 = command = "holdfwd" || (var(58) = 020506)
trigger1 = anim != 206
value = 206

[State 200, Anim Walk Diag Fwd]
type = ChangeAnim
trigger1 = command = "diagup"
trigger1 = anim != 201
trigger1 = vel x > 0
value = 201

[State 200, Anim Walk Diag Down Fwd]
type = ChangeAnim
trigger1 = command = "diagdown"
trigger1 = anim != 211
trigger1 = vel x > 0
value = 211

[State 200, Anim Shoot Up]
type = ChangeAnim
trigger1 = command = "holdup"
trigger1 = anim != 212
value = 212

[State 200, Anim Shoot Diag Up]
type = ChangeAnim
trigger1 = command = "diagup"
trigger1 = anim != 200
trigger1 = vel x = 0
value = 200

[State 200, Anim Shoot Diag Down]
type = ChangeAnim
trigger1 = command = "diagdown"
trigger1 = anim != 210
trigger1 = vel x = 0
value = 210

[State 200, Anim Shoot Normal]
type = ChangeAnim
trigger1 = vel x = 0
trigger1 = command != "holdup"
trigger1 = command != "holdfwd" || (var(58) != 020506)
trigger1 = command != "holdback"
trigger1 = command = "hold_c"
trigger1 = command != "diagdown"
trigger1 = command != "diagup"
trigger1 = anim != 205
value = 205

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command != "diagup"
var(0) = 0

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "diagup"
var(0) = -1

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagdown"
var(0) = 1

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command != "diagup"
var(2) = 0

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "diagup"
var(2) = -14

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "diagdown"
var(2) = 12

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command != "holdup"
var(3) = 14

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command = "holdup"
var(3) = 3

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command = "diagdown"
var(3) = 12

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command = "holdup"
var(1) = 0

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command != "holdup"
var(1) = 1

[State 200, 1]
type = Projectile
trigger1 = time % 5 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1205
offset = var(3),-24+var(2)
velocity = 4.5*var(1),4.5*var(0)
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,2
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6, -5*var(6)
air.velocity = -6.5,-5
fall = 1*var(6)
fall.recover = 0
air.juggle = 2
ignorehitpause = 1

[state 200, Shoot]
type = playsnd
trigger1 = Time = 1
trigger1 = command != "hold_c" || (var(58) = 0 && var(59) = 1)
value = 3, 3

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command != "hold_c" || (var(58) = 0 && var(59) = 1)
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Stand Spread Gun Shoot
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 0
sprpriority = 2

[State 210, 1]
type = VelSet
trigger1 = command = "holdfwd"
trigger2 = command = "diagup"
trigger2 = vel x > 0
trigger3 = command = "diagdown"
trigger3 = vel x > 0
x = const(velocity.walk.fwd.x)

[State 210, 3]
type = AssertSpecial
trigger1 = command = "holdfwd"
trigger2 = command = "diagup"
trigger3 = command = "diagdown"
flag = noautoturn

[State 210, Anim Walk Fwd]
type = ChangeAnim
trigger1 = command = "holdfwd"
trigger1 = anim != 206
value = 206

[State 210, Anim Walk Diag Fwd]
type = ChangeAnim
trigger1 = command = "diagup"
trigger1 = anim != 201
trigger1 = vel x > 0
value = 201

[State 210, Anim Walk Diag Down Fwd]
type = ChangeAnim
trigger1 = command = "diagdown"
trigger1 = anim != 211
trigger1 = vel x > 0
value = 211

[State 210, Anim Shoot Up]
type = ChangeAnim
trigger1 = command = "holdup"
trigger1 = anim != 212
value = 212

[State 210, Anim Shoot Diag Up]
type = ChangeAnim
trigger1 = command = "diagup" || (var(58) = 021009)
trigger1 = anim != 200
trigger1 = vel x = 0
value = 200

[State 210, Anim Shoot Diag Down]
type = ChangeAnim
trigger1 = command = "diagdown"
trigger1 = anim != 210
trigger1 = vel x = 0
value = 210

[State 210, Anim Shoot Normal]
type = ChangeAnim
trigger1 = vel x = 0
trigger1 = command != "holdup"
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "hold_x"
trigger1 = command != "diagdown"
trigger1 = command != "diagup" || (var(58) = 021009)
trigger1 = anim != 205
value = 205

[State 210, Var Shoot Y Vel]
type = VarSet
trigger1 = command != "diagup"
trigger1 = command != "holdup"
var(0) = 0

[State 210, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "holdup" 
var(0) = -4

[State 210, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagup" || (var(58) = 021009)
var(0) = -2

[State 210, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagdown"
var(0) = 2

[State 210, Var Shoot X vel]
type = VarSet
trigger1 = command = "holdup"
var(1) = 0

[State 210, Var Shoot X vel]
type = VarSet
trigger1 = command != "holdup"
var(1) = 4

[State 210, Var Shoot Y Offset]
type = VarSet
trigger1 = command != "diagup"
var(2) = 0

[State 210, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "diagup"
var(2) = -14

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "diagdown"
var(2) = 12

[State 210, Var Shoot X Offset]
type = VarSet
trigger1 = command != "holdup"
var(3) = 14

[State 210, Var Shoot X Offset]
type = VarSet
trigger1 = command = "holdup" || (var(58) = 021009)
var(3) = 3

[State 210, Var Shoot X Offset]
type = VarSet
trigger1 = command = "diagdown"
var(3) = 12

[State 210, Spread 1]
type = Projectile
trigger1 = time % 18 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = var(3),-24+var(2)
velocity = var(1),var(0)
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,2
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, -5*var(6)
air.velocity = -2.5,-5
fall = 1*var(6)
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 210, Spread 2]
type = Projectile
trigger1 = time % 18 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = var(3),-24+var(2)
velocity = ifelse(var(1) = 0, -0.5, 3.5),var(0)+0.5 
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,2
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, -5*var(6)
air.velocity = -2.5,-5
fall = 1*var(6)
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 210, Spread 3]
type = Projectile
trigger1 = time % 18 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = var(3),-24+var(2)
velocity = ifelse(var(1) = 0, -1, 3),var(0)+1.0 
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,2
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, -5*var(6)
air.velocity = -2.5,-5
fall = 1*var(6)
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 210, Spread 4]
type = Projectile
trigger1 = time % 18 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = var(3),-24+var(2)
velocity = ifelse(var(1)=0, 0.5, 3.5), var(0)-0.5
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,2
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, -5*var(6)
air.velocity = -2.5,-5
fall = 1*var(6)
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 210, Spread 5]
type = Projectile
trigger1 = time % 18 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = var(3),-24+var(2)
velocity = ifelse(var(1)=0, 1.0, 3.0), var(0)-1.0
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,2
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, -5*var(6)
air.velocity = -2.5,-5
fall = 1*var(6)
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[state 200, Shoot]
type = playsnd
trigger1 = Time = 1
value = 1, 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Stand Laser Gun Shoot
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 0
sprpriority = 2

[State 200, 1]
type = VelSet
trigger1 = command = "holdfwd"
trigger2 = command = "diagup"
trigger2 = vel x > 0
trigger3 = command = "diagdown"
trigger3 = vel x > 0
x = const(velocity.walk.fwd.x)

[State 200, 3]
type = AssertSpecial
trigger1 = command = "holdfwd"
trigger2 = command = "diagup"
trigger3 = command = "diagdown"
flag = noautoturn

[State 200, Anim Walk Fwd]
type = ChangeAnim
trigger1 = command = "holdfwd"
trigger1 = anim != 206
value = 206

[State 200, Anim Walk Diag Fwd]
type = ChangeAnim
trigger1 = command = "diagup"
trigger1 = anim != 201
trigger1 = vel x > 0
value = 201

[State 200, Anim Walk Diag Down Fwd]
type = ChangeAnim
trigger1 = command = "diagdown"
trigger1 = anim != 211
trigger1 = vel x > 0
value = 211

[State 200, Anim Shoot Up]
type = ChangeAnim
trigger1 = command = "holdup"
trigger1 = anim != 212
value = 212

[State 200, Anim Shoot Diag Up]
type = ChangeAnim
trigger1 = command = "diagup"
trigger1 = anim != 200
trigger1 = vel x = 0
value = 200

[State 200, Anim Shoot Diag Down]
type = ChangeAnim
trigger1 = command = "diagdown"
trigger1 = anim != 210
trigger1 = vel x = 0
value = 210

[State 200, Anim Shoot Normal]
type = ChangeAnim
trigger1 = vel x = 0
trigger1 = command != "holdup"
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "hold_y"
trigger1 = command != "diagdown"
trigger1 = command != "diagup"
trigger1 = anim != 205
value = 205

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command != "diagup"
var(0) = 0

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "diagup"
var(0) = -1

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagdown"
var(0) = 1

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command != "diagup"
trigger2 = command != "holdup"
var(2) = 0

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "holdup"
var(2) = -66

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "diagup"
var(2) = -38

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "diagdown"
var(2) = 14

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command != "holdup"
var(3) = 6

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command = "holdup"
var(3) = 3

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command = "diagdown"
var(3) = 24

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command = "holdup"
var(1) = 0

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command != "holdup"
var(1) = 1

[State 200, 1]
type = Projectile
trigger1 = numprojid(215) = 0
projanim = ifelse(var(0) = 0, 302, ifelse(var(1) = 0, 303,Ifelse(Var(0)=1, 305, 304)))
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 215
projhits = 3
projremove = 0
projmisstime = 3
offset = var(3),-24+var(2)
velocity = 3*var(1),3*var(0)
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 15,2
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,8
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -4, -5*var(6)
air.velocity = -4.5,-5
fall = 1*var(6)
fall.recover = 0
air.juggle = 5
ignorehitpause = 1

[state 200, Shoot]
type = playsnd
trigger1 = Time = 1
value = 2, 2

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command != "hold_y"
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Stand Flame Thrower Shoot
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 0
sprpriority = 2

[State 200, 1]
type = VelSet
trigger1 = command = "holdfwd"
trigger2 = command = "diagup"
trigger2 = vel x > 0
trigger3 = command = "diagdown"
trigger3 = vel x > 0
x = const(velocity.walk.fwd.x)

[State 200, 3]
type = AssertSpecial
trigger1 = command = "holdfwd"
trigger2 = command = "diagup"
trigger3 = command = "diagdown"
flag = noautoturn

[State 200, Anim Walk Fwd]
type = ChangeAnim
trigger1 = command = "holdfwd"
trigger1 = anim != 206
value = 206

[State 200, Anim Walk Diag Fwd]
type = ChangeAnim
trigger1 = command = "diagup"
trigger1 = anim != 201
trigger1 = vel x > 0
value = 201

[State 200, Anim Walk Diag Down Fwd]
type = ChangeAnim
trigger1 = command = "diagdown"
trigger1 = anim != 211
trigger1 = vel x > 0
value = 211

[State 200, Anim Shoot Up]
type = ChangeAnim
trigger1 = command = "holdup"
trigger1 = anim != 212
value = 212

[State 200, Anim Shoot Diag Up]
type = ChangeAnim
trigger1 = command = "diagup"
trigger1 = anim != 200
trigger1 = vel x = 0
value = 200

[State 200, Anim Shoot Diag Down]
type = ChangeAnim
trigger1 = command = "diagdown"
trigger1 = anim != 210
trigger1 = vel x = 0
value = 210

[State 200, Anim Shoot Normal]
type = ChangeAnim
trigger1 = vel x = 0
trigger1 = command != "holdup"
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command = "hold_z"
trigger1 = command != "diagdown"
trigger1 = command != "diagup"
trigger1 = anim != 205
value = 205

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command != "diagup"
var(0) = 0

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "diagup"
var(0) = -1

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagdown"
var(0) = 1

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command != "diagup"
trigger2 = command != "holdup"
var(2) = 0

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command != "diagup"
trigger2 = command != "holdup"
var(3) = 0

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "holdup"
var(2) = -40

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "diagup"
var(2) = -20

[State 200, Var Shoot Y Offset]
type = VarSet
trigger1 = command = "diagdown"
var(2) = 12

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command != "holdup"
var(3) = 6

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command = "holdup"
var(3) = 3

[State 200, Var Shoot X Offset]
type = VarSet
trigger1 = command = "diagdown"
var(3) = 24

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command = "holdup"
var(1) = 0

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command != "holdup"
var(1) = 1

[State 200, 1]
type = Helper
trigger1 = numhelper(220) < 4
trigger1 = time % 17 = 0
id = 220
pos = var(3),-24+var(2)
stateno = 221
ownpal = 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = command != "hold_z"
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Stand Flame Thrower Shoot
[Statedef 221]
type    = S
movetype= A
physics = N
juggle  = 15
;Commonly-used controllers:
ctrl = 0
anim = 306
sprpriority = 3

[State 221, FVar(2)] ;FVar is used to make the circle motion of flame shot
type = varAdd
trigger1 = 1
fv = 2
value = 0.1570796

[State 221, FVar(2)] ;FVar is used to make the circle motion of flame shot
type = VarSet
trigger1 = Fvar(2) > 2.0 * Pi
fv = 2
value = 0.0

[State 221, Varset 1]
type = VarSet
trigger1 = time = 0
var(1) = 4*parent,var(1)

[State 221, Varset 0]
type = VarSet
trigger1 = time = 0
var(0) = 4*parent,var(0)

[State 221, Velset]
type = velset
trigger1 = var(0) = 4
y = 1.5 + 4*cos(fvar(2));

[State 221, Velset]
type = velset
trigger1 = Var(0) = -4
trigger1 = Var(1) = 0
y = -1.5 + 4*sin(fvar(2))

[State 221, Velset]
type = velset
trigger1 = Var(0) = -4
trigger1 = Var(1) = 4
y = -1.5 + 4*cos(fvar(2))

[State 221, VelSet]
type = VelSet
trigger1 = var(0) = 0
y = -4*cos(fvar(2))

[State 221, Velset]
type = velset
trigger1 = Var(1) != 0
x = 1.5+4*sin(fvar(2))

[State 221, Velset]
type = VelSet
trigger1 = Var(1) = 0
x = 4*cos(fvar(2))

[State 221, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
length = 20
palbright = 90,0,0
pal.contrast = 150, 10, 10
paladd = 30,3,3
palmul = .5,.5,.5 

[State 221, AfterImageTime]
type = AfterImageTime
trigger1 = time % 2 = 0
value = 2

[State 221, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Medium
damage    = 50
getpower = 20, 40
givepower = 60, 120
HitFlag = MA
guardflag = MA
pausetime = 0,8
sparkno = -1
sparkxy = -6,-26
hitsound   = 8,0
guardsound = 6,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 9
ground.velocity = -5.5, -4.5 *var(6)
air.velocity = -2.5,-4
air.juggle = 15
air.fall = 1
palfx.time = 50
palfx.add = 248,32,32
palfx.sinadd = -64,16,16,5
palfx.color = 200

[state 200, Shoot]
type = playsnd
trigger1 = Time = 1
value = 5, 5

[State 221, Timeout]
type = destroyself
trigger1 = time > 240
trigger2 = movecontact
trigger3 = frontedgedist < -30

;---------------------------------------------------------------------------
;Crouch Shoot
[Statedef 300]
type    = C
movetype= A
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 1
sprpriority = 2
anim = 11

[State 300, Shoot]
type = Projectile
trigger1 = time = 0
projanim = 300
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1200
offset = 14,-6
velocity = 2.5,0
animtype = Back
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 2,0
animtype = back
guardflag = D
hitflag = MAFD
pausetime = 0,5
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Light
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6, 0
air.velocity = -6.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 2
ignorehitpause = 1

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Machine Gun Shoot
[Statedef 301]
type    = C
movetype= A
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 1
sprpriority = 2
anim = 11

[State 300, Shoot]
type = Projectile
trigger1 = time % 5 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1205
offset = 14,-6
velocity = 4.5,0
animtype = Back
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = D
hitflag = MAFD
pausetime = 0,5
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6,0
air.velocity = -6.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 2
ignorehitpause = 1

[State 200, 7]
type = ChangeState
trigger1 = command != "hold_c"
trigger2 = command != "holddown"
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Spread Gun Shoot
[Statedef 302]
type    = C
movetype= A
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 1
sprpriority = 2
anim = 11

[State 300, Spread 1]
type = Projectile
trigger1 = time = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 14,-6
velocity = 4,0
givepower = 60, 120
attr = S, SP
getpower = 30,60
damage   = 4,0
animtype = back
guardflag = D
hitflag = MAFD
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6,0
air.velocity = -6.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 300, Spread 2]
type = Projectile
trigger1 = time = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 14,-6
velocity = 3.5,0.5
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = D
hitflag = MAFD
pausetime = 0,5
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6, 0
air.velocity = -6.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 300, Spread 3]
type = Projectile
trigger1 = time = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 14,-6
velocity = 3,1
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = D
hitflag = MAFD
pausetime = 0,5
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6, -5
air.velocity = -6.5,-5
fall = 1
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 300, Spread 4]
type = Projectile
trigger1 = time = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 14,-6
velocity = 3.5,-0.5
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = D
hitflag = MAFD
pausetime = 0,5
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6, 0
air.velocity = -6.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 300, Spread 5]
type = Projectile
trigger1 = time = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 14,-6
velocity = 3,-1
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = D
hitflag = MAFD
pausetime = 0,5
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6, 0
air.velocity = -6.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 200, 7]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch laser Gun Shoot
[Statedef 303]
type    = C
movetype= A
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 1
sprpriority = 2
anim = 11

[State 300, Shoot]
type = Projectile
trigger1 = numprojid(215) = 0
projanim = 302
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 215
projhits = 3
projremove = 0
projmisstime = 3
offset = 14,-6
velocity = 3,0
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 15,2
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,8
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -4, 0
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 5
ignorehitpause = 1

[State 200, 7]
type = ChangeState
trigger1 = command != "hold_x"
trigger2 = command != "holddown"
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch flame thrower Shoot
[Statedef 304]
type    = C
movetype= A
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 1
sprpriority = 2
anim = 11

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = 1
var(0) = 0

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = 1
var(1) = 1

[State 200, 1]
type = Helper
trigger1 = numhelper(220) < 4
trigger1 = time % 17 = 0
id = 220
pos = 10,-6
stateno = 221
ownpal = 1

[State 200, 7]
type = ChangeState
trigger1 = command != "hold_z"
trigger2 = command != "holddown"
value = 11
ctrl = 1

;----------------------------------------------------------------------
;Jump Normal Shoot
[Statedef 400]
type    = A
movetype= A
physics = U
juggle  = 1
;Commonly-used controllers:
sprpriority = 2


[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command != "diagup"
var(0) = 0

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "diagup"
var(0) = -1

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagdown"
trigger2 = command = "holddown"
var(0) = 1

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "holddown"
var(1) = 0

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command != "holdup"
trigger1 = command != "holddown"
var(1) = 1

[State 200, 1]
type = Projectile
trigger1 = time % 11 = 0
projanim = 300
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 0,0
velocity = 2.5*var(1),2.5*var(0)
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 2,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,5
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6, 0
air.velocity = -6.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 2
ignorehitpause = 1

[State 420, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 41

;Jump Machine Gun Shoot
[Statedef 405]
type    = A
movetype= A
physics = U
juggle  = 1
;Commonly-used controllers:
sprpriority = 2

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command != "diagup"
var(0) = 0

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "diagup"
var(0) = -1

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagdown"
trigger2 = command = "holddown"
var(0) = 1

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "holddown"
var(1) = 0

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command != "holdup"
trigger1 = command != "holddown"
var(1) = 1

[State 200, 1]
type = Projectile
trigger1 = time % 5 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 0,0
velocity = 4.5*var(1),4.5*var(0)
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,5
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6, 0
air.velocity = -6.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 2
ignorehitpause = 1

[State 420, ChangeState]
type = ChangeState
trigger1 = command != "hold_c"
value = 41

;----------------------------------------------------------------------
;Jump Spread Gun Shoot
[Statedef 410]
type    = A
movetype= A
physics = U
juggle  = 1
;Commonly-used controllers:
sprpriority = 2

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command != "diagup"
var(0) = 0

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "holdup"
var(0) = -4

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagup"
var(0) = -2

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagdown"
var(0) = 2

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "holddown"
var(0) = 4

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "holddown"
var(1) = 0

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command != "holdup"
trigger1 = command != "holddown"
var(1) = 1

[State 210, Spread 1]
type = Projectile
trigger1 = time % 18 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 0,0
velocity = ifelse(var(1)=1, 4, 2),var(0)
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,2
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, 0
air.velocity = -2.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 210, Spread 2]
type = Projectile
trigger1 = time % 18 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 0,0
velocity = ifelse(var(1) = 0, -0.5, 3.5),var(0)+0.5 
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,2
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, 0
air.velocity = -2.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 210, Spread 3]
type = Projectile
trigger1 = time % 18 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 0,0
velocity = ifelse(var(1) = 0, -1, 3),var(0)+1.0 
attr = S, SP
getpower = 30,60
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,2
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, 0
air.velocity = -2.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 210, Spread 4]
type = Projectile
trigger1 = time % 18 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 0,0
velocity = ifelse(var(1)=0, 0.5, 3.5), var(0)-0.5
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,2
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, 0
air.velocity = -2.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 210, Spread 5]
type = Projectile
trigger1 = time % 18 = 0
projanim = 301
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 1210
offset = 0,0
velocity = ifelse(var(1)=0, 1.0, 3.0), var(0)-1.0
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 4,0
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,2
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, 0
air.velocity = -2.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 1
ignorehitpause = 1

[State 420, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 41

;----------------------------------------------------------------------
;Jump Laser Gun Shoot
[Statedef 415]
type    = A
movetype= A
physics = U
juggle  = 5
;Commonly-used controllers:
sprpriority = 2

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = 1
var(0) = 0

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "diagup"
var(0) = -1

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagdown"
trigger2 = command = "holddown"
var(0) = 1

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "holddown"
var(1) = 0

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command != "holdup"
trigger1 = command != "holddown"
var(1) = 1

[State 200, 1]
type = Projectile
trigger1 = numprojid(215) = 0
projanim = ifelse(var(0) = 0, 302, ifelse(var(0) = 1, ifelse(var(1)=1, 305,303), ifelse(var(1)=1,304,303)))
projremovetime = 360
projpriority = 1
projshadow = -1
projheightbound = -240, 240
projid = 215
projhits = 3
projremove = 0
projmisstime = 3
offset = 0,0
velocity = 3*var(1),3*var(0)
attr = S, SP
getpower = 30,60
givepower = 60, 120
damage   = 15,2
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,8
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -4, 0
air.velocity = -4.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 5
ignorehitpause = 1

[State 420, ChangeState]
type = ChangeState
trigger1 = command != "hold_y"
value = 41

;Jump Fire Thrower Shoot
[Statedef 420]
type    = A
movetype= A
physics = U
juggle  = 5
;Commonly-used controllers:
sprpriority = 2

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command != "diagup"
var(0) = 0

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "holdup"
trigger2 = command = "diagup"
var(0) = -1

[State 200, Var Shoot Y Vel]
type = VarSet
trigger1 = command = "diagdown"
trigger2 = command = "holddown"
var(0) = 1

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command = "holdup"
var(1) = 0

[State 200, Var Shoot X vel]
type = VarSet
trigger1 = command != "holdup"
var(1) = 1

[State 200, 1]
type = Helper
trigger1 = numhelper(220) < 4
trigger1 = time % 17 = 0
id = 220
pos = 0,0
stateno = 221
ownpal = 1

[State 420, ChangeState]
type = ChangeState
trigger1 = command != "hold_z"
value = 41

;Super Attack Start
[Statedef 1000]
Type = S
movetype = A
physics = S
anim = 205
ctrl = 0

[State 1000, 1]
type = SuperPause
trigger1 = time = 0
time = 10
pos = 0,-25
sound = 100,0
anim = 100

[State 1000, 2]
Type = PowerAdd
trigger1 = time = 0
value = -1000

[State 1000, 3]
type = ChangeState
trigger1 = animtime = 0
value = 1010

;Super Attack Continue
[Statedef 1010]
Type = S
movetype = A
physics = S
anim = 205
ctrl = 0

[State 1000, 3]
type = Projectile
trigger1 = time % 5 = 0
projanim = 300
projremovetime = 160
projpriority = 1
projshadow = -1
projheightbound = -40, 40
projid = 1000
offset = 10,-24
velocity = 5,0
attr = S, SP
getpower = 0,0
givepower = 60, 120
damage   = 2,1
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,8
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -6, 0
air.velocity = -6.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 0
ignorehitpause = 1

[state 200, Shoot1]
type = playsnd
trigger1 = Time = 1
value = 10, 0

[state 200, Shoot1a]
type = playsnd
trigger1 = Time = 10
value = 10, 0

[state 200, Shoot1b]
type = playsnd
trigger1 = Time = 20
value = 10, 0

[state 200, Shoot1c]
type = playsnd
trigger1 = Time = 30
value = 10, 0

[State 1000, Spread 2]
type = Projectile
trigger1 = time % 5 = 0
projanim = 301
projremovetime = 160
projpriority = 1
projshadow = -1
projheightbound = -40, 40
projid = 1000
offset = 10,-24
velocity = 4.8, -0.25
attr = S, SP
getpower = 0,0
givepower = 60, 120
damage   = 2,1
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,8
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, 0
air.velocity = -2.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 0
ignorehitpause = 1


[state 200, Shoot1]
type = playsnd
trigger1 = Time = 1
value = 10, 0

[state 200, Shoot1a]
type = playsnd
trigger1 = Time = 10
value = 10, 0

[state 200, Shoot1b]
type = playsnd
trigger1 = Time = 20
value = 10, 0

[state 200, Shoot1c]
type = playsnd
trigger1 = Time = 30
value = 10, 0
[State 1000, Spread 3]
type = Projectile
trigger1 = time % 5 = 0
projanim = 301
projremovetime = 160
projpriority = 1
projshadow = -1
projheightbound = -40, 40
projid = 1000
offset = 10,-24
velocity = 5, 0
attr = S, SP
getpower = 0,0
givepower = 60, 120
damage   = 2,1
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,8
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, 0
air.velocity = -2.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 0
ignorehitpause = 1


[state 200, Shoot1]
type = playsnd
trigger1 = Time = 1
value = 10, 0

[state 200, Shoot1a]
type = playsnd
trigger1 = Time = 10
value = 10, 0

[state 200, Shoot1b]
type = playsnd
trigger1 = Time = 20
value = 10, 0

[state 200, Shoot1c]
type = playsnd
trigger1 = Time = 30
value = 10, 0

[State 1000, Spread 4]
type = Projectile
trigger1 = time % 5 = 0
projanim = 301
projremovetime = 160
projpriority = 1
projshadow = -1
projheightbound = -40, 40
projid = 1000
offset = 10,-24
velocity = 4.8, 0.25
attr = S, SP
getpower = 0,0
givepower = 60, 120
damage   = 2,1
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,8
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -2, 0
air.velocity = -2.5,-5
air.fall = 1
fall.recover = 0
air.juggle = 0
ignorehitpause = 1

[state 200, Shoot4]
type = playsnd
trigger1 = Time = 80
value = 10, 0

[state 200, Shoot4a]
type = playsnd
trigger1 = Time = 130
value = 10, 0

[state 200, Shoot4b]
type = playsnd
trigger1 = Time = 200
value = 10, 0

[state 200, Shoot4c]
type = playsnd
trigger1 = Time = 275
value = 10, 0

[State 1000, Laser]
type = Projectile
trigger1 = time = 120
projanim = 302
projremovetime = 160
projpriority = 1
projshadow = -1
projheightbound = -40, 40
projid = 215
projremove = 0
offset = 10,-26
velocity = 5
attr = S, SP
getpower = 0,0
givepower = 60, 120
damage   = 50,5
animtype = back
guardflag = MA
hitflag = MAFD
pausetime = 0,8
hitsound   = 8,0
sparkno = -1
sparkxy = 10,-9
guardsound = 6,0
ground.type = Heavy
ground.slidetime = 15
ground.hittime  = 12
ground.velocity = -4, -8
air.velocity = -4.5,-5
fall = 1
fall.recover = 0
air.juggle = 15
ignorehitpause = 1


[state 200, Shoot3]
type = playsnd
trigger1 = Time = 50
value = 10, 0

[state 200, Shoot2a]
type = playsnd
trigger1 = Time = 100
value = 10, 0

[state 200, Shoot2b]
type = playsnd
trigger1 = Time = 120
value = 10, 0

[state 200, Shoo21c]
type = playsnd
trigger1 = Time = 190
value = 10, 0

[State 1000, ChangeState]
Type = ChangeState
trigger1 = time = 124
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Hold Up
[Statedef 1]
type    = S
movetype= I
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 1
sprpriority = 2
anim = 212

[State 1, ChangeState]
type = changestate
trigger1 = command != "holdup"
value = 0

;Hold DiagUp
[Statedef 2]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 1
sprpriority = 2
anim = 200

[State 1, ChangeState]
type = changestate
trigger1 = command != "diagup"
value = 0

;---------------------------------------------------------------------------
;Hold Down
[Statedef 3]
type    = S
movetype= I
physics = S
juggle  = 1
;Commonly-used controllers:
velset = 0,0
ctrl = 1
sprpriority = 2
anim = 210

[State 1, ChangeState]
type = changestate
trigger1 = command != "diagdown"
value = 0

;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 100]
type    = S
physics = S

[State 100, 4]
type = ChangeState
trigger1 = 1
value = 0

; RUN_BACK
[Statedef 105]
type    = S
physics = S

[State 105, 3]
type = ChangeState
trigger1 = 1
value = 0

;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd" || command = "diagup" || command = "diagdown"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback" || command = "bdiagup" || command = "bdiagdown"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Continue Jump After Shoot
[Statedef 41]
type    = A
physics = A
ctrl = 1
sprpriority = 1

[State 41, Null]
type = Null
trigger1 = 1

[StateDef -2]

[State -2, AI Activate]
type = VarSet
trigger1 = IsHomeTeam
trigger1 = TeamSide = 2
trigger2 = matchno > 1
trigger2 = ishometeam
trigger3 = command = "ai"
trigger4 = command = "ai1"
trigger5 = command = "ai2"
trigger6 = command = "ai3"
trigger7 = command = "ai4"
trigger8 = command = "ai5"
trigger9 = command = "ai6"
trigger10= command = "ai7"
trigger11= command = "ai8"
trigger12= command = "ai9"
trigger13= command = "ai10"
trigger14= command = "ai11"
trigger15= command = "ai12"
trigger16= command = "ai13"
var(59) = 1

[State -2, Make AI stay facing enemy]
type = Turn
triggerall = var(59) = 1
triggerall = ctrl
trigger1 = P2BodyDist X < 0
trigger1 = StateType != A

[State -2, Shoot Spread Diag when Enemy Jumping]
type = varset
triggerall = var(59) = 1
triggerall = ctrl
triggerall = roundstate = 2
trigger1 = Enemynear(0), StateType = A
trigger1 = NumProjId(1210) = 0
trigger1 = StateType = S
trigger1 = random < 700
var(58) = 021009

[State -2, Shoot Crouch Machine Gun when Enemy defending stands]
type = varset
triggerall = var(59) = 1
triggerall = ctrl
triggerall = roundstate = 2
trigger1 = Enemynear(0), StateType = S
trigger1 = Enemynear(0), stateno = [120,140]
trigger1 = StateType = S
trigger1 = random < 700
var(58) = 030105

[State -2, Adavance and Shoot Machine Gun When Enemy attack]
type = varset
triggerall = var(59) =1
triggerall = ctrl
triggerall = roundstate = 2
trigger1 = Enemynear(0), MoveType = A
trigger1 = EnemyNear(0), StateType = S
trigger1 = P2BodyDist X > 15
trigger1 = random < 700
var(58) = 020506

[State -2, Use Super Shoot when Able to]
type = varset
triggerall = var(59) =1
triggerall = ctrl
triggerall = roundstate = 2
trigger1 = EnemyNear(0), StateType = S
trigger1 = P2BodyDist X > 15
trigger1 = power >= 1000
trigger1 = random < 900
var(58) = 100005

[State -2, Var(58) Reset]
type = varset
trigger1 = gametime % 2 = 0 && stateno != 205
trigger2 = movetype = H
trigger3 = stateno = 205 && time > 75
var(58) = 0

[State -2, Debug]
type = DisplayToClipBoard
trigger1 = 1
text = "var(58) = %d , GameTime = %d , GameTime mod 2 = %d"
params = var(58), gametime, gametime % 2

[Statedef -3]

[State -3, No Auto Turn]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State -3, No Guard]
type = AssertSpecial
trigger1 = 1
flag = NoStandGuard
flag2 = NoCrouchGuard
flag3 = NoAirGuard
